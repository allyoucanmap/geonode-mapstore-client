(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[2103],{80416:(e,t,n)=>{"use strict";n.d(t,{yS:()=>r,Zz:()=>o,ms:()=>a,ih:()=>u,OX:()=>i,sb:()=>c,K$:()=>l,k7:()=>s,cX:()=>p,x9:()=>f,vs:()=>y,oE:()=>d,Po:()=>b,qv:()=>h,cI:()=>g,g6:()=>v,I4:()=>m,l$:()=>O,Xv:()=>w,k3:()=>P,CQ:()=>j,R8:()=>E,HN:()=>S,sH:()=>R,c7:()=>T,_7:()=>_,eF:()=>C,O6:()=>D,ED:()=>x,RP:()=>k,sF:()=>F,VP:()=>V,He:()=>I,vO:()=>A,WO:()=>N,bh:()=>L,pV:()=>M,MK:()=>B,ZF:()=>H,tV:()=>Z,Dv:()=>Y,Yz:()=>G,kI:()=>U,XG:()=>W,A4:()=>K,Rp:()=>$,ct:()=>z,oh:()=>Q,$h:()=>X,ud:()=>q,Qr:()=>J,LR:()=>ee,nN:()=>te,UG:()=>ne,F5:()=>re,c9:()=>oe,Jh:()=>ae,Xy:()=>ue});var r="CHANGE_LAYER_PROPERTIES",o="LAYERS:CHANGE_LAYER_PARAMS",a="CHANGE_GROUP_PROPERTIES",u="TOGGLE_NODE",i="SORT_NODE",c="REMOVE_NODE",l="UPDATE_NODE",s="MOVE_NODE",p="LAYER_LOADING",f="LAYER_LOAD",y="LAYER_ERROR",d="ADD_LAYER",b="ADD_GROUP",h="REMOVE_LAYER",g="SHOW_SETTINGS",v="HIDE_SETTINGS",m="UPDATE_SETTINGS",O="REFRESH_LAYERS",w="LAYERS:UPDATE_LAYERS_DIMENSION",P="LAYERS_REFRESHED",j="LAYERS_REFRESH_ERROR",E="LAYERS:BROWSE_DATA",S="LAYERS:DOWNLOAD",R="LAYERS:CLEAR_LAYERS",T="LAYERS:SELECT_NODE",_="LAYERS:FILTER_LAYERS",C="LAYERS:SHOW_LAYER_METADATA",D="LAYERS:HIDE_LAYER_METADATA",x="LAYERS:UPDATE_SETTINGS_PARAMS";function k(e,t,n){return{type:g,node:e,nodeType:t,options:n}}function F(){return{type:v}}function V(e){return{type:m,options:e}}function I(e,t){return{type:r,newProperties:t,layer:e}}function A(e,t){return{type:o,layer:e,params:t}}function N(e,t){return{type:a,newProperties:t,group:e}}function L(e,t,n){return{type:u,node:e,nodeType:t,status:!n}}function M(e){return{type:"CONTEXT_NODE",node:e}}function B(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:i,node:e,order:t,sortLayers:n}}function H(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:c,node:e,nodeType:t,removeEmpty:n}}function Z(e,t,n){return{type:l,node:e,nodeType:t,options:n}}function Y(e,t,n){return{type:s,node:e,groupId:t,index:n}}function G(e){return{type:p,layerId:e}}function U(e,t){return{type:f,layerId:e,error:t}}function W(e,t,n){return{type:y,layerId:e,tilesCount:t,tilesErrorCount:n}}function K(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{type:d,layer:e,foreground:t}}function $(e,t,n){return{type:b,group:e,parent:t,options:n}}function z(e,t){return{type:r,layer:e,newProperties:{_v_:t||(new Date).getTime()}}}function Q(e){return{type:P,layers:e}}function X(e,t){return{type:j,layers:e,error:t}}function q(e,t,n,r){return{type:w,dimension:e,value:t,options:n,layers:r}}function J(e){return{type:E,layer:e}}function ee(e){return{type:S,layer:e}}function te(){return{type:R}}function ne(e,t,n){return{type:T,id:e,nodeType:t,ctrlKey:n}}function re(e){return{type:_,text:e}}function oe(e,t){return{type:C,metadataRecord:e,maskLoading:t}}function ae(){return{type:D}}function ue(e,t){return{type:x,newParams:e,update:t}}},30029:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(24852),o=n.n(r),a=n(45697),u=n.n(a),i=n(5346);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d,b,h,g={width:"100%",height:"100%",textAlign:"center",verticalAlign:"center"},v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(c,e);var t,n,r,a,u=(r=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(r);if(a){var n=y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)});function c(){return l(this,c),u.apply(this,arguments)}return t=c,(n=[{key:"render",value:function(){return this.props.loading?o().createElement("div",{style:g},o().createElement(i.Z,{msgId:"loading"})):this.props.children?this.props.children:o().createElement("div",{style:g},o().createElement(i.Z,{msgId:"featuregrid.noFeaturesAvailable"}))}}])&&s(t.prototype,n),c}(o().PureComponent);d=v,b="propTypes",h={loading:u().bool},b in d?Object.defineProperty(d,b,{value:h,enumerable:!0,configurable:!0,writable:!0}):d[b]=h;const m=v},93358:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Ge});var r=n(45697),o=n.n(r),a=n(24852),u=n.n(a),i=n(96958),c=n(96259),l=n(53370),s=n.n(l),p=n(80307),f=n.n(p);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(u,e);var t,n,r,o,a=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=v(r);if(o){var n=v(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return h(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),m(g(t=a.call(this,e)),"scrollListener",(function(){t.props.isFocused||(t.scroll=t.canvas.scrollTop);var e=Math.ceil(t.canvas.clientHeight/t.props.rowHeight),n=Math.floor(t.canvas.scrollTop/t.props.rowHeight),r=n+e;t.props.onGridScroll&&t.props.onGridScroll({firstRowIdx:n,lastRowIdx:r})})),m(g(t),"setCanvasListener",(function(){t.canvas=f().findDOMNode(g(t)).querySelector(".react-grid-Canvas"),t.canvas&&t.canvas.addEventListener("scroll",t.scrollListener)})),t}return t=u,(n=[{key:"componentDidMount",value:function(){this.setCanvasListener(),this.props.displayFilters&&this.onToggleFilter()}},{key:"componentWillUnmount",value:function(){this.canvas&&(this.canvas.removeEventListener("scroll",this.scrollListener),this.canvas=null),this.props.displayFilters&&this.onToggleFilter()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.virtualScroll,r=t.displayFilters,o=t.scrollToTopCounter;e.displayFilters!==r&&this.onToggleFilter(),n&&(this.canvas&&this.canvas!==f().findDOMNode(this).querySelector(".react-grid-Canvas")&&(this.canvas.removeEventListener("scroll",this.scrollListener),this.setCanvasListener()),this.canvas||this.setCanvasListener(),this.canvas&&e.isFocused&&!this.props.isFocused?this.canvas.scrollTop=this.scroll:this.canvas&&this.props.minHeight!==e.minHeight&&this.scrollListener(),!this.props.isFocused&&this.canvas&&(this.scroll=this.canvas.scrollTop),o!==e.scrollToTopCounter&&this.canvas&&(this.canvas.scrollTop=0))}}])&&d(t.prototype,n),u}(s());m(O,"propTypes",{displayFilters:o().bool});const w=O;var P=n(67076),j=n(49977),E=n.n(j);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var C=(0,P.branch)((function(e){return e.virtualScroll}),(0,P.compose)((0,P.mapPropsStream)((function(e){var t=(0,P.createEventHandler)(),n=t.handler,r=t.stream;return e.combineLatest(r.throttle((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return E().Observable.timer(e)})).scan((function(e){return e+1}),0).map((function(e){return{scrollToTopCounter:e}})).startWith({}),(function(e,t){return R(R(R({},e),t),{},{scrollToTop:n})}))})),(0,P.withHandlers)({onGridSort:function(e){var t=e.onGridSort,n=void 0===t?function(){}:t,r=e.scrollToTop,o=void 0===r?function(){}:r;return function(){return o(0),n.apply(void 0,arguments)}},onAddFilter:function(e){var t=e.onAddFilter,n=void 0===t?function(){}:t,r=e.scrollToTop,o=void 0===r?function(){}:r;return function(){o(1e3),n.apply(void 0,arguments)}}})))(w),D=n(14293),x=n.n(D),k=n(95344),F=n.n(k),V=n(73849),I=n(78819),A=n(43148),N=n(76364),L=n(63202),M=n(1469),B=n.n(M),H=n(28878),Z=n(49902);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(0,P.setObservableConfig)(H.Z);var W=(0,P.mapPropsStreamWithConfig)(H.Z)((function(e){return e.take(1).switchMap((function(t){return t.autocompleteStreamFactory(e)})).combineLatest(e,(function(e,t){return{data:B()(e&&e.fetchedData&&e.fetchedData.values)?e.fetchedData.values.map((function(e){return{label:e,value:e}})):[],valuesCount:e&&e.fetchedData&&e.fetchedData.size,currentPage:t&&t.currentPage,maxFeatures:t&&t.maxFeatures,select:t&&t.select,focus:t&&t.focus,loadNextPage:t&&t.loadNextPage,loadPrevPage:t&&t.loadPrevPage,toggle:t&&t.toggle,change:t.change,open:t.open,selected:t&&t.selected,value:t.value,busy:e.busy}}))}))((function(e){var t=e.open,n=e.toggle,r=e.select,o=e.focus,a=e.change,i=e.value,c=e.valuesCount,l=e.loadNextPage,s=e.loadPrevPage,p=e.maxFeatures,f=e.currentPage,y=e.busy,d=e.data,b=e.loading,h=void 0!==b&&b,g=Math.ceil(c/p);return u().createElement(Z.Z,{pagination:{firstPage:1===f,lastPage:f===g,paginated:!0,loadPrevPage:s,loadNextPage:l},busy:y,dropUp:!1,data:d,open:t,onFocus:o,onToggle:n,onChange:a,onSelect:r,selectedValue:i,loading:h})})),K=(0,P.compose)((0,P.withStateHandlers)((function(e){return{delayDebounce:0,performFetch:!1,open:!1,currentPage:1,maxFeatures:5,url:e.url,typeName:e.typeName,value:e.value,attribute:e.column&&e.column.key,autocompleteStreamFactory:e.autocompleteStreamFactory}}),{select:function(e){return function(){return G(G({},e),{},{selected:!0})}},change:function(e){return function(t){if(e.selected&&e.changingPage)return G(G({},e),{},{delayDebounce:e.selected?0:500,selected:!1,changingPage:!1,performFetch:!(e.selected&&!e.changingPage),value:e.value,currentPage:e.changingPage?e.currentPage:1});var n="string"==typeof t?t:t.value;return G(G({},e),{},{delayDebounce:e.selected?0:500,selected:!1,changingPage:!1,performFetch:!(e.selected&&!e.changingPage),value:n,currentPage:e.changingPage?e.currentPage:1})}},focus:function(e){return function(t){return t&&0===t.length&&""===e.value?G(G({},e),{},{delayDebounce:0,currentPage:1,performFetch:!0,isToggled:!1,open:!0}):e}},toggle:function(e){return function(){return G(G({},e),{},{open:!!e.changingPage||!e.open})}},loadNextPage:function(e){return function(){return G(G({},e),{},{currentPage:e.currentPage+1,performFetch:!0,changingPage:!0,delayDebounce:0,value:e.value})}},loadPrevPage:function(e){return function(){return G(G({},e),{},{currentPage:e.currentPage-1,performFetch:!0,changingPage:!0,delayDebounce:0,value:e.value})}}}))(W);function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(){return(z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e,t){return!t||"object"!==$(t)&&"function"!=typeof t?J(e):t}function J(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(e,t,n){return(ee="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=te(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var re=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(i,e);var t,n,r,o,a=(r=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=te(r);if(o){var n=te(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return q(this,e)});function i(e){var t,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=a.call(this,e)).validate=function(e){try{return n.props.isValid(e[n.props.column&&n.props.column.key])}catch(e){return!1}},n.getValue=function(){return ee((t=J(n),te(i.prototype)),"getValue",t).call(t)},n}return t=i,(n=[{key:"render",value:function(){return u().createElement(K,z({},this.props,{url:L.ZP.getParsedUrl(this.props.url,{outputFormat:"json"}),filter:"contains",autocompleteStreamFactory:N.Vd}))}}])&&Q(t.prototype,n),i}(I.Z);ne(re,"propTypes",{column:o().object,dataType:o().string,inputProps:o().object,isValid:o().func,onBlur:o().func,autocompleteStreamFactory:o().func,url:o().string,typeName:o().string,value:o().string}),ne(re,"defaultProps",{isValid:function(){return!0},dataType:"string"});const oe=re;var ae=n(82994);function ue(){return(ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ie={defaultEditor:function(e){return u().createElement(I.Z,e)},int:function(e){return u().createElement(A.Z,ue({dataType:"int",inputProps:{step:1,type:"number"}},e))},number:function(e){return u().createElement(A.Z,ue({dataType:"number",inputProps:{step:1,type:"number"}},e))},string:function(e){return e.autocompleteEnabled?u().createElement(oe,ue({dataType:"string"},e)):u().createElement(I.Z,ue({dataType:"string"},e))},boolean:function(e){return u().createElement(ae.Z,ue({dataType:"string"},e,{value:e.value&&e.value.toString(),filter:!1,values:["true","false"]}))}},ce=(0,P.withState)("value","onValueChange",(function(e){return e.value})),le=n(18027),se=n(47361),pe=["onRowsSelected","onRowsDeselected","onRowsToggled"];function fe(e){return function(e){if(Array.isArray(e))return ye(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ye(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){he(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ge=(0,P.compose)((0,P.defaultProps)({sortable:!0,autocompleteEnabled:!1,initPlugin:function(){},url:"",typeName:"",enableColumnFilters:!1,columns:[],features:[],newFeatures:[],select:[],changes:{},focusOnEdit:!1,editors:function(e,t){return ie[e]?ie[e](t):ie.defaultEditor(t)},dataStreamFactory:function(e){var t=(0,P.createEventHandler)(),n=t.handler,r=t.stream;return function(e){return e.distinctUntilChanged((function(e,t){var n=e.features,r=e.pages,o=e.isFocused,a=t.features,u=t.pages,i=t.isFocused;return n===a&&o===i&&r===u})).switchMap((function(e){var t=e.size,n=e.pageEvents,r=e.isFocused,o=e.pages,a=e.pagination,u=e.vsOverScan,c=void 0===u?20:u,l=e.scrollDebounce,s=void 0===l?50:l;return e.onGridScroll$.debounceTime(s).filter((function(){return!r})).map((function(e){for(var n=e.firstRowIdx,r=e.lastRowIdx,u=n-c<0?0:n-c,l=r+c>a.totalFeatures-1?a.totalFeatures-1:r+c,s=Math.floor(u/t),p=Math.floor(l/t),f=!1,y=s;y<=p&&!f;y++)-1===(0,i.t3)(y*t,o,t)&&(f=!0);return f&&{startPage:s,endPage:p}})).filter((function(e){return e})).do((function(e){return n.moreFeatures(e)}))}))}(e.filter((function(e){return e.virtualScroll})).map((function(e){return be(be({},e),{},{onGridScroll$:r})}))).startWith({}).map((function(e){return be(be({},e),{},{onGridScroll:n})}))},virtualScroll:!0}),(0,P.withPropsOnChange)("showDragHandle",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.showDragHandle,n=void 0===t||t;return{className:n?"feature-grid-drag-handle-show":"feature-grid-drag-handle-hide"}})),(0,P.withPropsOnChange)(["enableColumnFilters"],(function(e){return{displayFilters:e.enableColumnFilters}})),(0,P.withPropsOnChange)(["editingAllowedRoles","virtualScroll"],(function(e){return{editingAllowedRoles:e.editingAllowedRoles,initPlugin:e.initPlugin}})),(0,P.withPropsOnChange)(["autocompleteEnabled"],(function(e){return{autocompleteEnabled:e.autocompleteEnabled}})),(0,P.withPropsOnChange)(["url"],(function(e){return{url:e.url}})),(0,P.withPropsOnChange)(["typeName"],(function(e){return{typeName:e.typeName}})),(0,P.withPropsOnChange)(["features","newFeatures","changes"],(function(e){return{rows:(e.newFeatures?[].concat(fe(e.newFeatures),fe(e.features)):e.features).filter(e.focusOnEdit?(0,i.ek)(e.changes&&Object.keys(e.changes).length>0,e.newFeatures,e.changes):function(){return!0}).map((function(t){return(0,i.Qc)(t,e.changes)})).map((function(e){var t;return be(be({},e),{},(he(t={},"_!_id_!_",e.id),he(t,"get",(function(t){return"geometry"===t||"_new"===t?e[t]:e.properties&&e.properties[t]})),t))}))}})),(0,P.withPropsOnChange)(["newFeatures","changes","focusOnEdit"],(function(e){return{isFocused:e.focusOnEdit&&(e.changes&&Object.keys(e.changes).length>0||e.newFeatures&&e.newFeatures.length>0)}})),(0,P.withPropsOnChange)(["features","newFeatures","isFocused","virtualScroll","pagination"],(function(e){return{rowsCount:(e.isFocused||!e.virtualScroll)&&e.rows&&e.rows.length||e.pagination&&e.pagination.totalFeatures||0}})),(0,P.withHandlers)({rowGetter:function(e){return e.virtualScroll&&function(t){return(0,i.WQ)(t,e.rows,e.pages,e.size)}||function(t){return(0,i.dM)(t,e.rows)}}}),(0,P.withPropsOnChange)(["describeFeatureType","columnSettings","tools","actionOpts","mode","isFocused","sortable"],(function(e){var t=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.localType,r=void 0===n?"":n,o=arguments.length>1?arguments[1]:void 0;return e.filterRenderers&&e.filterRenderers[o]?e.filterRenderers[o]:ce((0,le.Q)(r))};return{columns:(0,i.Sc)(e.tools,e.rowGetter,e.describeFeatureType,e.actionOpts,t).concat((0,i.AV)(e.describeFeatureType,e.columnSettings,{editable:"EDIT"===e.mode,sortable:e.sortable&&!e.isFocused,defaultSize:e.defaultSize},{getEditor:function(t){var n={onTemporaryChanges:e.gridEvents&&e.gridEvents.onTemporaryChanges,autocompleteEnabled:e.autocompleteEnabled,url:e.url,typeName:e.typeName},r={attribute:t.name,url:e.url,typeName:e.typeName},o=e.customEditorsOptions&&e.customEditorsOptions.rules||[],a={type:t.localType,generalProps:n,props:e},u=F().getCustomEditor(r,o,a);return x()(u)?e.editors(t.localType,n):u},getFilterRenderer:t,getFormatter:function(e){return function(e){return"boolean"===e.localType?function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).value;return x()(e)?null:u().createElement("span",null,e.toString())}:["int","number"].includes(e.localType)?function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).value;return x()(e)?null:u().createElement(se.Z,{value:e,numberParams:{maximumFractionDigits:17}})}:null}(e)}}))}})),(0,P.withPropsOnChange)(["gridOpts","describeFeatureType","actionOpts","mode","select","columns"],(function(e){var t=(0,i.a3)(e.gridEvents,e.rowGetter,e.describeFeatureType,e.actionOpts,e.columns),n=t.onRowsSelected,r=void 0===n?function(){}:n,o=t.onRowsDeselected,a=void 0===o?function(){}:o,u=t.onRowsToggled,c=void 0===u?function(){}:u,l=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,pe),s=e.gridOpts;return s=be(be({},s),{},{enableCellSelect:"EDIT"===e.mode,rowSelection:{showCheckbox:"EDIT"===e.mode,selectBy:{keys:{rowKey:"_!_id_!_",values:e.select.map((function(e){return e.id}))}},onRowsSelected:r,onRowsDeselected:a}}),l.onRowClick=function(e,t){e>=0&&c([{rowIdx:e,row:t}])},be(be({},l),s)})),V.Z);function ve(e){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(){return(me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function we(e,t){return(we=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pe(e,t){return!t||"object"!==ve(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function je(e){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Se=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&we(e,t)}(i,e);var t,n,r,o,a=(r=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=je(r);if(o){var n=je(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Pe(this,e)});function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).setScrollLeft=function(e){return t.refs.cell.setScrollLeft(e)},t}return t=i,(n=[{key:"render",value:function(){var e=this.context.isProperty(this.props.column.key),t=this.props.rowData._new&&e||this.context.isModified(this.props.rowData.id,this.props.column.key),n=!e||this.context.isValid(this.props.rowData.get(this.props.column.key),this.props.column.key),r=(t?["modified"]:[]).concat(n?[]:["invalid"]).join(" ");return u().createElement(l.Cell,me({},this.props,{ref:"cell",className:r}))}}])&&Oe(t.prototype,n),i}(u().Component);Ee(Se,"propTypes",{value:o().any,rowData:o().object,column:o().object}),Ee(Se,"contextTypes",{isModified:o().func,isProperty:o().func,isValid:o().func}),Ee(Se,"defaultProps",{value:null,rowData:{},column:{}});const Re=Se;function Te(e){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function De(e,t){return(De=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xe(e,t){return!t||"object"!==Te(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ke(e){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ve=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&De(e,t)}(u,e);var t,n,r,o,a=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ke(r);if(o){var n=ke(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return xe(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=a.call(this,e)).setScrollLeft=function(e){return t.refs.row.setScrollLeft(e)},t}return t=u,(n=[{key:"render",value:function(){return this.props.renderBaseRow(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){Fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({extraClasses:"empty_row"===this.props.row.id?"empty-row":"",cellRenderer:Re},this.props))}}])&&Ce(t.prototype,n),u}(u().Component);Fe(Ve,"propTypes",{columns:o().array,row:o().object,renderBaseRow:o().func.isRequired});const Ie=Ve;function Ae(e){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ne(){return(Ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Me(e,t){return(Me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Be(e,t){return!t||"object"!==Ae(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function He(e){return(He=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ye=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Me(e,t)}(c,e);var t,n,r,o,a=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=He(r);if(o){var n=He(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Be(this,e)});function c(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),a.call(this,e)}return t=c,(n=[{key:"componentDidMount",value:function(){this.props.initPlugin({virtualScroll:this.props.virtualScroll,editingAllowedRoles:this.props.editingAllowedRoles,maxStoredPages:this.props.maxStoredPages})}},{key:"getChildContext",value:function(){var e=this;return{isModified:function(t,n){return e.props.changes.hasOwnProperty(t)&&e.props.changes[t].hasOwnProperty(n)},isProperty:function(t){return"geometry"===t||(0,i.IC)(t,e.props.describeFeatureType)},isValid:function(t,n){return!e.props.describeFeatureType||(0,i.wT)(t,n,e.props.describeFeatureType)}}}},{key:"render",value:function(){var e=this.props.gridComponent;return u().createElement(e,Ne({rowRenderer:Ie},this.props))}}])&&Le(t.prototype,n),c}(u().PureComponent);Ze(Ye,"propTypes",{autocompleteEnabled:o().bool,editingAllowedRoles:o().array,gridOpts:o().object,changes:o().object,selectBy:o().object,customEditorsOptions:o().object,features:o().array,showDragHandle:o().bool,gridComponent:o().func,describeFeatureType:o().object,columnSettings:o().object,gridOptions:o().object,actionOpts:o().object,initPlugin:o().func,tools:o().array,gridEvents:o().object,virtualScroll:o().bool,maxStoredPages:o().number}),Ze(Ye,"childContextTypes",{isModified:o().func,isValid:o().func,isProperty:o().func}),Ze(Ye,"defaultProps",{editingAllowedRoles:["ADMIN"],initPlugin:function(){},autocompleteEnabled:!1,gridComponent:function(e){return u().createElement(c.Z,null,(function(t){var n=t.width,r=t.height;return u().createElement("div",{className:e.className},u().createElement(C,_({},e,{minHeight:r,minWidth:n,enableCellAutoFocus:!1})))}))},changes:{},gridEvents:{},gridOpts:{},describeFeatureType:{},columnSettings:{},features:[],tools:[],showDragHandle:!1,virtualScroll:!1,maxStoredPages:5});const Ge=ge(Ye)},78819:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(45697),o=n.n(r);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(p,e);var t,n,r,o,a=(r=p,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=s(r);if(o){var n=s(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return l(this,e)});function p(){return u(this,p),a.apply(this,arguments)}return t=p,(n=[{key:"componentDidMount",value:function(){var e,t;null===(e=(t=this.props).onTemporaryChanges)||void 0===e||e.call(t,!0)}},{key:"componentWillUnmount",value:function(){var e,t;null===(e=(t=this.props).onTemporaryChanges)||void 0===e||e.call(t,!1)}}])&&i(t.prototype,n),p}(n(53370).editors.SimpleTextEditor);p(f,"propTypes",{onTemporaryChanges:o().func}),p(f,"defaultProps",{onTemporaryChanges:function(){}});const y=f},82994:(e,t,n)=>{"use strict";n.d(t,{Z:()=>D});var r=n(24852),o=n.n(r),a=n(45697),u=n.n(a),i=n(78819),c=n(49902),l=n(67076);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const y=(0,l.compose)((0,l.withStateHandlers)((function(e){return{open:!1,currentPage:1,value:e.value,data:e.data,textValue:e.textValue,textLabel:e.textLabel}}),{select:function(e){return function(){return p(p({},e),{},{selected:!0})}},change:function(e){return function(t){if(e.selected&&e.changingPage)return p(p({},e),{},{selected:!1,changingPage:!1,value:e.value,currentPage:e.changingPage?e.currentPage:1});var n="string"==typeof t?t:t.value;return p(p({},e),{},{selected:!1,changingPage:!1,value:n,currentPage:e.changingPage?e.currentPage:1})}},focus:function(e){return function(t){return t&&0===t.length&&""===e.value?p(p({},e),{},{currentPage:1,isToggled:!1,open:!0}):e}},toggle:function(e){return function(){return p(p({},e),{},{open:!!e.changingPage||!e.open})}}}))((function(e){var t=e.toggle,n=e.select,r=e.focus,a=e.change,u=e.value,i=e.busy,l=e.data,s=e.loading,p=void 0!==s&&s,f=e.filter,y=e.open;return o().createElement(c.Z,{pagination:{paginated:!1},onFocus:r,onToggle:t,onChange:a,onSelect:n,selectedValue:u,dropUp:!1,busy:i,data:l,open:y,loading:p,filter:f})}));var d=function(e){var t=e.oldValue,n=e.changedValue,r=e.data;return e.allowEmpty&&""===n?"":-1!==r.indexOf(n)?n:t},b=n(91175),h=n.n(b),g=n(27418),v=n.n(g);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?S(e):t}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e,t,n){return(R="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=T(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(i,e);var t,n,r,a,u=(r=i,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=T(r);if(a){var n=T(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return E(this,e)});function i(e){var t,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=u.call(this,e)).validate=function(e){try{return n.props.isValid(e[n.props.column&&n.props.column.key])}catch(e){return!1}},n.getValueByLabel=function(e){try{return n.props.values[n.props.labels.indexOf(e)]}catch(t){return e}},n.getValue=function(){var e=R((t=S(n),T(i.prototype)),"getValue",t).call(t);return n.props.forceSelection?_({},n.props.column.key,d({oldValue:n.props.defaultOption,changedValue:n.getValueByLabel(e[n.props.column&&n.props.column.key]),data:n.props.values,allowEmpty:n.props.allowEmpty})):n.props.allowEmpty?e:_({},n.props.column.key,d({oldValue:n.props.defaultOption,changedValue:n.getValueByLabel(e[n.props.column&&n.props.column.key]),data:n.props.values,allowEmpty:n.props.allowEmpty}))},n}return t=i,(n=[{key:"render",value:function(){var e=this,t=[];this.props.values&&this.props.labels&&this.props.values.lenght===this.props.labels.lenght?this.props.values.forEach((function(n,r){t.push({label:e.props.labels[r],value:n})})):t=this.props.values.map((function(e){return{label:e,value:e}}));var n=v()({},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),{data:t,defaultOption:this.props.defaultOption||h()(this.props.values)});return o().createElement(y,O({},n,{filter:this.props.filter}))}}])&&P(t.prototype,n),i}(i.Z);_(C,"propTypes",{column:u().object,dataType:u().string,defaultOption:u().string,forceSelection:u().bool,allowEmpty:u().bool,inputProps:u().object,isValid:u().func,onBlur:u().func,typeName:u().string,url:u().string,value:u().string,filter:u().string,values:u().array,labels:u().array}),_(C,"defaultProps",{isValid:function(){return!0},dataType:"string",filter:"contains",values:[],forceSelection:!0,allowEmpty:!0});const D=C},43148:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(24852),o=n.n(r),a=n(45697),u=n.n(a),i=n(81763),c=n.n(i),l=n(94192);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v={int:function(e){return parseInt(e,10)},number:function(e){return parseFloat(e,10)}},m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(i,e);var t,n,r,a,u=(r=i,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(r);if(a){var n=h(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return d(this,e)});function i(e){var t,n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),g(b(a=u.call(this,e)),"state",{inputText:""}),g(b(a),"validateTextValue",(function(e){if(!v[a.props.dataType])return!1;try{var t=v[a.props.dataType](e);return a.validateNumberValue(t)}catch(e){return!1}})),g(b(a),"validateNumberValue",(function(e){return c()(e)&&!isNaN(e)&&(!c()(a.props.minValue)||a.props.minValue<=e)&&(!c()(a.props.maxValue)||a.props.maxValue>=e)})),a.state={inputText:null!==(t=null===(n=e.value)||void 0===n||null===(r=n.toString)||void 0===r?void 0:r.call(n))&&void 0!==t?t:""},a.inputRef=o().createRef(),a}return t=i,(n=[{key:"componentDidMount",value:function(){var e,t;null===(e=(t=this.props).onTemporaryChanges)||void 0===e||e.call(t,!0)}},{key:"componentWillUnmount",value:function(){var e,t;null===(e=(t=this.props).onTemporaryChanges)||void 0===e||e.call(t,!1)}},{key:"getValue",value:function(){try{var e=v[this.props.dataType](this.state.inputText);return g({},this.props.column.key,this.validateNumberValue(e)?e:this.props.value)}catch(e){return g({},this.props.column.key,this.props.value)}}},{key:"getInputNode",value:function(){return this.inputRef.current}},{key:"render",value:function(){var e=this;return o().createElement(l.Z,p({},this.props.inputProps,{style:!this.state.validated||this.state.isValid?{}:{borderColor:"red"},value:this.state.inputText,ref:function(t){e.inputRef=t},type:"number",min:this.props.minValue,max:this.props.maxValue,className:"form-control",defaultValue:this.props.value,onChange:function(t){e.setState({inputText:t,isValid:e.validateTextValue(t),validated:!0})}}))}}])&&f(t.prototype,n),i}(o().Component);g(m,"propTypes",{value:u().oneOfType([u().string,u().number]),inputProps:u().object,dataType:u().string,minValue:u().number,maxValue:u().number,column:u().object,onTemporaryChanges:u().func}),g(m,"defaultProps",{dataType:"number",column:{}})},89808:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(24852),o=n.n(r),a=n(82994),u=n(43148),i=n(45697),c=n.n(i);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(i,e);var t,n,r,a,u=(r=i,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(r);if(a){var n=b(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return y(this,e)});function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),h(d(t=u.call(this,e)),"state",{inputText:""}),h(d(t),"validateValue",(function(e){return!t.props.formatRegex||new RegExp(t.props.formatRegex).test(e)})),t.state={inputText:e.value},t.inputRef=o().createRef(),t}return t=i,(n=[{key:"componentDidMount",value:function(){var e,t;null===(e=(t=this.props).onTemporaryChanges)||void 0===e||e.call(t,!0)}},{key:"componentWillUnmount",value:function(){var e,t;null===(e=(t=this.props).onTemporaryChanges)||void 0===e||e.call(t,!1)}},{key:"getValue",value:function(){return h({},this.props.column.key,this.validateValue(this.state.inputText)?this.state.inputText:this.props.value)}},{key:"getInputNode",value:function(){return this.inputRef.current}},{key:"render",value:function(){var e=this;return o().createElement("input",s({},this.props.inputProps,{style:!this.state.validated||this.state.isValid?{}:{borderColor:"red"},value:this.state.inputText,ref:this.inputRef,className:"form-control",defaultValue:this.props.value,onChange:function(t){e.setState({inputText:t.target.value,isValid:e.validateValue(t.target.value),validated:!0})}}))}}])&&p(t.prototype,n),i}(o().Component);function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}h(g,"propTypes",{value:c().string,inputProps:c().object,dataType:c().string,column:c().object,formatRegex:c().string,onTemporaryChanges:c().func}),h(g,"defaultProps",{dataType:"string",column:{}});const m={DropDownEditor:{string:function(e){return o().createElement(a.Z,v({dataType:"string"},e))}},NumberEditor:{int:function(e){return o().createElement(u.Z,v({dataType:"int"},e))},number:function(e){return o().createElement(u.Z,v({dataType:"number"},e))}},FormatEditor:{string:function(e){return o().createElement(g,v({dataType:"string"},e))}}}},18027:(e,t,n)=>{"use strict";n.d(t,{Q:()=>Ee});var r=n(67076),o=n(24852),a=n.n(o),u=n(45697),i=n.n(u),c=n(68195),l=n(5582),s=n.n(l),p=n(20),f=n(93054),y=n.n(f),d=n(30294),b=n(47960),h=n.n(b),g=n(50966);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?j(e):t}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R=function(e){for(var t=s()().startOf("day"),n=s()().startOf("day").add(1,"d"),r=[],o=t.date();t.date()===o&&t.isBefore(n);)r.push({date:t.toDate(),label:t.format("LT")}),t=t.add(e||30,"m");return r},T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(i,e);var t,n,r,o,u=(r=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=E(r);if(o){var n=E(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return P(this,e)});function i(){var e;m(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return S(j(e=u.call.apply(u,[this].concat(n))),"state",{focusedItemIndex:0,times:[]}),S(j(e),"handleKeyDown",(function(t){var n=t.key,r=e.state,o=r.focusedItemIndex,a=r.times;if("Enter"===n){var u=a[o];e.props.onSelect(u),t.preventDefault()}else if("ArrowDown"===n){t.preventDefault();var i=o+1;e.scrollDown(i),i<a.length&&e.setState({focusedItemIndex:i})}else if("ArrowUp"===n){t.preventDefault();var c=o-1;e.scrollUp(c),c>-1&&e.setState({focusedItemIndex:c})}})),S(j(e),"scrollDown",(function(t){var n=e.itemsRef[t];n&&n.offsetTop>e.listRef.offsetHeight&&(e.listRef.scrollTop=n.offsetTop-e.listRef.offsetTop)})),S(j(e),"scrollUp",(function(t){var n=e.itemsRef[t];if(n){var r=e.listRef.scrollTop,o=n.offsetTop;r&&o<r&&(e.listRef.scrollTop=n.offsetTop-e.listRef.offsetTop)}})),S(j(e),"attachListRef",(function(t){return e.listRef=t})),S(j(e),"itemsRef",{}),e}return t=i,(n=[{key:"componentDidMount",value:function(){this.setState({times:R()})}},{key:"render",value:function(){var e=this,t=this.state,n=t.focusedItemIndex,r=t.times;return a().createElement("ul",{id:"rw_1_time_listbox",style:{position:"relative"},ref:this.attachListRef,tabIndex:"0",className:"rw-list",role:"listbox","aria-labelledby":"rw_1_input","aria-live":"false","aria-hidden":"true","aria-activedescendant":"rw_1_time_listbox__option__11"},r.map((function(t,r){return a().createElement("li",{key:t.label,onMouseDown:e.props.onMouseDown,onClick:function(){return e.props.onSelect(t)},ref:function(t){e.itemsRef[r]=t},role:"option",tabIndex:"0","aria-selected":"false",className:"rw-list-option ".concat(n===r?"rw-state-focus":""),id:"rw_1_time_listbox__option__0"},t.label)})))}}])&&O(t.prototype,n),i}(o.Component);S(T,"propTypes",{onSelect:i().func,onMouseDown:i().func}),S(T,"defaultProps",{onSelect:function(){},onMouseDown:function(){}});const _=T;function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function V(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?I(e):t}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}y()(s());var L="function"==typeof s()().locale?"locale":"lang";function M(e,t,n){return e?s()(t,n)[L](e):s()(t,n)}var B=function(e,t){var n=s()(e);return n.hours(t.getHours()).minute(t.getMinutes()).seconds(t.getSeconds()).milliseconds(t.getMilliseconds()),n.toDate()},H=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(i,e);var t,n,r,o,u=(r=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=A(r);if(o){var n=A(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return V(this,e)});function i(){var e;x(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return N(I(e=u.call.apply(u,[this].concat(n))),"state",{open:"",focused:!1,inputValue:"",operator:"",date:null}),N(I(e),"getFormat",(function(){var t=e.props,n=t.format,r=t.time,o=t.calendar;return n||(!r&&o?"L":r&&!o?"LT":"lll")})),N(I(e),"renderInput",(function(t,n,r,o,u,i,c){return r?a().createElement(g.Z,{placement:"top",overlay:a().createElement(d.Tooltip,{id:"tooltip"},r)},a().createElement("input",{type:"text",id:"rw_1_input",role:"combobox",onBlur:e.handleInputBlur,placeholder:o,"aria-expanded":i||c,"aria-haspopup":"true","aria-busy":"false","aria-owns":"rw_1_cal rw_1_time_listbox",tabIndex:u,autoComplete:"off",value:"".concat(n).concat(t),className:"rw-input",onChange:e.handleValueChange})):a().createElement("input",{type:"text",id:"rw_1_input",role:"combobox",onBlur:e.handleInputBlur,placeholder:o,"aria-expanded":i||c,"aria-haspopup":"true","aria-busy":"false","aria-owns":"rw_1_cal rw_1_time_listbox",tabIndex:u,autoComplete:"off",value:"".concat(n).concat(t),className:"rw-input",onChange:e.handleValueChange})})),N(I(e),"inputFlush",!1),N(I(e),"ignoreBlur",!1),N(I(e),"handleWidgetFocus",(function(){e.setState({focused:!0}),e.ignoreBlur=!1})),N(I(e),"handleWidgetBlur",(function(){e.ignoreBlur||e.setState({open:"",focused:!1})})),N(I(e),"handleMouseDown",(function(){e.ignoreBlur=!0})),N(I(e),"toggleCalendar",(function(){e.setState((function(e){return{open:"date"!==e.open?"date":""}}))})),N(I(e),"toggleTime",(function(){e.setState((function(e){return{open:"time"!==e.open?"time":""}}))})),N(I(e),"handleInputBlur",(function(){if(e.inputFlush){var t=e.parse(e.state.inputValue),n=e.format(t);e.setState({inputValue:n,date:t}),e.inputFlush=!1,e.props.onChange(t,"".concat(e.state.operator).concat(n))}})),N(I(e),"setDateFromValueProp",(function(t,n){if(h()(t)){var r=e.format(t);e.setState((function(e){return{date:t,inputValue:r,operator:n||e.operator}}))}})),N(I(e),"parse",(function(t){var n=e.props.culture,r=e.getFormat();if(t){var o=M(n,t,r);if(o.isValid())return o.toDate()}return null})),N(I(e),"format",(function(t){if(!t)return"";var n=e.props.culture,r=e.getFormat(),o=M(n,t);return o.isValid()?o.format(r):""})),N(I(e),"close",(function(){e.setState({open:""})})),N(I(e),"open",(function(){var t=e.props,n=t.calendar,r=t.time;return!n&&r?e.setState({open:"time"}):n&&!r?e.setState({open:"date"}):""})),N(I(e),"handleKeyDown",(function(t){var n=e.state.open,r="time"===n,o="date"===n;if(!t.defaultPrevented)if("Escape"!==t.key){if(t.altKey&&"ArrowDown"===t.key)return t.preventDefault(),void e.open();if(t.altKey&&"ArrowUp"===t.key)return t.preventDefault(),void e.close();if(r&&e.timeRef.handleKeyDown(t),o&&e.calRef.refs.inner.handleKeyDown(t),!r&&!o&&"Enter"===t.key){var a=e.parse(e.state.inputValue),u=e.format(a);e.setState({inputValue:u,date:a}),e.inputFlush=!1,e.props.onChange(a,"".concat(e.state.operator).concat(u))}}else e.close()})),N(I(e),"handleValueChange",(function(t){var n=t.target.value,r=/\s*(!==|!=|<>|<=|>=|===|==|=|<|>)?(.*)/.exec(n);e.setState({inputValue:r[2],operator:r[1]||""}),e.inputFlush=!0})),N(I(e),"handleCalendarChange",(function(t){var n=B(t,new Date),r=e.format(n);e.setState({date:n,inputValue:r,open:""}),e.props.onChange(n,"".concat(e.state.operator).concat(r))})),N(I(e),"handleTimeSelect",(function(t){var n=e.state.date||new Date,r=B(n,t.date),o=e.format(r);e.setState({date:r,inputValue:o,open:""}),e.props.onChange(r,"".concat(e.state.operator).concat(o))})),N(I(e),"attachTimeRef",(function(t){return e.timeRef=t})),N(I(e),"attachCalRef",(function(t){return e.calRef=t})),e}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.value,n=e.operator;this.setDateFromValueProp(t,n)}},{key:"componentDidUpdate",value:function(e){if(e.value!==this.props.value||e.operator!==this.props.operator){var t=this.props,n=t.value,r=t.operator;this.setDateFromValueProp(n,r)}}},{key:"render",value:function(){var e=this,t=this.state,n=t.open,r=t.inputValue,o=t.operator,u=t.focused,i=this.props,c=i.calendar,l=i.time,s=i.toolTip,f=i.placeholder,y=i.tabIndex,d=Object.keys(this.props).reduce((function(t,n){return["placeholder","calendar","time","onChange","value"].includes(n)||(t[n]=e.props[n]),t}),{}),b="date"===n,h="time"===n;return a().createElement("div",{tabIndex:"-1",onKeyDown:this.handleKeyDown,onBlur:this.handleWidgetBlur,onFocus:this.handleWidgetFocus,className:"rw-datetimepicker rw-widget ".concat(c&&l?"rw-has-both":""," ").concat(c||l?"":"rw-has-neither"," ").concat(u?"rw-state-focus":"")},this.renderInput(r,o,s,f,y,b,h),c||l?a().createElement("span",{className:"rw-select"},c?a().createElement("button",{tabIndex:"-1",title:"Select Date",type:"button","aria-disabled":"false","aria-label":"Select Date",className:"rw-btn-calendar rw-btn",onClick:this.toggleCalendar},a().createElement("span",{"aria-hidden":"true",className:"rw-i rw-i-calendar"})):"",l?a().createElement("button",{tabIndex:"-1",title:"Select Time",type:"button","aria-disabled":"false","aria-label":"Select Time",className:"rw-btn-time rw-btn",onClick:this.toggleTime},a().createElement("span",{"aria-hidden":"true",className:"rw-i rw-i-clock-o"})):""):"",a().createElement("div",{className:"rw-popup-container rw-popup-animating",style:{display:h?"block":"none",overflow:h?"visible":"hidden",height:"216px"}},a().createElement("div",{className:"rw-popup rw-widget",style:{transform:h?"translateY(0)":"translateY(-100%)",position:h?"":"absolute"}},a().createElement(_,D({ref:this.attachTimeRef,onMouseDown:this.handleMouseDown},d,{onClose:this.close,onSelect:this.handleTimeSelect})))),a().createElement("div",{className:"rw-calendar-popup rw-popup-container ".concat(b?"":"rw-popup-animating"),style:{display:b?"block":"none",overflow:b?"visible":"hidden",height:"375px"}},a().createElement("div",{className:"rw-popup",style:{transform:b?"translateY(0)":"translateY(-100%)",padding:"0",borderRadius:"4px",position:b?"":"absolute"}},a().createElement(p.Calendar,D({tabIndex:"-1",ref:this.attachCalRef,onMouseDown:this.handleMouseDown,onChange:this.handleCalendarChange},d)))))}}])&&k(t.prototype,n),i}(o.Component);N(H,"propTypes",{format:i().string,type:i().string,placeholder:i().string,onChange:i().func,calendar:i().bool,time:i().bool,value:i().any,operator:i().string,culture:i().string,toolTip:i().string,tabIndex:i().string}),N(H,"defaultProps",{placeholder:"Type date...",calendar:!0,time:!0,onChange:function(){},value:null});const Z=H;var Y=n(86638),G=n(55237);function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $(e,t){return($=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(e,t){return!t||"object"!==U(t)&&"function"!=typeof t?Q(e):t}function Q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var J=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$(e,t)}(i,e);var t,n,r,o,u=(r=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=X(r);if(o){var n=X(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return z(this,e)});function i(){var e;W(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return q(Q(e=u.call.apply(u,[this].concat(n))),"renderInput",(function(){if(!1===e.props.column.filterable)return a().createElement("span",null);var t=(0,Y.S$)(e.context.messages,e.props.placeholderMsgId)||"Search",n="header-filter-"+e.props.column.key;return a().createElement("input",{disabled:e.props.disabled,key:n,type:"text",className:"form-control input-sm",placeholder:t,value:e.props.value,onChange:e.handleChange})})),q(Q(e),"renderTooltip",(function(t){return e.props.tooltipMsgId&&(0,Y.S$)(e.context.messages,e.props.tooltipMsgId)?a().createElement(g.Z,{placement:"top",overlay:a().createElement(d.Tooltip,{id:"tooltip"},(0,Y.S$)(e.context.messages,e.props.tooltipMsgId))},t):t})),q(Q(e),"handleChange",(function(t){var n=t.target.value;e.props.onChange({value:n,attribute:e.props.column&&e.props.column.key})})),e}return t=i,(n=[{key:"render",value:function(){var e="header-filter--"+this.props.column.key;return a().createElement("div",{key:e,className:"form-group".concat(this.props.valid?"":" has-error")},this.renderTooltip(this.renderInput()))}}])&&K(t.prototype,n),i}(a().PureComponent);q(J,"propTypes",{valid:i().bool,disabled:i().bool,onChange:i().func.isRequired,value:i().any,column:i().object,placeholderMsgId:i().string,tooltipMsgId:i().string}),q(J,"contextTypes",{messages:i().object}),q(J,"defaultProps",{value:"",valid:!0,onChange:function(){},column:{},placeholderMsgId:"featuregrid.filter.placeholders.default"});const ee=J;function te(e){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function re(e,t){return(re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oe(e,t){return!t||"object"!==te(t)&&"function"!=typeof t?ae(e):t}function ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ue(e){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ce=(0,n(43146).Z)({dateProp:"value",dateTypeProp:"type",setDateProp:"onChange"})(Z),le=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=ue(t);if(n){var o=ue(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return oe(this,e)});function o(){var e;ne(this,o);for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return ie(ae(e=r.call.apply(r,[this].concat(n))),"renderInput",(function(){if(!1===e.props.column.filterable)return a().createElement("span",null);var t,n=(0,G.V$)(e.context.locale,e.props.type),r=(0,Y.S$)(e.context.messages,e.props.placeholderMsgId)||"Insert date",o=e.props.intl&&e.props.intl.formatMessage({id:"".concat(e.props.tooltipMsgId)},{format:n})||"Insert date in ".concat(n," format"),u="header-filter-"+e.props.column.key;t=e.props.value&&null===e.props.value.startDate||!e.props.value?null:e.props.value&&e.props.value.startDate||e.props.value;var i=e.props.value?t:null,c=e.props.value&&e.props.value.operator;return a().createElement(ce,{key:u,disabled:e.props.disabled,format:n,placeholder:r,value:i,toolTip:o,operator:c,type:e.props.type,time:"date-time"===e.props.type||"time"===e.props.type,calendar:"date-time"===e.props.type||"date"===e.props.type,onChange:function(t,n){return e.handleChange(t,n)}})})),ie(ae(e),"handleChange",(function(t,n){e.props.onChange({value:t,stringValue:n,attribute:e.props.column&&e.props.column.name})})),e}return o}(ee);ie(le,"propTypes",{type:i().string,disabled:i().boolean,onChange:i().func,intl:c.intlShape}),ie(le,"contextTypes",{messages:i().object,locale:i().string}),ie(le,"defaultProps",{value:null,type:"date-time",column:{},placeholderMsgId:"featuregrid.filter.placeholders.default"});const se=(0,r.getContext)({intl:c.intlShape})(le),pe=(0,r.compose)((0,r.defaultProps)({onValueChange:function(){},value:null}),(0,r.withHandlers)({onChange:function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.value,r=t.attribute,o=t.stringValue,a=/\s*(!==|!=|<>|<=|>=|===|==|=|<|>)?(.*)/.exec(o),u=a[1],i=a[1]||"=";"!=="===u|"!="===u?i="<>":"==="===u|"=="===u&&(i="="),e.onValueChange(n),e.onChange({value:{startDate:n,operator:u},operator:i,type:e.type,attribute:r})}}}),(0,r.defaultProps)({placeholderMsgId:"featuregrid.filter.placeholders.date",tooltipMsgId:"featuregrid.filter.tooltips.date"}))(se),fe=(0,r.compose)((0,r.defaultProps)({onValueChange:function(){}}),(0,r.withHandlers)({onChange:function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.value,r=t.attribute;e.onValueChange(n),e.onChange({value:n,operator:"=",type:e.type,attribute:r})}}}))(ee);var ye=n(5346);const de=function(e){var t=e.value,n=e.filterEnabled,r=void 0!==n&&n,o=e.filterDeactivated,u=void 0!==o&&o,i=e.column,c=void 0===i?{}:i,l=e.tooltipPlace,s=void 0===l?"top":l,p=e.tooltipDisabled,f=void 0===p?"featuregrid.filter.tooltips.geometry.disabled":p,y=e.tooltipEnabled,b=void 0===y?"featuregrid.filter.tooltips.geometry.enabled":y,h=e.tooltipApplied,v=void 0===h?"featuregrid.filter.tooltips.geometry.applied":h,m=e.onChange,O=void 0===m?function(){}:m,w=u?void 0:r&&t?v:r&&!t?b:f,P=a().createElement("div",{className:"featuregrid-geometry-filter".concat(r?" filter-enabled":"").concat(u?" filter-deactivated":""),onClick:u?function(){}:function(){O({enabled:!r,type:"geometry",attribute:c.geometryPropName})}},a().createElement(d.Glyphicon,{glyph:t?"remove-sign":"map-marker"}));return w?a().createElement(g.Z,{placement:s,overlay:a().createElement(d.Tooltip,{id:"gofull-tooltip"},a().createElement(ye.Z,{msgId:w}))},P):P};var be=n(92742),he=n.n(be),ge=n(6557),ve=n.n(ge),me=n(96958),Oe=/\,/;const we=(0,r.compose)((0,r.defaultProps)({onValueChange:function(){}}),(0,r.withState)("valid","setValid",!0),(0,r.withHandlers)({onChange:function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.value,r=t.attribute;if(e.onValueChange(n),Oe.exec(n)){var o=(null==n?void 0:n.split(",").filter(ve()))||[],a=o.reduce((function(e,t){var n=(0,me.Cf)(t).newVal;return e&&!(isNaN(n)&&""!==he()(t))}),!0);e.setValid(a),e.onChange({value:n,rawValue:n,operator:"=",type:"number",attribute:r})}else{var u=(0,me.Cf)(n,"number"),i=u.operator,c=u.newVal;isNaN(c)&&""!==he()(n)?e.setValid(!1):e.setValid(!0),e.onChange({value:isNaN(c)?void 0:c,rawValue:n,operator:i,type:"number",attribute:r})}}}}),(0,r.defaultProps)({placeholderMsgId:"featuregrid.filter.placeholders.number",tooltipMsgId:"featuregrid.filter.tooltips.number"}))(ee),Pe=(0,r.compose)((0,r.defaultProps)({onValueChange:function(){},placeholderMsgId:"featuregrid.filter.placeholders.string"}),(0,r.withHandlers)({onChange:function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.value,r=t.attribute;e.onValueChange(n),e.onChange({rawValue:n,value:he()(n)?he()(n):void 0,operator:"ilike",type:"string",attribute:r})}}}))(ee);var je={defaultFilter:function(e){return(0,r.withProps)((function(){return{type:e}}))(fe)},string:function(){return Pe},number:function(){return we},int:function(){return we},date:function(){return(0,r.withProps)((function(){return{type:"date"}}))(pe)},time:function(){return(0,r.withProps)((function(){return{type:"time"}}))(pe)},"date-time":function(){return(0,r.withProps)((function(){return{type:"date-time"}}))(pe)},geometry:function(){return de}},Ee=function(e,t){return je[e]?je[e](e,t):je.defaultFilter(e,t)}},95344:(e,t,n)=>{function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=n(13311),i=n(27418)({},n(89808).Z),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).length>0&&Object.keys(e).reduce((function(n,r){var o=new RegExp(e[r]);return n&&o.test(t[r])}),!0)},l=function(e,t,n){if(i[t]){if(i[t][e])return i[t][e](n);if(i[t].defaultEditor)return i[t].defaultEditor(n)}return null};e.exports={get:function(){return i},set:function(e){i=e},register:function(e){var t=e.name,n=e.editors;n&&(i[t]=n)},remove:function(e){if(t=e,-1!==Object.keys(i).indexOf(t))try{return delete i[e],!0}catch(e){return!1}var t;return!1},clean:function(){i={}},getCustomEditor:function(e){var t=e.attribute,n=e.url,r=e.typeName,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=i.type,p=i.generalProps,f=void 0===p?{}:p,y=i.props,d=u(a,(function(e){return c(e.regex,{attribute:t,url:n,typeName:r})}));if(d){var b=l(s,d.editor,o(o(o({},y),f),d.editorProps||{}));return b}return null}}}}]);