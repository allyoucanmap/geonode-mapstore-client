(window.webpackJsonp=window.webpackJsonp||[]).push([["plugins/geostory-navigation-plugin"],{"./MapStore2/web/client/components/geostory/navigation/ScrollMenu.jsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return g}));var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/react-bootstrap/es/index.js"),a=n("./MapStore2/node_modules/lodash/debounce.js"),c=n.n(a),s=n("./node_modules/react-swipeable/es/index.js"),l=n("./node_modules/react-resize-detector/lib/esm/hoc/withResizeDetector.js");function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=function(e){var t=e.tabindex,n=e.text,r=e.selected,a=e.style;return o.a.createElement(i.Button,{tabindex:t,className:"".concat(r?"active":"btn-tray"," btn-xs btn-default"),style:a},n)},g=function(e){var t=e.direction,n=void 0===t?"horizontal":t,o=e.deltaScroll,i=e.width,a=e.height,c=e.transition,l=m(Object(r.useState)(0),2),u=l[0],d=l[1],b=m(Object(r.useState)(0),2),v=b[0],g=b[1],h=Object(r.useRef)({x:0,y:0}),y=m(Object(r.useState)(!1),2),j=y[0],w=y[1],O=m(Object(r.useState)("start"),2),S=O[0],E=O[1],C=m(Object(r.useState)(),2),x=C[0],P=C[1],M=Object(r.useRef)(),I=Object(r.useRef)({});function k(e,t){P("move:start");var r=M.current,o=r.parentNode,i=r.getBoundingClientRect(),a=o.getBoundingClientRect();if("horizontal"===n){var s=e+i.width;e<0&&s>a.width?(d(e),h.current.x=e,E("center")):e>=0?(d(0),h.current.x=0,E("start")):s<=a.width&&(d(a.width-i.width),h.current.x=a.width-i.width,E("end"))}if("vertical"===n){var l=t+i.height;t<0&&l>a.height?(g(t),h.current.y=t,E("center")):t>=0?(g(0),h.current.y=0,E("start")):l<=a.height&&(g(a.height-i.height),h.current.y=a.height-i.height,E("end"))}setTimeout((function(){P("move:end")}),c)}function N(){var e=M.current,t=e.parentNode,r=e.getBoundingClientRect(),o=t.getBoundingClientRect();return!("horizontal"===n&&o.width>=r.width||"vertical"===n&&o.height>=r.height)}Object(r.useEffect)((function(){function e(e){var t=N();return w(N()),t?k(h.current.x-(e.deltaY>0?o:-o),h.current.y-(e.deltaY>0?o:-o)):null}var t=N();w(t);var n=M.current.parentNode;return t&&k(h.current.x,h.current.y),t&&n&&n.addEventListener&&n.addEventListener("wheel",e),function(){t&&n&&n.removeEventListener&&n.removeEventListener("wheel",e)}}),[i,a]);var D=Object(s.a)({onSwiping:function(e){e.event.stopPropagation();var t=N();return w(N()),t?k(u-e.deltaX*e.velocity,v-e.deltaY*e.velocity):null},trackTouch:!0,trackMouse:!0});function R(e,t){I.current=f(f({},I.current),{},p({},e,t))}function T(e){var t=I.current[e];if(t){var r=M.current,o=(r&&r.parentNode).getBoundingClientRect(),i=t.getBoundingClientRect();if("horizontal"===n){var a=o.width,c=o.left,s=i.width,l=i.left,u=c+a,d=l+s;return c<=l&&u>=l||c<=d&&u>=d}}return!1}return{status:x,canSwipe:j,isStartControlActive:j&&("end"===S||"center"===S),isEndControlActive:j&&("start"===S||"center"===S),positionLabel:S,coordinates:{x:u,y:v},containerPropsHandlers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.style,n=void 0===t?{}:t;return f(f({},D),{},{style:f({position:"relative",overflow:"hidden",width:"100%",height:"100%"},n)})},contentPropsHandlers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.style,r=void 0===t?{}:t;return{ref:M,style:f(f(f(f({position:"absolute",display:"flex"},c&&{transition:"transform ".concat(c,"ms ease 0s")}),{},{flexDirection:"horizontal"===n?"row":"column"},j&&"horizontal"===n&&{transform:"translateX(".concat(u,"px)")}),j&&"vertical"===n&&{transform:"translateY(".concat(v,"px)")}),r)}},itemPropsHandlers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n=e.onClick;return f({key:t,ref:function(e){return e&&R(t,e)}},n?{onClick:n,tabindex:T(t)?0:-1,onKeyDown:function(e){"Enter"===e.key&&n()}}:{tabindex:-1})},updateCoordinates:k,moveItemInViewById:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.margin,o=void 0===r?0:r,i=I.current[e];if(i){var a=M.current,c=a&&a.parentNode,s=c.getBoundingClientRect(),l=i.getBoundingClientRect();if("horizontal"===n){var u=s.width,d=s.left,f=l.width,p=l.left,m=d+u,b=p+f,v=d<=p&&m>=b;if(!v){var g=a.getBoundingClientRect(),h=g.left;k(-(p-h)+o,void 0)}}}},moveToDeltaSize:function(e){k(u+e,v+e)}}};t.a=Object(l.a)((function(e){var t=e.currentPage,n=e.items,a=e.scrollTo,s=void 0===a?function(){}:a,l=e.width,d=e.height,f=e.deltaSwipeSize,p=void 0===f?200:f,m=e.transition,b=void 0===m?300:m,h=e.updateTimeDebounceTime,y=void 0===h?500:h,j=e.getItemStyle,w=void 0===j?function(){return{}}:j,O=g({direction:"horizontal",width:l,height:d,transition:b,deltaScroll:p}),S=O.isStartControlActive,E=O.isEndControlActive,C=O.containerPropsHandlers,x=O.contentPropsHandlers,P=O.itemPropsHandlers,M=O.moveToDeltaSize,I=O.moveItemInViewById,k=t&&t.columns&&t.sectionId&&t.columns[t.sectionId]||t&&t.sectionId,N=Object(r.useRef)(null);return Object(r.useEffect)((function(){return N.current=c()((function(e){I(e,{margin:32})}),y),function(){N.current&&(N.current.cancel(),N.current=null)}}),[]),Object(r.useEffect)((function(){N.current&&(N.current.cancel(),N.current(k))}),[k]),o.a.createElement("div",u({},C(),{className:"ms-horizontal-menu"}),o.a.createElement("div",x(),n.map((function(e){var n=e.title,r=e.id,i=P({id:r,onClick:function(){t&&t.sectionId!==r&&s(r)}});return o.a.createElement("div",u({},i,{className:"ms-menu-item"}),o.a.createElement(v,{tabindex:"-1",id:r,text:n||"title",selected:r===k,style:w(r===k)}))}))),S&&o.a.createElement(i.Button,{className:"square-button-md no-border",style:{position:"absolute"},onClick:function(){return M(p)}},o.a.createElement(i.Glyphicon,{glyph:"chevron-left"})),E&&o.a.createElement(i.Button,{className:"square-button-md no-border",style:{position:"absolute",right:0},onClick:function(){return M(-p)}},o.a.createElement(i.Glyphicon,{glyph:"chevron-right"})))}))},"./MapStore2/web/client/plugins/GeoStoryNavigation.jsx":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/react-redux/es/index.js"),a=n("./node_modules/reselect/es/index.js"),c=n("./MapStore2/web/client/utils/PluginsUtils.js"),s=n("./MapStore2/web/client/utils/GeoStoryUtils.js"),l=n("./MapStore2/web/client/selectors/geostory.js"),u=n("./MapStore2/web/client/selectors/router.js"),d=n("./MapStore2/web/client/reducers/geostory.js"),f=n("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),p=n("./MapStore2/web/client/components/geostory/navigation/ScrollMenu.jsx"),m=n("./node_modules/prop-types/index.js"),b=n.n(m),v=n("./node_modules/react-bootstrap/es/index.js"),g=n("./MapStore2/web/client/components/misc/OverlayTrigger.jsx"),h=n("./MapStore2/web/client/components/I18N/Message.jsx"),y=n("./MapStore2/web/client/components/misc/ResizableModal.jsx");function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I(e);if(t){var o=I(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return P(this,n)}}function P(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?M(e):t}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(a,e);var t,n,r,i=x(a);function a(){var e;S(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return k(M(e=i.call.apply(i,[this].concat(n))),"checkUnsavedChanges",(function(){e.props.renderUnsavedMapChangesDialog?e.props.onCheckMapChanges(e.goHome):(e.props.onCloseUnsavedDialog(),e.goHome())})),k(M(e),"goHome",(function(){e.context.router.history.push("/")})),e}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.tooltipPosition,n=O(e,["tooltipPosition"]),r=o.a.createElement(v.Tooltip,{id:"toolbar-home-button"},o.a.createElement(h.default,{msgId:"gohome"}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(g.a,{overlay:r,placement:t},o.a.createElement(v.Button,w({id:"home-button",className:"square-button",bsStyle:"primary",onClick:this.checkUnsavedChanges,tooltip:r},n),this.props.icon)),o.a.createElement(y.a,{ref:"unsavedMapModal",show:this.props.displayUnsavedDialog||!1,onClose:this.props.onCloseUnsavedDialog,title:o.a.createElement(h.default,{msgId:"resources.maps.unsavedMapConfirmTitle"}),buttons:[{bsStyle:"primary",text:o.a.createElement(h.default,{msgId:"resources.maps.unsavedMapConfirmButtonText"}),onClick:this.goHome},{text:o.a.createElement(h.default,{msgId:"resources.maps.unsavedMapCancelButtonText"}),onClick:this.props.onCloseUnsavedDialog}],fitContent:!0},o.a.createElement("div",{className:"ms-detail-body"},o.a.createElement(h.default,{msgId:"resources.maps.unsavedMapConfirmMessage"}))))}}])&&E(t.prototype,n),r&&E(t,r),a}(o.a.Component);k(N,"propTypes",{icon:b.a.node,onCheckMapChanges:b.a.func,onCloseUnsavedDialog:b.a.func,displayUnsavedDialog:b.a.bool,renderUnsavedMapChangesDialog:b.a.bool,tooltipPosition:b.a.string}),k(N,"contextTypes",{router:b.a.object,messages:b.a.object}),k(N,"defaultProps",{icon:o.a.createElement(v.Glyphicon,{glyph:"home"}),onCheckMapChanges:function(){},onCloseUnsavedDialog:function(){},renderUnsavedMapChangesDialog:!0,tooltipPosition:"left"});var D=N,R=n("./MapStore2/web/client/utils/URLUtils.js"),T=n("./MapStore2/node_modules/lodash/isObject.js"),_=n.n(T);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z=function(e){var t,n=e.settings,r=e.scrollTo,i=void 0===r?function(){}:r,a=e.navigableItems,c=void 0===a?[]:a,s=e.currentPage,l=void 0===s?{}:s,u=e.totalItems,d=void 0===u?1:u,m=e.currentPosition,b=void 0===m?0:m,v=e.router,g=e.buttons,h=void 0===g?[]:g,y=null==n||null===(t=n.theme)||void 0===t?void 0:t.general,j=_()(y)&&y||{},w=j.fontFamily,O=j.borderColor,S=j.color,E=j.backgroundColor,C=n||{},x=C.isTitleEnabled,P=C.isLogoEnabled,M=C.isNavbarEnabled,I=h.length>0,k=v&&v.pathname&&v.search&&"true"===Object(R.a)(v.search).showHome&&v.pathname.includes("/geostory/shared"),N=M&&(null==c?void 0:c.length)>0,T=x||P||N||I||k;return o.a.createElement("div",{className:"ms-geostory-navigation-bar",style:A(A({color:S,backgroundColor:E},O&&{borderBottom:"1px solid ".concat(O)}),{},{fontFamily:w})},o.a.createElement("div",{className:"progress-bar",key:"progress-bar",style:{backgroundColor:O}},o.a.createElement("div",{className:"progress-percent",style:{width:"".concat((b+1)/d*100,"%"),backgroundColor:S}})),T&&o.a.createElement("div",{className:"ms-geostory-navigation-tools"},o.a.createElement("div",{className:"ms-geostory-navigation-toolbar"},o.a.createElement(f.a,{buttons:h}),k&&o.a.createElement(D,{bsStyle:"default",className:"square-button-md no-border",tooltipPosition:"right",renderUnsavedMapChangesDialog:!1})),o.a.createElement("div",{className:"ms-geostory-navigation-elements"},N?o.a.createElement("div",{className:"ms-geostory-navigation-navigable-items"},o.a.createElement(p.a,{items:c,currentPage:l,scrollTo:i,getItemStyle:function(e){return e?{color:E,backgroundColor:S}:{outlineColor:S,borderColor:S}}})):null,o.a.createElement("div",{className:"ms-geostory-navigation-metadata"},x&&o.a.createElement("div",{className:"ms-geostory-navigation-title",style:{fontSize:n.storyTitleFontSize||"14px"}},n.storyTitle),P&&o.a.createElement("div",{className:"ms-geostory-navigation-logo"},o.a.createElement("img",{src:n.thumbnail&&(n.thumbnail.data||n.thumbnail.url)||"",height:32}))))))};t.default=Object(c.d)("GeoStoryNavigation",{component:Object(i.connect)(Object(a.c)({mode:l.p,settings:l.x,currentPage:l.b,currentPosition:l.c,totalItems:l.y,navigableItems:Object(l.q)({includeAlways:!1}),pathname:u.a,search:u.b}))((function(e){var t=e.mode,n=void 0===t?s.f.VIEW:t,r=e.currentPage,i=e.currentPosition,a=e.totalItems,c=e.settings,l=e.navigableItems,u=void 0===l?[]:l,d=e.pathname,f=e.search,p=e.items,m=(void 0===p?[]:p).filter((function(e){return e.tool})).map((function(e){return{Element:e.tool}}));return n===s.f.VIEW?o.a.createElement("div",{key:"geostory-navigation",className:"ms-geostory-navigation",style:{width:"100%",position:"relative"}},o.a.createElement(z,{settings:c,currentPage:r,currentPosition:i,totalItems:a,scrollTo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{behavior:"smooth"};Object(s.z)(e,t)},navigableItems:u,router:{pathname:d,search:f},buttons:m})):null})),reducers:{geostory:d.a}})},"./MapStore2/web/client/utils/URLUtils.js":function(e,t,n){"use strict";n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return m}));var r=n("./node_modules/url/url.js"),o=n.n(r),i=n("./MapStore2/node_modules/lodash/lodash.js"),a=n("./node_modules/query-string/index.js"),c=n.n(a);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=function(e){if(!e)return{};var t=!(0===e.indexOf("http")),n=t?[]:e.match(/([^:]*:)\/\/([^:]*:?[^@]*@)?([^:\/\?]*):?([^\/\?]*)/);if(t){var r=window.location;n[1]=r.protocol,n[3]=r.hostname,n[4]=r.port,n[5]=e}n[4]=""!==n[4]&&n[4]?n[4]:"https:"===n[1]?"443":"80",n[5]=n[5]?n[5]:e.slice(n[0].length);var o=s(n,6),i=o[1],a=o[3],c=o[4],l=o[5],u=0===l.indexOf("/")?l.split("/")[1]:"";return{protocol:i,domain:a,port:c,rootPath:l,applicationRootPath:u}},d=function(e,t){var n=Object(i.isArray)(e)?e[0]:e,r=Object(i.isArray)(t)?t[0]:t;if(n===r)return!0;if(!n||!r)return!1;if(!Object(i.isString)(n)||!Object(i.isString)(r))return!1;var a=o.a.parse(n),c=o.a.parse(r),s=u(n),l=u(r),d=s.protocol===l.protocol,f=s.domain===l.domain,p=s.port===l.port,m=a.pathname===c.pathname,b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e===t)return!0;if(!e&&!t)return!0;var n=e?e.split("&").filter((function(e){return!!e})):[],r=t?t.split("&").filter((function(e){return!!e})):[];return Object(i.isEqual)(Object(i.sortBy)(n),Object(i.sortBy)(r))}(a.query,c.query);return d&&p&&f&&m&&b},f=function(e){return c.a.parse(e)},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/^(http(s{0,1}):\/\/)+?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/,n=new RegExp(t);return n.test(e)},m=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/^(http(s{0,1}):\/\/)+?[\w.\-{}]+(?:\.[\w\.-]+)+[\w\-\._~\/\;\.\%\:\&\=\?{}]+$/,r=new RegExp(n),o=r.test(e);if(!o)return!1;if(o&&!t)return!0;if(o&&t){var a=/\{(.*?)\}/.test(e);return 0===t.filter((function(e){return Object(i.find)(a,e)})).length}return!1}}}]);