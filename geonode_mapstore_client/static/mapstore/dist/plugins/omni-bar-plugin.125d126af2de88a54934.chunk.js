(window.webpackJsonp=window.webpackJsonp||[]).push([["plugins/omni-bar-plugin"],{"./MapStore2/web/client/actions/help.js":function(e,t,n){"use strict";n.r(t),n.d(t,"CHANGE_HELP_STATE",(function(){return r})),n.d(t,"CHANGE_HELP_TEXT",(function(){return o})),n.d(t,"CHANGE_HELPWIN_VIZ",(function(){return i})),n.d(t,"changeHelpState",(function(){return l})),n.d(t,"changeHelpText",(function(){return a})),n.d(t,"changeHelpwinVisibility",(function(){return s}));var r="CHANGE_HELP_STATE",o="CHANGE_HELP_TEXT",i="CHANGE_HELPWIN_VIZ";function l(e){return{type:r,enabled:e}}function a(e){return{type:o,helpText:e}}function s(e){return{type:i,helpwinViz:e}}},"./MapStore2/web/client/components/help/HelpBadge.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n("./node_modules/react/index.js"),d=n("./node_modules/react-bootstrap/es/index.js").Badge,y=n("./node_modules/prop-types/index.js"),m=n("./MapStore2/node_modules/lodash/lodash.js").isString,b=n("./MapStore2/web/client/utils/LocaleUtils.js").getMessageById,g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(p,e);var t,n,r,s=a(p);function p(){var e;o(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return u(c(e=s.call.apply(s,[this].concat(n))),"onMouseOver",(function(){var t=m(e.props.helpText)?e.props.helpText:b(e.context.messages,e.props.helpText.props.msgId);e.props.changeHelpText(t),e.props.changeHelpwinVisibility(!0)})),e}return t=p,(n=[{key:"render",value:function(){return f.createElement(d,{id:this.props.id,onMouseOver:this.onMouseOver,className:(this.props.isVisible?"":"hidden ")+(this.props.className?this.props.className:"")},"?")}}])&&i(t.prototype,n),r&&i(t,r),p}(f.Component);u(g,"propTypes",{id:y.string,helpText:y.oneOfType([y.string,y.element]),isVisible:y.bool,changeHelpText:y.func,changeHelpwinVisibility:y.func,className:y.string}),u(g,"contextTypes",{messages:y.object}),u(g,"defaultProps",{helpText:"",isVisible:!1}),e.exports=g},"./MapStore2/web/client/components/misc/OverlayTrigger.jsx":function(e,t,n){"use strict";n.r(t);var r=n("./MapStore2/web/client/components/misc/WithContainer.jsx"),o=n("./node_modules/react-bootstrap/es/index.js");t.default=Object(r.default)(o.OverlayTrigger)},"./MapStore2/web/client/components/misc/WithContainer.jsx":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/react/index.js"),o=n.n(r);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=n("./MapStore2/web/client/utils/ConfigUtils.js").default;t.default=function(e){return function(t){return o.a.createElement(e,i({},t,{container:document.querySelector("."+(l.getConfigProp("themePrefix")||"ms2")+" > div")||document.body}))}}},"./MapStore2/web/client/plugins/OmniBar.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n("./node_modules/react/index.js"),d=n("./node_modules/prop-types/index.js");n("./MapStore2/web/client/plugins/omnibar/omnibar.css");var y=n("./node_modules/object-assign/index.js"),m=n("./MapStore2/web/client/plugins/containers/ToolsContainer.jsx"),b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(p,e);var t,n,r,s=a(p);function p(){var e;o(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return u(c(e=s.call.apply(s,[this].concat(n))),"getPanels",(function(){return e.props.items.filter((function(e){return e.tools})).reduce((function(e,t){return e.concat(t.tools.map((function(e,n){var r,o;return{name:t.name+n,panel:e,cfg:(null==t||null===(r=t.cfg)||void 0===r||null===(o=r.toolsCfg)||void 0===o?void 0:o[n])||{}}})))}),[])})),u(c(e),"getTools",(function(){return e.props.items.sort((function(e,t){return e.position-t.position}))})),e}return t=p,(n=[{key:"render",value:function(){return f.createElement(m,{id:this.props.id,style:this.props.style,className:this.props.className,mapType:this.props.mapType,container:function(e){return f.createElement("div",e,e.children)},toolStyle:"primary",activeStyle:"default",stateSelector:"omnibar",tool:function(e){return f.createElement("div",null,e.children)},tools:this.getTools(),panels:this.getPanels()})}}])&&i(t.prototype,n),r&&i(t,r),p}(f.Component);u(b,"propTypes",{className:d.string,style:d.object,items:d.array,id:d.string,mapType:d.string}),u(b,"defaultProps",{items:[],className:"navbar-dx shadow",style:{},id:"mapstore-navbar",mapType:"leaflet"}),e.exports={OmniBarPlugin:y(b,{disablePluginIf:"{state('featuregridmode') === 'EDIT' || (state('router') && state('router').includes('/geostory/shared') && state('geostorymode') !== 'edit')}"}),reducers:{}}},"./MapStore2/web/client/plugins/containers/ToolsContainer.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=n("./node_modules/react/index.js"),b=n("./node_modules/prop-types/index.js"),g=n("./node_modules/react-redux/es/index.js").connect,h=n("./node_modules/redux/es/index.js").compose,v=n("./MapStore2/web/client/actions/help.js"),j=v.changeHelpText,w=v.changeHelpwinVisibility,S=g((function(e){return{isVisible:e.controls&&e.controls.help&&e.controls.help.enabled}}),{changeHelpText:j,changeHelpwinVisibility:w})(n("./MapStore2/web/client/components/help/HelpBadge.jsx")),x=n("./MapStore2/web/client/components/I18N/Message.jsx").default,O=n("./node_modules/react-bootstrap/es/index.js"),T=O.Button,P=O.Tooltip,_=O.Panel,E=O.Collapse,C=O.Glyphicon,M=n("./MapStore2/web/client/components/misc/OverlayTrigger.jsx").default,H=n("./MapStore2/web/client/actions/controls.js"),N=H.setControlProperty,R=H.toggleControl,k=n("./MapStore2/node_modules/lodash/lodash.js").partial,I=n("./node_modules/object-assign/index.js"),V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(u,e);var t,n,r,i=p(u);function u(){var e;a(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(f(e=i.call.apply(i,[this].concat(n))),"getToolConfig",(function(t){return t.tool?{}:e.props.toolCfg})),y(f(e),"getTool",(function(t){if(t.tool)return!0===t.tool?t.plugin:t.tool;var n=function(){return{}},r={};return t.exclusive?(n=function(n){return{active:n.controls&&n.controls[e.props.stateSelector]&&n.controls[e.props.stateSelector].active===t.name}},r[e.props.eventSelector]=N.bind(null,e.props.stateSelector,"active",t.name,!0)):t.toggle?(n=function(n){return{bsStyle:n.controls[t.toggleControl||t.name]&&n.controls[t.toggleControl||t.name][t.toggleProperty||"enabled"]?e.props.activeStyle:e.props.toolStyle,active:n.controls[t.toggleControl||t.name]&&n.controls[t.toggleControl||t.name][t.toggleProperty||"enabled"]||!1}},r[e.props.eventSelector]=R.bind(null,t.toggleControl||t.name,t.toggleProperty||null)):t.action&&(r[e.props.eventSelector]=k(t.action,e.context),n=t.selector||n),g(n,r,(function(t,n,r){return e.mergeHandlers(l(l({},r),t),n)}))(e.props.tool)})),y(f(e),"renderTool",(function(t,n){if(t.element)return t.element;var r=t.help?m.createElement(S,{className:"mapstore-helpbadge",helpText:t.help}):m.createElement("span",null),i=t.tooltip?m.createElement(x,{msgId:t.tooltip}):null,l=e.getTool(t),a=e.getToolConfig(t),s=t.childTools||[];return e.addTooltip(m.createElement(l,o({},a,{pluginCfg:t.cfg,tooltip:i,style:t.style,btnSize:e.props.toolSize,bsStyle:e.props.toolStyle,help:r,key:t.name||"tool"+n,mapType:e.props.mapType},t.cfg,{items:t.items||[]}),t.cfg&&t.cfg.glyph?m.createElement(C,{glyph:t.cfg.glyph}):t.icon,r," ",t.text,s.length>0&&m.createElement(u,o({},t.innerProps,{mapType:e.props.mapType,tools:s,panels:t.childPanels}))),t)})),y(f(e),"renderTools",(function(){return e.props.tools.map(e.renderTool)})),y(f(e),"renderPanels",(function(){return e.props.panels.filter((function(e){return!e.panel.loadPlugin})).map((function(t){var n=t.panel,r=m.createElement(n,o({key:t.name,mapType:e.props.mapType},t.cfg,t.props||{},{items:t.items||[]})),i=t.title?m.createElement(x,{msgId:t.title}):null;return t.wrap?m.createElement(E,{key:"mapToolBar-item-collapse-"+t.name,in:e.props.activePanel===t.name},m.createElement(_,{header:i,style:e.props.panelStyle,className:e.props.panelClassName},r)):r}))})),y(f(e),"mergeHandlers",(function(e,t){return Object.keys(t).reduce((function(n,r){return I(n,y({},r,e[r]?h(e[r],t[r]):t[r]))}),e)})),y(f(e),"addTooltip",(function(t,n){if(n.tooltip){var r=m.createElement(P,{id:e.props.id+"-"+n.name+"-tooltip"},m.createElement(x,{msgId:n.tooltip}));return m.createElement(M,{key:e.props.id+"-"+n.name+"-overlay",rootClose:!0,placement:"left",overlay:r},t)}return t})),e}return t=u,(n=[{key:"render",value:function(){var e=this.props.container;return m.createElement("span",{id:this.props.id,style:this.props.containerWrapperStyle},m.createElement(e,{id:this.props.id+"-container",style:this.props.style,className:this.props.className},this.renderTools()),this.renderPanels())}}])&&s(t.prototype,n),r&&s(t,r),u}(m.Component);y(V,"propTypes",{id:b.string.isRequired,container:b.func,containerWrapperStyle:b.object,tool:b.func,className:b.string,style:b.object,tools:b.array,panels:b.array,mapType:b.string,toolStyle:b.string,activeStyle:b.string,toolSize:b.string,stateSelector:b.string.isRequired,eventSelector:b.string,panelStyle:b.object,panelClassName:b.string,activePanel:b.string,toolCfg:b.object}),y(V,"contextTypes",{messages:b.object,router:b.object}),y(V,"defaultProps",{container:_,className:"tools-container",style:{},toolStyle:"default",activeStyle:"primary",tools:[],panels:[],tool:T,mapType:"leaflet",eventSelector:"onClick",panelStyle:{},panelClassName:"tools-container-panel",toolSize:null,toolCfg:{}}),e.exports=V},"./MapStore2/web/client/plugins/omnibar/omnibar.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/omnibar/omnibar.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/plugins/omnibar/omnibar.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,"/*viewer navbar */\r\n.msgapi .navbar-dx{\r\n\tposition:absolute;\r\n\tright:0;\r\n\ttop:0;\r\n}\r\n\r\n.msgapi .navbar-dx > ul{\r\n\tpadding:0;\r\n}\r\n\r\n.msgapi .navbar-dx > ul > li{\r\n\tfloat: left;\r\n\tlist-style:none;\r\n}\r\n\r\n.msgapi .navbar-dx .search-wrap .MapSearchBar{\r\n    right: 0;\r\n    top: 0;\r\n    left: 0;\r\n}\r\n\r\n.msgapi .navbar-dx .search-wrap .form-control,.msgapi .navbar-dx .search-wrap .form-control:focus{\r\n    border-color: #fff;\r\n    border-right: 0;\r\n    webkit-box-shadow: none;\r\n    box-shadow: none;\r\n}\r\n.msgapi .navbar-dx .search-wrap .MapSearchBar .input-group-addon{\r\n    border: 0;\r\n}\r\n.msgapi .navbar-dx .search-result-list{\r\n    left: 0;\r\n    max-height: none;\r\n}\r\n\r\n.msgapi .navbar-dx .dropdown-menu {\r\n\tmargin:0;\r\n\tpadding-top: 0;\r\n}\r\n\r\n@media (min-width: 1200px) {\r\n    .msgapi .navbar-dx .search-wrap {\r\n       width: 500px;\r\n       height: 50px;\r\n    }\r\n}\r\n\r\n.msgapi .navbar-dx > * {\r\n\tdisplay: inline-block;\r\n}\r\n/* Page Navbar */\r\n.msgapi .navbar-home .dropdown {\r\n\tfloat: right;\r\n}\r\n.msgapi .navbar-home .navbar-header {\r\n\tmargin-top: 7px;\r\n\tmargin-left: 10px;\r\n\tmargin-right: 10px;\r\n\tdisplay: inline-block;\r\n}\r\n",""])}}]);