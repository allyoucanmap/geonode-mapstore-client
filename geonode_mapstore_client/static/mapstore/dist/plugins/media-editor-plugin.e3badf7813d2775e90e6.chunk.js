(window.webpackJsonp=window.webpackJsonp||[]).push([["plugins/media-editor-plugin",5,"vendors~plugins/save-as-plugin~plugins/save-plugin~plugins/share-plugin",6,"plugins/geostory-navigation-plugin~plugins/share-plugin",8,10,17,20,21,22,24],{"./MapStore2/node_modules/lodash/_baseFindKey.js":function(e,t){e.exports=function(e,t,n){var r;return n(e,(function(e,n,o){if(t(e,n,o))return r=n,!1})),r}},"./MapStore2/node_modules/lodash/_customOmitClone.js":function(e,t,n){var r=n("./MapStore2/node_modules/lodash/isPlainObject.js");e.exports=function(e){return r(e)?void 0:e}},"./MapStore2/node_modules/lodash/concat.js":function(e,t,n){var r=n("./MapStore2/node_modules/lodash/_arrayPush.js"),o=n("./MapStore2/node_modules/lodash/_baseFlatten.js"),i=n("./MapStore2/node_modules/lodash/_copyArray.js"),a=n("./MapStore2/node_modules/lodash/isArray.js");e.exports=function(){var e=arguments.length;if(!e)return[];for(var t=Array(e-1),n=arguments[0],s=e;s--;)t[s-1]=arguments[s];return r(a(n)?i(n):[n],o(t,1))}},"./MapStore2/node_modules/lodash/debounce.js":function(e,t,n){var r=n("./MapStore2/node_modules/lodash/isObject.js"),o=n("./MapStore2/node_modules/lodash/now.js"),i=n("./MapStore2/node_modules/lodash/toNumber.js"),a=Math.max,s=Math.min;e.exports=function(e,t,n){var l,u,c,p,f,d,h=0,m=!1,y=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function b(t){var n=l,r=u;return l=u=void 0,h=t,p=e.apply(r,n)}function v(e){return h=e,f=setTimeout(w,t),m?b(e):p}function _(e){var n=e-d;return void 0===d||n>=t||n<0||y&&e-h>=c}function w(){var e=o();if(_(e))return O(e);f=setTimeout(w,function(e){var n=t-(e-d);return y?s(n,c-(e-h)):n}(e))}function O(e){return f=void 0,g&&l?b(e):(l=u=void 0,p)}function j(){var e=o(),n=_(e);if(l=arguments,u=this,d=e,n){if(void 0===f)return v(d);if(y)return clearTimeout(f),f=setTimeout(w,t),b(d)}return void 0===f&&(f=setTimeout(w,t)),p}return t=i(t)||0,r(n)&&(m=!!n.leading,c=(y="maxWait"in n)?a(i(n.maxWait)||0,t):c,g="trailing"in n?!!n.trailing:g),j.cancel=function(){void 0!==f&&clearTimeout(f),h=0,l=d=u=f=void 0},j.flush=function(){return void 0===f?p:O(o())},j}},"./MapStore2/node_modules/lodash/findKey.js":function(e,t,n){var r=n("./MapStore2/node_modules/lodash/_baseFindKey.js"),o=n("./MapStore2/node_modules/lodash/_baseForOwn.js"),i=n("./MapStore2/node_modules/lodash/_baseIteratee.js");e.exports=function(e,t){return r(e,i(t,3),o)}},"./MapStore2/node_modules/lodash/isFinite.js":function(e,t,n){var r=n("./MapStore2/node_modules/lodash/_root.js").isFinite;e.exports=function(e){return"number"==typeof e&&r(e)}},"./MapStore2/node_modules/lodash/now.js":function(e,t,n){var r=n("./MapStore2/node_modules/lodash/_root.js");e.exports=function(){return r.Date.now()}},"./MapStore2/node_modules/lodash/omit.js":function(e,t,n){var r=n("./MapStore2/node_modules/lodash/_arrayMap.js"),o=n("./MapStore2/node_modules/lodash/_baseClone.js"),i=n("./MapStore2/node_modules/lodash/_baseUnset.js"),a=n("./MapStore2/node_modules/lodash/_castPath.js"),s=n("./MapStore2/node_modules/lodash/_copyObject.js"),l=n("./MapStore2/node_modules/lodash/_customOmitClone.js"),u=n("./MapStore2/node_modules/lodash/_flatRest.js"),c=n("./MapStore2/node_modules/lodash/_getAllKeysIn.js"),p=u((function(e,t){var n={};if(null==e)return n;var u=!1;t=r(t,(function(t){return t=a(t,e),u||(u=t.length>1),t})),s(e,c(e),n),u&&(n=o(n,7,l));for(var p=t.length;p--;)i(n,t[p]);return n}));e.exports=p},"./MapStore2/node_modules/lodash/slice.js":function(e,t,n){var r=n("./MapStore2/node_modules/lodash/_baseSlice.js"),o=n("./MapStore2/node_modules/lodash/_isIterateeCall.js"),i=n("./MapStore2/node_modules/lodash/toInteger.js");e.exports=function(e,t,n){var a=null==e?0:e.length;return a?(n&&"number"!=typeof n&&o(e,t,n)?(t=0,n=a):(t=null==t?0:i(t),n=void 0===n?a:i(n)),r(e,t,n)):[]}},"./MapStore2/web/client/actions/mapEditor.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return s}));var r="MAP_EDITOR:SHOW",o="MAP_EDITOR:HIDE",i="MAP_EDITOR:SAVE",a=function(e,t){return{type:r,owner:e,map:t}},s=function(e){return{type:o,owner:e}}},"./MapStore2/web/client/actions/mapInfo.js":function(e,t,n){"use strict";n.r(t),n.d(t,"LOAD_FEATURE_INFO",(function(){return i})),n.d(t,"ERROR_FEATURE_INFO",(function(){return a})),n.d(t,"EXCEPTIONS_FEATURE_INFO",(function(){return s})),n.d(t,"CHANGE_MAPINFO_STATE",(function(){return l})),n.d(t,"NEW_MAPINFO_REQUEST",(function(){return u})),n.d(t,"PURGE_MAPINFO_RESULTS",(function(){return c})),n.d(t,"CHANGE_MAPINFO_FORMAT",(function(){return p})),n.d(t,"SHOW_MAPINFO_MARKER",(function(){return f})),n.d(t,"HIDE_MAPINFO_MARKER",(function(){return d})),n.d(t,"SHOW_REVERSE_GEOCODE",(function(){return h})),n.d(t,"HIDE_REVERSE_GEOCODE",(function(){return m})),n.d(t,"GET_VECTOR_INFO",(function(){return y})),n.d(t,"NO_QUERYABLE_LAYERS",(function(){return g})),n.d(t,"CLEAR_WARNING",(function(){return b})),n.d(t,"FEATURE_INFO_CLICK",(function(){return v})),n.d(t,"UPDATE_FEATURE_INFO_CLICK_POINT",(function(){return _})),n.d(t,"TOGGLE_HIGHLIGHT_FEATURE",(function(){return w})),n.d(t,"TOGGLE_MAPINFO_STATE",(function(){return O})),n.d(t,"UPDATE_CENTER_TO_MARKER",(function(){return j})),n.d(t,"CHANGE_PAGE",(function(){return S})),n.d(t,"CLOSE_IDENTIFY",(function(){return E})),n.d(t,"CHANGE_FORMAT",(function(){return x})),n.d(t,"TOGGLE_SHOW_COORD_EDITOR",(function(){return P})),n.d(t,"EDIT_LAYER_FEATURES",(function(){return M})),n.d(t,"SET_CURRENT_EDIT_FEATURE_QUERY",(function(){return L})),n.d(t,"SET_MAP_TRIGGER",(function(){return T})),n.d(t,"TOGGLE_EMPTY_MESSAGE_GFI",(function(){return C})),n.d(t,"toggleEmptyMessageGFI",(function(){return k})),n.d(t,"loadFeatureInfo",(function(){return I})),n.d(t,"errorFeatureInfo",(function(){return D})),n.d(t,"exceptionsFeatureInfo",(function(){return A})),n.d(t,"noQueryableLayers",(function(){return R})),n.d(t,"clearWarning",(function(){return F})),n.d(t,"newMapInfoRequest",(function(){return N})),n.d(t,"getVectorInfo",(function(){return G})),n.d(t,"changeMapInfoState",(function(){return U})),n.d(t,"purgeMapInfoResults",(function(){return z})),n.d(t,"changeMapInfoFormat",(function(){return B})),n.d(t,"showMapinfoMarker",(function(){return V})),n.d(t,"hideMapinfoMarker",(function(){return q})),n.d(t,"revGeocodeInfo",(function(){return W})),n.d(t,"showMapinfoRevGeocode",(function(){return H})),n.d(t,"hideMapinfoRevGeocode",(function(){return Z})),n.d(t,"toggleMapInfoState",(function(){return Y})),n.d(t,"updateCenterToMarker",(function(){return K})),n.d(t,"featureInfoClick",(function(){return X})),n.d(t,"updateFeatureInfoClickPoint",(function(){return J})),n.d(t,"toggleHighlightFeature",(function(){return Q})),n.d(t,"changePage",(function(){return $})),n.d(t,"closeIdentify",(function(){return ee})),n.d(t,"changeFormat",(function(){return te})),n.d(t,"toggleShowCoordinateEditor",(function(){return ne})),n.d(t,"editLayerFeatures",(function(){return re})),n.d(t,"setCurrentEditFeatureQuery",(function(){return oe})),n.d(t,"setMapTrigger",(function(){return ie}));var r=n("./MapStore2/web/client/api/Nominatim.js"),o=n.n(r),i="LOAD_FEATURE_INFO",a="ERROR_FEATURE_INFO",s="EXCEPTIONS_FEATURE_INFO",l="CHANGE_MAPINFO_STATE",u="NEW_MAPINFO_REQUEST",c="PURGE_MAPINFO_RESULTS",p="CHANGE_MAPINFO_FORMAT",f="SHOW_MAPINFO_MARKER",d="HIDE_MAPINFO_MARKER",h="SHOW_REVERSE_GEOCODE",m="HIDE_REVERSE_GEOCODE",y="GET_VECTOR_INFO",g="NO_QUERYABLE_LAYERS",b="CLEAR_WARNING",v="FEATURE_INFO_CLICK",_="IDENTIFY:UPDATE_FEATURE_INFO_CLICK_POINT",w="IDENTIFY:TOGGLE_HIGHLIGHT_FEATURE",O="TOGGLE_MAPINFO_STATE",j="UPDATE_CENTER_TO_MARKER",S="IDENTIFY:CHANGE_PAGE",E="IDENTIFY:CLOSE_IDENTIFY",x="IDENTIFY:CHANGE_FORMAT",P="IDENTIFY:TOGGLE_SHOW_COORD_EDITOR",M="IDENTIFY:EDIT_LAYER_FEATURES",L="IDENTIFY:CURRENT_EDIT_FEATURE_QUERY",T="IDENTIFY:SET_MAP_TRIGGER",C="IDENTIFY:TOGGLE_EMPTY_MESSAGE_GFI",k=function(){return{type:C}};function I(e,t,n,r,o){return{type:i,data:t,reqId:e,requestParams:n,layerMetadata:r,layer:o}}function D(e,t,n,r){return{type:a,error:t,reqId:e,requestParams:n,layerMetadata:r}}function A(e,t,n,r){return{type:s,reqId:e,exceptions:t,requestParams:n,layerMetadata:r}}function R(){return{type:g}}function F(){return{type:b}}function N(e,t){return{type:u,reqId:e,request:t}}function G(e,t,n,r){return{type:y,layer:e,request:t,metadata:n,queryableLayers:r}}function U(e){return{type:l,enabled:e}}function z(){return{type:c}}function B(e){return{type:p,infoFormat:e}}function V(){return{type:f}}function q(){return{type:d}}function W(e){return{type:h,reverseGeocodeData:e.data}}function H(e){return function(t){o.a.reverseGeocode(e).then((function(e){t(W(e))})).catch((function(e){t(W(e))}))}}function Z(){return{type:m}}function Y(){return{type:O}}function K(e){return{type:j,status:e}}function X(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return{type:v,point:e,layer:t,filterNameList:n,overrideParams:r,itemId:o}}function J(e){return{type:_,point:e}}function Q(e){return{type:w,enabled:e}}function $(e){return{type:S,index:e}}var ee=function(){return{type:E}},te=function(e){return{type:x,format:e}},ne=function(e){return{type:P,showCoordinateEditor:e}},re=function(e){return{type:M,layer:e}},oe=function(e){return{type:L,query:e}},ie=function(e){return{type:T,trigger:e}}},"./MapStore2/web/client/actions/mediaEditor.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"i",(function(){return u})),n.d(t,"j",(function(){return c})),n.d(t,"e",(function(){return p})),n.d(t,"l",(function(){return f})),n.d(t,"o",(function(){return d})),n.d(t,"n",(function(){return h})),n.d(t,"m",(function(){return m})),n.d(t,"p",(function(){return y})),n.d(t,"q",(function(){return g})),n.d(t,"f",(function(){return b})),n.d(t,"k",(function(){return v})),n.d(t,"h",(function(){return _})),n.d(t,"g",(function(){return w})),n.d(t,"r",(function(){return O})),n.d(t,"t",(function(){return j})),n.d(t,"v",(function(){return S})),n.d(t,"w",(function(){return E})),n.d(t,"A",(function(){return x})),n.d(t,"B",(function(){return P})),n.d(t,"C",(function(){return M})),n.d(t,"I",(function(){return L})),n.d(t,"D",(function(){return T})),n.d(t,"F",(function(){return C})),n.d(t,"G",(function(){return k})),n.d(t,"E",(function(){return I})),n.d(t,"H",(function(){return D})),n.d(t,"s",(function(){return A})),n.d(t,"u",(function(){return R})),n.d(t,"z",(function(){return F})),n.d(t,"y",(function(){return N})),n.d(t,"x",(function(){return G}));var r=n("./MapStore2/node_modules/lodash/lodash.js"),o=n("./MapStore2/web/client/utils/MediaEditorUtils.js"),i="MEDIA_EDITOR:ADDING_MEDIA",a="MEDIA_EDITOR:CHOOSE_MEDIA",s="MEDIA_EDITOR:EDITING_MEDIA",l="GEOSTORY:EDIT_MEDIA",u="MEDIA_EDITOR:LOAD_MEDIA",c="MEDIA_EDITOR:LOAD_MEDIA_SUCCESS",p="MEDIA_EDITOR:HIDE",f="MEDIA_EDITOR:SAVE_MEDIA",d="MEDIA_EDITOR:SET_MEDIA_TYPE",h="MEDIA_EDITOR:SET_MEDIA_SERVICE",m="MEDIA_EDITOR:SELECT_ITEM",y="MEDIA_EDITOR:SHOW",g="MEDIA_EDITOR:UPDATE_ITEM",b="MEDIA_EDITOR:IMPORT_IN_LOCAL",v="MEDIA_EDITOR:REMOVE_MEDIA",_="MEDIA_EDITOR:LOADING_SELECTED_MEDIA",w="MEDIA_EDITOR:LOADING_MEDIA_LIST",O=function(e){return{type:a,resource:e}},j=function(){return{type:p}},S=function(e,t,n){return{type:u,params:e,mediaType:t,sourceId:n}},E=function(e){var t=e.mediaType,n=e.sourceId,r=e.params,o=e.resultData;return{type:c,mediaType:t,sourceId:n,params:r,resultData:o}},x=function(e){var t=e.type,n=e.source,r=e.data;return{type:f,mediaType:t,source:n,data:r}},P=function(e){return{type:"MEDIA_EDITOR:SAVE_MEDIA_SUCCESS",mediaType:e.mediaType,source:e.source,data:e.data,id:e.id}},M=function(e){return{type:m,id:e}},L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"merge";return{type:g,item:e,mode:t}},T=function(e){return{type:i,adding:e}},C=function(e){return{type:h,id:Object(r.isObject)(e)?e.value:e}},k=function(e){return{type:d,mediaType:e}},I=function(e){return{type:s,editing:e}},D=function(e,t){return{type:y,owner:e,settings:t}},A=function(e){var t=e.path,n=e.owner;return{type:l,path:t,owner:void 0===n?"geostory":n}},R=function(e){var t=e.resource,n=e.sourceType,r=void 0===n?o.a.GEOSTORY:n,i=e.owner;return{type:b,resource:t,sourceType:r,owner:void 0===i?"geostory":i}},F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"geostory";return{type:v,mediaType:e,owner:t}},N=function(e){return{type:_,loading:e}},G=function(){return{type:w}}},"./MapStore2/web/client/api/Nominatim.js":function(e,t,n){var r=n("./MapStore2/web/client/libs/ajax.js"),o=n("./node_modules/url/url.js"),i=n("./node_modules/object-assign/index.js"),a={format:"json",bounded:0,polygon_geojson:1,priority:5},s={geocode:function(e,t){var n=i({q:e},a,t||{}),s=o.format({protocol:"https",host:"nominatim.openstreetmap.org",query:n});return r.get(s)},reverseGeocode:function(e,t){var n=i({lat:e.lat,lon:e.lng},t||{},a),s=o.format({protocol:"https",host:"nominatim.openstreetmap.org/reverse",query:n});return r.get(s)}};e.exports=s},"./MapStore2/web/client/api/WFS.js":function(e,t,n){"use strict";n.r(t),n.d(t,"toDescribeURL",(function(){return h})),n.d(t,"getFeatureSimple",(function(){return m})),n.d(t,"getCapabilitiesURL",(function(){return y})),n.d(t,"getFeatureURL",(function(){return g})),n.d(t,"getFeature",(function(){return b})),n.d(t,"getCapabilities",(function(){return v})),n.d(t,"describeFeatureTypeOGCSchemas",(function(){return _})),n.d(t,"describeFeatureType",(function(){return w}));var r=n("./MapStore2/web/client/libs/ajax.js"),o=n.n(r),i=n("./node_modules/url/url.js"),a=n.n(i),s=n("./node_modules/object-assign/index.js"),l=n.n(s);function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e,t){var n=a.a.parse(e,!0);return a.a.format(f(f({},n),{},{search:void 0,query:f(f({},n.query),{},{service:"WFS",version:"1.1.0",typeName:t,outputFormat:"application/json",request:"DescribeFeatureType"})}))},m=function(e,t){return o.a.get(e+"?service=WFS&version=1.1.0&request=GetFeature",{params:l()({outputFormat:"application/json"},t)}).then((function(e){return"object"!==c(e.data)?JSON.parse(e.data):e.data}))},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.version,r=void 0===n?"1.1.0":n,o=a.a.parse(e,!0);return a.a.format(l()({},o,{query:l()({service:"WFS",version:r,request:"GetCapabilities"},o.query)}))},g=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.version,o=void 0===r?"1.1.0":r,i=u(n,["version"]),s=a.a.parse(e,!0);return a.a.format(l()({},s,{query:l()(f({service:"WFS",typeName:t,version:o,request:"GetFeature"},i),s.query)}))},b=function(e,t,n){return o.a.get(g(e,t,n))},v=function(e){return o.a.get(y(e))},_=function(e,t){var r=a.a.parse(e,!0),i=a.a.format(l()({},r,{query:l()({service:"WFS",version:"1.1.0",typeName:t,request:"DescribeFeatureType"},r.query)}));return new Promise((function(e){Promise.all([n.e(1),n.e(27)]).then(function(){var t=n("./MapStore2/web/client/utils/ogc/WFS/index.js").unmarshaller;e(o.a.get(i).then((function(e){var n=t.unmarshalString(e.data);return n&&n.value})))}.bind(null,n)).catch(n.oe)}))},w=function(e,t){return o.a.get(h(e,t)).then((function(e){return e.data}))}},"./MapStore2/web/client/components/I18N/HTML.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=n("./node_modules/prop-types/index.js"),f=n("./node_modules/react/index.js"),d=n("./node_modules/react-intl/lib/index.es.js").FormattedHTMLMessage,h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,n,r,l=s(u);function u(){return o(this,u),l.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){return this.context.intl?f.createElement(d,{id:this.props.msgId,values:this.props.msgParams}):f.createElement("span",null,this.props.msgId||"")}}])&&i(t.prototype,n),r&&i(t,r),u}(f.Component);c(h,"propTypes",{msgId:p.string.isRequired,msgParams:p.object}),c(h,"contextTypes",{intl:p.object}),e.exports=h},"./MapStore2/web/client/components/data/identify/DefaultViewer.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=n("./node_modules/react/index.js"),h=n("./node_modules/prop-types/index.js"),m=n("./MapStore2/web/client/utils/MapInfoUtils.js"),y=m.getDefaultInfoFormatValue,g=m.getValidator,b=m.getViewers,v=m.getViewer,_=n("./MapStore2/web/client/components/I18N/HTML.jsx"),w=n("./MapStore2/web/client/components/I18N/Message.jsx").default,O=n("./node_modules/react-bootstrap/es/index.js"),j=O.Alert,S=O.Panel,E=O.Accordion,x=n("./MapStore2/web/client/components/data/identify/viewers/ViewerPage.jsx"),P=n("./MapStore2/node_modules/lodash/lodash.js"),M=P.isEmpty,L=P.reverse,T=n("./MapStore2/web/client/utils/IdentifyUtils.js").getFormatForResponse,C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(p,e);var t,n,r,u=l(p);function p(){var e;i(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return f(c(e=u.call.apply(u,[this].concat(n))),"getResponseProperties",(function(){var t=e.props.validator(e.props.format),n=e.props.responses.map((function(e){return void 0===e?{}:e})),r=e.props.renderEmpty?t.getValidResponses(n,e.props.renderEmpty):n,o=t.getNoValidResponses(e.props.responses),i=e.props.requests.length===o.length;return{validResponses:r,currResponse:e.getCurrentResponse(r[e.props.index]),emptyResponses:i,invalidResponses:o}})),f(c(e),"getCurrentResponse",(function(t){return e.props.validator(e.props.format).getValidResponses([t],!0)})),f(c(e),"renderEmptyLayers",(function(){var t=e.getResponseProperties(),n=t.invalidResponses,r=t.emptyResponses;if(0===e.props.missingResponses&&r)return null;var o=0!==n.length;if(e.props.renderEmpty||(o=o&&0===e.props.missingResponses),o){var i=n.map((function(e){return e.layerMetadata.title}));return e.props.showEmptyMessageGFI?d.createElement(j,{bsStyle:"info"},d.createElement(w,{msgId:"noInfoForLayers"}),d.createElement("b",null,i.join(", "))):null}return null})),f(c(e),"renderPage",(function(t){var n=e.props.viewers[e.props.format];return n?d.createElement(n,{response:t}):null})),f(c(e),"renderEmptyPages",(function(){var t=e.getResponseProperties().emptyResponses;return 0===e.props.missingResponses&&t?d.createElement(j,{bsStyle:"danger"},d.createElement("h4",null,d.createElement(_,{msgId:"noFeatureInfo"}))):null})),f(c(e),"renderPages",(function(){var t=e.getResponseProperties().validResponses;return t.map((function(n,r){var i,a,s=n.response,l=n.layerMetadata,u=T(n,e.props),c=e.props.header;return(null==l||null===(i=l.viewer)||void 0===i?void 0:i.type)&&(a=v(l.viewer.type)),d.createElement(S,{eventKey:r,key:r,collapsible:e.props.collapsible,header:c?d.createElement("span",null,d.createElement(c,o({size:t.length},e.props.headerOptions,l,{index:e.props.index,onNext:function(){return e.props.onNext()},onPrevious:function(){return e.props.onPrevious()}}))):null,style:e.props.style},d.createElement(x,{response:s,format:u,viewers:a||e.props.viewers,layer:l}))}))})),f(c(e),"containerStyle",(function(t){return M(t)&&e.props.isMobile?{height:"100%"}:{display:M(t)?"none":"block"}})),e}return t=p,(n=[{key:"shouldComponentUpdate",value:function(e){return e.responses!==this.props.responses||e.missingResponses!==this.props.missingResponses||e.index!==this.props.index}},{key:"render",value:function(){var e=this,t=this.props.container,n=this.getResponseProperties(),r=n.currResponse,i=n.emptyResponses,a=[this.renderEmptyLayers(),d.createElement(t,o({},this.props.containerProps,{onChangeIndex:function(t){e.props.setIndex(t)},ref:"container",index:this.props.index||0,key:"swiper",style:this.containerStyle(r),className:"swipeable-view"}),this.renderPages())];return a=this.props.isMobile?a:L(a),d.createElement("div",{className:"mapstore-identify-viewer"},i?this.renderEmptyPages():a.map((function(e){return e})))}}])&&a(t.prototype,n),r&&a(t,r),p}(d.Component);f(C,"propTypes",{format:h.string,collapsible:h.bool,requests:h.array,responses:h.array,missingResponses:h.number,container:h.oneOfType([h.object,h.func]),header:h.oneOfType([h.object,h.func]),headerOptions:h.object,validator:h.func,viewers:h.object,style:h.object,containerProps:h.object,index:h.number,onNext:h.func,onPrevious:h.func,onUpdateIndex:h.func,setIndex:h.func,showEmptyMessageGFI:h.bool,renderEmpty:h.bool,loaded:h.bool,isMobile:h.bool}),f(C,"defaultProps",{format:y(),responses:[],requests:[],missingResponses:0,collapsible:!1,headerOptions:{},container:E,validator:g,viewers:b(),style:{position:"relative",marginBottom:0},containerProps:{},showEmptyMessageGFI:!0,renderEmpty:!1,onNext:function(){},onPrevious:function(){},setIndex:function(){},isMobile:!1}),e.exports=C},"./MapStore2/web/client/components/data/identify/SwipeHeader.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n("./node_modules/prop-types/index.js"),d=n("./node_modules/react/index.js"),h=n("./node_modules/react-bootstrap/es/index.js"),m=h.Glyphicon,y=h.Button,g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,n,r,l=s(c);function c(){var e;o(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(u(e=l.call.apply(l,[this].concat(n))),"renderLeftButton",(function(){var t=0===e.props.index;return e.props.useButtons?d.createElement(y,{ref:"left",disabled:t,className:e.props.btnClassName||"square-button-md no-border",onClick:function(){e.props.onPrevious()}},d.createElement(m,{glyph:"back"})):d.createElement("a",{ref:"left",disabled:t,className:e.props.btnClassName||"square-button-md",onClick:function(){e.props.onPrevious()}},d.createElement(m,{glyph:"back"}))})),p(u(e),"renderRightButton",(function(){var t=e.props.index===e.props.size-1;return e.props.useButtons?d.createElement(y,{ref:"right",disabled:t,className:e.props.btnClassName||"square-button-md no-border",onClick:function(){e.props.onNext()}},d.createElement(m,{glyph:"next"})):d.createElement("a",{ref:"right",disabled:t,className:e.props.btnClassName||"square-button-md",onClick:function(){e.props.onNext()}},d.createElement(m,{glyph:"next"}))})),e}return t=c,(n=[{key:"componentWillUnmount",value:function(){this.interval&&clearInterval(this.interval)}},{key:"render",value:function(){return d.createElement("div",{className:"ms-identify-swipe-header"},this.props.size>1&&d.createElement("div",{className:"ms-identify-swipe-header-arrow"},this.renderLeftButton()),d.createElement("div",{className:"ms-identify-swipe-header-title"},this.props.title),this.props.size>1&&d.createElement("div",{className:"ms-identify-swipe-header-arrow"},this.renderRightButton()))}}])&&i(t.prototype,n),r&&i(t,r),c}(d.Component);p(g,"propTypes",{title:f.string,index:f.number,size:f.number,container:f.oneOfType([f.object,f.func]),useButtons:f.bool,onPrevious:f.func,onNext:f.func,btnClassName:f.string}),p(g,"defaultProps",{useButtons:!0}),e.exports=g},"./MapStore2/web/client/components/data/identify/enhancers/defaultViewer.js":function(e,t,n){var r=n("./node_modules/recompose/es/Recompose.js"),o=r.withHandlers,i=r.defaultProps,a=n("./MapStore2/web/client/utils/MapInfoUtils.js"),s=a.getDefaultInfoFormatValue,l=a.getValidator,u=o({onNext:function(e){var t=e.index,n=void 0===t?0:t,r=e.setIndex,o=void 0===r?function(){}:r,i=e.validResponses,a=void 0===i?[]:i;return function(){o(Math.min(a.length-1,n+1))}},onPrevious:function(e){var t=e.index,n=e.setIndex,r=void 0===n?function(){}:n;return function(){r(Math.max(0,t-1))}}}),c=i({format:s(),validator:l});e.exports={defaultViewerHandlers:u,defaultViewerDefaultProps:c}},"./MapStore2/web/client/components/data/identify/viewers/HTMLViewer.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c,p,f,d=n("./node_modules/react/index.js"),h=n("./node_modules/prop-types/index.js"),m=n("./MapStore2/web/client/components/misc/HtmlRenderer.jsx"),y=/^[\s\S]*<body>([\s\S]*)<\/body>[\s\S]*$/i,g=/(<style[\s\=\w\/\"]*>[^<]*<\/style>)/i,b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,n,r,l=s(u);function u(){return o(this,u),l.apply(this,arguments)}return t=u,(n=[{key:"shouldComponentUpdate",value:function(e){return e.response!==this.props.response}},{key:"render",value:function(){var e=this.props.response||"",t=g.exec(e),n=t&&2===t.length?g.exec(e)[1]:"";n=n.replace(/body[,]+/g,"");var r=e.replace(y,"$1").trim();return d.createElement(m,{html:n+r})}}])&&i(t.prototype,n),r&&i(t,r),u}(d.Component);c=b,p="propTypes",f={response:h.string},p in c?Object.defineProperty(c,p,{value:f,enumerable:!0,configurable:!0,writable:!0}):c[p]=f,e.exports=b},"./MapStore2/web/client/components/data/identify/viewers/JSONViewer.jsx":function(e,t,n){var r=n("./node_modules/react/index.js"),o=n("./node_modules/recompose/es/Recompose.js").shouldUpdate,i={TEMPLATE:n("./MapStore2/web/client/components/data/identify/viewers/TemplateViewer.jsx"),PROPERTIES:n("./MapStore2/web/client/components/data/identify/viewers/PropertiesViewer.js")};e.exports=o((function(e,t){return t.response!==e.response}))((function(e){var t=e.layer&&e.layer.featureInfo&&e.layer.featureInfo.format&&e.layer.featureInfo.template&&"<p><br></p>"!==e.layer.featureInfo.template&&e.layer.featureInfo.format||"PROPERTIES",n=i[t]||i.PROPERTIES;return r.createElement(n,e)}))},"./MapStore2/web/client/components/data/identify/viewers/PropertiesViewer.js":function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n("./node_modules/react/index.js"),i=n("./MapStore2/web/client/components/data/identify/viewers/row/PropertiesViewer.jsx");e.exports=function(e){var t=e.response,n=e.layer,a=e.rowViewer,s=n&&n.rowViewer||a||i;return o.createElement("div",{className:"mapstore-json-viewer"},(t.features||[]).map((function(e,t){return o.createElement(s,r({key:t,feature:e,title:e.id+"",exclude:["bbox"]},e.properties))})))}},"./MapStore2/web/client/components/data/identify/viewers/TemplateViewer.jsx":function(e,t,n){var r=n("./node_modules/react/index.js"),o=n("./MapStore2/node_modules/lodash/lodash.js").template,i=n("./MapStore2/web/client/utils/TemplateUtils.js").getCleanTemplate,a=n("./MapStore2/web/client/components/misc/HtmlRenderer.jsx");e.exports=function(e){var t=e.layer,n=void 0===t?{}:t,s=e.response;return r.createElement("div",{className:"ms-template-viewer"},s.features.map((function(e,t){return r.createElement("div",{key:t},r.createElement(a,{html:o(i(n.featureInfo&&n.featureInfo.template||"",e,/\$\{.*?\}/g,2,1))(e)}))})))}},"./MapStore2/web/client/components/data/identify/viewers/TextViewer.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c,p,f,d=n("./node_modules/prop-types/index.js"),h=n("./node_modules/react/index.js"),m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,n,r,l=s(u);function u(){return o(this,u),l.apply(this,arguments)}return t=u,(n=[{key:"shouldComponentUpdate",value:function(e){return e.response!==this.props.response}},{key:"render",value:function(){return h.createElement("pre",null,this.props.response)}}])&&i(t.prototype,n),r&&i(t,r),u}(h.Component);c=m,p="propTypes",f={response:d.string},p in c?Object.defineProperty(c,p,{value:f,enumerable:!0,configurable:!0,writable:!0}):c[p]=f,e.exports=m},"./MapStore2/web/client/components/data/identify/viewers/ViewerPage.jsx":function(e,t,n){var r,o;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=n("./node_modules/prop-types/index.js"),m=n("./node_modules/react/index.js");e.exports=(o=r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(i,e);var t,n,r,o=u(i);function i(){var e;a(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return d(p(e=o.call.apply(o,[this].concat(n))),"onTouchStart",(function(t){var n=t.touches[0];e.startX=n.pageX,e.startY=n.pageY,e.setState({scrolling:!1})})),d(p(e),"onTouchMove",(function(t){var n=t.touches[0],r=t.currentTarget;if(e.state.scrolling)t.stopPropagation();else if(Math.abs(e.startY-n.pageY)>Math.abs(e.startX-n.pageX))t.stopPropagation();else{var o=e.startX<n.pageX?"left":"right";(r&&"left"===o&&r.clientWidth<r.scrollWidth&&0!==r.scrollLeft||r&&"right"===o&&r.clientWidth+r.scrollLeft!==r.scrollWidth)&&(e.setState({scrolling:!0}),t.stopPropagation())}})),d(p(e),"onTouchEnd",(function(){e.setState({scrolling:!1})})),d(p(e),"renderPage",(function(){var t="function"==typeof e.props.viewers?e.props.viewers:e.props.viewers[e.props.format];return t?m.createElement(t,{response:e.props.response,layer:e.props.layer}):null})),e}return t=i,(n=[{key:"render",value:function(){return m.createElement("div",{style:{width:"100%",height:"100%",overflowX:"auto"},onTouchMove:this.onTouchMove,onTouchStart:this.onTouchStart,onTouchEnd:this.onTouchEnd},this.renderPage())}}])&&s(t.prototype,n),r&&s(t,r),i}(m.Component),d(r,"propTypes",{format:h.string,viewers:h.oneOfType([h.func,h.object]),response:h.oneOfType([h.string,h.object,h.node]),layer:h.object}),o)},"./MapStore2/web/client/components/data/identify/viewers/row/PropertiesViewer.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n("./node_modules/react/index.js"),d=n("./node_modules/prop-types/index.js"),h=n("./MapStore2/node_modules/lodash/lodash.js").isString,m=n("./MapStore2/web/client/utils/StringUtils.js").containsHTML,y=["exclude","titleStyle","listStyle","componentStyle","title","feature"],g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,n,r,l=s(c);function c(){var e;o(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(u(e=l.call.apply(l,[this].concat(n))),"getBodyItems",(function(){return Object.keys(e.props).filter(e.toExclude).map((function(t){var n=e.renderProperty(e.props[t]);return f.createElement("tr",{key:t,style:e.props.listStyle},f.createElement("td",null,t),f.createElement("td",null,m(n)?f.createElement("span",{dangerouslySetInnerHTML:{__html:n}}):n))}))})),p(u(e),"renderHeader",(function(){return e.props.title?f.createElement("thead",{key:e.props.title,style:e.props.titleStyle,className:"ms-properties-viewer-title"},f.createElement("tr",null,f.createElement("th",{colSpan:"2"},e.props.title))):null})),p(u(e),"renderBody",(function(){var t=e.getBodyItems();return 0===t.length?null:f.createElement("tbody",{className:"ms-properties-viewer-body"},t)})),p(u(e),"renderProperty",(function(e){return h(e)?e:JSON.stringify(e)})),p(u(e),"toExclude",(function(t){return-1===y.concat(e.props.exclude).indexOf(t)})),e}return t=c,(n=[{key:"render",value:function(){return f.createElement("table",{className:"ms-properties-viewer",style:this.props.componentStyle},this.renderHeader(),this.renderBody())}}])&&i(t.prototype,n),r&&i(t,r),c}(f.Component);p(g,"displayName","PropertiesViewer"),p(g,"propTypes",{title:d.string,exclude:d.array,titleStyle:d.object,listStyle:d.object,componentStyle:d.object}),p(g,"defaultProps",{exclude:[],titleStyle:{},listStyle:{},componentStyle:{}}),e.exports=g},"./MapStore2/web/client/components/geostory/media/Video.jsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/react-player/lib/ReactPlayer.js"),a=n.n(i),s=n("./MapStore2/web/client/components/misc/Loader.jsx"),l=n.n(s),u=n("./node_modules/react-resize-detector/lib/esm/hoc/withResizeDetector.js"),c=n("./node_modules/react-bootstrap/es/index.js"),p=n("./MapStore2/web/client/utils/GeoStoryUtils.js");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=Object(u.a)((function(e){var t=e.src,n=e.width,i=e.height,s=e.resolution,u=e.thumbnail,p=e.controls,f=e.play,h=e.onPlay,y=void 0===h?function(){}:h,g=e.onStart,b=void 0===g?function(){}:g,v=e.fit,_=e.loop,w=e.volume,O=void 0===w?1:w,j=e.muted,S=f,E=m(Object(r.useState)(S),2),x=E[0],P=E[1],M=m(Object(r.useState)(),2),L=M[0],T=M[1],C=m(Object(r.useState)(f),2),k=C[0],I=C[1],D="cover"===v;Object(r.useEffect)((function(){!x&&S&&(P(!0),I(!0)),x&&b(x)}),[x,S]);var A,R=(A=n/i,D?A<s?[i*s,i]:[n,n/s]:"contain"===v?A<s?[n,n/s]:[i*s,i]:[n,n/s]),F="contain"===v||D?i:R[1],N=!D&&p,G=!!D||_;return o.a.createElement("div",{className:"ms-video",style:{position:"relative",width:n,height:F,display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"}},t&&o.a.createElement(o.a.Fragment,null,x&&o.a.createElement(a.a,{url:t,width:R[0],height:R[1],playing:S,loop:G,volume:O,muted:j,style:D?{left:"50%",top:"50%",transform:"translate(-50%, -50%)",position:"absolute"}:{},controls:N,pip:!1,fileConfig:{attributes:{controlsList:"nodownload",disablePictureInPicture:!0}},youtubeConfig:{playerVars:{controls:N?2:0,modestbranding:1,rel:0}},onReady:function(){return I(!1)},onError:function(e){return T(e)},onPause:function(){return y(!1)},onPlay:function(){return y(!0)}}),(!x||x&&(k||L))&&o.a.createElement("div",{className:"ms-video-cover",style:d(d({position:"absolute",width:R[0],height:R[1],display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 1.0)"},!(k||L)&&{cursor:"pointer"}),!S&&u&&{backgroundImage:"url(".concat(u,")"),backgroundSize:D?"cover":"640px auto",backgroundPosition:"center",backgroundRepeat:"no-repeat"}),onClick:function(){P(!0),I(!0),y(!0)}},k&&o.a.createElement(l.a,{size:70}),L&&"Error",!(k||L)&&!S&&o.a.createElement(c.Glyphicon,{glyph:"play",style:{fontSize:R[1]/4>100?100:R[1]/4,mixBlendMode:"difference",color:"#ffffff"}}))),!N&&o.a.createElement("div",{className:"ms-video-mask-cover",style:{position:"absolute",width:R[0],height:R[1]}}))}));t.a=function(e){var t=e.id,n=e.src,i=e.resolution,a=void 0===i?16/9:i,s=e.autoplay,l=e.inView,u=e.description,c=e.showCaption,f=e.caption,d=void 0===f?u:f,h=e.thumbnail,y=e.credits,b=e.controls,v=void 0===b||b,_=e.fit,w=e.loop,O=e.muted,j=e.onPlay,S=void 0===j?function(){}:j,E=e.mode,x=e.containerInView,P=(void 0===x||x)&&l,M=m(Object(r.useState)(!1),2),L=M[0],T=M[1],C=function(e){T(e),S(e)};return Object(r.useEffect)((function(){E===p.f.EDIT&&C(!1)}),[E]),Object(r.useEffect)((function(){E===p.f.VIEW&&P&&(s||"cover"===_)&&C(!0)}),[P,s,_,E]),Object(r.useEffect)((function(){E===p.f.VIEW&&!P&&L&&C(!1)}),[P,L,E]),o.a.createElement("div",{id:t,key:"".concat(t,"-").concat(_,"-").concat(E),className:"ms-media ms-media-video"},o.a.createElement(g,{src:n,play:L&&E===p.f.VIEW,resolution:a,thumbnail:h,controls:v&&E===p.f.VIEW,onPlay:C,fit:_,loop:w,muted:O}),y&&o.a.createElement("div",{className:"ms-media-credits"},o.a.createElement("small",null,y)),c&&d&&o.a.createElement("div",{className:"ms-media-caption"},o.a.createElement("small",null,d)))}},"./MapStore2/web/client/components/map/BaseMap.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=n("./node_modules/react/index.js"),g=n("./node_modules/prop-types/index.js"),b=n("./MapStore2/node_modules/lodash/lodash.js").isString,v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(f,e);var t,n,r,a=p(f);function f(){var e;l(this,f);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(d(e=a.call.apply(a,[this].concat(n))),"getTool",(function(t){var n=e.props.plugins;return b(t)?{name:t,impl:n.tools[t]}:s({name:t.name,impl:n.tools[t.name]},t)})),m(d(e),"renderLayers",(function(){var t=e.props.map&&e.props.map.projection||"EPSG:3857",n=e.props.plugins.Layer;return e.props.layers.map((function(r,o){return y.createElement(n,{type:r.type,srs:t,position:o,key:r.id||r.name,options:r,env:r.localizedLayerStyles?e.props.env:[]},e.renderLayerContent(r,t))}))})),m(d(e),"renderLayerContent",(function(t,n){if(t.features&&"vector"===t.type){var r=e.props.plugins.Feature;return t.features.map((function(e){return y.createElement(r,{key:e.id,msId:e.id,type:e.type,crs:n,geometry:e.geometry,features:e.features,featuresCrs:t.featuresCrs||"EPSG:4326",layerStyle:t.style,style:e.style||t.style||null,properties:e.properties})}))}return null})),m(d(e),"renderTools",(function(){return e.props.tools.map((function(t){var n=e.getTool(t),r=n.impl,a=n.name,s=i(n,["impl","name"]);return y.createElement(r,o({key:a},s))}))})),e}return t=f,(n=[{key:"render",value:function(){var e=this.props.plugins.Map,t=this.props.map&&this.props.map.projection||"EPSG:3857";return this.props.map?y.createElement(e,o({projectionDefs:this.props.projectionDefs,style:this.props.styleMap,id:this.props.id,zoomControl:!1,center:{x:0,y:0},zoom:1,hookRegister:this.props.hookRegister,mapStateSource:this.props.mapStateSource||this.props.id},this.props.options,this.props.map,{projection:t},this.props.eventHandlers),this.renderLayers(),this.renderTools()):null}}])&&u(t.prototype,n),r&&u(t,r),f}(y.Component);m(v,"propTypes",{id:g.string,options:g.object,map:g.object,mapStateSource:g.string,eventHandlers:g.object,styleMap:g.object,layers:g.array,hookRegister:g.object,projectionDefs:g.array,plugins:g.any,tools:g.array,getLayerProps:g.func,env:g.array}),m(v,"defaultProps",{id:"__base_map__",options:{},map:{},styleMap:{},tools:[],projectionDefs:[],eventHandlers:{onMapViewChanges:function(){},onClick:function(){},onMouseMove:function(){},onLayerLoading:function(){},onLayerError:function(){}},env:[]}),e.exports=v},"./MapStore2/web/client/components/map/cesium/Layer.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=n("./node_modules/react/index.js"),m=n("./MapStore2/web/client/utils/cesium/Layers.js"),y=n("./node_modules/object-assign/index.js"),g=n("./node_modules/prop-types/index.js"),b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(c,e);var t,n,r,o=u(c);function c(){var e;a(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return d(p(e=o.call.apply(o,[this].concat(n))),"updateZIndex",(function(t){var n=t||e.props.position,r=e.props.map.imageryLayers._layers.reduce((function(t,n,r){return e.provider===n?r:t}),-1),o=e.props.map.imageryLayers._layers.reduce((function(e,t,r){return-1===e&&n<t._position?r:e}),-1);-1===o&&(o=r);var i=o-r;0!==i&&Array.apply(null,{length:Math.abs(i)}).map(Number.call,Number).forEach((function(){e.props.map.imageryLayers[i>0?"raise":"lower"](e.provider)}))})),d(p(e),"setLayerVisibility",(function(t,n){t!==(e.props.options&&!1!==e.props.options.visibility)&&(t?(e.addLayer(n),e.updateZIndex()):e.removeLayer())})),d(p(e),"setLayerOpacity",(function(t){t!==(e.props.options&&void 0!==e.props.options.opacity?e.props.options.opacity:1)&&e.layer&&e.provider&&(e.provider.alpha=t)})),d(p(e),"createLayer",(function(t,n,r,o,i){if(t){var a=y({},n,r?{zIndex:r}:null,{securityToken:i});e.layer=m.createLayer(t,a,o),e.layer&&(e.layer.layerName=n.name,e.layer.layerId=n.id),null===e.layer&&e.props.onCreationError(n)}})),d(p(e),"updateLayer",(function(t,n){var r=m.updateLayer(t.type,e.layer,i(i({},t.options),{},{securityToken:t.securityToken}),i(i({},n.options),{},{securityToken:n.securityToken}),e.props.map);r&&(e.removeLayer(),e.layer=r,e.addLayer(t))})),d(p(e),"addLayerInternal",(function(t){t.options.useForElevation?e.props.map.terrainProvider=e.layer:(e.provider=e.props.map.imageryLayers.addImageryProvider(e.layer),e.provider._position=e.props.position,void 0!==t.options.opacity&&(e.provider.alpha=t.options.opacity))})),d(p(e),"addLayer",(function(t){if(e.layer&&!e.layer.detached&&(e.addLayerInternal(t),e.props.options.refresh&&e.layer.updateParams)){var n=0;e.refreshTimer=setInterval((function(){var r=e.layer.updateParams(y({},e.props.options.params,{_refreshCounter:n++}));e.removeLayer(),e.layer=r,e.addLayerInternal(t)}),e.props.options.refresh)}})),d(p(e),"removeLayer",(function(t){var n=t||e.provider;n&&e.props.map.imageryLayers.remove(n)})),e}return t=c,(n=[{key:"componentDidMount",value:function(){this.createLayer(this.props.type,this.props.options,this.props.position,this.props.map,this.props.securityToken),this.props.options&&this.layer&&!1!==this.props.options.visibility&&(this.addLayer(this.props),this.updateZIndex())}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this,n=e.options&&!1!==e.options.visibility;this.setLayerVisibility(n,e);var r=e.options&&void 0!==e.options.opacity?e.options.opacity:1;if(this.setLayerOpacity(r),e.position!==this.props.position&&(this.updateZIndex(e.position),this.provider&&(this.provider._position=e.position)),this.props.options&&this.props.options.params&&this.layer.updateParams&&e.options.visibility&&Object.keys(this.props.options.params).reduce((function(n,r){return e.options.params[r]!==t.props.options.params[r]||n}),!1)){var o=this.provider,i=this.layer.updateParams(e.options.params);this.layer=i,this.addLayer(e),setTimeout((function(){t.removeLayer(o)}),1e3)}this.updateLayer(e,this.props)}},{key:"componentWillUnmount",value:function(){this.layer&&this.props.map&&!this.props.map.isDestroyed()&&(this.layer.detached?this.layer.remove():(this.layer.destroy&&this.layer.destroy(),this.props.map.imageryLayers.remove(this.provider)),this.refreshTimer&&clearInterval(this.refreshTimer))}},{key:"render",value:function(){var e=this;if(this.props.children){var t=this.layer,n=t?h.Children.map(this.props.children,(function(n){return n?h.cloneElement(n,{container:t,styleName:e.props.options&&e.props.options.styleName}):null})):null;return h.createElement(h.Fragment,null,n)}return m.renderLayer(this.props.type,this.props.options,this.props.map,this.props.map.id,this.layer)}}])&&s(t.prototype,n),r&&s(t,r),c}(h.Component);d(b,"propTypes",{map:g.object,type:g.string,options:g.object,onCreationError:g.func,position:g.number,securityToken:g.string}),e.exports=b},"./MapStore2/web/client/components/map/cesium/Map.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=n("./MapStore2/web/client/libs/cesium.js"),h=n("./node_modules/prop-types/index.js"),m=n("./node_modules/rxjs/Rx.js"),y=n("./node_modules/react/index.js"),g=n("./node_modules/react-dom/index.js"),b=n("./MapStore2/web/client/utils/ConfigUtils.js").default,v=n("./MapStore2/web/client/utils/cesium/ClickUtils.js"),_=n("./MapStore2/web/client/utils/MapUtils.js"),w=_.ZOOM_TO_EXTENT_HOOK,O=_.registerHook,j=n("./MapStore2/web/client/utils/CoordinatesUtils.js").reprojectBbox,S=n("./node_modules/object-assign/index.js"),E=n("./MapStore2/node_modules/lodash/lodash.js").throttle,x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(p,e);var t,n,r,u=l(p);function p(){var e;i(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return f(c(e=u.call.apply(u,[this].concat(n))),"state",{}),f(c(e),"onClick",(function(t,n){if(e.props.onClick&&null!==n.position){var r=t.camera.pickEllipsoid(n.position,t.scene.globe.ellipsoid),o=v.getMouseXYZ(t,n)||r&&d.Cartographic.fromCartesian(r);if(o){var i=180*o.latitude/Math.PI,a=180*o.longitude/Math.PI,s=(90-i)/180*e.props.standardHeight*(e.props.zoom+1),l=(180+a)/360*e.props.standardWidth*(e.props.zoom+1);e.props.onClick({pixel:{x:l,y:s},height:e.props.mapOptions&&e.props.mapOptions.terrainProvider?o.height:void 0,cartographic:o,latlng:{lat:i,lng:a},crs:"EPSG:4326"})}}})),f(c(e),"onMouseMove",(function(t){if(e.props.onMouseMove&&t.endPosition){var n=e.map.camera.pickEllipsoid(t.endPosition,e.map.scene.globe.ellipsoid),r=v.getMouseXYZ(e.map,t)||n&&d.Cartographic.fromCartesian(n);if(r){var o=Math.round(r.height);e.props.onMouseMove({y:180*r.latitude/Math.PI,x:180*r.longitude/Math.PI,z:o,crs:"EPSG:4326"})}}})),f(c(e),"getDocument",(function(){return e.props.document||document})),f(c(e),"getMapOptions",(function(e){var t={};if(e.terrainProvider){var n=e.terrainProvider,r=n.type,i=o(n,["type"]);switch(r){case"cesium":t.terrainProvider=new d.CesiumTerrainProvider(i);break;case"ellipsoid":t.terrainProvider=new d.EllipsoidTerrainProvider}}return S({},e,t)})),f(c(e),"getCenter",(function(){var t=e.map.camera.positionCartographic;return{longitude:180*t.longitude/Math.PI,latitude:180*t.latitude/Math.PI,height:t.height}})),f(c(e),"getZoomFromHeight",(function(t){return Math.log2(e.props.zoomToHeight/t)+1})),f(c(e),"getHeightFromZoom",(function(t){return e.props.zoomToHeight/Math.pow(2,t-1)})),f(c(e),"gestureStartListener",(function(e){e.preventDefault()})),f(c(e),"setMousePointer",(function(t){e.map&&(g.findDOMNode(c(e)).getElementsByClassName("cesium-viewer")[0].style.cursor=t||"auto")})),f(c(e),"_updateMapPositionFromNewProps",(function(t){var n=e.getCenter(),r=e.getZoomFromHeight(n.height),o=function(e,t){return void 0!==e&&void 0!==t&&e.toFixed(12)-t.toFixed(12)<=1e-12},i=!o(t.center.x,n.longitude)||!o(t.center.y,n.latitude),a=t.zoom!==r;if(i||a){var s={destination:d.Cartesian3.fromDegrees(t.center.x,t.center.y,e.getHeightFromZoom(t.zoom)),orientation:t.viewerOptions.orientation};e.setView(s)}})),f(c(e),"setView",(function(t){e.props.mapOptions&&e.props.mapOptions.flyTo?e.map.camera.flyTo(t,e.props.mapOptions.defaultFlightOptions):e.map.camera.setView(t)})),f(c(e),"subscribeClickEvent",(function(t){var n={LEFT_UP:d.ScreenSpaceEventType.LEFT_UP,LEFT_DOWN:d.ScreenSpaceEventType.LEFT_DOWN,LEFT_CLICK:d.ScreenSpaceEventType.LEFT_CLICK,PINCH_START:d.ScreenSpaceEventType.PINCH_START,PINCH_END:d.ScreenSpaceEventType.PINCH_END,PINCH_MOVE:d.ScreenSpaceEventType.PINCH_MOVE},r=new m.Subject,o=new m.Subject;Object.keys(n).forEach((function(t){return e.hand.setInputAction((function(e){o.next({type:n[t],movement:e}),r.next({type:n[t],movement:e})}),n[t])})),o.filter((function(e){return e.type===n.PINCH_END})).switchMap((function(){return m.Observable.of(!0).concat(m.Observable.of(!1).delay(500))})).startWith(!1).switchMap((function(e){return e?m.Observable.never():r})).filter((function(e){return e.type===n.LEFT_DOWN})).switchMap((function(e){var t=e.movement;return r.filter((function(e){return e.type===n.LEFT_CLICK})).takeUntil(m.Observable.timer(500).merge(r.filter((function(e){return e.type!==n.LEFT_UP&&e.type!==n.LEFT_CLICK||e.type===n.LEFT_UP&&(r=t&&t.position,o=e.movement&&e.movement.position,!(r&&o&&r.x===o.x&&r.y===o.y));var r,o}))))})).subscribe((function(n){var r=n.movement;return e.onClick(t,r)})),e.clickStream$=r,e.pauserStream$=o})),f(c(e),"registerHooks",(function(){e.props.hookRegister.registerHook(w,(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.crs,o=n.duration,i=j(t,r,"EPSG:4326");if(e.map.camera.flyTo){var a=d.Rectangle.fromDegrees(i[0],i[1],i[2],i[3]);e.map.camera.flyTo({destination:a,duration:o,complete:e.updateMapInfoState})}}))})),f(c(e),"updateMapInfoState",(function(){var t=e.getCenter(),n=e.getZoomFromHeight(t.height),r={height:Math.round(e.props.standardWidth*(n+1)),width:Math.round(e.props.standardHeight*(n+1))};e.props.onMapViewChanges({x:t.longitude,y:t.latitude,crs:"EPSG:4326"},n,{bounds:{minx:-180,miny:-90,maxx:180,maxy:90},crs:"EPSG:4326",rotation:0},r,e.props.id,e.props.projection,{orientation:{heading:e.map.camera.heading,pitch:e.map.camera.pitch,roll:e.map.camera.roll}})})),e}return t=p,(n=[{key:"UNSAFE_componentWillMount",value:function(){this.getDocument().addEventListener("gesturestart",this.gestureStartListener)}},{key:"componentDidMount",value:function(){var e=new d.Viewer(this.getDocument().getElementById(this.props.id),S({baseLayerPicker:!1,animation:!1,fullscreenButton:!1,geocoder:!1,homeButton:!1,infoBox:!1,sceneModePicker:!1,selectionIndicator:!1,timeline:!1,navigationHelpButton:!1,navigationInstructionsInitiallyVisible:!1},this.getMapOptions(this.props.mapOptions)));e.scene.globe.baseColor=d.Color.WHITE,e.imageryLayers.removeAll(),e.camera.moveEnd.addEventListener(this.updateMapInfoState),this.hand=new d.ScreenSpaceEventHandler(e.scene.canvas),this.subscribeClickEvent(e),this.hand.setInputAction(E(this.onMouseMove.bind(this),500),d.ScreenSpaceEventType.MOUSE_MOVE),e.camera.setView({destination:d.Cartesian3.fromDegrees(this.props.center.x,this.props.center.y,this.getHeightFromZoom(this.props.zoom))}),this.setMousePointer(this.props.mousePointer),this.map=e,this.forceUpdate(),this.props.mapOptions.navigationTools&&(this.cesiumNavigation=window.CesiumNavigation,this.cesiumNavigation&&this.cesiumNavigation.navigationInitialization(this.props.id,e)),this.props.registerHooks&&this.registerHooks()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){return e.mousePointer!==this.props.mousePointer&&this.setMousePointer(e.mousePointer),e.mapStateSource!==this.props.id&&this._updateMapPositionFromNewProps(e),!1}},{key:"componentWillUnmount",value:function(){this.clickStream$.complete(),this.pauserStream$.complete(),this.hand.destroy(),this.getDocument().removeEventListener("gesturestart",this.gestureStartListener),this.map.destroy()}},{key:"render",value:function(){var e=this,t=this.map,n=this.props.projection,r=t?y.Children.map(this.props.children,(function(r){return r?y.cloneElement(r,{map:t,projection:n,onCreationError:e.props.onCreationError}):null})):null;return y.createElement("div",{id:this.props.id},r)}}])&&a(t.prototype,n),r&&a(t,r),p}(y.Component);f(x,"propTypes",{id:h.string,document:h.object,center:b.PropTypes.center,zoom:h.number.isRequired,mapStateSource:b.PropTypes.mapStateSource,projection:h.string,onMapViewChanges:h.func,onCreationError:h.func,onClick:h.func,onMouseMove:h.func,mapOptions:h.object,standardWidth:h.number,standardHeight:h.number,mousePointer:h.string,zoomToHeight:h.number,registerHooks:h.bool,hookRegister:h.object,viewerOptions:h.object}),f(x,"defaultProps",{id:"map",onMapViewChanges:function(){},onClick:function(){},onCreationError:function(){},projection:"EPSG:3857",mapOptions:{},standardWidth:512,standardHeight:512,zoomToHeight:8e7,registerHooks:!0,hookRegister:{registerHook:O},viewerOptions:{orientation:{heading:0,pitch:-1*Math.PI/2,roll:0}}}),e.exports=x},"./MapStore2/web/client/components/map/cesium/plugins/BingLayer.js":function(e,t,n){var r=n("./MapStore2/web/client/utils/cesium/Layers.js"),o=n("./MapStore2/web/client/libs/cesium.js");r.registerType("bing",(function(e){var t=e.apiKey;return new o.BingMapsImageryProvider({url:"//dev.virtualearth.net",key:t,mapStyle:o.BingMapsStyle[e.name.toUpperCase()]})}))},"./MapStore2/web/client/components/map/cesium/plugins/GraticuleLayer.js":function(e,t,n){var r=n("./MapStore2/web/client/utils/cesium/Layers.js"),o=n("./MapStore2/web/client/libs/cesium.js"),i=n("./node_modules/object-assign/index.js"),a=function(){var e=[o.Math.toRadians(.05),o.Math.toRadians(.1),o.Math.toRadians(.2),o.Math.toRadians(.5),o.Math.toRadians(1),o.Math.toRadians(2),o.Math.toRadians(5),o.Math.toRadians(10)];function t(e,t){var n=e||{};this._tilingScheme=n.tilingScheme||new o.GeographicTilingScheme,this._color=n.color&&new o.Color(n.color[0],n.color[1],n.color[2],n.color[3])||new o.Color(1,1,1,.4),this._tileWidth=n.tileWidth||256,this._tileHeight=n.tileHeight||256,this._ready=!0,this._sexagesimal=n.sexagesimal||!1,this._numLines=n.numLines||50,this._scene=t,this._labels=new o.LabelCollection,t.primitives.add(this._labels),this._polylines=new o.PolylineCollection,t.primitives.add(this._polylines),this._ellipsoid=t.globe.ellipsoid;var r=document.createElement("canvas");r.width=256,r.height=256,this._canvas=r}var n=function(){try{return"x"in Object.defineProperty({},"x",{})}catch(e){return!1}}(),r=Object.defineProperties;function i(e){return e<.01?3:e<.1?2:e<1?1:0}return n&&r||(r=function(e){return e}),r(t.prototype,{url:{get:function(){}},proxy:{get:function(){}},tileWidth:{get:function(){return this._tileWidth}},tileHeight:{get:function(){return this._tileHeight}},maximumLevel:{get:function(){return 18}},minimumLevel:{get:function(){return 0}},tilingScheme:{get:function(){return this._tilingScheme}},rectangle:{get:function(){return this._tilingScheme.rectangle}},tileDiscardPolicy:{get:function(){}},errorEvent:{get:function(){return this._errorEvent}},ready:{get:function(){return this._ready}},credit:{get:function(){return this._credit}},hasAlphaChannel:{get:function(){return!0}}}),t.prototype.makeLabel=function(e,t,n,r){this._labels.add({position:this._ellipsoid.cartographicToCartesian(new o.Cartographic(e,t,10)),text:n,font:"normal",fillColor:this._color,outlineColor:this._color,style:o.LabelStyle.FILL,pixelOffset:new o.Cartesian2(5,r?5:-5),eyeOffset:o.Cartesian3.ZERO,horizontalOrigin:o.HorizontalOrigin.LEFT,verticalOrigin:r?o.VerticalOrigin.BOTTOM:o.VerticalOrigin.TOP,scale:1})},t.prototype._drawGrid=function(t){if(!this._currentExtent||!this._currentExtent.equals(t)){this._currentExtent=t,this._polylines.removeAll(),this._labels.removeAll();for(var n=0,r=0,a=0;a<e.length&&n<(t.north-t.south)/10;a++)n=e[a];for(var s=0;s<e.length&&r<(t.east-t.west)/10;s++)r=e[s];var l=(t.west<0?Math.ceil(t.west/r):Math.floor(t.west/r))*r,u=(t.south<0?Math.ceil(t.south/n):Math.floor(t.south/n))*n,c=(t.east<0?Math.ceil(t.east/n):Math.floor(t.east/n))*n,p=(t.north<0?Math.ceil(t.north/r):Math.floor(t.north/r))*r;l=Math.max(l-2*r,-Math.PI),c=Math.min(c+2*r,Math.PI),u=Math.max(u-2*n,-Math.PI/2),p=Math.min(p+2*r,Math.PI/2);for(var f=this._ellipsoid,d=o.Math.toRadians(1),h=u+Math.floor((p-u)/n/2)*n,m=l;m<c;m+=r){for(var y=[],g=u;g<p;g+=d)y.push(new o.Cartographic(m,g));y.push(new o.Cartographic(m,p)),this._polylines.add({positions:f.cartographicArrayToCartesianArray(y),width:.75,material:new o.Material({fabric:{type:"Color",uniforms:{color:this._color}}})});var b=o.Math.toDegrees(m);this.makeLabel(m,h,this._sexagesimal?this._decToSex(b):b.toFixed(i(r)),!1)}for(var v=l+Math.floor((c-l)/r/2)*r,_=u;_<p;_+=n){for(var w=[],O=l;O<c;O+=d)w.push(new o.Cartographic(O,_));w.push(new o.Cartographic(c,_)),this._polylines.add({positions:f.cartographicArrayToCartesianArray(w),width:1,material:new o.Material({fabric:{type:"Color",uniforms:{color:this._color}}})});var j=o.Math.toDegrees(_);this.makeLabel(v,_,this._sexagesimal?this._decToSex(j):j.toFixed(i(n)),!0)}}},t.prototype.requestImage=function(){return this._show&&this._drawGrid(this._getExtentView()),this._canvas},t.prototype.setVisible=function(e){this._show=e,e?(this._currentExtent=null,this._drawGrid(this._getExtentView())):(this._polylines.removeAll(),this._labels.removeAll())},t.prototype.isVisible=function(){return this._show},t.prototype._decToSex=function(t){var n=Math.floor(t),r=(60*(Math.abs(t)-n)).toFixed(2);return"60.00"===r&&(n+=1,e="0.00"),[n,":",r].join("")},t.prototype._getExtentView=function(){for(var e=this._scene.camera,t=this._scene.canvas,n=[e.pickEllipsoid(new o.Cartesian2(0,0),this._ellipsoid),e.pickEllipsoid(new o.Cartesian2(t.width,0),this._ellipsoid),e.pickEllipsoid(new o.Cartesian2(0,t.height),this._ellipsoid),e.pickEllipsoid(new o.Cartesian2(t.width,t.height),this._ellipsoid)],r=0;r<4;r++)if(void 0===n[r])return o.Rectangle.MAX_VALUE;return o.Rectangle.fromCartographicArray(this._ellipsoid.cartesianArrayToCartographicArray(n))},t.prototype.destroy=function(){this._show=!1,this._polylines&&this._scene.primitives.remove(this._polylines),this._labels&&this._scene.primitives.remove(this._labels)},t}();r.registerType("graticule",{create:function(e,t){var n=t.scene,r=new a(i({tileWidth:512,tileHeight:512,numLines:10},e||{}),n);return e.visibility&&r.setVisible(!0),r}})},"./MapStore2/web/client/components/map/cesium/plugins/MarkerLayer.js":function(e,t,n){var r=n("./MapStore2/web/client/utils/cesium/Layers.js"),o=n("./MapStore2/web/client/libs/cesium.js"),i=n("./MapStore2/node_modules/lodash/lodash.js").isEqual,a=n("./node_modules/object-assign/index.js");r.registerType("marker",{create:function(e,t){var n=a({},{point:{pixelSize:5,color:o.Color.RED,outlineColor:o.Color.WHITE,outlineWidth:2}},e.style),r=t.entities.add(a({position:o.Cartesian3.fromDegrees(e.point.lng,e.point.lat)},n));return{detached:!0,point:r,remove:function(){t.entities.remove(r)}}},update:function(e,t,n,r){return i(t.point,n.point)?null:(e.remove(),this.create(t,r))}})},"./MapStore2/web/client/components/map/cesium/plugins/OSMLayer.js":function(e,t,n){var r=n("./MapStore2/web/client/utils/cesium/Layers.js"),o=n("./MapStore2/web/client/libs/cesium.js");r.registerType("osm",(function(){return o.createOpenStreetMapImageryProvider({url:"//a.tile.openstreetmap.org/"})}))},"./MapStore2/web/client/components/map/cesium/plugins/OverlayLayer.js":function(e,t,n){var r=n("./MapStore2/web/client/utils/cesium/Layers.js"),o=n("./MapStore2/web/client/libs/cesium.js"),i=n("./node_modules/eventlistener/eventlistener.js"),a=function(){function e(e){this._scene=e.scene;var t=document.createElement("div");t.className="infoWindow",this._div=t;var n=document.createElement("div");n.className="frame",this._div.appendChild(n);var r=document.createElement("div");r.className="content",n.appendChild(r),e.container.appendChild(t),this._content=r,this.setVisible(!0)}return e.prototype.setVisible=function(e){this._visible=e,this._div.style.display=e?"block":"none"},e.prototype.setContent=function(e){if("string"==typeof e)this._content.innerHTML=e;else{for(;this._content.firstChild;)this._content.removeChild(this._content.firstChild);this._content.appendChild(e)}},e.prototype.setPosition=function(e,t){this._position=this._scene.globe.ellipsoid.cartographicToCartesian(o.Cartographic.fromDegrees(t,e,0))},e.prototype.showAt=function(e,t,n){this.setPosition(e,t),this.setContent(n),this.setVisible(!0)},e.prototype.hide=function(){this.setVisible(!1)},e.prototype.computeVisible=function(){var e=6356752.314245179,t=this._scene.camera.position,n=t.x/6378137,r=t.y/6378137,o=t.z/e,i=n*n+r*r+o*o-1,a=this._position,s=a.x/6378137-n,l=a.y/6378137-r,u=a.z/e-o,c=-(s*n+l*r+u*o);c>i&&c*c/(s*s+l*l+u*u)>i?this.setVisible(!1):this.setVisible(!0)},e.prototype.update=function(){if(this.computeVisible(),this._visible&&this._position){var e=o.SceneTransforms.wgs84ToWindowCoordinates(this._scene,this._position);if(e){var t=Math.floor(e.x)-this._div.clientWidth/2+"px",n=Math.floor(e.y)-this._div.clientHeight+"px";this._div.tabIndex=5,this._div.style.left=t,this._div.style.top=n}}},e.prototype.destroy=function(){this._div.parentNode.removeChild(this._div)},e}();r.registerType("overlay",{create:function(e,t){var n=function(e,t){var n=e.cloneNode(!0);n.id=t.id+"-overlay",n.className=(t.className||e.className)+"-overlay",n.removeAttribute("data-reactid"),function e(t){if(0!==t.length)for(var n=0;n<t.length;n++){var r=t.item(n);r.removeAttribute("data-reactid"),e(r.children||[])}}(n.children||[]);var r=t.closeClass||"close";if(t.onClose&&1===n.getElementsByClassName(r).length){var o=n.getElementsByClassName(r)[0];i.add(o,"click",(function(e){t.onClose(e.target.getAttribute("data-overlayid"))}))}return n}(document.getElementById(e.id),e),r=new a(t);r.showAt(e.position.y,e.position.x,n),r.setVisible(!0);var o=t.scene.primitives.add(r);return{detached:!0,info:o,remove:function(){t.scene.primitives.remove(o)}}}})},"./MapStore2/web/client/components/map/cesium/plugins/TileProviderLayer.js":function(e,t,n){"use strict";n.r(t);var r=n("./MapStore2/web/client/utils/cesium/Layers.js"),o=n.n(r),i=n("./MapStore2/web/client/libs/cesium.js"),a=n.n(i),s=n("./MapStore2/web/client/utils/TileConfigProvider.js"),l=n("./MapStore2/web/client/utils/ConfigUtils.js"),u=n("./MapStore2/web/client/utils/ProxyUtils.js");function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e){this.proxy=e}function d(){}f.prototype.getURL=function(e){var t=function(e){var t=e,n="";return-1!==e.indexOf("?")&&(t=e.substring(0,e.indexOf("?")+1),-1!==e.indexOf("%")&&(t=decodeURIComponent(t)),n=e.substring(e.indexOf("?")+1)),{url:t,queryString:n}}(e),n=t.url,r=t.queryString;return 0===n.indexOf("//")&&(n=location.protocol+n),Object(u.getProxyUrl)()+encodeURIComponent(n+r)},d.prototype.getURL=function(e){return e},o.a.registerType("tileprovider",(function(e){var t,n=c(s.a.getLayerConfig(e.provider,e),2),r=n[0],o=n[1],i=l.default.getProxyUrl({});i&&(t=o.noCors||Object(u.needProxy)(r));var p,h,m=o.credits,y=m?new a.a.Credit(m.text,m.imageUrl,m.link):o.attribution;return new a.a.UrlTemplateImageryProvider({url:(p=r,h=o,p.replace(/(?!(\{?[zyxs]?\}))\{*([\w_]+)*\}/g,(function(){var e=arguments[0],t=arguments[1]?arguments[1]:arguments[2],n=h[t];if(void 0===n)throw new Error("No value provided for variable "+e);return"function"==typeof n&&(n=n(h)),n}))),enablePickFeatures:!1,subdomains:o.subdomains,maximumLevel:o.maxZoom,minimumLevel:o.minZoom,credit:y,proxy:t?new f(i):new d})}))},"./MapStore2/web/client/components/map/cesium/plugins/WMSLayer.js":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n("./MapStore2/web/client/utils/cesium/Layers.js"),s=n("./MapStore2/web/client/libs/cesium.js"),l=n("./MapStore2/web/client/utils/cesium/BILTerrainProvider.js")(s),u=n("./MapStore2/web/client/utils/ConfigUtils.js").default,c=n("./MapStore2/web/client/utils/ProxyUtils.js"),p=c.getProxyUrl,f=c.needProxy,d=n("./node_modules/object-assign/index.js"),h=n("./MapStore2/node_modules/lodash/lodash.js").isArray,m=n("./MapStore2/web/client/utils/cesium/WMSUtils.js"),y=n("./MapStore2/web/client/utils/LayersUtils.js"),g=y.getAuthenticationParam,b=y.getURLs,v=n("./MapStore2/web/client/utils/VendorParamsUtils.js").optionsToVendorParams,_=n("./MapStore2/web/client/utils/SecurityUtils.js").addAuthenticationToSLD,w=n("./MapStore2/web/client/utils/VectorTileUtils.js").isVectorFormat;function O(e){var t=e,n="";return-1!==e.indexOf("?")&&(t=e.substring(0,e.indexOf("?")+1),-1!==e.indexOf("%")&&(t=decodeURIComponent(t)),n=e.substring(e.indexOf("?")+1)),{url:t,queryString:n}}function j(e){this.proxy=e}function S(){}function E(e){return Object.keys(e).map((function(t){return t+"="+encodeURIComponent(e[t])})).join("&")}j.prototype.getURL=function(e){var t=O(e),n=t.url,r=t.queryString;return p()+encodeURIComponent(n+r)},S.prototype.getURL=function(e){var t=O(e);return t.url+t.queryString};var x=function e(t){var n;return t.useForElevation?new l(function(e){var t,n=u.getProxyUrl({}),r=e.url;return n&&(t=f(e.url)&&n)&&(r=t+encodeURIComponent(r)),d({url:r,layerName:e.name})}(t)):((n=t.singleTile?new s.SingleTileImageryProvider(function(e){var t=void 0!==e.opacity?e.opacity:1,n=v(e),r=d({styles:e.style||"",format:(w(e.format)?"image/png":e.format)||"image/png",transparent:void 0===e.transparent||e.transparent,opacity:t,tiled:void 0===e.tiled||e.tiled,layers:e.name,width:e.size||2e3,height:e.size||2e3,bbox:"-180.0,-90,180.0,90",srs:"EPSG:4326"},n||{},g(e));return{url:(h(e.url)?e.url[Math.round(Math.random()*(e.url.length-1))]:e.url)+"?service=WMS&version=1.1.0&request=GetMap&"+E(_(r,e))}}(t)):new s.WebMapServiceImageryProvider(function(e){var t,n=void 0!==e.opacity?e.opacity:1,r=v(e),o=u.getProxyUrl({});o&&(t=f(e.url)&&o);var i=e.credits,a=i?new s.Credit(i.text||i.title,i.imageUrl,i.link):e.attribution;return d({url:"{s}",credit:a,subdomains:b(h(e.url)?e.url:[e.url]),proxy:t&&new j(t)||new S,layers:e.name,enablePickFeatures:!1,parameters:d({styles:e.style||"",format:(w(e.format)?"image/png":e.format)||"image/png",transparent:void 0===e.transparent||e.transparent,opacity:n,tiled:void 0===e.tiled||e.tiled,width:e.tileSize||256,height:e.tileSize||256},d({},e._v_?{_v_:e._v_}:{},r||{},g(e)))})}(t))).updateParams=function(n){var r=d({},t,{params:d({},t.params||{},n)});return e(r)},n)};a.registerType("wms",{create:x,update:function(e,t,n){var r=t&&t.params,i=n&&n.params,a=o(o({},r),i);return Object.keys(o(o(o({},t),n),a)).filter((function(e){return m.PARAM_OPTIONS.indexOf(e.toLowerCase())>=0})).filter((function(e){return(void 0===n[e]?i&&i[e]:n[e])!==(void 0===t[e]?r&&r[e]:t[e])})).length>0||t.securityToken!==n.securityToken||t.tileSize!==n.tileSize?x(t):null}})},"./MapStore2/web/client/components/map/cesium/plugins/WMTSLayer.js":function(e,t,n){"use strict";n.r(t);var r=n("./MapStore2/web/client/utils/cesium/Layers.js"),o=n.n(r),i=n("./MapStore2/web/client/utils/ConfigUtils.js"),a=n("./MapStore2/web/client/utils/ProxyUtils.js"),s=n("./MapStore2/web/client/utils/WMTSUtils.js"),l=n("./MapStore2/web/client/libs/cesium.js"),u=n.n(l),c=n("./MapStore2/web/client/utils/LayersUtils.js"),p=n("./node_modules/object-assign/index.js"),f=n.n(p),d=n("./MapStore2/node_modules/lodash/lodash.js"),h=n("./node_modules/url/url.js"),m=n.n(h),y=n("./MapStore2/web/client/utils/VectorTileUtils.js");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){var t=e,n="";return-1!==e.indexOf("?")&&(t=e.substring(0,e.indexOf("?")+1),-1!==e.indexOf("%")&&(t=decodeURIComponent(t)),n=e.substring(e.indexOf("?")+1)),{url:t,queryString:n}}function w(e){this.proxy=e}function O(){}w.prototype.getURL=function(e){var t=_(e),n=t.url,r=t.queryString;return Object(a.getProxyUrl)()+encodeURIComponent(n+r)},O.prototype.getURL=function(e){var t=_(e);return t.url+t.queryString};var j=function(e){return e.indexOf("EPSG:4326")>=0?new u.a.GeographicTilingScheme:e.indexOf("EPSG:3857")>=0?new u.a.WebMercatorTilingScheme:null},S=function(e,t){var n=s.getTileMatrixSet(e.tileMatrixSet,t,e.allowedSRS,e.matrixIds);return{tileMatrixSet:n,matrixIds:function(e,t){return e.length>t?Object(d.slice)(e,0,t):e.length<t?e.concat(new Array(t-e.length)):e}(e.matrixIds&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return(Object(d.isObject)(e)&&e[t]||Object(d.isArray)(e)&&e||[]).map((function(e){return e.identifier}))}(e.matrixIds,n)||function(e){for(var t=new Array(30),n=0;n<30;++n)t[n]=e.tileMatrixPrefix+n;return t}(e))}};function E(e){var t="EPSG:4326",n=S(e,t),r=n.tileMatrixSet,o=n.matrixIds;if(0===o.length){var s=S(e,t="EPSG:3857");r=s.tileMatrixSet,o=s.matrixIds}var l,u=i.default.getProxyUrl({});u&&(l=Object(a.needProxy)(e.url)&&u);var p,h=(p=e.matrixIds&&e.matrixIds[r],function(e,t,n){return p&&p[n]&&!p[n].ranges||e<=parseInt(Object(d.get)(p[n],"ranges.cols.max"),10)&&e>=parseInt(Object(d.get)(p[n],"ranges.cols.min"),10)&&t<=parseInt(Object(d.get)(p[n],"ranges.rows.max"),10)&&t>=parseInt(Object(d.get)(p[n],"ranges.rows.min"),10)}),g=m.a.format({query:b({},Object(c.getAuthenticationParam)(e))});return f()({url:Object(d.head)(Object(c.getURLs)(Object(d.isArray)(e.url)?e.url:[e.url],g)),format:(Object(y.isVectorFormat)(e.format)?"image/png":e.format)||"image/png",isValid:h,layer:e.name,style:e.style||"",tileMatrixLabels:o,tilingScheme:j(t,e.matrixIds[r]),proxy:l&&new w(l)||new O,enablePickFeatures:!1,tileWidth:e.tileWidth||e.tileSize||256,tileHeight:e.tileHeight||e.tileSize||256,tileMatrixSetID:r,maximumLevel:30,parameters:b({},Object(c.getAuthenticationParam)(e))})}var x=function e(t){var n,r=E(t),o=(n=new u.a.WebMapTileServiceImageryProvider(r)).requestImage;return n.requestImage=function(e,t,i){return r.isValid(e,t,i)?o.bind(n)(e,t,i):new Promise((function(){}))},n.updateParams=function(n){var r=f()({},t,{params:f()({},t.params||{},n)});return e(r)},n};o.a.registerType("wmts",{create:x,update:function(e,t,n){return t.securityToken!==n.securityToken||n.format!==t.format?x(t):null}})},"./MapStore2/web/client/components/map/cesium/plugins/index.js":function(e,t,n){e.exports={BingLayer:n("./MapStore2/web/client/components/map/cesium/plugins/BingLayer.js"),OSMLayer:n("./MapStore2/web/client/components/map/cesium/plugins/OSMLayer.js"),TileProviderLayer:n("./MapStore2/web/client/components/map/cesium/plugins/TileProviderLayer.js"),WMSLayer:n("./MapStore2/web/client/components/map/cesium/plugins/WMSLayer.js"),WMTSLayer:n("./MapStore2/web/client/components/map/cesium/plugins/WMTSLayer.js"),GraticuleLayer:n("./MapStore2/web/client/components/map/cesium/plugins/GraticuleLayer.js"),MarkerLayer:n("./MapStore2/web/client/components/map/cesium/plugins/MarkerLayer.js"),OverlayLayer:n("./MapStore2/web/client/components/map/cesium/plugins/OverlayLayer.js")}},"./MapStore2/web/client/components/map/enhancers/autoMapType.js":function(e,t,n){var r=n("./node_modules/react-redux/es/index.js").connect,o=n("./node_modules/reselect/es/index.js").createSelector,i=n("./MapStore2/web/client/selectors/maptype.js").mapTypeSelector;e.exports=r(o(i,(function(e){return{mapType:e}})))},"./MapStore2/web/client/components/map/enhancers/autoResize.js":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n("./node_modules/recompose/es/Recompose.js"),s=a.withStateHandlers,l=a.withProps,u=a.compose,c=n("./MapStore2/web/client/components/misc/enhancers/withResizeSpy.js");e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return u(s((function(){return{resize:0}}),{onResize:function(e){var t=e.resize,n=void 0===t?0:t;return function(){return{resize:n+1}}}}),c({debounceTime:e}),l((function(e){var t=e.options,n=e.resize;return{options:o(o({},t),{},{resize:n})}})))}},"./MapStore2/web/client/components/map/enhancers/getProjectionDefs.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getProjectionDefs",(function(){return a}));var r=n("./node_modules/recompose/es/Recompose.js"),o=n("./MapStore2/web/client/utils/ConfigUtils.js"),i=n("./MapStore2/node_modules/lodash/lodash.js"),a=Object(r.withProps)((function(e){var t=e.projectionDefs;return{projectionDefs:Object(i.isArray)(t)&&t.length?t:o.default.getConfigProp("projectionDefs")||[]}}));t.default=a},"./MapStore2/web/client/components/map/enhancers/handlingUnsupportedProjection.js":function(e,t,n){"use strict";n.r(t),n.d(t,"fetchingProjection",(function(){return c})),n.d(t,"handlingUnsupportedProjection",(function(){return p}));var r=n("./node_modules/recompose/es/Recompose.js"),o=n("./MapStore2/web/client/components/misc/enhancers/emptyState.jsx"),i=n.n(o),a=n("./MapStore2/web/client/components/I18N/Message.jsx"),s=n("./node_modules/react/index.js"),l=n.n(s),u=n("./MapStore2/web/client/utils/ConfigUtils.js"),c=Object(r.withProps)((function(e){var t=e.map;return{projection:e.projection||(t.data&&t.data.map?t.data.map.projection:t&&t.projection)}})),p=Object(r.compose)(c,i()((function(e){var t=e.projectionDefs,n=void 0===t?u.default.getConfigProp("projectionDefs")||[]:t,r=e.projection;return r&&0===n.concat([{code:"EPSG:4326"},{code:"EPSG:3857"},{code:"EPSG:900913"}]).filter((function(e){return e.code===r})).length}),(function(e){var t=e.projection;return{glyph:"1-map",style:{width:"100%",height:"100%",display:"flex"},title:l.a.createElement(a.default,{msgId:"map.errors.loading.title"}),mainViewStyle:{margin:"auto"},imageStyle:{height:120,width:120,margin:"auto"},description:l.a.createElement(a.default,{msgId:"map.errors.loading.projectionError",msgParams:{projection:t}})}})))},"./MapStore2/web/client/components/map/enhancers/mapType.js":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n("./node_modules/recompose/es/Recompose.js").withPropsOnChange;e.exports=a(["mapType","plugins"],(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mapType,r=e.plugins;return{plugins:o(o({},n("./MapStore2/web/client/components/map/plugins sync recursive ^\\.\\/.*\\.js$")("./"+t+".js")()),r)}}))},"./MapStore2/web/client/components/map/enhancers/onMapViewChanges.js":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n("./node_modules/recompose/es/Recompose.js"),s=a.compose,l=a.withHandlers,u=a.withPropsOnChange;e.exports=s(l({onMapViewChanges:function(e){var t=e.map,n=void 0===t?{}:t,r=e.onMapViewChanges,i=void 0===r?function(){}:r;return function(e,t,r,a,s,l){i(o(o({},n),{},{center:e,bbox:o(o({},n.bbox),r),zoom:t,size:a,mapStateSource:s,projection:l}))}}}),u(["onMapViewChanges","eventHandlers"],(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onMapViewChanges,n=void 0===t?function(){}:t,r=e.eventHandlers,i=void 0===r?{}:r;return{eventHandlers:o(o({},i),{},{onMapViewChanges:n})}})))},"./MapStore2/web/client/components/map/leaflet/DrawSupport.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=n("./node_modules/prop-types/index.js"),m=n("./node_modules/react/index.js"),y=n("./MapStore2/node_modules/lodash/lodash.js"),g=y.last,b=y.isNil,v=n("./MapStore2/web/client/libs/leaflet.js");n("./node_modules/leaflet-draw/dist/leaflet.draw.js"),v.Draw.Polygon.prototype._calculateFinishDistance=function(e){if(this._markers.length>0){var t=this._map.latLngToContainerPoint(this._markers[0].getLatLng()),n=this._map.latLngToContainerPoint(this._markers[this._markers.length-1].getLatLng()),r=new v.Marker(e,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),o=this._map.latLngToContainerPoint(r.getLatLng());return Math.min(t.distanceTo(o),n.distanceTo(o))}return 1/0};var _=n("./MapStore2/web/client/utils/MapUtils.js"),w=_.isSimpleGeomType,O=_.getSimpleGeomType,j=n("./MapStore2/web/client/utils/leaflet/DrawSupportUtils.js").boundsToOLExtent,S=n("./node_modules/object-assign/index.js"),E=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),x=E.reproject,P=E.reprojectBbox,M=E.calculateCircleCoordinates,L=E.reprojectGeoJson,T=n("./MapStore2/web/client/utils/leaflet/Vector.js").pointToLayer,C=Math.PI/180,k=function(e,t,n){if("EPSG:4326"===n)return{center:t,srs:n,radius:e};var r=e/40075017*360/Math.cos(C*t[1]),o=x(t,"EPSG:4326",n);if(r){var i=x([t[0]+r,t[1]],"EPSG:4326",n);return{center:o,srs:n,radius:Math.sqrt(Math.pow(o.x-i.x,2)+Math.pow(o.y-i.y,2))}}return{center:o,srs:n,radius:e}},I=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"EPSG:4326";if("EPSG:4326"===n||void 0===e)return{center:t,projection:n,radius:e};var r=x({x:t.lng,y:t.lat},n,"EPSG:4326");if(void 0===e)return{center:r,projection:n,radius:e};var o=x([t.lng+e,t.lat],n,"EPSG:4326"),i=Math.sqrt(Math.pow(r.x-o.x,2)+Math.pow(r.y-o.y,2)),a=i*Math.cos(C*r.y)*40075017/360;return{center:r,projection:"EPSG:4326",radius:a}},D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(c,e);var t,n,r,o=u(c);function c(){var e;a(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return d(p(e=o.call.apply(o,[this].concat(n))),"onDrawStart",(function(){e.drawing=!0})),d(p(e),"onDrawCreated",(function(t){e.drawing=!1;var n,r=t.layer,o=r.toGeoJSON();"marker"===t.layerType?n=v.latLngBounds(o.geometry.coordinates,o.geometry.coordinates):(r._map||(r._map=e.props.map,r._renderer=e.props.map.getRenderer(r),r._project()),n=r.getBounds());var i=j(n),a=n.getCenter();a=[a.lng,a.lat];var s=o.geometry.coordinates,l="EPSG:4326",u=o.geometry.type,c=r.getRadius?r.getRadius():0;if("circle"===t.layerType){o.projection="EPSG:4326",i=P(i,"EPSG:4326",l="EPSG:3857");var p=k(r._mRadius,a,l);a=p.center,c=p.radius,s=M(a,c,100),o.radius=r.getRadius?r.getRadius():0,a=[a.x,a.y],u="Polygon"}e.drawLayer.addData(o);var f={type:u,extent:i,center:a,coordinates:s,radius:c,projection:l};e.props.options&&e.props.options.stopAfterDrawing&&e.props.onChangeDrawingStatus("stop",e.props.drawMethod,e.props.drawOwner);var d=e.convertFeaturesToGeoJson(t.layer,e.props);e.props.onEndDrawing(f,e.props.drawOwner),e.props.onGeometryChanged([d],e.props.drawOwner,e.props.options&&e.props.options.stopAfterDrawing?"enterEditMode":"")})),d(p(e),"onUpdateGeom",(function(t,n){var r=e.convertFeaturesToGeoJson(t,n);n.onGeometryChanged([r],n.drawOwner)})),d(p(e),"addLayer",(function(t){e.clean();var n=v.geoJson(null,{pointToLayer:function(e,t){var n=I(e.radius,t,e.projection),r=n.center,o=n.radius;return v.circle(r,o||5)},style:function(e){return t.style&&t.style[e.geometry.type]||{color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2,clickable:!1}}});e.props.map.addLayer(n),t.features&&t.features.length>0&&n.addData(e.convertFeaturesPolygonToPoint(t.features,e.props.drawMethod)),e.drawLayer=n})),d(p(e),"addGeojsonLayer",(function(t){var n=t.features,r=t.projection,o=t.style;e.clean();var i=v.geoJson(n,{style:function(e){return e.style||o},pointToLayer:function(e,t){var n=x({x:t.lng,y:t.lat},r,"EPSG:4326");return T(v.latLng(n.y,n.x),e,o)}});e.drawLayer=i.addTo(e.props.map)})),d(p(e),"replaceFeatures",(function(t){e.drawLayer?(e.drawLayer.clearLayers(),"Circle"===e.props.drawMethod?(e.drawLayer.options.pointToLayer=function(e,t){var n=I(e.radius,t,e.projection),r=n.center,o=n.radius;return v.circle(r,o||5)},e.drawLayer.options.style={color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2,clickable:!1}):e.drawLayer.options.pointToLayer=function(e,n){var r=x({x:n.lng,y:n.lat},t.options&&t.options.featureProjection||"EPSG:4326","EPSG:4326");return T(v.latLng(r.y,r.x),e,t.style)},e.drawLayer.addData(e.convertFeaturesPolygonToPoint(t.features,e.props.drawMethod))):e.addGeojsonLayer({features:t.features,projection:t.options&&t.options.featureProjection||"EPSG:4326",style:t.style&&t.style[t.drawMethod]||t.style})})),d(p(e),"endDrawing",(function(t){e.replaceFeatures(t);var n=g(t.features);"Circle"!==e.props.drawMethod||!n||b(n.center)||b(n.radius)?n&&e.props.onEndDrawing(n,e.props.drawOwner):e.props.onEndDrawing(i(i({},n),{},{coordinates:M(n.center,n.radius,100)}),e.props.drawOwner)})),d(p(e),"addDrawInteraction",(function(t){e.removeAllInteractions(),"Point"===t.drawMethod||"MultiPoint"===t.drawMethod?e.addGeojsonLayer({features:t.features,projection:t.options&&t.options.featureProjection||"EPSG:4326",style:t.style&&t.style[t.drawMethod]||t.style}):e.addLayer(t),e.props.map.on("draw:created",e.onDrawCreated,p(e)),e.props.map.on("draw:drawstart",e.onDrawStart,p(e)),"LineString"===t.drawMethod||"Bearing"===t.drawMethod||"MultiLineString"===t.drawMethod?e.drawControl=new v.Draw.Polyline(e.props.map,{shapeOptions:{color:"#000000",weight:2,fillColor:"#ffffff",fillOpacity:.2},showLength:!1,repeatMode:!0,icon:new v.DivIcon({iconSize:new v.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new v.DivIcon({iconSize:new v.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"})}):"Polygon"===t.drawMethod||"MultiPolygon"===t.drawMethod?e.drawControl=new v.Draw.Polygon(e.props.map,{shapeOptions:{color:"#000000",weight:2,fillColor:"#ffffff",fillOpacity:.2,dashArray:[5,5],guidelineDistance:5},allowIntersection:!1,showLength:!1,showArea:!1,repeatMode:!0,icon:new v.DivIcon({iconSize:new v.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new v.DivIcon({iconSize:new v.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"})}):"BBOX"===t.drawMethod?e.drawControl=new v.Draw.Rectangle(e.props.map,{draw:!1,shapeOptions:{color:"#000000",weight:2,fillColor:"#ffffff",fillOpacity:.2,dashArray:[5,5]},repeatMode:!0,icon:new v.DivIcon({iconSize:new v.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new v.DivIcon({iconSize:new v.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"})}):"Circle"===t.drawMethod?e.drawControl=new v.Draw.Circle(e.props.map,{shapeOptions:{color:"#000000",weight:2,fillColor:"#ffffff",fillOpacity:.2,dashArray:[5,5]},showRadius:!1,repeatMode:!0}):"Point"!==t.drawMethod&&"MultiPoint"!==t.drawMethod||(e.drawControl=new v.Draw.Marker(e.props.map,{shapeOptions:{color:"#000000",weight:2,fillColor:"#ffffff",fillOpacity:.2},repeatMode:!0})),e.props.map.doubleClickZoom&&e.props.map.doubleClickZoom.disable(),e.drawControl.enable()})),d(p(e),"addDrawOrEditInteractions",(function(t){var n=[];t.features.map((function(e){var t;e&&e.geometry&&e.geometry.type&&!w(e.geometry.type)&&("GeometryCollection"===e.geometry.type?(t=e.geometry.geometries.map((function(t){return t.coordinates.map((function(n,r){return{type:"Feature",properties:i({},e.properties),id:t.type+r,geometry:{coordinates:n,type:O(t.type)}}}))})),n.push({type:"FeatureCollection",features:t})):(t=e.geometry.coordinates.map((function(t,n){return{type:"Feature",properties:i({},e.properties),id:e.geometry.type+n,geometry:{coordinates:t,type:O(e.geometry.type)}}})),n.push({type:"FeatureCollection",features:t})))}));var r=S({},t,{features:n.length>0?n:[{}]});e.drawLayer?(e.drawLayer.clearLayers(),e.drawLayer.addData(e.convertFeaturesPolygonToPoint(r.features,r.drawMethod))):e.addGeojsonLayer({features:t.features&&t.options.featureProjection&&"EPSG:4326"!==t.options.featureProjection?t.features.map((function(e){return L(e,t.options.featureProjection,"EPSG:4326")})):t.features,projection:t.options&&t.options.featureProjection||"EPSG:4326",style:t.style&&t.style[t.drawMethod]||t.style}),t.options.editEnabled&&e.addEditInteraction(r),t.options.drawEnabled&&e.addDrawInteraction(r)})),d(p(e),"addEditInteraction",(function(t){e.clean(),e.addGeojsonLayer({features:t.features,projection:t.options&&t.options.featureProjection||"EPSG:4326",style:S({},t.style,{poly:{icon:new v.DivIcon({iconSize:new v.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new v.DivIcon({iconSize:new v.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"})}})});var n=e.drawLayer.getLayers();setTimeout((function(){n.forEach((function(n){n.getLayers&&n.getLayers()&&n.getLayers().length?n.getLayers().forEach((function(n){n.on("edit",(function(n){return e.onUpdateGeom(n.target,t)})),n.on("moveend",(function(n){return e.onUpdateGeom(n.target,t)})),n.editing&&n.editing.enable()})):(n.on("edit",(function(n){return e.onUpdateGeom(n.target,t)})),n.on("moveend",(function(n){return e.onUpdateGeom(n.target,t)})),n.editing&&n.editing.enable())}))}),0),e.editControl=new v.Control.Draw({edit:{featureGroup:e.drawLayer,poly:{allowIntersection:!1},edit:!0},draw:{polygon:{allowIntersection:!1,showArea:!0}}}),e.props.map.doubleClickZoom&&e.props.map.doubleClickZoom.disable()})),d(p(e),"removeAllInteractions",(function(){e.removeEditInteraction(),e.removeDrawInteraction()})),d(p(e),"removeDrawInteraction",(function(){null!==e.drawControl&&void 0!==e.drawControl&&(e.props.options&&e.props.options.stopAfterDrawing&&(e.drawControl.setOptions({repeatMode:!1}),e.props.onDrawStopped()),e.drawControl.disable(),e.drawControl=null,e.props.map.off("draw:created",e.onDrawCreated,p(e)),e.props.map.off("draw:drawstart",e.onDrawStart,p(e)),e.props.map.doubleClickZoom&&e.props.map.doubleClickZoom.enable())})),d(p(e),"removeEditInteraction",(function(){e.drawLayer&&(e.drawLayer.getLayers().forEach((function(e){e.getLayers&&e.getLayers()&&e.getLayers().length?e.getLayers().forEach((function(e){e.off("edit"),e.off("moveend"),e.editing&&e.editing.disable()})):(e.off("edit"),e.off("moveend"),e.editing&&e.editing.disable())})),e.editControl=null);e.props.map.doubleClickZoom&&e.props.map.doubleClickZoom.enable()})),d(p(e),"cleanAndStop",(function(){e.removeAllInteractions(),e.drawLayer&&(e.drawLayer.clearLayers(),e.props.map.removeLayer(e.drawLayer),e.drawLayer=null)})),d(p(e),"clean",(function(){e.removeEditInteraction(),e.removeDrawInteraction(),e.drawLayer&&(e.drawLayer.clearLayers(),e.props.map.removeLayer(e.drawLayer),e.drawLayer=null)})),d(p(e),"convertFeaturesPolygonToPoint",(function(e,t){return"Circle"===t?e.map((function(e){var t=void 0!==e.center&&void 0!==e.radius?I(e.radius,{lat:e.center.y,lng:e.center.x},e.projection):e,n=t.center,r=t.projection,o=t.radius;return i(i({},e),{},{coordinates:n?[n.x,n.y]:e.coordinates,center:n||e.center,projection:r||e.projection,radius:void 0!==o?o:e.radius,type:"Point"})})):e})),d(p(e),"convertFeaturesToGeoJson",(function(t,n){var r;if(w(n.drawMethod))r=t.toGeoJSON().geometry;else{if("GeometryCollection"===n.drawMethod)return{type:"GeometryCollection",geometries:e.drawLayer.getLayers().map((function(e){return e.toGeoJSON()})).map((function(e){return"FeatureCollection"===e.type?{type:"Multi"+e.features[0].geometry.type,coordinates:e.features.map((function(e){return e.geometry.coordinates}))}:{type:e.geometry.type,coordinates:e.geometry.coordinates}}))};var o=e.drawLayer.getLayers().map((function(e){return e.toGeoJSON()}));r={type:n.drawMethod,coordinates:o.reduce((function(e,t){return e.concat([t.geometry.coordinates])}),[])}}return S({},t.toGeoJSON(),{geometry:r})})),e}return t=c,(n=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=!(!this.props.messages&&!this.context.messages)&&this.context.messages.drawLocal;if(t&&(v.drawLocal=t),this.props.drawStatus!==e.drawStatus||"replace"===e.drawStatus||this.props.drawMethod!==e.drawMethod||this.props.features!==e.features)switch(e.drawStatus){case"create":this.addGeojsonLayer({features:e.features,projection:e.options&&e.options.featureProjection||"EPSG:4326",style:e.style&&e.style[e.drawMethod]||e.style});break;case"start":this.addDrawInteraction(e);break;case"drawOrEdit":this.addDrawOrEditInteractions(e);break;case"stop":this.removeAllInteractions();break;case"replace":this.replaceFeatures(e);break;case"clean":this.cleanAndStop();break;case"endDrawing":this.endDrawing(e);break;default:return}}},{key:"render",value:function(){return null}}])&&s(t.prototype,n),r&&s(t,r),c}(m.Component);d(D,"displayName","DrawSupport"),d(D,"propTypes",{map:h.object,drawOwner:h.string,drawStatus:h.string,drawMethod:h.string,options:h.object,features:h.array,onChangeDrawingStatus:h.func,onGeometryChanged:h.func,onDrawStopped:h.func,onEndDrawing:h.func,messages:h.object,style:h.object}),d(D,"defaultProps",{map:null,drawOwner:null,drawStatus:null,drawMethod:null,features:null,options:{stopAfterDrawing:!0},onChangeDrawingStatus:function(){},onGeometryChanged:function(){},onDrawStopped:function(){},onEndDrawing:function(){},style:{color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2,clickable:!1,editing:{fill:1}}}),e.exports=D},"./MapStore2/web/client/components/map/leaflet/Feature.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=n("./node_modules/prop-types/index.js"),m=n("./node_modules/react/index.js"),y=n("./MapStore2/node_modules/lodash/lodash.js"),g=y.isEqual,b=y.isArray,v=y.castArray,_=n("./node_modules/object-assign/index.js"),w=n("./node_modules/axios/index.js"),O=n("./MapStore2/web/client/utils/leaflet/Vector.js").geometryToLayer,j=n("./MapStore2/web/client/utils/VectorStyleUtils.js").createStylesAsync,S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(c,e);var t,n,r,o=u(c);function c(){var e;a(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return d(p(e=o.call.apply(o,[this].concat(n))),"createLayer",(function(t){t.geometry&&e.addFeature(i(i({},t),{},{style:t.style&&v(t.style)||void 0})),t.features&&t.features.forEach((function(n){var r=_({},t,{type:n.type,geometry:n.geometry,style:n.style&&v(n.style)||void 0,properties:n.properties});e.addFeature(r)}))})),d(p(e),"removeLayer",(function(t){e._layers&&(e._layers.forEach((function(e){t.container.removeLayer(e)})),e._layers=[])})),e}return t=c,(n=[{key:"componentDidMount",value:function(){this._layers=[],(this.props.container&&this.props.geometry||this.props.features)&&this.createLayer(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){g(e.properties,this.props.properties)&&g(e.geometry,this.props.geometry)&&e.features===this.props.features&&e.style===this.props.style&&e.styleName===this.props.styleName||(this.removeLayer(e),this.createLayer(e))}},{key:"componentWillUnmount",value:function(){this.removeLayer(this.props)}},{key:"render",value:function(){return null}},{key:"addFeature",value:function(e){var t=this;if(b(e.style)){var n=j(e.style);w.all(n).then((function(n){t.addLayer(e,n)}))}else this.addLayer(e,e.style)}},{key:"addLayer",value:function(e,t){var n=this,r=O({type:e.type,geometry:e.geometry,properties:e.properties,msId:e.msId},{style:t,styleName:e.styleName});e.container.addLayer(r),r.on("click",(function(t){e.onClick&&e.onClick({pixel:{x:t.originalEvent&&t.originalEvent.x,y:t.originalEvent&&t.originalEvent.y},latlng:t.latlng},n.props.options.handleClickOnLayer?n.props.options.id:null)})),r.setOpacity||(r.setOpacity=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.originalStyle||this.options&&this.options.style||this.options||{};this.originalStyle=i({},t);var n=t.opacity,o=void 0===n?1:n,a=t.fillOpacity,s=void 0===a?1:a,l=t.color,u=t.fillColor,c=t.radius,p=t.weight,f={color:l,fillColor:u,radius:c,weight:p,opacity:o*e,fillOpacity:s*e};r.setStyle&&r.setStyle(f)}),this._layers.push(r)}}])&&s(t.prototype,n),r&&s(t,r),c}(m.Component);d(S,"propTypes",{msId:h.oneOfType([h.string,h.number]),type:h.string,styleName:h.string,properties:h.object,container:h.object,geometry:h.object,features:h.array,style:h.object,onClick:h.func,options:h.object}),e.exports=S},"./MapStore2/web/client/components/map/leaflet/Layer.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=n("./node_modules/prop-types/index.js"),m=n("./node_modules/react/index.js"),y=n("./MapStore2/web/client/utils/leaflet/Layers.js"),g=n("./node_modules/object-assign/index.js"),b=n("./MapStore2/node_modules/lodash/lodash.js").isEqual,v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(c,e);var t,n,r,o=u(c);function c(){var e;a(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return d(p(e=o.call.apply(o,[this].concat(n))),"setLayerVisibility",(function(t){t!==(e.props.options&&!1!==e.props.options.visibility)&&(t?e.addLayer():e.removeLayer(),e.updateZIndex())})),d(p(e),"setLayerOpacity",(function(t){t!==(e.props.options&&void 0!==e.props.options.opacity?e.props.options.opacity:1)&&e.layer&&e.layer.setOpacity&&e.layer.setOpacity(t)})),d(p(e),"generateOpts",(function(t,n,r){return g({},t,n?{zIndex:n,srs:e.props.srs}:null,{zoomOffset:-e.props.zoomOffset,onError:function(){e.props.onCreationError(t)},securityToken:r})})),d(p(e),"updateZIndex",(function(t){var n=t||e.props.position;n&&e.layer&&e.layer.setZIndex&&e.layer.setZIndex(n)})),d(p(e),"createLayer",(function(t,n,r,o){if(t){var i=e.generateOpts(n,r,o);e.layer=y.createLayer(t,i),e.layer&&(e.layer.layerName=n.name,e.layer.layerId=n.id),e.forceUpdate()}})),d(p(e),"updateLayer",(function(t,n){var r=y.updateLayer(t.type,e.layer,e.generateOpts(t.options,t.position,t.securityToken),e.generateOpts(n.options,n.position,n.securityToken));r&&(e.removeLayer(),e.layer=r,e.addLayer())})),d(p(e),"addLayer",(function(){if(e.isValid()&&(e.props.map.addLayer(e.layer),e.props.options.refresh&&e.layer.setParams)){var t=0;e.refreshTimer=setInterval((function(){e.layer.setParams(g({},e.props.options.params,{_refreshCounter:t++}))}),e.props.options.refresh)}})),d(p(e),"removeLayer",(function(){e.isValid()&&e.props.map.removeLayer(e.layer)})),d(p(e),"isValid",(function(){if(e.layer){var t=y.isValid(e.props.type,e.layer);return e.valid=t,t}return!1})),e}return t=c,(n=[{key:"componentDidMount",value:function(){this.valid=!0,this.createLayer(this.props.type,this.props.options,this.props.position,this.props.securityToken),this.props.options&&this.layer&&!1!==this.props.options.visibility&&(this.addLayer(),this.updateZIndex())}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.options&&!1!==e.options.visibility;this.setLayerVisibility(t);var n=e.options&&void 0!==e.options.opacity?e.options.opacity:1;this.setLayerOpacity(n),e.position!==this.props.position&&this.updateZIndex(e.position),this.updateLayer(e,this.props)}},{key:"shouldComponentUpdate",value:function(e){var t=this;return!["map","type","srs","position","zoomOffset","onClick","options","children"].reduce((function(n,r){switch(r){case"map":case"type":case"srs":case"position":case"zoomOffset":case"onClick":case"children":return n&&t.props[r]===e[r];case"options":return n&&(t.props[r]===e[r]||b(i(i({},t.props[r]),{},{loading:!1}),i(i({},e[r]),{},{loading:!1})));default:return n}}),!0)}},{key:"componentWillUnmount",value:function(){this.layer&&this.props.map&&(this.removeLayer(),this.refreshTimer&&clearInterval(this.refreshTimer))}},{key:"render",value:function(){var e=this;if(this.props.children){var t=this.layer,n=t?m.Children.map(this.props.children,(function(n){return n?m.cloneElement(n,{container:t,styleName:e.props.options&&e.props.options.styleName,onClick:e.props.onClick,options:e.props.options||{}}):null})):null;return m.createElement(m.Fragment,null,n)}return y.renderLayer(this.props.type,this.props.options,this.props.map,this.props.map.id,this.layer)}}])&&s(t.prototype,n),r&&s(t,r),c}(m.Component);d(v,"propTypes",{map:h.object,type:h.string,srs:h.string,options:h.object,position:h.number,zoomOffset:h.number,onCreationError:h.func,onClick:h.func,securityToken:h.string}),d(v,"defaultProps",{onCreationError:function(){},options:{}}),e.exports=v},"./MapStore2/web/client/components/map/leaflet/Locate.jsx":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/prop-types/index.js"),o=n.n(r),i=n("./node_modules/react/index.js"),a=n.n(i),s=n("./MapStore2/web/client/libs/leaflet.js"),l=n.n(s),u=n("./node_modules/object-assign/index.js"),c=n.n(u);n("./node_modules/leaflet.locatecontrol/src/L.Control.Locate.js"),n("./node_modules/leaflet.locatecontrol/dist/L.Control.Locate.css");function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O={follow:!0,remainActive:!0,stopFollowingOnDrag:!0,locateOptions:{maximumAge:2e3,enableHighAccuracy:!1,timeout:1e4,watch:!0}};l.a.Control.MSLocate=l.a.Control.Locate.extend({setMap:function(e){this._map=e,this._layer=this.options.layer||new l.a.LayerGroup,this._layer.addTo(e),this._event=void 0,this._prevBounds=null;var t={};l.a.extend(t,this.options.markerStyle,this.options.followMarkerStyle),this.options.followMarkerStyle=t,t={},l.a.extend(t,this.options.circleStyle,this.options.followCircleStyle),this.options.followCircleStyle=t,this._resetVariables(),this._map.on("unload",this._unload,this)},setLocateOptions:function(e){this.options.locateOptions=_({},e)},_setClasses:function(e){return this._map.fire("locatestatus",{state:e}),e},_updateContainerStyle:function(){this._isFollowing()?this._setClasses("following"):this._active&&this._setClasses("active")},_cleanClasses:function(){return null},setStrings:function(e){this.options.strings=c()({},this.options.strings,e)}});var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(i,e);var t,n,r,o=m(i);function i(){var e;f(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return w(g(e=o.call.apply(o,[this].concat(n))),"onLocationError",(function(t){e.props.onLocateError(t.message),e.props.changeLocateState("DISABLED")})),w(g(e),"locateControlState",(function(t){"requesting"===t.state&&"LOCATING"!==e.props.status?e.props.changeLocateState("LOCATING"):"following"!==t.state||e.fol?"active"===t.state&&"ENABLED"!==e.props.status&&e.props.changeLocateState("ENABLED"):e.props.changeLocateState("FOLLOWING")})),e}return t=i,(n=[{key:"componentDidMount",value:function(){this.props.map&&(this.locate=new l.a.Control.MSLocate(this.mergeOptions(this.props)),this.locate.setMap(this.props.map),this.props.map.on("locatestatus",this.locateControlState),this.locate.options.onLocationError=this.onLocationError,this.locate.options.onLocationOutsideMapBounds=this.onLocationError),this.props.status.enabled&&this.locate.start()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.fol=!1,e.status!==this.props.status&&("ENABLED"!==e.status||this.locate._active?"FOLLOWING"===e.status&&this.locate._active&&!this.locate._following?(this.fol=!0,this.locate.stop(),this.locate.start()):"DISABLED"===e.status&&(this.locate._following=!1,this.locate.stop()):this.locate.start()),e.messages!==this.props.messages&&(this.locate.setStrings(e.messages),"DISABLED"!==e.status&&this.locate.drawMarker(this.locate._map)),e.maxZoom!==this.props.maxZoom&&this.locate.setLocateOptions(this.mergeOptions(e).locateOptions)}},{key:"render",value:function(){return null}},{key:"mergeOptions",value:function(e){return _(_({},O),{},{locateOptions:_(_({},O.locateOptions),{},{maxZoom:e.maxZoom})})}}])&&d(t.prototype,n),r&&d(t,r),i}(a.a.Component);w(j,"displayName","Locate"),w(j,"propTypes",{map:o.a.object,status:o.a.string,messages:o.a.object,maxZoom:o.a.number,changeLocateState:o.a.func,onLocateError:o.a.func}),w(j,"defaultProps",{id:"overview",status:"DISABLED",maxZoom:1/0,changeLocateState:function(){},onLocateError:function(){}}),t.default=j},"./MapStore2/web/client/components/map/leaflet/Map.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n("./MapStore2/web/client/libs/leaflet.js"),d=n("./node_modules/prop-types/index.js"),h=n("./node_modules/react/index.js"),m=n("./MapStore2/web/client/utils/ConfigUtils.js").default,y=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),g=y.reprojectBbox,b=y.reproject,v=n("./node_modules/object-assign/index.js"),_=n("./MapStore2/web/client/utils/MapUtils.js"),w=_.getGoogleMercatorResolutions,O=_.EXTENT_TO_ZOOM_HOOK,j=_.RESOLUTIONS_HOOK,S=_.COMPUTE_BBOX_HOOK,E=_.GET_PIXEL_FROM_COORDINATES_HOOK,x=_.GET_COORDINATES_FROM_PIXEL_HOOK,P=_.ZOOM_TO_EXTENT_HOOK,M=_.registerHook,L=n("./node_modules/rxjs/Rx.js"),T=n("./MapStore2/node_modules/lodash/lodash.js").throttle;n("./MapStore2/web/client/components/map/leaflet/SingleClick.js");var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,n,r,l=s(c);function c(){var e;o(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(u(e=l.call.apply(l,[this].concat(n))),"state",{}),p(u(e),"getDocument",(function(){return e.props.document||document})),p(u(e),"getResolutions",(function(){return e.props.resolutions})),p(u(e),"_updateMapPositionFromNewProps",(function(t){var n=function(e,t){return void 0!==e&&void 0!==t&&e.toFixed(12)-t.toFixed(12)==0},r=t.center,o=e.props.center,i=e.map.getCenter(),a=n(r.x,o.x)&&n(r.y,o.y)||n(r.x,i.lng)&&n(r.y,i.lat),s=t.zoom,l=e.props.zoom,u=e.map.getZoom(),c=s===l||s===u;a||c?c?a||e.map.setView([t.center.y,t.center.x]):e.map.setZoom(t.zoom):e.map.setView([t.center.y,t.center.x],Math.round(t.zoom))})),p(u(e),"updateMapInfoState",(function(){var t=e.map.getBounds().toBBoxString().split(","),n={height:e.map.getSize().y,width:e.map.getSize().x},r=e.map.getCenter();e.props.onMapViewChanges({x:r.lng,y:r.lat,crs:"EPSG:4326"},e.map.getZoom(),{bounds:{minx:parseFloat(t[0]),miny:parseFloat(t[1]),maxx:parseFloat(t[2]),maxy:parseFloat(t[3])},crs:"EPSG:4326",rotation:0},n,e.props.id,e.props.projection)})),p(u(e),"setMousePointer",(function(t){e.map&&(e.map.getContainer().style.cursor=t||"auto")})),p(u(e),"mouseMoveEvent",(function(t){var n=t.latlng.wrap();e.props.onMouseMove({x:n.lng||0,y:n.lat||0,z:e.elevationLayer&&e.elevationLayer.getElevation(n,t.containerPoint)||void 0,crs:"EPSG:4326",pixel:{x:t.containerPoint.x,y:t.containerPoint.x},latlng:{lat:t.latlng.lat,lng:t.latlng.lng,z:e.elevationLayer&&e.elevationLayer.getElevation(t.latlng,t.containerPoint)||void 0},rawPos:[t.latlng.lat,t.latlng.lng]})})),p(u(e),"registerHooks",(function(){e.props.hookRegister.registerHook(O,(function(t){var n=b([t[0],t[1]],e.props.projection,"EPSG:4326"),r=b([t[2],t[3]],e.props.projection,"EPSG:4326");return e.map.getBoundsZoom([[n.y,n.x],[r.y,r.x]])-1})),e.props.hookRegister.registerHook(j,(function(){return e.getResolutions()})),e.props.hookRegister.registerHook(S,(function(t,n){var r=f.latLng([t.y,t.x]),o=e.map._getNewPixelOrigin(r,n),i=new f.Bounds(o,o.add(e.map.getSize())),a=e.map.unproject(i.getBottomLeft(),n),s=e.map.unproject(i.getTopRight(),n),l=new f.LatLngBounds(a,s).toBBoxString().split(",");return{bounds:{minx:parseFloat(l[0]),miny:parseFloat(l[1]),maxx:parseFloat(l[2]),maxy:parseFloat(l[3])},crs:"EPSG:4326",rotation:0}})),e.props.hookRegister.registerHook(E,(function(t){var n=b(t,e.props.projection,"EPSG:4326"),r=e.map.latLngToContainerPoint([n.y,n.x]);return[r.x,r.y]})),e.props.hookRegister.registerHook(x,(function(t){var n=e.map.containerPointToLatLng(t),r=b([n.lng,n.lat],"EPSG:4326",e.props.projection);return[r.x,r.y]})),e.props.hookRegister.registerHook(P,(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.padding,o=n.crs,i=n.maxZoom,a=n.duration,s=r&&f.point(r.left||0,r.top||0),l=r&&f.point(r.right||0,r.bottom||0),u=g(t,o,"EPSG:4326");e.map.fitBounds([[u[1],u[0]],[u[3],u[2]]],{paddingTopLeft:s,paddingBottomRight:l,maxZoom:i,duration:a,animate:0!==a&&void 0})}))})),p(u(e),"addLayerObservable",(function(t,n){!t.layer.layerId||t.layer&&t.layer.options&&"vector"===t.layer.options.msLayer||t&&t.layer&&t.layer.on&&n&&(t.layer._ms2LoadingTileCount=0,t.layer.layerLoadingStream$=new L.Subject,t.layer.layerLoadStream$=new L.Subject,t.layer.layerErrorStream$=new L.Subject,t.layer.layerErrorStream$.bufferToggle(t.layer.layerLoadingStream$,(function(){return t.layer.layerLoadStream$})).subscribe({next:function(n){var r=t.layer._ms2LoadingTileCount||n&&n.length||0;n&&n.length>0&&e.props.onLayerError(n[0].target.layerId,r,n.length),t.layer._ms2LoadingTileCount=0}}))})),e}return t=c,(n=[{key:"UNSAFE_componentWillMount",value:function(){if(this.zoomOffset=0,this.props.mapOptions&&this.props.mapOptions.view&&this.props.mapOptions.view.resolutions&&this.props.mapOptions.view.resolutions.length>0){var e=f.CRS.EPSG3857.scale,t=this.props.mapOptions.view.resolutions[0]/w(0,23)[0];this.crs=v({},f.CRS.EPSG3857,{scale:function(n){return e.call(f.CRS.EPSG3857,n)/Math.pow(2,Math.round(Math.log2(t)))}}),this.zoomOffset=Math.round(Math.log2(t))}}},{key:"componentDidMount",value:function(){var e=this,t=this.props.limits,n=void 0===t?{}:t,r=n.restrictedExtent&&n.crs&&g(n.restrictedExtent,n.crs,"EPSG:4326"),o=v({},this.props.interactive?{}:{dragging:!1,touchZoom:!1,scrollWheelZoom:!1,doubleClickZoom:!1,boxZoom:!1,tap:!1,attributionControl:!1,maxBounds:r&&f.latLngBounds([[r[1],r[0]],[r[3],r[2]]]),maxBoundsViscosity:r&&1,minZoom:n&&n.minZoom,maxZoom:n&&n.maxZoom||23},this.props.mapOptions,this.crs?{crs:this.crs}:{}),i=f.map(this.getDocument().getElementById(this.props.id),v({zoomControl:!1},o)).setView([this.props.center.y,this.props.center.x],Math.round(this.props.zoom));this.map=i,this.props.zoomControl&&(this.mapZoomControl=f.control.zoom(),this.map.addControl(this.mapZoomControl)),this.attribution=f.control.attribution(),this.attribution.addTo(this.map);var a=this.getDocument();this.props.mapOptions.attribution&&this.props.mapOptions.attribution.container&&(a.querySelector(this.props.mapOptions.attribution.container).appendChild(this.attribution.getContainer()),a.querySelector(".leaflet-control-container .leaflet-control-attribution")&&a.querySelector(".leaflet-control-container .leaflet-control-attribution").parentNode.removeChild(a.querySelector(".leaflet-control-container .leaflet-control-attribution"))),this.map.on("moveend",this.updateMapInfoState),this.map.on("singleclick",(function(t){e.props.onClick&&e.props.onClick({pixel:{x:t.containerPoint.x,y:t.containerPoint.y},latlng:{lat:t.latlng.lat,lng:t.latlng.lng,z:e.elevationLayer&&e.elevationLayer.getElevation(t.latlng,t.containerPoint)||void 0},rawPos:[t.latlng.lat,t.latlng.lng],modifiers:{alt:t.originalEvent.altKey,ctrl:t.originalEvent.ctrlKey,metaKey:t.originalEvent.metaKey,shift:t.originalEvent.shiftKey}})}));var s=T(this.mouseMoveEvent,100);this.map.on("dragstart",(function(){e.map.off("mousemove",s)})),this.map.on("dragend",(function(){e.map.on("mousemove",s)})),this.map.on("mousemove",s),this.map.on("contextmenu",(function(){e.props.onRightClick&&e.props.onRightClick(event.containerPoint)})),this.map.on("mouseout",(function(){setTimeout((function(){return e.props.onMouseOut()}),150)})),this.updateMapInfoState(),this.setMousePointer(this.props.mousePointer),this.forceUpdate(),this.map.on("layeradd",(function(t){if(t.layer._ms2Added){var n=t.layer.layerLoadingStream$&&t.layer.layerLoadingStream$.isStopped;e.addLayerObservable(t,n)}else t.layer._ms2Added=!0,t.layer.getElevation&&(e.elevationLayer=t.layer),t.layer.layerId&&(t.layer&&t.layer.options&&"vector"===t.layer.options.msLayer||t&&t.layer&&t.layer.on&&(e.addLayerObservable(t,!0),t.layer.options&&t.layer.options.hideLoading||(e.props.onLayerLoading(t.layer.layerId),t.layer.layerLoadingStream$.next()),t.layer.on("loading",(function(n){e.props.onLayerLoading(n.target.layerId),t.layer.layerLoadingStream$.next()})),t.layer.on("load",(function(n){e.props.onLayerLoad(n.target.layerId),t.layer.layerLoadStream$.next()})),t.layer.on("tileloadstart ",(function(){t.layer._ms2LoadingTileCount++})),(t.layer.options&&!t.layer.options.hideErrors||!t.layer.options)&&t.layer.on("tileerror",(function(e){t.layer.layerErrorStream$.next(e)})),t.layer.on("loaderror",(function(t){e.props.onLayerError(t.target.layerId)}))))})),this.map.on("layerremove",(function(e){e.layer.layerLoadingStream$&&(e.layer.layerLoadingStream$.complete(),e.layer.layerLoadStream$.complete(),e.layer.layerErrorStream$.complete())})),this.drawControl=null,this.props.registerHooks&&this.registerHooks()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this;if(e.mousePointer!==this.props.mousePointer&&this.setMousePointer(e.mousePointer),this.map&&e.mapStateSource!==this.props.id&&this._updateMapPositionFromNewProps(e),e.zoomControl!==this.props.zoomControl&&(e.zoomControl?(this.mapZoomControl=f.control.zoom(),this.map.addControl(this.mapZoomControl)):this.mapZoomControl&&!e.zoomControl&&(this.map.removeControl(this.mapZoomControl),this.mapZoomControl=void 0)),e.resize!==this.props.resize&&setTimeout((function(){t.map&&t.map.invalidateSize(!1)}),0),this.props.limits!==e.limits){var n=e.limits,r=void 0===n?{}:n,o=this.props.limits;if(r.restrictedExtent!==(o&&o.restrictedExtent)){var i=r.restrictedExtent&&r.crs&&g(r.restrictedExtent,r.crs,"EPSG:4326");this.map.setMaxBounds(r.restrictedExtent&&f.latLngBounds([[i[1],i[0]],[i[3],i[2]]]))}r.minZoom!==(o&&o.minZoom)&&this.map.setMinZoom(r.minZoom)}return!1}},{key:"componentWillUnmount",value:function(){var e=this.getDocument(),t=this.props.mapOptions.attribution&&this.props.mapOptions.attribution.container&&e.querySelector(this.props.mapOptions.attribution.container);if(t&&this.attribution.getContainer()&&t.querySelector(".leaflet-control-attribution"))try{t.removeChild(this.attribution.getContainer())}catch(e){}this.mapZoomControl&&(this.map.removeControl(this.mapZoomControl),this.mapZoomControl=void 0),this.map.off(),this.map.remove(),this.map=void 0}},{key:"render",value:function(){var e=this,t=this.map,n=this.props.projection,r=t?h.Children.map(this.props.children,(function(r){return r?h.cloneElement(r,{map:t,projection:n,zoomOffset:e.zoomOffset,onCreationError:e.props.onCreationError,onClick:e.props.onClick}):null})):null;return h.createElement("div",{id:this.props.id,style:this.props.style},r)}}])&&i(t.prototype,n),r&&i(t,r),c}(h.Component);p(C,"propTypes",{id:d.string,document:d.object,center:m.PropTypes.center,zoom:d.number.isRequired,mapStateSource:m.PropTypes.mapStateSource,style:d.object,projection:d.string,onMapViewChanges:d.func,onClick:d.func,onRightClick:d.func,mapOptions:d.object,limits:d.object,zoomControl:d.bool,mousePointer:d.string,onMouseMove:d.func,onLayerLoading:d.func,onLayerLoad:d.func,onLayerError:d.func,resize:d.number,measurement:d.object,changeMeasurementState:d.func,registerHooks:d.bool,interactive:d.bool,resolutions:d.array,hookRegister:d.object,onCreationError:d.func,onMouseOut:d.func}),p(C,"defaultProps",{id:"map",onMapViewChanges:function(){},onCreationError:function(){},onClick:null,onMouseMove:function(){},zoomControl:!0,mapOptions:{zoomAnimation:!0,attributionControl:!1},projection:"EPSG:3857",center:{x:13,y:45,crs:"EPSG:4326"},zoom:5,onLayerLoading:function(){},onLayerLoad:function(){},onLayerError:function(){},resize:0,registerHooks:!0,hookRegister:{registerHook:M},style:{},interactive:!0,resolutions:w(0,23),onMouseOut:function(){}}),e.exports=C},"./MapStore2/web/client/components/map/leaflet/MeasurementSupport.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=n("./node_modules/prop-types/index.js"),g=n("./node_modules/react/index.js"),b=n("./node_modules/object-assign/index.js"),v=n("./MapStore2/web/client/libs/leaflet.js"),_=n("./MapStore2/node_modules/lodash/lodash.js").slice,w=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),O=w.reproject,j=w.calculateAzimuth,S=w.calculateDistance,E=w.transformLineToArcs,x=n("./MapStore2/web/client/utils/MeasureUtils.js"),P=x.convertUom,M=x.getFormattedBearingValue;n("./node_modules/leaflet-draw/dist/leaflet.draw.js");var L={km:2,ha:2,m:2,mi:2,ac:2,yd:0,ft:0,nm:2,sqkm:2,sqha:2,sqm:2,sqmi:2,sqac:2,sqyd:2,sqft:2,sqnm:2};v.getMeasureWithTreshold=function(e,t,n,r,o,i,a){return e>t?v.GeometryUtil.formattedNumber(P(e,n,r),o[r])+" "+a:v.GeometryUtil.formattedNumber(e,o[n])+" "+i};var T=v.GeometryUtil.readableDistance;v.GeometryUtil.readableDistance=function(e,t,n,r,o,i){if(!i)return T.apply(null,arguments);if("Bearing"===i.geomType)return i.bearing;var a=v.Util.extend({},L,o),s=i.uom.length,l=s.unit,u=s.label,c=v.GeometryUtil.formattedNumber(P(e,"m",l),a[l])+" "+u;return i.useTreshold&&(t&&(c=v.getMeasureWithTreshold(e,1e3,"m","km",a,"m","km")),"mi"===l&&(c=v.getMeasureWithTreshold(P(e,"m","yd"),1760,"yd","mi",a,"yd","mi"))),c};var C=v.GeometryUtil.readableArea;v.GeometryUtil.readableArea=function(e,t,n,r){if(!r)return C.apply(null,arguments);var o=r.uom.area,i=o.unit,a=o.label,s=v.Util.extend({},L,n),l=v.GeometryUtil.formattedNumber(P(e,"sqm",i),s[i])+" "+a;return r.useTreshold&&(t&&(l=v.getMeasureWithTreshold(e,1e6,"sqm","sqkm",s,"m²","km²")),"sqmi"===i&&(l=v.getMeasureWithTreshold(P(e,"sqm","sqyd"),3097600,"sqyd","sqmi",s,"yd²","mi²"))),l};var k=v.Draw.Polygon.prototype._getMeasurementString;v.Draw.Polygon.prototype._getMeasurementString=function(){if(!this.options.uom)return k.apply(this,arguments);var e=this._area,t="";if(!e&&!this.options.showLength)return null;if(this.options.showLength&&(t=v.Draw.Polyline.prototype._getMeasurementString.call(this)),e){var n={uom:this.options.uom,useTreshold:this.options.useTreshold};t+=this.options.showLength?"<br>":""+v.GeometryUtil.readableArea(e,this.options.metric,this.options.precision,n)}return t};var I=v.Draw.Polyline.prototype._getMeasurementString;v.Draw.Polyline.prototype._getMeasurementString=function(){if(!this.options.uom)return I.apply(this,arguments);var e,t=this._currentLatLng,n=this._markers[this._markers.length-1].getLatLng();e=v.GeometryUtil.isVersion07x()?n&&t&&t.distanceTo?this._measurementRunningTotal+t.distanceTo(n)*(this.options.factor||1):this._measurementRunningTotal||0:n&&t?this._measurementRunningTotal+this._map.distance(t,n)*(this.options.factor||1):this._measurementRunningTotal||0;var r={uom:this.options.uom,useTreshold:this.options.useTreshold,geomType:this.options.geomType,bearing:this.options.bearing?M(this.options.bearing,this.options.trueBearing):0};return v.GeometryUtil.readableDistance(e,this.options.metric,this.options.feet,this.options.nautic,this.options.precision,r)};var D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(s,e);var t,n,r,o=p(s);function s(){var e;l(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(d(e=o.call.apply(o,[this].concat(n))),"onDrawStart",(function(){e.props.map.off("click",e.restartDrawing,d(e)),e.removeArcLayer(),e.props.map.doubleClickZoom&&e.props.map.doubleClickZoom.disable(),e.drawing=!0})),m(d(e),"onDrawCreated",(function(t){e.drawing=!1,e.props.map.addLayer(t.layer),e.lastLayer=t.layer;var n=e.lastLayer&&e.lastLayer.toGeoJSON()||{};if("LineString"===e.props.measurement.geomType&&(n=b({},n,{geometry:b({},n.geometry,{coordinates:E(n.geometry.coordinates)})})),"Point"===e.props.measurement.geomType){var r=e.drawControl._marker.getLatLng(),o={x:r.lng,y:r.lat,srs:"EPSG:4326"},i=b({},e.props.measurement,{point:o,feature:n});e.props.changeMeasurementState(i)}else{var a=b({},e.props.measurement,{feature:n});e.props.changeMeasurementState(a)}e.props.measurement.lineMeasureEnabled&&e.lastLayer&&e.addArcsToMap([n]),setTimeout((function(){e.props.map.off("click",e.restartDrawing,d(e)),e.props.map.on("click",e.restartDrawing,d(e))}),100)})),m(d(e),"onDrawVertex",(function(){var t=e.drawControl._markers||[];"Bearing"===e.props.measurement.geomType&&t.length>=2?setTimeout((function(){e.drawControl._markers=_(e.drawControl._markers,0,2),e.drawControl._poly._latlngs=_(e.drawControl._poly._latlngs,0,2),e.drawControl._poly._originalPoints=_(e.drawControl._poly._originalPoints,0,2),e.updateMeasurementResults(),e.drawControl._finishShape(),e.drawControl.disable()}),100):e.updateMeasurementResults()})),m(d(e),"addArcsToMap",(function(t){e.removeLastLayer();var n=t.map((function(e){return b({},e,{geometry:b({},e.geometry,{coordinates:E(e.geometry.coordinates)})})}));e.arcLayer=v.geoJson(n,{style:{color:"#ffcc33",opacity:1,weight:1,fillColor:"#ffffff",fillOpacity:.2,clickable:!1}}),e.props.map.addLayer(e.arcLayer),n&&n.length>0&&e.arcLayer.addData(n)})),m(d(e),"updateMeasurementResults",(function(){if(e.drawing&&e.drawControl){var t=0,n=0,r=0,o=e.drawControl._currentLatLng;if("LineString"===e.props.measurement.geomType&&e.drawControl._markers&&e.drawControl._markers.length>1){var i=e.drawControl._markers.reduce((function(e,t){var n=t.getLatLng(),r=n.lng,o=n.lat;return[].concat(a(e),[[r,o]])}),[]);t=S(i,e.props.measurement.lengthFormula)}else if("Polygon"===e.props.measurement.geomType&&e.drawControl._poly){var s=[].concat(a(e.drawControl._poly.getLatLngs()),[o]);n=v.GeometryUtil.geodesicArea(s)}else"Bearing"===e.props.measurement.geomType&&e.drawControl._markers&&e.drawControl._markers.length>0&&(r=e.calculateBearing());var l=b({},e.props.measurement,{point:null,len:t,area:n,bearing:r});e.props.changeMeasurementState(l)}})),m(d(e),"restartDrawing",(function(){e.props.map.off("click",e.restartDrawing,d(e)),e.props.map.doubleClickZoom&&e.props.map.doubleClickZoom.enable(),e.props.map.removeLayer(e.lastLayer),e.drawControl.enable(),e.drawing=!0})),m(d(e),"addDrawInteraction",(function(t){if(e.removeDrawInteraction(),e.props.map.on("draw:created",e.onDrawCreated,d(e)),e.props.map.on("draw:drawstart",e.onDrawStart,d(e)),e.props.map.on("draw:drawvertex",e.onDrawVertex,d(e)),e.props.map.on("mousemove",e.updateBearing,d(e)),e.props.updateOnMouseMove&&e.props.map.on("mousemove",e.updateMeasurementResults,d(e)),"Point"===t.measurement.geomType)e.drawControl=new v.Draw.Marker(e.props.map,{repeatMode:!1});else if("LineString"===t.measurement.geomType||"Bearing"===t.measurement.geomType){var n=e.uomLengthOptions(t);e.drawControl=new v.Draw.Polyline(e.props.map,i(i({shapeOptions:{color:"#ffcc33",weight:2},showLength:!0,useTreshold:t.useTreshold,uom:t.uom,geomType:t.measurement.geomType},n),{},{repeatMode:!1,icon:new v.DivIcon({iconSize:new v.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new v.DivIcon({iconSize:new v.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),trueBearing:t.measurement.trueBearing}))}else if("Polygon"===t.measurement.geomType){var r=e.uomAreaOptions(t);e.drawControl=new v.Draw.Polygon(e.props.map,i(i({shapeOptions:{color:"#ffcc33",weight:2,fill:"rgba(255, 255, 255, 0.2)"},showArea:!0,allowIntersection:!1,showLength:!1,repeatMode:!1,useTreshold:t.useTreshold,uom:t.uom,geomType:t.measurement.geomType},r),{},{icon:new v.DivIcon({iconSize:new v.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new v.DivIcon({iconSize:new v.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"})}))}e.drawControl.enable()})),m(d(e),"removeDrawInteraction",(function(){null!==e.drawControl&&void 0!==e.drawControl&&(e.drawControl.disable(),e.drawControl=null,e.removeLastLayer(),e.removeArcLayer(),e.props.map.off("draw:created",e.onDrawCreated,d(e)),e.props.map.off("draw:drawstart",e.onDrawStart,d(e)),e.props.map.off("draw:drawvertex",e.onDrawVertex,d(e)),e.props.map.off("mousemove",e.updateBearing,d(e)),e.props.map.off("click",e.restartDrawing,d(e)),e.props.updateOnMouseMove&&e.props.map.off("mousemove",e.updateMeasurementResults,d(e)),e.props.map.doubleClickZoom&&e.props.map.doubleClickZoom.enable())})),m(d(e),"removeLastLayer",(function(){e.lastLayer&&e.props.map.removeLayer(e.lastLayer)})),m(d(e),"removeArcLayer",(function(){e.arcLayer&&e.props.map.removeLayer(e.arcLayer)})),m(d(e),"uomLengthOptions",(function(e){var t=e.uom.length.unit;return{metric:"m"===t||"km"===t,nautic:"nm"===t,feet:"ft"===t}})),m(d(e),"uomAreaOptions",(function(e){var t=e.uom.area.unit;return{metric:"sqm"===t||"sqkm"===t,nautic:"sqnm"===t,feet:"sqft"===t}})),m(d(e),"calculateBearing",(function(){var t,n=e.drawControl._currentLatLng,r=e.drawControl._markers,o=[r[0].getLatLng().lng,r[0].getLatLng().lat];return 1===r.length?t=[n.lng,n.lat]:2===r.length&&(t=[r[1].getLatLng().lng,r[1].getLatLng().lat]),o=O(o,"EPSG:4326",e.props.projection),t=O(t,"EPSG:4326",e.props.projection),j(o,t,e.props.projection)})),m(d(e),"updateBearing",(function(){if("Bearing"===e.props.measurement.geomType&&e.drawControl._markers&&e.drawControl._markers.length>0){var t=e.props.measurement&&e.props.measurement.trueBearing;e.drawControl.setOptions({bearing:e.calculateBearing(),trueBearing:t})}})),e}return t=s,(n=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){if((e&&e.uom&&e.uom.length&&e.uom.length.unit)!==(this.props&&this.props.uom&&this.props.uom.length&&this.props.uom.length.unit)&&this.drawControl){var t=this.uomLengthOptions(e);this.drawControl.setOptions(i(i({},t),{},{uom:e.uom}))}if((e&&e.uom&&e.uom.area&&e.uom.area.unit)!==(this.props&&this.props.uom&&this.props.uom.area&&this.props.uom.area.unit)&&this.drawControl){var n=this.uomAreaOptions(e);this.drawControl.setOptions(i(i({},n),{},{uom:e.uom}))}(e.measurement.geomType&&e.measurement.geomType!==this.props.measurement.geomType||e.measurement.geomType&&this.props.measurement.geomType&&(e.measurement.lineMeasureEnabled||e.measurement.areaMeasureEnabled||e.measurement.bearingMeasureEnabled)&&!this.props.enabled&&e.enabled)&&this.addDrawInteraction(e),e.measurement.geomType||this.removeDrawInteraction()}},{key:"render",value:function(){var e=this.props.messages||!!this.context.messages&&this.context.messages.drawLocal;return e&&(v.drawLocal=e),null}}])&&u(t.prototype,n),r&&u(t,r),s}(g.Component);m(D,"displayName","MeasurementSupport"),m(D,"propTypes",{map:y.object,metric:y.bool,feet:y.bool,nautic:y.bool,enabled:y.bool,useTreshold:y.bool,projection:y.string,measurement:y.object,changeMeasurementState:y.func,messages:y.object,uom:y.object,updateOnMouseMove:y.bool}),m(D,"contextTypes",{messages:y.object}),m(D,"defaultProps",{uom:{length:{unit:"m",label:"m"},area:{unit:"sqm",label:"m²"}},updateOnMouseMove:!1,metric:!0,nautic:!1,useTreshold:!1,feet:!1}),e.exports=D},"./MapStore2/web/client/components/map/leaflet/Overview.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=n("./node_modules/prop-types/index.js"),f=n("./node_modules/react/index.js"),d=n("./node_modules/leaflet-minimap/dist/Control.MiniMap.min.js"),h=n("./MapStore2/web/client/libs/leaflet.js"),m=n("./MapStore2/web/client/utils/leaflet/Layers.js"),y=n("./node_modules/object-assign/index.js");n("./MapStore2/web/client/components/map/leaflet/overview.css");var g={position:"bottomright",width:300,height:150,collapsedWidth:25,collapsedHeight:25,zoomLevelOffset:-5,zoomLevelFixed:null,zoomAnimation:!1,toggleDisplay:!0,autoToggleDisplay:!1,minimized:!0},b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,n,r,l=s(u);function u(){return o(this,u),l.apply(this,arguments)}return t=u,(n=[{key:"componentDidMount",value:function(){var e=y({},g,this.props.overviewOpt);if(this.props.layers){var t=[];this.props.layers.forEach((function(e){t.push(m.createLayer(e.type,e.options||{}))})),1===t.length?this.overview=new d(t[0],e):t.length>1&&(this.overview=new d(h.layerGroup(t),e))}this.props.map&&this.overview&&this.overview.addTo(this.props.map)}},{key:"render",value:function(){return null}}])&&i(t.prototype,n),r&&i(t,r),u}(f.Component);c(b,"displayName","Overview"),c(b,"propTypes",{map:p.object,overviewOpt:p.object,layers:p.array}),c(b,"defaultProps",{id:"overview",overviewOpt:{},layers:[{type:"osm",options:{}}]}),e.exports=b},"./MapStore2/web/client/components/map/leaflet/PopupSupport.jsx":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return P}));var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/react-dom/index.js"),a=n.n(i),s=n("./node_modules/prop-types/index.js"),l=n.n(s),u=n("./MapStore2/web/client/libs/leaflet.js"),c=n.n(u),p=n("./MapStore2/node_modules/lodash/isString.js"),f=n.n(p),d=n("./MapStore2/web/client/utils/PopupUtils.js"),h=n("./MapStore2/web/client/components/map/popups/index.js");function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var o=S(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?j(e):t}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=function(e,t){var n=new MutationObserver((function(){e.update()}));e.once("remove",(function(){n&&n.disconnect(),n=null})),n.observe(t,{attributes:!0,childList:!0,subtree:!0})},P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(s,e);var t,n,r,i=w(s);function s(){var e;b(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return E(j(e=i.call.apply(i,[this].concat(n))),"updatePopup",(function(){(e._popups||[]).map((function(e){return e.popup.update()}))})),E(j(e),"popupClose",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.target,r=(n=void 0===n?{}:n).options,o=(r=void 0===r?{}:r).id;o&&e.props.onPopupClose(o)})),E(j(e),"preparePopups",(function(){var t=e.props,n=t.popups,r=void 0===n?[]:n,o=t.map,i=e.props.map.getSize();return(e._popups||[]).forEach((function(t){var n=t.popup;n.off("remove",e.popupClose),n&&e.props.map.removeLayer(n)})),e._popups=r.map((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=.9*i.x,r=.9*i.y,a=t.id,s=t.position.coordinates,l=t.component,u=t.content,p=t.className,f=t.maxWidth,h=void 0===f?n:f,m=t.maxHeight,y=void 0===m?r:m,b=t.autoPan,v=void 0===b||b,_=t.offset,w=void 0===_?[0,7]:_,O=h>n?n:h,j=y>r?r:y,S=d.b(a,p);S.setAttribute("style","max-width: ".concat(O,"px; max-height: ").concat(j,"px")),d.a(S,u);var E=c.a.popup({id:a,autoClose:!1,closeOnClick:!1,autoPan:v,autoPanPadding:c.a.point(70,70),maxWidth:O,maxHeight:j,className:"ms-leaflet-popup",offset:w}).setContent(S);return E.once("remove",e.popupClose),l&&x(E,S),E.setLatLng(s),o.addLayer(E),g({popup:E},t)})),e._popups})),E(j(e),"stopPropagationOnMouseMove",(function(e){e.stopPropagation()})),E(j(e),"fireMouseOutEvent",(function(){e.props.map.fireEvent("mouseout")})),e}return t=s,(n=[{key:"componentWillMount",value:function(){this.props.map&&(this.props.map.getContainer().querySelector(".leaflet-popup-pane").addEventListener("mousemove",this.stopPropagationOnMouseMove),this.props.map.getContainer().querySelector(".leaflet-popup-pane").addEventListener("mouseenter",this.fireMouseOutEvent))}},{key:"componentDidMount",value:function(){this.props.map&&this.props.map.on("resize",this.updatePopup)}},{key:"shouldComponentUpdate",value:function(e){return e.popups!==this.props.popups}},{key:"componentWillUnmount",value:function(){var e=this;(this._popups||[]).forEach((function(t){var n,r,o=t.popup;o.off("remove",e.popupClose),o&&(null===(n=e.props.map)||void 0===n||null===(r=n.removeLayer)||void 0===r||r.call(n,o))})),this.props.map&&(this.props.map.off("resize",this.updatePopup),this.props.map.getContainer().removeEventListener("mousemove",this.stopPropagationOnMouseMove),this.props.map.getContainer().removeEventListener("mouseenter",this.fireMouseOutEvent))}},{key:"renderPopups",value:function(){return this.preparePopups().filter((function(e){return!!e.component})).map((function(e){var t=e.popup,n=e.props,r=void 0===n?{}:n,i=e.component,s=e.id,l=t.getContent(),u=f()(i)&&h.default[i]||i,c=o.a.isValidElement(u)&&u||o.a.createElement(u,r);return l?a.a.createPortal(c,l,s):null}))}},{key:"render",value:function(){return o.a.createElement("div",null,this.renderPopups())}}])&&v(t.prototype,n),r&&v(t,r),s}(o.a.Component);E(P,"propTypes",{map:l.a.object,popups:l.a.arrayOf(l.a.object),onPopupClose:l.a.func}),E(P,"defaultProps",{popups:[],onPopupClose:function(){}})},"./MapStore2/web/client/components/map/leaflet/ScaleBar.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=n("./node_modules/prop-types/index.js"),f=n("./node_modules/react/index.js"),d=n("./MapStore2/web/client/libs/leaflet.js"),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,n,r,l=s(u);function u(){return o(this,u),l.apply(this,arguments)}return t=u,(n=[{key:"componentDidMount",value:function(){if(this.scalebar=d.control.scale(this.props),this.props.map&&(this.scalebar.addTo(this.props.map),this.props.container)){document.querySelector(this.props.container).appendChild(this.scalebar.getContainer());var e=document.querySelector(".leaflet-control-container .leaflet-control-scale-line");e&&e.parentNode&&e.parentNode.removeChild(e)}}},{key:"componentWillUnmount",value:function(){if(this.props.container&&this.scalebar&&this.scalebar.getContainer())try{document.querySelector(this.props.container).removeChild(this.scalebar.getContainer())}catch(e){}}},{key:"render",value:function(){return null}}])&&i(t.prototype,n),r&&i(t,r),u}(f.Component);c(h,"propTypes",{map:p.object,position:p.oneOf(["topleft","topright","bottomleft","bottomright"]),maxWidth:p.number,metric:p.bool,imperial:p.bool,updateWhenIdle:p.bool,container:p.string}),c(h,"defaultProps",{map:null,position:"bottomleft",maxWidth:100,metric:!0,imperial:!1,updateWhenIdle:!1}),e.exports=h},"./MapStore2/web/client/components/map/leaflet/SingleClick.js":function(e,t,n){var r=n("./MapStore2/web/client/libs/leaflet.js");r.Evented.addInitHook((function(){this._singleClickTimeout=null,this.on("click",this._scheduleSingleClick,this),this.on("dblclick dragstart zoomstart",this._cancelSingleClick,this)})),r.Evented.include({_cancelSingleClick:function(){setTimeout(this._clearSingleClickTimeout.bind(this),0)},_scheduleSingleClick:function(e){this._clearSingleClickTimeout(),this._singleClickTimeout=setTimeout(this._fireSingleClick.bind(this,e),this.options.singleClickTimeout||500)},_fireSingleClick:function(e){e.originalEvent._stopped||this.fire("singleclick",r.Util.extend(e,{type:"singleclick"}))},_clearSingleClickTimeout:function(){null!==this._singleClickTimeout&&(clearTimeout(this._singleClickTimeout),this._singleClickTimeout=null)}})},"./MapStore2/web/client/components/map/leaflet/img/toggle.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAH1JREFUOI3t0DEKAjEQheFP8ERWqfUCeg9rL+adbKxkYRFEY7ERhkUhCZb7wyuGYX5ewkIvK6z/ITpjxOHHPtWKrsh4fJEl3GpF29LoI9sHSS6pZjeTnTD0iOayjFevCI7hOKaJZHpObNIsih/b3WiDSzgaS+5lfrY0Wph4A4kFM89VzdVFAAAAAElFTkSuQmCC"},"./MapStore2/web/client/components/map/leaflet/img/toggle.svg":function(e,t,n){e.exports=n.p+"toggle.svg"},"./MapStore2/web/client/components/map/leaflet/overview.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/map/leaflet/overview.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./MapStore2/web/client/components/map/leaflet/plugins/BingLayer.js":function(e,t,n){var r=n("./MapStore2/web/client/libs/leaflet.js"),o=n("./MapStore2/web/client/utils/leaflet/Layers.js");n("./node_modules/leaflet-plugins/layer/tile/Bing.js");var i=n("./node_modules/object-assign/index.js");r.BingLayer.prototype.loadMetadata=function(){if(!this.metaRequested){this.metaRequested=!0;var e=this,t="_bing_metadata_"+r.Util.stamp(this);window[t]=function(n){e.meta=n,window[t]=void 0;var r=document.getElementById(t);return r.parentNode.removeChild(r),n.errorDetails?(e.fire("load",{layer:e}),e.onError(n)):(e.initMetadata(n),null)};var n="file:"===document.location.protocol?"https":document.location.protocol.slice(0,-1),o=n+"://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.options.type+"?include=ImageryProviders&jsonp="+t+"&key="+this._key+"&UriScheme="+n,i=document.createElement("script");i.type="text/javascript",i.src=o,i.id=t,document.getElementsByTagName("head")[0].appendChild(i)}},r.BingLayer.prototype.onError=function(e){return this.options.onError?this.options.onError(e):null},o.registerType("bing",{create:function(e){var t=e.apiKey,n={subdomains:[0,1,2,3],type:e.name,attribution:"Bing",culture:"",onError:e.onError,maxNativeZoom:e.maxNativeZoom||19,maxZoom:e.maxZoom||23};return e.zoomOffset&&(n=i({},n,{zoomOffset:e.zoomOffset})),new r.BingLayer(t,n)},isValid:function(e){return!e.meta||!e.meta.statusCode||200===e.meta.statusCode}})},"./MapStore2/web/client/components/map/leaflet/plugins/Commons.js":function(e,t,n){var r=n("./MapStore2/web/client/libs/leaflet.js");e.exports=r.TileLayer.extend({initialize:function(e){r.TileLayer.prototype.initialize.call(this,this.url,e)}})},"./MapStore2/web/client/components/map/leaflet/plugins/GoogleLayer.js":function(e,t,n){var r=n("./MapStore2/web/client/utils/leaflet/Layers.js"),o=n("./MapStore2/web/client/libs/leaflet.js");n("./node_modules/leaflet.gridlayer.googlemutant/Leaflet.GoogleMutant.js"),r.registerType("google",(function(e){return o.gridLayer.googleMutant({type:e.name.toLowerCase(),maxNativeZoom:e.maxNativeZoom||18,maxZoom:e.maxZoom||20})}))},"./MapStore2/web/client/components/map/leaflet/plugins/GraticuleLayer.js":function(e,t,n){var r=n("./MapStore2/web/client/utils/leaflet/Layers.js"),o=n("./node_modules/leaflet-simple-graticule/L.SimpleGraticule.js"),i=n("./node_modules/object-assign/index.js");n("./node_modules/leaflet-simple-graticule/L.SimpleGraticule.css"),r.registerType("graticule",{create:function(e){var t=i({interval:20,showOriginLabel:!0,redraw:"move"},e);return o?new o(t):null},isValid:function(){return!!o}})},"./MapStore2/web/client/components/map/leaflet/plugins/MapQuest.js":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n("./MapStore2/web/client/utils/leaflet/Layers.js"),a=n("./MapStore2/web/client/libs/mapquest.js");i.registerType("mapquest",{create:function(e){return a?a.mapLayer(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({maxZoom:23},e)):(e&&e.onError&&e.onError(),!1)},isValid:function(){return!!a}})},"./MapStore2/web/client/components/map/leaflet/plugins/OSMLayer.js":function(e,t,n){var r=n("./MapStore2/web/client/utils/leaflet/Layers.js"),o=n("./MapStore2/web/client/libs/leaflet.js");r.registerType("osm",(function(e){return o.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',zoomOffset:e.zoomOffset||0,maxNativeZoom:e.maxNativeZoom||19,maxZoom:e.maxZoom||23})}))},"./MapStore2/web/client/components/map/leaflet/plugins/TMSLayer.js":function(e,t,n){"use strict";n.r(t);var r=n("./MapStore2/web/client/utils/leaflet/Layers.js"),o=n.n(r),i=n("./MapStore2/web/client/libs/leaflet.js"),a=n.n(i);o.a.registerType("tms",(function(e){return a.a.tileLayer("".concat(e.tileMapUrl,"/{z}/{x}/{y}.").concat(e.extension),{hideErrors:e.hideErrors||!0,tms:!0})}))},"./MapStore2/web/client/components/map/leaflet/plugins/TileProviderLayer.js":function(e,t,n){"use strict";n.r(t);var r=n("./MapStore2/web/client/utils/leaflet/Layers.js"),o=n.n(r),i=n("./MapStore2/web/client/libs/leaflet.js"),a=n.n(i),s=n("./MapStore2/web/client/utils/TileConfigProvider.js");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}o.a.registerType("tileprovider",(function(e){var t=c(s.a.getLayerConfig(e.provider,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({maxZoom:23},e)),2),n=t[0],r=t[1];return a.a.tileLayer(n,r)}))},"./MapStore2/web/client/components/map/leaflet/plugins/VectorLayer.jsx":function(e,t,n){var r=n("./MapStore2/web/client/utils/leaflet/Layers.js"),o=n("./MapStore2/node_modules/lodash/lodash.js").isNil,i=n("./MapStore2/web/client/libs/leaflet.js");r.registerType("vector",{create:function(e){var t=function(e){var t=e.hideLoading,n=i.geoJson([],{pointToLayer:"marker"!==e.styleName?function(t,n){return i.circleMarker(n,t.style||e.style)}:null,hideLoading:t});return n.setOpacity=function(e){!function e(t,n){t.eachLayer&&t.eachLayer((function(t){t.setOpacity&&t.setOpacity(n),e(t,n)}))}(n,e)},n.on("layeradd",(function(t){var r=t.layer;n.setOpacity(o(n.opacity)?e.opacity:n.opacity,r)})),n}(e);return t.opacity=o(e.opacity)?1:e.opacity,t},update:function(e,t,n){t.opacity!==n.opacity&&(e.opacity=t.opacity)},render:function(){return null}})},"./MapStore2/web/client/components/map/leaflet/plugins/WFSLayer.jsx":function(e,t,n){"use strict";n.r(t);var r=n("./MapStore2/node_modules/lodash/lodash.js"),o=n("./MapStore2/web/client/libs/leaflet.js"),i=n.n(o),a=n("./MapStore2/web/client/utils/ColorUtils.js"),s=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),l=n("./MapStore2/web/client/utils/leaflet/Layers.js"),u=n.n(l),c=n("./MapStore2/web/client/utils/VendorParamsUtils.js"),p=n("./MapStore2/web/client/api/WFS.js"),f=n("./MapStore2/web/client/utils/WFSLayerUtils.js");function d(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e,t){e.fireEvent("loading");var n=Object(c.optionsToVendorParams)(t),r=function(){e.fireEvent("loadError")};return Object(p.getFeature)(t.url,t.name,m({outputFormat:"application/json",maxFeatures:1e3,srsname:Object(s.normalizeSRS)("EPSG:4326")},n)).then((function(t){return 200===t.status?(e.clearLayers(),e.addData(t.data),e.fireEvent("load")):(console.error(t),r(new Error("status code of response:"+t.status))),e})).catch((function(e){r()}))},b=function(e){var t=e||{},n=t.color,r=t.fillColor;return m(m({},d(t,["color","fillColor"])),{},{color:Object(a.b)(n,1),fillColor:Object(a.b)(r,1)})},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.style&&e.style[0]||e.style;return b(t)},_=function(e,t){var n=v(t);e.setStyle(n),e.options.style=n,e.styleName=t.styleName},w=function e(t,n){t.eachLayer&&t.eachLayer((function(t){t.setOpacity&&t.setOpacity(n),e(t,n)}))},O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=v(e),o=function(t,r){return"marker"===e.styleName?i.a.marker(r,n):i.a.circleMarker(r,n)},a=new i.a.GeoJSON(t,{pointToLayer:o,style:n});return a.setOpacity=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=m({},a.options.style||{}),n=t.fillOpacity,r=void 0===n?1:n,o=t.opacity,i=void 0===o?1:o,s=m(m({},t),{},{opacity:i*e,fillOpacity:r*e});a.setStyle(b(s)),w(a,e)},a.on("layeradd",(function(){_(a,e),a.setOpacity(Object(r.isNil)(a.opacity)?e.opacity:a.opacity)})),a};u.a.registerType("wfs",{create:function(e){var t=O(e);return g(t,e),t.opacity=Object(r.isNil)(e.opacity)?1:e.opacity,t},update:function(e,t,n){if(t.opacity!==n.opacity&&(e.opacity=t.opacity),Object(f.needsReload)(n,t)&&g(e,t),Object(r.isEqual)(t.style,n.style)||_(e,t),t.styleName!==n.styleName){var o=e.toGeoJSON().features;return O(t,o)}return null},render:function(){return null}})},"./MapStore2/web/client/components/map/leaflet/plugins/WMSLayer.js":function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n("./node_modules/react/index.js"),i=n("./MapStore2/web/client/components/I18N/Message.jsx").default,a=n("./MapStore2/web/client/utils/leaflet/Layers.js"),s=n("./MapStore2/web/client/utils/VendorParamsUtils.js").optionsToVendorParams,l=n("./MapStore2/web/client/utils/leaflet/WMSUtils.js"),u=n("./MapStore2/web/client/libs/leaflet.js"),c=n("./node_modules/object-assign/index.js"),p=n("./MapStore2/node_modules/lodash/lodash.js"),f=p.isArray,d=p.isNil,h=n("./MapStore2/web/client/utils/SecurityUtils.js"),m=h.addAuthenticationToSLD,y=h.addAuthenticationParameter,g=n("./MapStore2/web/client/utils/ElevationUtils.js"),b=g.loadTile,v=g.getElevation,_=n("./MapStore2/web/client/utils/LayersUtils.js").creditsToAttribution,w=n("./MapStore2/web/client/utils/VectorTileUtils.js").isVectorFormat;n("./node_modules/leaflet.nontiledlayer/dist/NonTiledLayer-src.js"),u.NonTiledLayer.WMSCustom=u.NonTiledLayer.WMS.extend({initialize:function(e,t){this._wmsUrl=e;var n=u.extend({},this.defaultWmsParams);for(var r in t)this.options.hasOwnProperty(r)||"CRS"===r.toUpperCase()||"maxNativeZoom"===r||(n[r]=t[r]);this.wmsParams=n,u.setOptions(this,t)},removeParams:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;return t.forEach((function(t){return delete e.wmsParams[t]})),n||this.redraw(),this}}),u.nonTiledLayer.wmsCustom=function(e,t){return new u.NonTiledLayer.WMSCustom(e,t)},u.TileLayer.MultipleUrlWMS=u.TileLayer.WMS.extend({initialize:function(e,t){this._url=e[0],this._urls=e,this._urlsIndex=0;var n=u.extend({},this.defaultWmsParams),r=t.tileSize||this.options.tileSize;for(var o in t.detectRetina&&u.Browser.retina?n.width=n.height=2*r:n.width=n.height=r,t)this.options.hasOwnProperty(o)||"CRS"===o.toUpperCase()||"maxNativeZoom"===o||(n[o]=t[o]);this.wmsParams=n,u.setOptions(this,t)},getTileUrl:function(e){var t=this._map,n=this.options.tileSize,r=e.multiplyBy(n),o=r.add([n,n]),i=this._crs.project(t.unproject(r,e.z)),a=this._crs.project(t.unproject(o,e.z)),s=this._wmsVersion>=1.3&&this._crs===u.CRS.EPSG4326?[a.y,i.x,i.y,a.x].join(","):[i.x,a.y,a.x,i.y].join(",");this._urlsIndex++,this._urlsIndex===this._urls.length&&(this._urlsIndex=0);var l=u.Util.template(this._urls[this._urlsIndex],{s:this._getSubdomain(e)});return l+u.Util.getParamString(this.wmsParams,l,!0)+"&BBOX="+s},removeParams:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;return t.forEach((function(t){return delete e.wmsParams[t]})),n||this.redraw(),this}}),u.tileLayer.multipleUrlWMS=function(e,t){return new u.TileLayer.MultipleUrlWMS(e,t)},u.TileLayer.ElevationWMS=u.TileLayer.MultipleUrlWMS.extend({initialize:function(e,t,n){this._tiles={},this._nodata=n,u.TileLayer.MultipleUrlWMS.prototype.initialize.apply(this,arguments)},_addTile:function(e){var t=this.getTileUrl(e);b(t,e,this._tileCoordsToKey(e))},getElevation:function(e,t){try{var n=this._getTileFromCoords(e),r=v(this._tileCoordsToKey(n),this._getTileRelativePixel(n,t),this.getTileSize().x,this._nodata);return r.available?r.value:o.createElement(i,{msgId:r.message})}catch(e){return o.createElement(i,{msgId:"elevationLoadingError"})}},_getTileFromCoords:function(e){var t=this._map.project(e).divideBy(256).floor();return c(t,{z:this._tileZoom})},_getTileRelativePixel:function(e,t){var n=Math.floor(t.x-this._getTilePos(e).x-this._map._getMapPanePos().x),r=Math.min(this.getTileSize().x-1,Math.floor(t.y-this._getTilePos(e).y-this._map._getMapPanePos().y));return new u.Point(n,r)},_removeTile:function(){},_abortLoading:function(){}}),u.tileLayer.elevationWMS=function(e,t,n){return new u.TileLayer.ElevationWMS(e,t,n)};var O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){return d(e[n])?t:c(t,r({},n,e[n]))}),{})};function j(e){var t=void 0!==e.opacity?e.opacity:1,n=s(e),r=c({},e.baseParams,{attribution:e.credits&&_(e.credits),layers:e.name,styles:e.style||"",format:(w(e.format)?"image/png":e.format)||"image/png",transparent:void 0===e.transparent||e.transparent,tiled:void 0===e.tiled||e.tiled,opacity:t,zIndex:e.zIndex,version:e.version||"1.3.0",tileSize:e.tileSize||256,maxZoom:e.maxZoom||23,maxNativeZoom:e.maxNativeZoom||18},c(e._v_?{_v_:e._v_}:{},n||{}));return m(r,e)}function S(e){return e.map((function(e){return e.split("?")[0]}))}a.registerType("wms",{create:function(e){var t=S(f(e.url)?e.url:[e.url]),n=O(j(e)||{});return t.forEach((function(t){return y(t,n,e.securityToken)})),e.useForElevation?u.tileLayer.elevationWMS(t,n,e.nodata||-9999):e.singleTile?u.nonTiledLayer.wmsCustom(t[0],n):u.tileLayer.multipleUrlWMS(t,n)},update:function(e,t,n){if(n.singleTile!==t.singleTile||n.tileSize!==t.tileSize||n.securityToken!==t.securityToken&&t.visibility){var o=S(f(t.url)?t.url:[t.url]),i=j(t)||{};return o.forEach((function(e){return y(e,i,t.securityToken)})),t.singleTile?u.nonTiledLayer.wmsCustom(o[0],i):u.tileLayer.multipleUrlWMS(o,i)}var a=c({},l.filterWMSParamOptions(j(n)),m(n.params||{},n)),s=c({},l.filterWMSParamOptions(j(t)),m(t.params||{},t)),p=Object.keys(s).filter((function(e){return s[e]!==a[e]})),d=Object.keys(a).filter((function(e){return a[e]!==s[e]})),h={};return d.length>0&&e.removeParams(d,p.length>0),p.length>0&&(h=p.reduce((function(e,t){return c({},e,r({},t,s[t]))}),h),e.setParams(O(c(h,h.params,m(t.params||{},t))))),null}})},"./MapStore2/web/client/components/map/leaflet/plugins/WMTSLayer.js":function(e,t,n){"use strict";n.r(t);var r=n("./MapStore2/web/client/utils/leaflet/Layers.js"),o=n.n(r),i=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),a=n("./MapStore2/web/client/libs/leaflet.js"),s=n.n(a),l=n("./node_modules/object-assign/index.js"),u=n.n(l),c=n("./MapStore2/web/client/utils/SecurityUtils.js"),p=n("./MapStore2/web/client/utils/WMTSUtils.js"),f=n("./MapStore2/web/client/utils/leaflet/WMTS.js"),d=n.n(f),h=n("./MapStore2/node_modules/lodash/lodash.js"),m=n("./MapStore2/web/client/utils/VectorTileUtils.js");s.a.tileLayer.wmts=function(e,t,n){return new d.a(e,t,n)};var y=function(e){var t=function(e){return e.map((function(e){return e.split("?")[0]}))}(Object(h.isArray)(e.url)?e.url:[e.url]),n=function(e){var t=Object(i.normalizeSRS)(e.srs||"EPSG:3857",e.allowedSRS),n=p.getTileMatrixSet(e.tileMatrixSet,t,e.allowedSRS,e.matrixIds);return u()({requestEncoding:e.requestEncoding,layer:e.name,style:e.style||"",format:(Object(m.isVectorFormat)(e.format)?"image/png":e.format)||"image/png",tileMatrixSet:n,version:e.version||"1.0.0",tileSize:e.tileSize||256,CRS:Object(i.normalizeSRS)(e.srs||"EPSG:3857",e.allowedSRS),maxZoom:e.maxZoom||23,maxNativeZoom:e.maxNativeZoom||18},e.params||{})}(e)||{};t.forEach((function(t){return Object(c.addAuthenticationParameter)(t,n,e.securityToken)}));var r=Object(i.normalizeSRS)(e.srs||"EPSG:3857",e.allowedSRS),o=p.getTileMatrix(e,r),a=o.tileMatrixSet,l=o.matrixIds;return s.a.tileLayer.wmts(t,n,{tileMatrixPrefix:e.tileMatrixPrefix||n.tileMatrixSet+":"||r+":",originY:e.originY||20037508.3428,originX:e.originX||-20037508.3428,ignoreErrors:e.ignoreErrors||!1,matrixIds:l,matrixSet:a})};o.a.registerType("wmts",{create:y,update:function(e,t,n){return n.securityToken!==t.securityToken||n.format!==t.format?y(t):null}})},"./MapStore2/web/client/components/map/leaflet/plugins/index.js":function(e,t,n){e.exports={BingLayer:n("./MapStore2/web/client/components/map/leaflet/plugins/BingLayer.js"),Commons:n("./MapStore2/web/client/components/map/leaflet/plugins/Commons.js"),GraticuleLayer:n("./MapStore2/web/client/components/map/leaflet/plugins/GraticuleLayer.js"),GoogleLayer:n("./MapStore2/web/client/components/map/leaflet/plugins/GoogleLayer.js"),MapQuest:n("./MapStore2/web/client/components/map/leaflet/plugins/MapQuest.js"),OSMLayer:n("./MapStore2/web/client/components/map/leaflet/plugins/OSMLayer.js"),TMSLayer:n("./MapStore2/web/client/components/map/leaflet/plugins/TMSLayer.js"),TileProviderLayer:n("./MapStore2/web/client/components/map/leaflet/plugins/TileProviderLayer.js"),WFSLayer:n("./MapStore2/web/client/components/map/leaflet/plugins/WFSLayer.jsx").default,WMSLayer:n("./MapStore2/web/client/components/map/leaflet/plugins/WMSLayer.js"),WMTSLayer:n("./MapStore2/web/client/components/map/leaflet/plugins/WMTSLayer.js"),VectorLayer:n("./MapStore2/web/client/components/map/leaflet/plugins/VectorLayer.jsx")}},"./MapStore2/web/client/components/map/openlayers/BoxSelectionSupport.jsx":function(e,t,n){"use strict";n.r(t);var r,o=n("./node_modules/react/index.js"),i=n("./node_modules/ol/interaction/DragBox.js");t.default=function(e){var t=e.map,n=e.onBoxEnd,a=e.status;return Object(o.useEffect)((function(){"start"===a?(r=new i.a({}),t.addInteraction(r)):"end"===a&&t.removeInteraction(r)}),[a]),Object(o.useEffect)((function(){r&&r.on("boxend",(function(e){n({boxExtent:r.getGeometry().getExtent(),modifiers:{ctrl:e.mapBrowserEvent.pointerEvent.ctrlKey,metaKey:e.mapBrowserEvent.pointerEvent.metaKey}})}))}),[a]),null}},"./MapStore2/web/client/components/map/openlayers/DrawSupport.jsx":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Ee}));var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./MapStore2/node_modules/lodash/concat.js"),a=n.n(i),s=n("./MapStore2/node_modules/lodash/head.js"),l=n.n(s),u=n("./MapStore2/node_modules/lodash/find.js"),c=n.n(u),p=n("./MapStore2/node_modules/lodash/slice.js"),f=n.n(p),d=n("./MapStore2/node_modules/lodash/omit.js"),h=n.n(d),m=n("./MapStore2/node_modules/lodash/isArray.js"),y=n.n(m),g=n("./MapStore2/node_modules/lodash/last.js"),b=n.n(g),v=n("./MapStore2/node_modules/lodash/filter.js"),_=n.n(v),w=n("./MapStore2/node_modules/lodash/isNil.js"),O=n.n(w),j=n("./MapStore2/node_modules/lodash/castArray.js"),S=n.n(j),E=n("./node_modules/prop-types/index.js"),x=n.n(E),P=n("./node_modules/object-assign/index.js"),M=n.n(P),L=n("./node_modules/uuid/index.js"),T=n.n(L),C=n("./node_modules/axios/index.js"),k=n.n(C),I=n("./MapStore2/web/client/utils/MapUtils.js"),D=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),A=n("./MapStore2/web/client/utils/VectorStyleUtils.js"),R=n("./MapStore2/web/client/utils/openlayers/DrawSupportUtils.js"),F=n("./MapStore2/web/client/utils/AnnotationsUtils.js"),N=n("./MapStore2/web/client/components/map/openlayers/VectorStyle.js"),G=n("./node_modules/ol/format/GeoJSON.js"),U=n("./node_modules/ol/Feature.js"),z=n("./node_modules/ol/source/Vector.js"),B=n("./node_modules/ol/layer/Vector.js"),V=n("./node_modules/ol/interaction/Draw.js"),q=n("./node_modules/ol/geom/MultiPoint.js"),W=n("./node_modules/ol/geom/Polygon.js"),H=n("./node_modules/ol/geom/Point.js"),Z=n("./node_modules/ol/geom/LineString.js"),Y=n("./node_modules/ol/geom/MultiLineString.js"),K=n("./node_modules/ol/geom/MultiPolygon.js"),X=n("./node_modules/ol/geom/Circle.js"),J=n("./node_modules/ol/geom/GeometryCollection.js"),Q=n("./node_modules/ol/style/Style.js"),$=n("./node_modules/ol/style/Fill.js"),ee=n("./node_modules/ol/style/Stroke.js"),te=n("./node_modules/ol/style/Text.js"),ne=n("./node_modules/ol/style/Circle.js"),re=n("./node_modules/ol/Collection.js"),oe=n("./node_modules/ol/events/condition.js"),ie=n("./node_modules/ol/interaction/DoubleClickZoom.js"),ae=n("./node_modules/ol/interaction/Translate.js"),se=n("./node_modules/ol/interaction/Modify.js"),le=n("./node_modules/ol/interaction/Select.js"),ue=n("./node_modules/ol/Observable.js"),ce=n("./node_modules/ol/extent.js");function pe(e){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fe(e){return function(e){if(Array.isArray(e))return de(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return de(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return de(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function be(e,t){return(be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Oe(e);if(t){var o=Oe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _e(this,n)}}function _e(e,t){return!t||"object"!==pe(t)&&"function"!=typeof t?we(e):t}function we(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oe(e){return(Oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Se=new G.a,Ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&be(e,t)}(i,e);var t,n,r,o=ve(i);function i(){var e;ye(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return je(we(e=o.call.apply(o,[this].concat(n))),"getNewFeature",(function(t,n,r,o){return new U.a({geometry:e.createOLGeometry({type:t,coordinates:n,radius:r,center:o})})})),je(we(e),"getMapCrs",(function(){return e.props.map.getView().getProjection().getCode()})),je(we(e),"updateFeatureStyles",(function(t){t&&t.length>0&&t.forEach((function(t){if(t.style){var n=e.toOlFeature(t);n&&n.setStyle(t.style?Object(N.d)(t):e.toOlStyle(t.style,t.selected))}}))})),je(we(e),"updateOnlyFeatureStyles",(function(t){e.drawLayer&&e.drawLayer.getSource().getFeatures().forEach((function(e){var n=l()(t.features).features||t.features,r=c()(n,(function(t){return t.properties.id===e.getProperties().id}));if(r){var o=Object(A.createStylesAsync)(S()(r.style));k.a.all(o).then((function(t){e.setStyle((function(){return Object(N.e)(me(me({},r),{},{style:t}))}))}))}}))})),je(we(e),"addLayer",(function(t,n){var r,o=e.convertGeometryTypeToStyleType(t.drawMethod);r=function(e){var n=l()(t.features)&&c()(l()(t.features).features,(function(t){return t.properties.id===e.getProperties().id}))||null;if(n){var r=Object(A.createStylesAsync)(S()(n.style));return k.a.all(r).then((function(t){e.setStyle((function(){return Object(N.e)(me(me({},n),{},{style:t}))}))})),null}return Object(N.e)({style:N.a[o]})},e.geojson=new G.a,e.drawSource=new z.a,e.drawLayer=new B.a({source:e.drawSource,zIndex:1e8,style:r}),e.props.map.addLayer(e.drawLayer),n&&e.addInteractions(t);var i=l()(t.features);if(i&&i.features&&i.features.length){var a=i.features.filter((function(e){return!e.properties.isCircle||e.properties.isCircle&&!e.properties.canEdit||!t.options.drawEnabled}));return e.addFeatures(M()({},t,{features:[me(me({},i),{},{features:a})]}))}return e.addFeatures(t)})),je(we(e),"addFeatures",(function(t){var n,r=t.features,o=t.drawMethod,i=t.options,a=e.getMapCrs();if(r.forEach((function(t){if("FeatureCollection"===t.type){var r=(new G.a).readFeatures(t);r=r.map((function(e){return Object(R.a)(e,a)})),e.drawSource=new z.a({features:r}),e.drawLayer.setSource(e.drawSource)}else{var s=null,l=t;l.geometry&&"GeometryCollection"!==l.geometry.type&&(l=Object(D.reprojectGeoJson)(l,l.featureProjection,a).geometry),"GeometryCollection"!==l.type&&("Circle"===o&&l&&(l.properties&&l.properties.center||l.center)?(s=[(s=l.properties&&l.properties.center?Object(D.reproject)(l.properties.center,"EPSG:4326",a):l.center).x,s.y],n=new U.a({geometry:e.createOLGeometry({type:"Circle",center:s,projection:"EPSG:3857",radius:l.properties&&l.properties.radius||l.radius,options:i})})):n=new U.a({geometry:e.createOLGeometry(l.geometry?l.geometry:me(me(me({},l),l.properties),{},{center:s}))}),n.setProperties(t.properties),e.drawSource.addFeature(n))}})),0===r.length&&(i.editEnabled||i.drawEnabled))i.transformToFeatureCollection?(e.drawSource=new z.a({features:(new G.a).readFeatures({type:"FeatureCollection",features:[]})}),e.drawLayer.setSource(e.drawSource)):(n=new U.a({geometry:e.createOLGeometry({type:o,coordinates:null})}),e.drawSource.addFeature(n));else{if(r[0]&&"GeometryCollection"===r[0].type){e.drawSource=new z.a({features:(new G.a).readFeatures(r[0])});var s=e.replacePolygonsWithCircles(e.drawSource.getFeatures()[0]);e.drawSource.getFeatures()[0].getGeometry().setGeometries(s),e.drawLayer.setSource(e.drawSource)}r[0]&&r[0].geometry&&"GeometryCollection"===r[0].geometry.type&&(n=Object(D.reprojectGeoJson)(r[0],i.featureProjection,a).geometry,e.drawSource=new z.a({features:(new G.a).readFeatures(n)}),e.drawSource.getFeatures()[0].set("textGeometriesIndexes",r[0].properties&&r[0].properties.textGeometriesIndexes),e.drawSource.getFeatures()[0].set("textValues",r[0].properties&&r[0].properties.textValues),e.drawSource.getFeatures()[0].set("circles",r[0].properties&&r[0].properties.circles),e.drawLayer.setSource(e.drawSource))}return e.updateFeatureStyles(r),n})),je(we(e),"replaceFeatures",(function(t){var n;return e.drawLayer?(e.drawSource.clear(),n=e.addFeatures(t),t.style&&e.drawLayer.setStyle((function(n){var r=c()(l()(t.features).features,(function(e){return e.properties.id===n.getProperties().id}));if(r){var o=Object(A.createStylesAsync)(S()(r.style));return k.a.all(o).then((function(e){n.setStyle((function(){return Object(N.e)(me(me({},r),{},{style:e}))}))})),null}var i=e.convertGeometryTypeToStyleType(t.drawMethod);return Object(N.e)({style:N.a[i]})}))):n=e.addLayer(t,t.options&&t.options.drawEnabled||!1),n})),je(we(e),"endDrawing",(function(t){var n=e.replaceFeatures(t);if(n){var r=e.fromOLFeature(n);"Circle"===t.drawMethod&&t&&t.features&&t.features.length&&t.features[0]&&t.features[0].radius>=0&&(r.radius=t.features[0].radius),e.props.onEndDrawing(r,t.drawOwner)}})),je(we(e),"addDrawInteraction",(function(t,n,r,o){e.drawInteraction&&e.removeDrawInteraction(),e.drawInteraction=new V.a(e.drawPropertiesForGeometryType(t,r,e.drawSource,o)),e.props.map.disableEventListener("singleclick"),e.drawInteraction.on("drawstart",(function(){e.selectInteraction&&(e.selectInteraction.getFeatures().clear(),e.selectInteraction.setActive(!1))})),e.drawInteraction.on("drawend",(function(t){var r=t.feature.clone();if(r.set("id",T.a.v1()),"Circle"===e.props.drawMethod&&"Circle"===r.getGeometry().getType()){var o=r.getGeometry().getRadius(),i=r.getGeometry().getCenter();r.setGeometry(e.polygonFromCircle(i,o))}var a=e.fromOLFeature(r,n);e.props.onEndDrawing(a,e.props.drawOwner),e.props.options.stopAfterDrawing&&e.props.onChangeDrawingStatus("stop",e.props.drawMethod,e.props.drawOwner,e.props.features.concat([a])),e.selectInteraction&&(e.addSelectInteraction(),e.selectInteraction.setActive(!0))})),e.props.map.addInteraction(e.drawInteraction),e.setDoubleClickZoomEnabled(!1)})),je(we(e),"toMulti",(function(e){return"Point"===e.getType()?new q.a([e.getCoordinates()]):e})),je(we(e),"handleDrawAndEdit",(function(t,n,r,o){e.drawInteraction&&e.removeDrawInteraction(),e.drawInteraction=new V.a(e.drawPropertiesForGeometryType(Object(I.getSimpleGeomType)(t),r,Object(I.isSimpleGeomType)(t)?e.drawSource:null,o)),e.props.map.disableEventListener("singleclick"),e.drawInteraction.on("drawstart",(function(){e.selectInteraction&&(e.selectInteraction.getFeatures().clear(),e.selectInteraction.setActive(!1))})),e.drawInteraction.on("drawend",(function(r){var i=r.feature.clone(),a=T.a.v1();i.set("id",a);var s,u,p,f=i.getGeometry(),d=e.drawLayer.getSource().getFeatures(),h=e.props.features;if(e.props.options.transformToFeatureCollection){var m;if("Circle"===t){p="Polygon";var y=f.getRadius(),g=f.getCenter(),v=e.polygonCoordsFromCircle(g,y);m=e.getNewFeature(p,v),g=Object(D.reproject)(g,e.getMapCrs(),"EPSG:4326",!1);var _=o&&o.features&&o.features.length&&o.features[0]&&o.features[0].features&&o.features[0].features.length&&o.features[0].features.filter((function(e){return e.properties.isDrawing}))[0].properties.id||a;m.setProperties({isCircle:!0,radius:y,center:[g.x,g.y],id:_,crs:e.getMapCrs()})}else if("Polygon"===t){p=e.props.drawMethod;var w=f.getCoordinates();w[0].push(w[0][0]),m=e.getNewFeature(p,w)}else{p="Text"===t?"Point":e.props.drawMethod;var O=f.getCoordinates();m=e.getNewFeature(p,O),"Text"===t&&m.setProperties({isText:!0,valueText:"."})}var j=d.length>=1?fe(e.replaceCirclesWithPolygonsInFeatureColl(d)):[];m.getProperties().id||m.setProperties({id:T.a.v1()});var S=[].concat(fe(j),[m]),E=Se.writeFeaturesObject(S),x=new z.a({features:(new G.a).readFeatures(E)});e.drawLayer.setSource(x);var P=Object(D.reprojectGeoJson)(E,e.getMapCrs(),"EPSG:4326");e.props.onGeometryChanged([P],e.props.drawOwner,e.props.options&&e.props.options.stopAfterDrawing?"enterEditMode":"","Text"===t,"Circle"===t),e.props.onEndDrawing(P,e.props.drawOwner),e.props.onDrawingFeatures([b()(P.features)])}else{if("Circle"===t){p="Polygon";var L=f.getRadius(),C=f.getCenter(),k=e.polygonCoordsFromCircle(C,L),A=e.toMulti(e.createOLGeometry({type:p,coordinates:k}));if(1===h.length&&h[0]&&!h[0].geometry)s=[],u=new J.default([A]);else if((s=e.toMulti(l()(d).getGeometry())).getGeometries){var R=e.replaceCirclesWithPolygons(l()(d));u=new J.default([].concat(fe(R),[A]))}else u=new J.default([s,A]);i.setGeometry(u)}else if("Text"===t||"MultiPoint"===t){var F=f.getCoordinates();p="MultiPoint";var N=e.toMulti(e.createOLGeometry({type:p,coordinates:[F]}));if(1!==h.length||h[0].geometry)if((s=e.toMulti(l()(d).getGeometry())).getGeometries){var U=e.replaceCirclesWithPolygons(l()(d));u=new J.default([].concat(fe(U),[N]))}else(u=s.clone()).appendPoint(N.getPoint(0));else s=[],u=N.clone();i.setGeometry(u)}else if(!Object(I.isSimpleGeomType)(t)){var B;u=null,s=1!==h.length||h[0].geometry?e.toMulti(l()(d).getGeometry()):e.toMulti(e.createOLGeometry({type:t,coordinates:null}));var V=d.map((function(e){return"GeometryCollection"===e.getGeometry().getType()?e.getGeometry().getGeometries():e.getGeometry()}));"GeometryCollection"===d[0].getGeometry().getType()&&(V=V[0]);var q=c()(V,(function(e){return e.getType()===t}));if(q?e.appendToMultiGeometry(t,q,f):B=e.toMulti(e.createOLGeometry({type:t,coordinates:f.getCoordinates()})),f.getType()!==Object(I.getSimpleGeomType)(s.getType())){var W=l()(d).getGeometry().getGeometries?e.replaceCirclesWithPolygons(l()(d)):[];if(q){var H=W.map((function(e){return e.getType()===q.getType()?q:e}));u=new J.default(H)}else u="GeometryCollection"===s.getType()?new J.default([].concat(fe(W),[B])):"Text"===t?new J.default([B]):new J.default([s,B]);i.setGeometry(u)}else i.setGeometry(q)}var Z=e.props.features[0].properties;"Text"===t&&(Z=M()({},e.props.features[0].properties,{textValues:(e.props.features[0].properties.textValues||[]).concat(["."]),textGeometriesIndexes:(e.props.features[0].properties.textGeometriesIndexes||[]).concat([i.getGeometry().getGeometries().length-1])})),"Circle"===t&&(Z=M()({},Z,{circles:(e.props.features[0].properties.circles||[]).concat([i.getGeometry().getGeometries().length-1])}));var Y=e.fromOLFeature(i,n,Z),K=new z.a({features:(new G.a).readFeatures(Y)});e.drawLayer.setSource(K);var X=Object(D.reprojectGeoJson)(Se.writeFeatureObject(i.clone()),e.getMapCrs(),"EPSG:4326");"Polygon"===X.geometry.type&&X.geometry.coordinates[0].push(X.geometry.coordinates[0][0]),e.props.onGeometryChanged([X],e.props.drawOwner,e.props.options&&e.props.options.stopAfterDrawing?"enterEditMode":"","Text"===t,"Circle"===t),e.props.onEndDrawing(Y,e.props.drawOwner),Y=Object(D.reprojectGeoJson)(Y,e.getMapCrs(),"EPSG:4326");var Q=Object(I.isSimpleGeomType)(e.props.drawMethod)&&"GeometryCollection"!==e.props.features[0].geometry.type?e.props.features.map((function(t){return me(me({},t),{},{featureProjection:e.getMapCrs()})})).concat([me(me({},Y),{},{type:"Feature",geometry:{type:Y.type,coordinates:Y.coordinates},featureProjection:e.getMapCrs(),properties:Z})]):[me(me({},Y),{},{properties:Z})];e.props.options.stopAfterDrawing?e.props.onChangeDrawingStatus("stop",e.props.drawMethod,e.props.drawOwner,Q):e.props.onChangeDrawingStatus("replace",e.props.drawMethod,e.props.drawOwner,Q.map((function(t){return Object(D.reprojectGeoJson)(t,"EPSG:4326",e.getMapCrs())})),M()({},e.props.options,{featureProjection:e.getMapCrs()})),e.selectInteraction&&(e.addSelectInteraction(),e.selectInteraction.setActive(!0))}})),e.props.map.addInteraction(e.drawInteraction),e.setDoubleClickZoomEnabled(!1)})),je(we(e),"drawPropertiesForGeometryType",(function(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i={source:e.drawSource||r,type:t,style:"Marker"===t?Object(N.b)(o.style):new Q.default({fill:new $.default({color:"rgba(255, 255, 255, 0.2)"}),stroke:new ee.default({color:"rgba(0, 0, 0, 0.5)",lineDash:[10,10],width:2}),image:new ne.default({radius:5,stroke:new ee.default({color:"rgba(0, 0, 0, 0.7)"}),fill:new $.default({color:"rgba(255, 255, 255, 0.2)"})})}),features:new re.a,condition:oe.c},a={};switch(t){case"BBOX":a.type="LineString",a.maxPoints=2,a.geometryFunction=function(e,t){var n=t;n||(n=new W.b([]));var r=e[0],o=e[1];return n.setCoordinates([[r,[r[0],o[1]],o,[o[0],r[1]],r]]),n};break;case"Circle":a.maxPoints=100,o.options&&o.options.geodesic?a.geometryFunction=function(t,n){var r=n;r||(r=new W.b([])).setProperties({geodesicCenter:fe(t[0])},!0);var o=e.props.map.getView().getProjection().getCode(),i=fe(t).map((function(t){return e.reprojectCoordinatesToWGS84(t,o)})),a=Object(D.calculateDistance)(i,"haversine"),s=Object(W.a)(i[0],a).clone().transform("EPSG:4326",o).getCoordinates();return r.setCoordinates(s),r}:a.type=t;break;case"Marker":case"Point":case"Text":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":"LineString"===t&&(a.maxPoints=n);var s="Text"===t||"Marker"===t?"Point":t;a.type=s,a.geometryFunction=function(t,n){var r=n;return r||(r=e.createOLGeometry({type:s,coordinates:null,options:o.options})),r.setCoordinates(t),r};break;default:return{}}return M()({},i,a)})),je(we(e),"setDoubleClickZoomEnabled",(function(t){for(var n=e.props.map.getInteractions(),r=0;r<n.getLength();r++){var o=n.item(r);if(o instanceof ie.a){o.setActive(t);break}}})),je(we(e),"updateFeatureExtent",(function(t){var n=t.features.getArray(),r=e.props.features.map((function(t){var r=l()(n.filter((function(n){return e.fromOLFeature(n).id===t.id})));return r?M()({},t,{geometry:r.geometry,center:r.center,extent:r.extent,coordinate:r.coordinates,radius:r.radius}):t}));e.props.onChangeDrawingStatus("replace",e.props.drawMethod,e.props.drawOwner,r)})),je(we(e),"addInteractions",(function(t){e.clean(),e.drawLayer||e.addLayer(t),e.addDrawInteraction(t.drawMethod,t.options.startingPoint,t.options.maxPoints,t),t.options&&t.options.editEnabled&&(e.addSelectInteraction(),e.translateInteraction&&e.props.map.removeInteraction(e.translateInteraction),e.translateInteraction=new ae.a({features:e.selectInteraction.getFeatures()}),e.translateInteraction.setActive(!1),e.translateInteraction.on("translateend",e.updateFeatureExtent),e.props.map.addInteraction(e.translateInteraction),e.addTranslateListener(),e.modifyInteraction&&e.props.map.removeInteraction(e.modifyInteraction),e.modifyInteraction=new se.a({features:e.selectInteraction.getFeatures(),condition:function(e){return Object(oe.k)(e)&&!Object(oe.a)(e)}}),e.props.map.addInteraction(e.modifyInteraction)),e.drawSource.clear(),t.features.length>0&&e.addFeatures(t)})),je(we(e),"addSingleClickListener",(function(e,t){return t.map.on("singleclick",e)})),je(we(e),"addDrawOrEditInteractions",(function(t){e.state&&e.state.keySingleClickCallback&&Object(ue.b)(e.state.keySingleClickCallback);e.clean();var n,r=t.features.map((function(n){return Object(D.reprojectGeoJson)(n,t.options.featureProjection,e.getMapCrs())||{}})),o=r.every((function(e){return!!(e&&e.features&&e.features.length)})),i=r.every((function(e){return!!(e&&e.properties&&e.properties.isCircle)}));if(o)n=M()({},t,{features:r});else if(i)n=M()({},t,{features:[]});else{var a=r.reduce((function(e,t){return t.geometry?[].concat(fe(e),[me(me({},t.geometry),{},{properties:t.properties})]):e}),[]);n=M()({},t,{features:a})}e.drawLayer?(e.drawSource.clear(),e.addFeatures(n)):e.addLayer(n),t.options.editEnabled&&(e.addModifyInteraction(t),!1!==t.options.translateEnabled&&e.addTranslateInteraction(),t.options.addClickCallback&&e.setState({keySingleClickCallback:e.addSingleClickListener((function(n){if(e.drawSource&&t.options){var r,o=e.drawSource.getFeatures(),i=0,a=o&&o.length&&o.filter((function(e,t){return e.getProperties().canEdit&&(i=t),e.getProperties().canEdit}))[0]||null,s=a&&a.getGeometry()&&a.getGeometry().getCoordinates&&a.getGeometry().getCoordinates()||[],l=[],u=t.drawMethod;switch(u){case"Polygon":l=s.length?Object(F.isCompletePolygon)(s)?[(l=(l=f()(s[0],0,s[0].length-1)).concat([n.coordinate])).concat([s[0][0]])]:s[0].length>1?[[].concat(fe(s[0]),[n.coordinate,s[0][0]])]:[[].concat(fe(s[0]),[n.coordinate])]:[[n.coordinate]],(r=e.getNewFeature(u,l)).setProperties(h()(a&&a.getProperties()||{},"geometry"));break;case"LineString":case"MultiPoint":l=s.length?[].concat(fe(s),[n.coordinate]):[n.coordinate],(r=e.getNewFeature(u,l)).setProperties(h()(a&&a.getProperties()||{},"geometry"));break;case"Circle":u="Polygon";var c=a&&a.getProperties()&&a.getProperties().radius||1e4,p=n.coordinate,d=e.polygonCoordsFromCircle(p,c);r=e.getNewFeature(u,d),p=Object(D.reproject)(p,e.getMapCrs(),"EPSG:4326",!1),r.setProperties(h()(a&&a.getProperties()||{},"geometry")),r.setProperties({isCircle:!0,radius:c,center:[p.x,p.y]});break;case"Text":u="Point",(r=e.getNewFeature(u,n.coordinate)).setProperties(h()(a&&a.getProperties()||{},"geometry")),r.setProperties({isText:!0,valueText:a&&a.getProperties()&&a.getProperties().valueText||t.options.defaultTextAnnotation||"New"});break;default:l=n.coordinate,(r=e.getNewFeature(u,l)).setProperties(h()(a&&a.getProperties()||{},"geometry"))}var m={type:"Feature",geometry:{coordinates:fe(Object(D.reprojectGeoJson)(Se.writeFeaturesObject([r.clone()]),e.getMapCrs(),"EPSG:4326").features[0].geometry.coordinates),type:u},properties:me({},h()(r.getProperties(),"geometry"))};e.props.onDrawingFeatures([m]),r=Object(R.a)(r,e.getMapCrs()),o[i]=r,e.drawSource=new z.a({features:o}),e.drawLayer.setSource(e.drawSource),e.addModifyInteraction(t)}}),t)})),t.options&&t.options.selectEnabled&&e.addSelectInteraction(t.options&&t.options.selected,t),t.options.drawEnabled&&e.handleDrawAndEdit(t.drawMethod,t.options.startingPoint,t.options.maxPoints,t)})),je(we(e),"addSelectInteraction",(function(t,n){var r;if(e.selectInteraction&&e.props.map.removeInteraction(e.selectInteraction),t&&(r=c()(e.drawSource.getFeatures(),(function(e){return e.getProperties().id===t.properties.id})))&&e.selectFeature(r),e.selectInteraction=new le.a({layers:[e.drawLayer],features:new re.a(t&&r?[r]:null)}),r){var o=e.convertGeometryTypeToStyleType(n.drawMethod);r.setStyle(Object(N.d)(me(me({},n),{},{style:me(me({},n.style),{},{type:o,highlight:!0,useSelectedStyle:n.options.useSelectedStyle})}),!1,n.features[0]&&n.features[0].properties&&n.features[0].properties.valueText&&[n.features[0].properties.valueText]||[]))}e.selectInteraction.on("select",(function(t){var n=e.selectInteraction.getFeatures().getArray(),r=[];return n.length&&(r=e.props.features.map((function(r){var o;if("FeatureCollection"===r.type&&n.length>0){var i=l()(n);if(e.selectFeature(i),i.getGeometry&&"Circle"===i.getGeometry().getType()){var a=i.getGeometry().getRadius(),s=Object(D.reproject)(i.getGeometry().getCenter(),e.getMapCrs(),"EPSG:4326");i.setProperties({center:[s.x,s.y],radius:a}),i=e.replaceCircleWithPolygon(i.clone())}return e.drawSource.getFeatures().forEach((function(t){t.getProperties().id===i.getProperties().id?e.selectFeature(i):e.deselectFeature(t)})),Object(D.reprojectGeoJson)(Se.writeFeatureObject(i.clone()),e.getMapCrs(),"EPSG:4326")}return o=n.reduce((function(e,t){return t.get("id")===r.id||e}),!1),M()({},r,{selected:o,selectedFeature:t.selected})})),e.props.onSelectFeatures(r)),0===n.length?(e.props.onSelectFeatures([]),e.drawSource.getFeatures().map((function(t){return e.deselectFeature(t)})),null):null})),e.props.map.addInteraction(e.selectInteraction)})),je(we(e),"selectFeature",(function(e){e.setProperties({selected:!0})})),je(we(e),"deselectFeature",(function(e){e.setProperties({selected:!1})})),je(we(e),"removeDrawInteraction",(function(){e.drawInteraction&&(e.props.map.removeInteraction(e.drawInteraction),e.drawInteraction=null,setTimeout((function(){return e.props.map.enableEventListener("singleclick")}),500),setTimeout((function(){return e.setDoubleClickZoomEnabled(!0)}),250))})),je(we(e),"removeInteractions",(function(){e.removeDrawInteraction(),e.selectInteraction&&(e.props.map.enableEventListener("singleclick"),e.props.map.removeInteraction(e.selectInteraction)),e.modifyInteraction&&(e.props.map.removeInteraction(e.modifyInteraction),e.props.map.un("singleclick")),e.translateInteraction&&e.props.map.removeInteraction(e.translateInteraction)})),je(we(e),"clean",(function(t){t||e.removeInteractions(),e.drawLayer&&(e.props.map.removeLayer(e.drawLayer),e.geojson=null,e.drawLayer=null,e.drawSource=null)})),je(we(e),"fromOLFeature",(function(t,n,r){var o=t.getGeometry(),i=e.props.map.getView().getProjection().getCode(),s=o.getType();if(o.getCoordinates){var l,u=o.getExtent(),c=o.getProperties(),p=c&&c.geodesicCenter||Object(ce.x)(u),f=o.getCoordinates();if(n&&(f=a()(n,f),o.setCoordinates(f)),"Circle"===e.props.drawMethod)if(e.props.options.geodesic){var d=[fe(p),fe(f[0][0])].map((function(t){return e.reprojectCoordinatesToWGS84(t,i)}));l=Object(D.calculateDistance)(d,"haversine")}else l=e.calculateRadius(p,f);return M()({},{id:t.get("id"),type:s,extent:u,center:p,coordinates:f,radius:l,style:e.fromOlStyle(t.getStyle()),projection:e.getMapCrs()})}var h=o.getGeometries().map((function(o,s){var l,u=o.getExtent(),c=Object(ce.x)(u),p=o.getCoordinates();if(n&&(p=a()(n,p),o.setCoordinates(p)),r.circles&&-1!==r.circles.indexOf(s))if(e.props.options.geodesic){var f=[fe(c),fe(p[0][0])].map((function(t){return e.reprojectCoordinatesToWGS84(t,i)}));l=Object(D.calculateDistance)(f,"haversine")}else l=e.calculateRadius(c,p);else l=0;return M()({},{id:t.get("id"),type:o.getType(),extent:u,center:c,coordinates:p,radius:l,style:e.fromOlStyle(t.getStyle()),projection:e.getMapCrs()})}));return M()({},{type:"Feature",id:t.get("id"),style:e.fromOlStyle(t.getStyle()),geometry:{type:"GeometryCollection",geometries:h},projection:i})})),je(we(e),"reprojectCoordinatesToWGS84",(function(e,t){var n=Object(D.reproject)(e,t,"EPSG:4326");return[n.x,n.y]})),je(we(e),"toOlFeature",(function(t){return l()(e.drawSource.getFeatures().filter((function(e){return e.get("id")===t.id})))})),je(we(e),"fromOlStyle",(function(t){return t?{fillColor:e.rgbToHex(t.getFill().getColor()),fillTransparency:t.getFill().getColor()[3],strokeColor:t.getStroke().getColor(),strokeWidth:t.getStroke().getWidth(),text:t.getText().getText()}:{}})),je(we(e),"toOlStyle",(function(t,n,r){var o=t&&t.fillColor?t.fillColor:[255,255,255,.2];"string"==typeof o&&(o=e.hexToRgb(o).concat([t.fillOpacity>=0&&t.fillOpacity<=1?t.fillOpacity:1])),t&&t.fillTransparency&&(o[3]=t.fillTransparency);var i=t&&(t.strokeColor||t.color)?t.strokeColor||t.color:"#ffcc33";n&&(i="#4a90e2"),i=e.hexToRgb(i).concat([t&&t.opacity||1]);var a=new Q.default({fill:new $.default({color:o}),stroke:new ee.default({color:i,width:t&&(t.strokeWidth||t.weight)?t.strokeWidth||t.weight:2}),text:new te.default({text:t&&t.text?t.text:"",fill:new $.default({color:t&&(t.strokeColor||t.color)?t.strokeColor||t.color:"#000"}),stroke:new ee.default({color:"#fff",width:2}),font:t&&t.fontSize?t.fontSize+"px helvetica":""})});return"GeometryCollection"===r?[].concat(fe(Object(N.c)({style:{iconGlyph:"comment",iconShape:"square",iconColor:"blue"}})),[a]):t&&(t.iconUrl||t.iconGlyph)?Object(N.c)({style:t}):a})),je(we(e),"hexToRgb",(function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,r){return t+t+n+n+r+r})));return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:null})),je(we(e),"componentToHex",(function(e){var t=e.toString(16);return 1===t.length?"0"+t:t})),je(we(e),"rgbToHex",(function(t){return"#"+e.componentToHex(t[0])+e.componentToHex(t[1])+e.componentToHex(t[2])})),je(we(e),"addModifyInteraction",(function(t){e.modifyInteraction&&e.props.map.removeInteraction(e.modifyInteraction);var n=t&&t.options&&t.options.editFilter;e.modifyFeatureColl=new re.a(_()(e.drawLayer.getSource().getFeatures(),n)),e.modifyInteraction=new se.a({features:e.modifyFeatureColl,condition:function(e){return Object(oe.k)(e)&&!Object(oe.a)(e)}}),e.modifyInteraction.on("modifyend",(function(t){var n=t.features.getArray().map((function(t){var n=t.clone();if(n.getGeometry&&"GeometryCollection"===n.getGeometry().getType()&&n.getGeometry().setGeometries(e.replaceCirclesWithPolygons(n)),n.getGeometry&&n.getGeometry()&&"Circle"===n.getGeometry().getType()){var r=Object(D.reproject)(n.getGeometry().getCenter(),e.getMapCrs(),"EPSG:4326"),o=n.getGeometry().getRadius();n.setProperties({center:[r.x,r.y],radius:o}),t.setProperties({center:[r.x,r.y],radius:o}),n=e.replaceCircleWithPolygon(n.clone())}return Object(D.reprojectGeoJson)(Se.writeFeatureObject(n),e.getMapCrs(),"EPSG:4326")}));e.props.options.transformToFeatureCollection?e.props.onDrawingFeatures(n):e.props.onGeometryChanged(n,e.props.drawOwner,!1,"editing","editing")})),e.props.map.addInteraction(e.modifyInteraction)})),je(we(e),"addTranslateInteraction",(function(){e.translateInteraction&&e.props.map.removeInteraction(e.translateInteraction),e.translateInteraction=new ae.a({features:new re.a(e.drawLayer.getSource().getFeatures())}),e.translateInteraction.setActive(!1),e.translateInteraction.on("translateend",(function(t){var n=t.features.getArray().map((function(t){var n=t.clone();if(n.getGeometry&&"GeometryCollection"===n.getGeometry().getType()&&n.getGeometry().setGeometries(e.replaceCirclesWithPolygons(n)),n.getGeometry&&n.getGeometry()&&"Circle"===n.getGeometry().getType()){var r=Object(D.reproject)(n.getGeometry().getCenter(),e.getMapCrs(),"EPSG:4326"),o=n.getGeometry().getRadius();n.setProperties({center:[r.x,r.y],radius:o}),n=e.replaceCircleWithPolygon(n)}return t.getProperties()&&t.getProperties().selected&&e.props.onSelectFeatures([Object(D.reprojectGeoJson)(Se.writeFeatureObject(n),e.getMapCrs(),"EPSG:4326")]),Object(D.reprojectGeoJson)(Se.writeFeatureObject(n),e.getMapCrs(),"EPSG:4326")}));e.props.options.transformToFeatureCollection?e.props.onDrawingFeatures(n):e.props.onGeometryChanged(n,e.props.drawOwner,e.props.drawOwner,!1,"Text"===e.props.drawMethod,"Circle"===e.props.drawMethod)})),e.addTranslateListener(),e.props.map.addInteraction(e.translateInteraction)})),je(we(e),"createOLGeometry",(function(t){var n=t.type,r=t.coordinates,o=t.radius,i=t.center,a=t.geometries,s=t.projection,l=t.options,u=void 0===l?{}:l;return"GeometryCollection"===n?a&&a.length?new J.default(a.map((function(t){return e.olGeomFromType({type:t.type})}))):new J.default([]):e.olGeomFromType({type:n,coordinates:r,radius:o,center:i,projection:s,options:u})})),je(we(e),"olGeomFromType",(function(t){var n,r=t.type,o=t.coordinates,i=t.radius,a=t.center,s=t.projection,l=t.options;switch(r){case"Point":case"Marker":case"Text":n=new H.a(o||[]);break;case"LineString":n=new Z.a(o||[]);break;case"MultiPoint":n=new q.a(o||[]);break;case"MultiLineString":n=new Y.a(o||[]);break;case"MultiPolygon":n=new K.a(o||[]);break;default:var u=y()(a)?{x:a[0],y:a[1]}:a,c=s&&!isNaN(parseFloat(i))&&u&&!O()(u.x)&&!O()(u.y)&&!isNaN(parseFloat(u.x))&&!isNaN(parseFloat(u.y));(n=c?l.geodesic?Object(W.a)(e.reprojectCoordinatesToWGS84([u.x,u.y],s),i,100).clone().transform("EPSG:4326",s):Object(W.c)(new X.a([u.x,u.y],i),100):new W.b(o&&y()(o[0])?o:[]))&&c&&l.geodesic&&n.setProperties({geodesicCenter:[u.x,u.y]},!0)}return n})),je(we(e),"convertGeometryTypeToStyleType",(function(e){switch(e){case"BBOX":return"LineString";default:return e}})),je(we(e),"appendToMultiGeometry",(function(e,t,n){switch(e){case"MultiPoint":t.appendPoint(n);break;case"MultiLineString":t.appendLineString(n);break;case"MultiPolygon":var r=n.getCoordinates();r[0].push(r[0][0]),n.setCoordinates(r),t.appendPolygon(n)}})),je(we(e),"calculateRadius",(function(e,t){return y()(t)&&y()(t[0])&&y()(t[0][0])?Math.sqrt(Math.pow(e[0]-t[0][0][0],2)+Math.pow(e[1]-t[0][0][1],2)):100})),je(we(e),"polygonFromCircle",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return Object(W.c)(new X.a(e,t),n)})),je(we(e),"polygonCoordsFromCircle",(function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return e.polygonFromCircle(t,n,r).getCoordinates()})),je(we(e),"replaceCirclesWithPolygonsInFeatureColl",(function(t){return t.map((function(t){return"Circle"!==t.getGeometry().getType()?t:e.replaceCircleWithPolygon(t)}))})),je(we(e),"replaceCircleWithPolygon",(function(t){if(t.getProperties().isCircle&&"Circle"===t.getGeometry().getType()){var n=t.getGeometry().getCenter(),r=t.getGeometry().getRadius();return t.setGeometry(e.polygonFromCircle(n,r)),t}return t})),je(we(e),"replaceCirclesWithPolygons",(function(t){return t.getGeometry&&!t.getGeometry().getGeometries?t:t.getGeometry().getGeometries().map((function(n,r){if("Circle"!==n.getType())return n;if(t.getProperties()&&t.getProperties().circles&&-1!==t.getProperties().circles.indexOf(r)){var o=n.getCenter(),i=n.getRadius();return e.polygonFromCircle(o,i)}return n}))})),je(we(e),"replacePolygonsWithCircles",(function(t){return t.getGeometry().getGeometries().map((function(n,r){if("Polygon"!==n.getType())return n;if(t.getProperties()&&t.getProperties().circles&&-1!==t.getProperties().circles.indexOf(r)){var o=n.getExtent(),i=Object(ce.x)(o),a=e.calculateRadius(i,n.getCoordinates());return new X.a(i,a)}return n}))})),je(we(e),"addTranslateListener",(function(){document.addEventListener("keydown",(function(t){t.altKey&&"AltLeft"===t.code&&e.translateInteraction.setActive(!0)})),document.addEventListener("keyup",(function(t){"AltLeft"===t.code&&e.translateInteraction.setActive(!1)}))})),e}return t=i,(n=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(this.drawLayer&&this.updateFeatureStyles(e.features),!e.drawStatus&&this.selectInteraction&&this.selectInteraction.getFeatures().clear(),this.props.drawStatus!==e.drawStatus||this.props.drawMethod!==e.drawMethod||this.props.features!==e.features)switch(e.drawStatus){case"create":this.addLayer(e);break;case"start":this.addInteractions(e);break;case"drawOrEdit":this.addDrawOrEditInteractions(e);break;case"stop":this.removeDrawInteraction();break;case"replace":this.replaceFeatures(e);break;case"updateStyle":this.updateOnlyFeatureStyles(e);break;case"clean":this.clean();break;case"cleanAndContinueDrawing":this.clean(!0);break;case"endDrawing":this.endDrawing(e);break;default:return}}},{key:"render",value:function(){return null}}])&&ge(t.prototype,n),r&&ge(t,r),i}(o.a.Component);je(Ee,"propTypes",{map:x.a.object,drawOwner:x.a.string,drawStatus:x.a.string,drawMethod:x.a.string,options:x.a.object,features:x.a.array,onChangeDrawingStatus:x.a.func,onGeometryChanged:x.a.func,onDrawStopped:x.a.func,onDrawingFeatures:x.a.func,onSelectFeatures:x.a.func,onEndDrawing:x.a.func,style:x.a.object}),je(Ee,"defaultProps",{map:null,drawOwner:null,drawStatus:null,drawMethod:null,features:null,options:{stopAfterDrawing:!0},onChangeDrawingStatus:function(){},onGeometryChanged:function(){},onDrawStopped:function(){},onDrawingFeatures:function(){},onSelectFeatures:function(){},onEndDrawing:function(){}})},"./MapStore2/web/client/components/map/openlayers/Feature.jsx":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return L}));var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/prop-types/index.js"),a=n.n(i),s=n("./node_modules/axios/index.js"),l=n.n(s),u=n("./MapStore2/node_modules/lodash/lodash.js"),c=n("./MapStore2/node_modules/lodash/find.js"),p=n.n(c),f=n("./MapStore2/node_modules/lodash/castArray.js"),d=n.n(f),h=n("./MapStore2/web/client/components/map/openlayers/VectorStyle.js"),m=n("./MapStore2/web/client/utils/openlayers/DrawSupportUtils.js"),y=n("./MapStore2/web/client/utils/VectorStyleUtils.js"),g=n("./node_modules/ol/format/GeoJSON.js");function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var o=P(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E(this,n)}}function E(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?x(e):t}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(i,e);var t,n,r,o=S(i);function i(){var e;w(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return M(x(e=o.call.apply(o,[this].concat(n))),"addFeatures",(function(t){var n=new g.a,r=null,o=!1;"FeatureCollection"===t.type?(r={features:!!Object(u.isUndefined)(t.properties.visibility)||t.properties.visibility?t.features:[]},o=!!t.features):(r={geometry:t.geometry},o=!(!t.geometry||!t.geometry.geometries&&!t.geometry.coordinates));t.container&&o&&(e._feature=n.readFeatures(_({type:t.type,properties:t.properties,id:t.msId},r),{dataProjection:t.featuresCrs}),e._feature.map((function(e){var n=e;return e.getProperties().isCircle&&(n=Object(m.a)(e,t.crs||"EPSG:3857",t.featuresCrs)).setGeometry(n.getGeometry().transform(t.crs||"EPSG:3857",t.featuresCrs)),n})).forEach((function(e){return e.getGeometry().transform(t.featuresCrs,t.crs||"EPSG:3857")})),t.style&&t.style!==t.layerStyle&&e._feature.forEach((function(e){var n=[],r={};"FeatureCollection"===t.type?(r=p()(t.features,(function(t){return t.properties.id===e.getProperties().id})),n=Object(y.createStylesAsync)(d()(r.style))):(n=Object(y.createStylesAsync)(d()(t.style)),r={type:t.type,geometry:t.geometry,properties:t.properties,style:t.style}),l.a.all(n).then((function(t){e.setStyle((function(){return Object(h.e)(_(_({},r),{},{style:t}))}))}))})),t.container.getSource().addFeatures(e._feature))})),M(x(e),"removeFromContainer",(function(){if(e._feature)if(Array.isArray(e._feature)){var t=e.props.container.getSource();e._feature.map((function(e){var n=e.getId();void 0!==n&&t.getFeatureById(n)?t.removeFeature(t.getFeatureById(n)):t.removeFeature(e)}))}else e.props.container.getSource().removeFeature(e._feature)})),e}return t=i,(n=[{key:"componentDidMount",value:function(){this.addFeatures(this.props)}},{key:"shouldComponentUpdate",value:function(e){return!(Object(u.isEqual)(e.properties,this.props.properties)&&Object(u.isEqual)(e.geometry,this.props.geometry)&&Object(u.isEqual)(e.features,this.props.features)&&Object(u.isEqual)(e.crs,this.props.crs)&&Object(u.isEqual)(e.style,this.props.style))}},{key:"UNSAFE_componentWillUpdate",value:function(e){this.removeFromContainer(),this.addFeatures(e)}},{key:"componentWillUnmount",value:function(){this.removeFromContainer()}},{key:"render",value:function(){return null}}])&&O(t.prototype,n),r&&O(t,r),i}(o.a.Component);M(L,"propTypes",{type:a.a.string,layerStyle:a.a.object,style:a.a.object,properties:a.a.object,crs:a.a.string,container:a.a.object,features:a.a.array,geometry:a.a.object,msId:a.a.oneOfType([a.a.string,a.a.number]),featuresCrs:a.a.string}),M(L,"defaultProps",{featuresCrs:"EPSG:4326"})},"./MapStore2/web/client/components/map/openlayers/Layer.jsx":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return T}));var r=n("./node_modules/prop-types/index.js"),o=n.n(r),i=n("./node_modules/react/index.js"),a=n.n(i),s=n("./MapStore2/web/client/utils/openlayers/Layers.js"),l=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),u=n("./node_modules/object-assign/index.js"),c=n.n(u),p=n("./node_modules/rxjs/Rx.js"),f=n.n(p),d=n("./MapStore2/node_modules/lodash/isNumber.js"),h=n.n(d),m=n("./MapStore2/node_modules/lodash/isArray.js"),y=n.n(m),g=n("./MapStore2/node_modules/lodash/omit.js"),b=n.n(g),v=n("./MapStore2/node_modules/lodash/isEqual.js"),_=n.n(v);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=M(e);if(t){var o=M(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?P(e):t}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(i,e);var t,n,r,o=E(i);function i(){var e;O(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return L(P(e=o.call.apply(o,[this].concat(n))),"setLayerVisibility",(function(t){t!==(e.props.options&&!1!==e.props.options.visibility)&&e.layer&&e.isValid()&&e.layer.setVisible(t)})),L(P(e),"setLayerOpacity",(function(t){t!==(e.props.options&&void 0!==e.props.options.opacity?e.props.options.opacity:1)&&e.layer&&e.layer.setOpacity(t)})),L(P(e),"generateOpts",(function(t,n,r,o,i){return c()({},t,h()(n)?{zIndex:n}:null,{srs:r,onError:function(){e.props.onCreationError(t)},securityToken:o,env:i})})),L(P(e),"createLayer",(function(t,n,r,o,i){if(t){var a=e.generateOpts(n,r,Object(l.normalizeSRS)(e.props.srs),o,i);e.layer=s.default.createLayer(t,a,e.props.map,e.props.mapId);var u=s.default.isCompatible(t,a);if(e.layer&&!e.layer.detached){var c=e.props.map,p=c&&c.getView().getProjection().getExtent(),f=n&&n.bbox&&n.bbox.bounds,d=p&&Object(l.reprojectBbox)(p,e.props.srs,"EPSG:4326"),h=f&&Object(l.reprojectBbox)(Object(l.getExtentFromNormalized)(f,e.props.srs).extent,"EPSG:4326");h&&2===h.length&&y()(h[1])&&(h=h[1]),(d&&h&&!Object(l.isBboxCompatible)(Object(l.getPolygonFromExtent)(d),Object(l.getPolygonFromExtent)(h))||!u)&&e.props.onWarning({title:"warning",message:"notification.incompatibleDataAndProjection",action:{label:"close"},position:"tc",uid:"1"}),e.addLayer(n)}e.layer&&e.layer.get&&e.layer.get("getElevation")&&e.props.map.set("elevationLayer",e.layer),e.forceUpdate()}})),L(P(e),"updateLayer",(function(t,n){if(t.position===n.position&&t.srs===n.srs&&t.securityToken===n.securityToken){if(t.options===n.options)return;if(_()(b()(t.options,["loading"]),b()(n.options,["loading"])))return}var r=s.default.updateLayer(e.props.type,e.layer,e.generateOpts(t.options,t.position,t.projection,t.securityToken,t.env),e.generateOpts(n.options,n.position,n.projection,n.securityToken,n.env),e.props.map,e.props.mapId);r&&(e.props.map.removeLayer(e.layer),e.layer=r,e.addLayer(t.options))})),L(P(e),"addLayer",(function(t){if(e.isValid()){e.props.map.addLayer(e.layer);var n=new f.a.Subject,r=new f.a.Subject;t.handleClickOnLayer&&e.layer.set("handleClickOnLayer",!0),e.layer.getSource().on("tileloadstart",(function(){0===e.tilestoload?(e.props.onLayerLoading(t.id),e.tilestoload++):e.tilestoload++})),e.layer.getSource().on("tileloadend",(function(){n.next({type:"tileloadend"}),e.tilestoload--,0===e.tilestoload&&r.next()})),e.layer.getSource().on("tileloaderror",(function(t){n.next({type:"tileloaderror",event:t}),e.tilestoload--,0===e.tilestoload&&r.next()})),n.bufferWhen((function(){return r})).subscribe({next:function(n){var r=n.filter((function(e){return"tileloaderror"===e.type}));r.length>0&&(t&&!t.hideErrors||!t)?(e.props.onLayerLoad(t.id,{error:!0}),e.props.onLayerError(t.id,n.length,r.length)):e.props.onLayerLoad(t.id)}}),e.tileLoadEndStream$=n,e.tileStopStream$=r;var o=new f.a.Subject,i=new f.a.Subject;if(e.layer.getSource().on("imageloadstart",(function(){0===e.imagestoload?(e.props.onLayerLoading(t.id),e.imagestoload++):e.imagestoload++})),e.layer.getSource().on("imageloadend",(function(){e.imagestoload--,o.next({type:"imageloadend"}),0===e.imagestoload&&i.next()})),e.layer.getSource().on("imageloaderror",(function(t){e.imagestoload--,o.next({type:"imageloaderror",event:t}),0===e.imagestoload&&i.next()})),o.bufferWhen((function(){return i})).subscribe({next:function(n){var r=n.filter((function(e){return"imageloaderror"===e.type}));r.length>0?(e.props.onLayerLoad(t.id,{error:!0}),(t&&!t.hideErrors||!t)&&e.props.onLayerError(t.id,n.length,r.length)):e.props.onLayerLoad(t.id)}}),e.imageLoadEndStream$=o,e.imageStopStream$=i,t.refresh){var a=0;e.refreshTimer=setInterval((function(){e.layer.getSource().updateParams(c()({},t.params,{_refreshCounter:a++}))}),t.refresh)}}})),L(P(e),"isValid",(function(){var t=s.default.isValid(e.props.type,e.layer);return e.valid=t,t})),e}return t=i,(n=[{key:"componentDidMount",value:function(){this.valid=!0,this.tilestoload=0,this.imagestoload=0,this.createLayer(this.props.type,this.props.options,this.props.position,this.props.securityToken,this.props.env)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.options&&!1!==e.options.visibility;this.setLayerVisibility(t);var n=e.options&&void 0!==e.options.opacity?e.options.opacity:1;this.setLayerOpacity(n),e.position!==this.props.position&&this.layer&&this.layer.setZIndex&&this.layer.setZIndex(e.position),this.props.options&&this.updateLayer(e,this.props)}},{key:"componentWillUnmount",value:function(){this.layer&&this.props.map&&(this.tileLoadEndStream$&&(this.tileLoadEndStream$.complete(),this.tileStopStream$.complete(),this.imageLoadEndStream$.complete(),this.imageStopStream$.complete()),this.layer.detached?this.layer.remove():this.props.map.removeLayer(this.layer)),this.refreshTimer&&clearInterval(this.refreshTimer),s.default.removeLayer(this.props.type,this.props.options,this.props.map,this.props.mapId,this.layer)}},{key:"render",value:function(){var e=this;if(this.props.children){var t=this.layer,n=t?a.a.Children.map(this.props.children,(function(n){return n?a.a.cloneElement(n,{container:t,styleName:e.props.options&&e.props.options.styleName}):null})):null;return a.a.createElement(a.a.Fragment,null,n)}return s.default.renderLayer(this.props.type,this.props.options,this.props.map,this.props.mapId,this.layer)}}])&&j(t.prototype,n),r&&j(t,r),i}(a.a.Component);L(T,"propTypes",{onWarning:o.a.func,maxExtent:o.a.array,map:o.a.object,mapId:o.a.string,srs:o.a.string,type:o.a.string,options:o.a.object,onLayerLoading:o.a.func,onLayerError:o.a.func,onCreationError:o.a.func,onLayerLoad:o.a.func,position:o.a.number,observables:o.a.array,securityToken:o.a.string,env:o.a.array}),L(T,"defaultProps",{observables:[],onLayerLoading:function(){},onLayerLoad:function(){},onLayerError:function(){},onCreationError:function(){},onWarning:function(){},srs:"EPSG:3857"})},"./MapStore2/web/client/components/map/openlayers/Locate.jsx":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/prop-types/index.js"),o=n.n(r),i=n("./node_modules/react/index.js"),a=n.n(i),s=(n("./MapStore2/web/client/utils/openlayers/olPopUp.css"),n("./node_modules/object-assign/index.js")),l=n.n(s),u=n("./node_modules/ol/util.js"),c=n("./node_modules/ol/Object.js"),p=n("./node_modules/ol/Overlay.js"),f=n("./node_modules/ol/Feature.js"),d=n("./node_modules/ol/source/Vector.js"),h=n("./node_modules/ol/layer/Vector.js"),m=n("./node_modules/ol/Geolocation.js"),y=n("./node_modules/ol/geom/Point.js"),g=n("./node_modules/ol/geom/Circle.js"),b=n("./node_modules/ol/geom/GeometryCollection.js"),v=n("./node_modules/ol/style/Style.js"),_=n("./node_modules/ol/style/Fill.js"),w=n("./node_modules/ol/style/Stroke.js"),O=n("./node_modules/ol/style/Circle.js");function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(){var e=document.createElement("div");e.setAttribute("class","ol-popup");var t=document.createElement("a");t.setAttribute("class","ol-popup-close-btn"),t.setAttribute("href","#close"),t.innerHTML="x";var n=document.createElement("div");n.setAttribute("class","ol-popup-cnt-wrapper");var r=document.createElement("div");r.setAttribute("class","ol-popup-cnt"),n.appendChild(r);var o=document.createElement("div");o.setAttribute("class","ol-popup-tip-wrapper");var i=document.createElement("div");return i.setAttribute("class","ol-popup-tip"),o.appendChild(i),e.appendChild(t),e.appendChild(n),e.appendChild(o),e}(),x=function(e,t){c.a.call(this,{state:"DISABLED"}),this.map=e;var n={drawCircle:!0,follow:!0,stopFollowingOnDrag:!1,remainActive:!0,locateStyle:this._getDefaultStyles(),metric:!0,onLocationError:this.onLocationError,keepCurrentZoomLevel:!1,showPopup:!0,strings:{metersUnit:"meters",feetUnit:"feet",popup:"You are within {distance} {unit} from this point"},locateOptions:{maximumAge:2e3,enableHighAccuracy:!1,timeout:1e4,maxZoom:18}};this.options=l()({},n,t||{}),this.geolocate=new m.a({projection:this.map.getView().getProjection(),trackingOptions:this.options.locateOptions}),this.updateHandler=this._updatePosFt.bind(this),this.geolocate.on("change:position",this.updateHandler),this.popup=E,this.popup.hidden=!0,this.popCnt=E.getElementsByClassName("ol-popup-cnt")[0],this.overlay=new p.a({element:this.popup,positioning:"top-center",stopEvent:!1}),this.layer=new h.a({source:new d.a({useSpatialIndex:!1})}),this.posFt=new f.a({geometry:this.geolocate.getAccuracyGeometry(),name:"position",id:"_locate-pos"}),this.posFt.setStyle(this.options.locateStyle),this.layer.getSource().addFeature(this.posFt),this.clickHandler=this.mapClick.bind(this),this.stopHandler=this.stopFollow.bind(this),this.errorHandler=this.options.onLocationError.bind(this)};Object(u.d)(x,c.a),x.prototype.start=function(){this.geolocate.on("error",this.errorHandler),this.follow=this.options.follow,this.geolocate.setTracking(!0),this.layer.setMap(this.map),this.map.addOverlay(this.overlay),this.options.showPopup&&(this.map.on("click",this.clickHandler),this.map.on("touch",this.clickHandler)),this.options.stopFollowingOnDrag&&this.map.on("pointerdrag",this.stopHandler),this.p?this._updatePosFt():this.set("state","LOCATING")},x.prototype.startFollow=function(){this.follow=!0,this.options.stopFollowingOnDrag&&this.map.on("pointerdrag",this.stopHandler),this.p&&this._updatePosFt()},x.prototype.stop=function(){this.geolocate.un("error",this.errorHandler),this.geolocate.setTracking(!1),this.popup.hide=!0,this.map.removeOverlay(this.overlay),this.layer.setMap(null),this.options.showPopup&&(this.map.un("click",this.clickHandler),this.map.un("touch",this.clickHandler)),this.options.stopFollowingOnDrag&&this.map.un("pointerdrag",this.stopHandler),this.set("state","DISABLED")},x.prototype.stopFollow=function(){this.follow=!1,this.map.un("pointerdrag",this.stopHandler),this.set("state","ENABLED")},x.prototype._updatePosFt=function(){var e=this.get("state"),t=this.follow?"FOLLOWING":"ENABLED";t!==e&&this.set("state",t);var n=this.geolocate.getPosition();this.p=n;var r=new y.a([parseFloat(n[0]),parseFloat(n[1])]);if(this.options.drawCircle){var o=new g.a([parseFloat(n[0]),parseFloat(n[1])],this.geolocate.getAccuracy());this.posFt.setGeometry(new b.default([r,o]))}else this.posFt.setGeometry(new b.default([r]));this.popup.hidden||this._updatePopUpCnt(),this.follow&&this.updateView(r),this.options.remainActive||this.geolocate.setTracking(!1)},x.prototype.updateView=function(e){this.follow&&(this.map.getView().setCenter(e.getCoordinates()),this.options.keepCurrentZoomLevel||this.map.getView().setZoom(this.options.locateOptions.maxZoom))},x.prototype._updatePopUpCnt=function(){var e,t;this.options.metric?(e=this.geolocate.getAccuracy(),t=this.options.strings.metersUnit):(e=Math.round(3.2808399*this.geolocate.getAccuracy()),t=this.options.strings.feetUnit);var n=this.options.strings.popup.replace("{distance}",e);this.popCnt.innerHTML=n.replace("{unit}",t),this.overlay.setPosition(this.posFt.getGeometry().getGeometries()[0].getCoordinates()),this.popup.hidden=!1},x.prototype.onLocationError=function(e){alert(e.message)},x.prototype.mapClick=function(e){var t=this.map.forEachFeatureAtPixel(e.pixel,(function(e){return e}));t&&"_locate-pos"===t.get("id")&&this.popup.hidden?this._updatePopUpCnt():this.popup.hidden||(E.hidden=!0)},x.prototype._getDefaultStyles=function(){return new v.default({image:new O.default({radius:6,fill:new _.default({color:"rgba(42,147,238,0.7)"}),stroke:new w.default({color:"rgba(19,106,236,1)",width:2})}),fill:new _.default({color:"rgba(19,106,236,0.15)"}),stroke:new w.default({color:"rgba(19,106,236,1)",width:2})})},x.prototype.setStrings=function(e){this.options.strings=l()({},this.options.strings,e)},x.prototype.setTrackingOptions=function(e){this.geolocate&&(this.geolocate.setTrackingOptions(e),this.options.locateOptions=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))};var P=x;function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=F(e);if(t){var o=F(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return A(this,n)}}function A(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?R(e):t}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"default",(function(){return U}));var G={follow:!0,remainActive:!0,metric:!0,stopFollowingOnDrag:!0,keepCurrentZoomLevel:!1,locateOptions:{maximumAge:2e3,enableHighAccuracy:!1,timeout:1e4}},U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(i,e);var t,n,r,o=D(i);function i(){var e;C(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return N(R(e=o.call.apply(o,[this].concat(n))),"onStateChange",(function(t){e.props.status!==t&&e.props.changeLocateState(t)})),N(R(e),"onLocationError",(function(t){e.props.onLocateError(t.message),e.props.changeLocateState("DISABLED")})),N(R(e),"configureLocate",(function(t){var n=e.locate.get("state");"ENABLED"===t&&"DISABLED"===n?e.locate.start():"FOLLOWING"===t&&"ENABLED"===n?e.locate.startFollow():"DISABLED"===t&&e.locate.stop()})),e}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this;this.props.map&&(this.locate=new P(this.props.map,this.mergeOptions(this.props)),this.locate.setStrings(this.props.messages),this.locate.options.onLocationError=this.onLocationError,this.locate.on("propertychange",(function(t){e.onStateChange(t.target.get(t.key))})),this.configureLocate(this.props.status))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.status!==this.props.status&&this.configureLocate(e.status),e.messages!==this.props.messages&&this.locate.setStrings(e.messages),e.maxZoom!==this.props.maxZoom&&this.locate.setTrackingOptions(this.mergeOptions(e).locateOptions)}},{key:"render",value:function(){return null}},{key:"mergeOptions",value:function(e){return T(T({},G),{},{locateOptions:T(T({},G.locateOptions),{},{maxZoom:e.maxZoom})})}}])&&k(t.prototype,n),r&&k(t,r),i}(a.a.Component);N(U,"displayName","Locate"),N(U,"propTypes",{map:o.a.object,status:o.a.string,messages:o.a.object,maxZoom:o.a.number,changeLocateState:o.a.func,onLocateError:o.a.func}),N(U,"defaultProps",{id:"overview",status:"DISABLED",maxZoom:18,changeLocateState:function(){},onLocateError:function(){}})},"./MapStore2/web/client/components/map/openlayers/Map.jsx":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/ol/interaction.js"),o=n("./node_modules/ol/interaction/DragPan.js"),i=n("./node_modules/ol/interaction/MouseWheelZoom.js"),a=n("./node_modules/ol/control/util.js"),s=n("./node_modules/ol/Map.js"),l=n("./node_modules/ol/View.js"),u=n("./node_modules/ol/proj.js"),c=n("./node_modules/ol/control/Zoom.js"),p=n("./node_modules/ol/proj/Units.js"),f=n("./node_modules/ol/extent.js"),d=n("./MapStore2/web/client/libs/proj4.js"),h=n.n(d),m=n("./node_modules/ol/proj/proj4.js"),y=n("./node_modules/prop-types/index.js"),g=n.n(y),b=n("./node_modules/react/index.js"),v=n.n(b),_=n("./node_modules/object-assign/index.js"),w=n.n(_),O=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),j=n("./MapStore2/web/client/utils/ConfigUtils.js"),S=n("./MapStore2/web/client/utils/MapUtils.js"),E=n("./node_modules/ol/proj/Projection.js"),x=function(e,t,n,r,o){Object(u.c)(new E.a({code:e,extent:t,worldExtent:n,axisOrientation:r,units:o}))},P=n("./MapStore2/web/client/utils/openlayers/DrawUtils.js"),M=n("./MapStore2/node_modules/lodash/lodash.js");n("./node_modules/ol/ol.css"),n("./MapStore2/web/client/components/map/openlayers/mapstore-ol-overrides.css");function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R(e);if(t){var o=R(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return D(this,n)}}function D(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?A(e):t}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(g,e);var t,n,d,y=I(g);function g(){var e;T(this,g);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return F(A(e=y.call.apply(y,[this].concat(n))),"getDocument",(function(){return e.props.document||document})),F(A(e),"getResolutions",(function(){if(e.props.mapOptions&&e.props.mapOptions.view&&e.props.mapOptions.view.resolutions)return e.props.mapOptions.view.resolutions;var t=void 0!==e.props.mapOptions.minZoom?e.props.mapOptions.minZoom:0,n=void 0!==e.props.mapOptions.maxZoom?e.props.mapOptions.maxZoom:28,r=void 0!==e.props.mapOptions.zoomFactor?e.props.mapOptions.zoomFactor:2,o=e.map.getView().getProjection(),i=o.getExtent(),a=(i?Object(f.E)(i):360*p.default.METERS_PER_UNIT[p.default.DEGREES]/p.default.METERS_PER_UNIT[o.getUnits()])/256,s=(i?Object(f.A)(i):360*p.default.METERS_PER_UNIT[p.default.DEGREES]/p.default.METERS_PER_UNIT[o.getUnits()])/256;a<=s?(1,s/=Math.round(s/a)):(1,a/=Math.round(a/s));var l=Math.max(a,s),u=l/Math.pow(2,28),c=e.props.mapOptions.maxResolution;void 0!==c?t=0:c=l/Math.pow(r,t);var d=e.props.mapOptions.minResolution;return void 0===d&&(d=void 0!==e.props.mapOptions.maxZoom?void 0!==e.props.mapOptions.maxResolution?c/Math.pow(r,n):l/Math.pow(r,n):u),n=t+Math.floor(Math.log(c/d)/Math.log(r)),Array.apply(0,Array(n-t+1)).map((function(e,t){return c/Math.pow(r,t)}))})),F(A(e),"mouseMoveEvent",(function(t){if(!t.dragging&&t.coordinate){var n=e.map.get("elevationLayer")&&e.map.get("elevationLayer").get("getElevation"),r=t.coordinate.slice(),o=Object(u.k)(r,e.props.projection),i=o[0]/360%1*360;i<-180?i+=360:i>180&&(i-=360),e.props.onMouseMove({y:o[1]||0,x:i||0,z:e.map.get("elevationLayer")&&e.map.get("elevationLayer").get("getElevation")(r,t.pixel)||void 0,crs:"EPSG:4326",pixel:{x:t.pixel[0],y:t.pixel[1]},latlng:{lat:o[1],lng:i,z:n&&n(r,t.pixel)||void 0},lat:o[1],lng:i,rawPos:t.coordinate.slice()})}})),F(A(e),"updateMapInfoState",(function(){var t=e.map.getView(),n=t.getCenter(),r=t.getProjection().getExtent(),o=t.getProjection().getCode();if(-1!==["EPSG:3857","EPSG:900913","EPSG:4326"].indexOf(o)||n&&n[0]>=r[0]&&n[0]<=r[2]&&n[1]>=r[1]&&n[1]<=r[3]){var i=e.normalizeCenter(t.getCenter()),a=t.calculateExtent(e.map.getSize()),s={width:e.map.getSize()[0],height:e.map.getSize()[1]};e.props.onMapViewChanges({x:i[0]||0,y:i[1]||0,crs:"EPSG:4326"},t.getZoom(),{bounds:{minx:a[0],miny:a[1],maxx:a[2],maxy:a[3]},crs:o,rotation:t.getRotation()},s,e.props.id,e.props.projection)}})),F(A(e),"haveResolutionsChanged",(function(t){var n=e.props.mapOptions&&e.props.mapOptions.view?e.props.mapOptions.view.resolutions:void 0,r=t.mapOptions&&t.mapOptions.view?t.mapOptions.view.resolutions:void 0;return!Object(M.isEqual)(n,r)})),F(A(e),"createView",(function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=o.restrictedExtent&&o.crs&&Object(O.reprojectBbox)(o.restrictedExtent,o.crs,Object(O.normalizeSRS)(n)),a=!r||r&&!r.view?w()({},r,{extent:i}):w()({},r),s=w()({},{projection:Object(O.normalizeSRS)(n),center:[e.x,e.y],zoom:t,minZoom:o.minZoom},a||{});return new l.a(s)})),F(A(e),"_updateMapPositionFromNewProps",(function(t){var n=e.map.getView(),r=e.props.center;if(!(t.center.y===r.y&&t.center.x===r.x)){var o=Object(O.reproject)({x:t.center.x,y:t.center.y},"EPSG:4326",t.projection,!0);n.setCenter([o.x,o.y])}Math.round(t.zoom)!==e.props.zoom&&n.setZoom(Math.round(t.zoom)),(t.bbox&&void 0!==t.bbox.rotation||e.bbox&&void 0!==e.bbox.rotation&&t.bbox.rotation!==e.props.bbox.rotation)&&n.setRotation(t.bbox.rotation)})),F(A(e),"normalizeCenter",(function(t){var n=Object(O.reproject)({x:t[0],y:t[1]},e.props.projection,"EPSG:4326",!0);return[n.x,n.y]})),F(A(e),"setMousePointer",(function(t){e.map&&(e.map.getViewport().style.cursor=t||"auto")})),F(A(e),"registerHooks",(function(){e.props.hookRegister.registerHook(S.default.RESOLUTIONS_HOOK,(function(){return e.getResolutions()})),e.props.hookRegister.registerHook(S.default.RESOLUTION_HOOK,(function(){return e.map.getView().getResolution()})),e.props.hookRegister.registerHook(S.default.COMPUTE_BBOX_HOOK,(function(t,n){var r=Object(O.reproject)([t.x,t.y],"EPSG:4326",e.props.projection),o=e.createView(r,n,e.props.projection,e.props.mapOptions&&e.props.mapOptions.view,e.props.limits),i=e.map.getSize(),a=o.calculateExtent(i);return{bounds:{minx:a[0],miny:a[1],maxx:a[2],maxy:a[3]},crs:e.props.projection,rotation:e.map.getView().getRotation()}})),e.props.hookRegister.registerHook(S.default.GET_PIXEL_FROM_COORDINATES_HOOK,(function(t){return e.map.getPixelFromCoordinate(t)})),e.props.hookRegister.registerHook(S.default.GET_COORDINATES_FROM_PIXEL_HOOK,(function(t){return e.map.getCoordinateFromPixel(t)})),e.props.hookRegister.registerHook(S.default.ZOOM_TO_EXTENT_HOOK,(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.padding,o=n.crs,i=n.maxZoom,a=n.duration,s=Object(O.reprojectBbox)(t,o,e.props.projection);s&&s[0]===s[2]&&s[1]===s[3]&&"EPSG:4326"===o&&Object(M.isArray)(t)&&-180===t[0]&&-90===t[1]&&(s=e.map.getView().getProjection().getExtent());var l=i;s&&s[0]===s[2]&&s[1]===s[3]&&Object(M.isNil)(l)&&(l=21),e.map.getView().fit(s,{size:e.map.getSize(),padding:r&&[r.top||0,r.right||0,r.bottom||0,r.left||0],maxZoom:l,duration:a})}))})),e}return t=g,(n=[{key:"componentDidMount",value:function(){var e=this;this.props.projectionDefs.forEach((function(e){var t=h.a.defs(e.code);x(e.code,e.extent,e.worldExtent,e.axisOrientation||t.axis||"enu",t.units||"m")}));var t=Object(O.reproject)([this.props.center.x,this.props.center.y],"EPSG:4326",this.props.projection);Object(m.a)(h.a);var n=w()(this.props.interactive?{}:{doubleClickZoom:!1,dragPan:!1,altShiftDragRotate:!1,keyboard:!1,mouseWheelZoom:!1,shiftDragZoom:!1,pinchRotate:!1,pinchZoom:!1},this.props.mapOptions.interactions),l=Object(r.a)(w()({dragPan:!1,mouseWheelZoom:!1},n,{}));void 0!==n&&void 0!==n.dragPan||(this.dragPanInteraction=new o.a({kinetic:!1}),l.extend([this.dragPanInteraction])),void 0!==n&&void 0!==n.mouseWheelZoom||(this.mouseWheelInteraction=new i.a({duration:0}),l.extend([this.mouseWheelInteraction]));var c=Object(a.a)(w()({zoom:this.props.zoomControl,attributionOptions:w()({collapsible:!1},this.props.mapOptions.attribution&&this.props.mapOptions.attribution.container?{target:this.getDocument().querySelector(this.props.mapOptions.attribution.container)}:{})},this.props.mapOptions.controls)),p=new s.default({layers:[],controls:c,interactions:l,maxTilesLoading:1/0,target:this.getDocument().getElementById(this.props.id)||"".concat(this.props.id),view:this.createView(t,Math.round(this.props.zoom),this.props.projection,this.props.mapOptions&&this.props.mapOptions.view,this.props.limits)});this.map=p,this.map.disabledListeners={},this.map.disableEventListener=function(t){e.map.disabledListeners[t]=!0},this.map.enableEventListener=function(t){delete e.map.disabledListeners[t]},this.map.getViewport().addEventListener("mouseout",(function(){setTimeout((function(){return e.props.onMouseOut()}),150)})),p.on("moveend",this.updateMapInfoState),p.on("singleclick",(function(t){if(e.props.onClick&&!e.map.disabledListeners.singleclick){var n=e.map.getView(),r=t.coordinate.slice(),o=n.getProjection().getExtent();if("EPSG:4326"===e.props.projection&&(r[0]=Object(O.normalizeLng)(r[0])),"EPSG:900913"!==e.props.projection&&"EPSG:3857"!==e.props.projection||(r=Object(u.k)(r,e.props.projection),o=Object(O.reprojectBbox)(o,e.props.projection,"EPSG:4326")),r[0]>=o[0]&&r[0]<=o[2]&&r[1]>=o[1]&&r[1]<=o[3]){var i,a;i="EPSG:900913"!==e.props.projection&&"EPSG:3857"!==e.props.projection?Object(O.reproject)(r,e.props.projection,"EPSG:4326"):{x:r[0],y:r[1]},e.markerPresent=!1,p.forEachFeatureAtPixel(t.pixel,(function(t,n){if(n&&n.get("handleClickOnLayer")){var r=t.getGeometry();if(!e.markerPresent&&"Point"===r.getType()){e.markerPresent=!0,a=n.get("msId");var o=Object(u.k)(r.getFirstCoordinate(),e.props.projection);i={x:o[0],y:o[1]}}}}));var s=Object(O.normalizeLng)(i.x),l=e.map.get("elevationLayer")&&e.map.get("elevationLayer").get("getElevation");e.props.onClick({pixel:{x:t.pixel[0],y:t.pixel[1]},latlng:{lat:i.y,lng:s,z:l&&l(r,t.pixel)||void 0},rawPos:t.coordinate.slice(),modifiers:{alt:t.originalEvent.altKey,ctrl:t.originalEvent.ctrlKey,metaKey:t.originalEvent.metaKey,shift:t.originalEvent.shiftKey}},a)}}}));var f=Object(M.throttle)(this.mouseMoveEvent,100);p.on("pointermove",f),this.updateMapInfoState(),this.setMousePointer(this.props.mousePointer),this.forceUpdate(),this.props.onResolutionsChange(this.getResolutions()),this.props.registerHooks&&this.registerHooks()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this;if(e.mousePointer!==this.props.mousePointer&&this.setMousePointer(e.mousePointer),e.zoomControl!==this.props.zoomControl&&(e.zoomControl?this.map.addControl(new c.a):this.map.removeControl(this.map.getControls().getArray().filter((function(e){return e instanceof c.a}))[0])),this.map&&(this.props.mapOptions&&this.props.mapOptions.interactions)!==(e.mapOptions&&e.mapOptions.interactions)){var n=e.mapOptions.interactions||{},r=this.map.getInteractions().getArray();Object.keys(n).forEach((function(e){var o=P.a[e]||{},i=o.Instance,a=o.options,s=Object(M.find)(r,(function(t){return P.a[e]&&t instanceof i}));s?s.setActive(n[e]):n[e]&&i&&t.map.addInteraction(new i(a))}))}if(this.map&&this.props.id!==e.mapStateSource&&this._updateMapPositionFromNewProps(e),this.map&&e.resize!==this.props.resize&&setTimeout((function(){t.map.updateSize()}),0),this.map&&(this.props.projection!==e.projection||this.haveResolutionsChanged(e))||this.props.limits!==e.limits){if(this.props.projection!==e.projection||this.props.limits!==e.limits){var o=e.projection,i=Object(O.reproject)([e.center.x,e.center.y],"EPSG:4326",o);this.map.setView(this.createView(i,e.zoom,e.projection,e.mapOptions&&e.mapOptions.view,e.limits)),this.props.onResolutionsChange(this.getResolutions())}this.map.getLayers().forEach((function(e){var t=e.getSource();t.getTileLoadFunction&&t.setTileLoadFunction(t.getTileLoadFunction())})),this.map.render()}}},{key:"componentWillUnmount",value:function(){var e=this.props.mapOptions.attribution&&this.props.mapOptions.attribution.container&&this.getDocument().querySelector(this.props.mapOptions.attribution.container);if(e&&e.querySelector(".ol-attribution"))try{e.removeChild(e.querySelector(".ol-attribution"))}catch(e){}this.map&&this.map.setTarget(null)}},{key:"render",value:function(){var e=this,t=this.map,n=t?v.a.Children.map(this.props.children,(function(n){return n?v.a.cloneElement(n,{map:t,mapId:e.props.id,onLayerLoading:e.props.onLayerLoading,onLayerError:e.props.onLayerError,onLayerLoad:e.props.onLayerLoad,projection:e.props.projection,onCreationError:e.props.onCreationError}):null})):null;return v.a.createElement("div",{id:this.props.id,style:this.props.style},n)}}])&&C(t.prototype,n),d&&C(t,d),g}(v.a.Component);F(N,"propTypes",{id:g.a.string,document:g.a.object,style:g.a.object,center:j.default.PropTypes.center,zoom:g.a.number.isRequired,mapStateSource:j.default.PropTypes.mapStateSource,projection:g.a.string,projectionDefs:g.a.array,onMapViewChanges:g.a.func,onResolutionsChange:g.a.func,onClick:g.a.func,mapOptions:g.a.object,zoomControl:g.a.bool,mousePointer:g.a.string,onMouseMove:g.a.func,onLayerLoading:g.a.func,onLayerLoad:g.a.func,onLayerError:g.a.func,resize:g.a.number,measurement:g.a.object,changeMeasurementState:g.a.func,registerHooks:g.a.bool,hookRegister:g.a.object,interactive:g.a.bool,onCreationError:g.a.func,bbox:g.a.object,wpsBounds:g.a.object,onWarning:g.a.func,maxExtent:g.a.array,limits:g.a.object,onMouseOut:g.a.func}),F(N,"defaultProps",{id:"map",onMapViewChanges:function(){},onResolutionsChange:function(){},onCreationError:function(){},onClick:null,onMouseMove:function(){},mapOptions:{},projection:"EPSG:3857",projectionDefs:[],onLayerLoading:function(){},onLayerLoad:function(){},onLayerError:function(){},resize:0,registerHooks:!0,hookRegister:S.default,interactive:!0,onMouseOut:function(){},center:{x:13,y:45,crs:"EPSG:4326"},zoom:5});t.default=N},"./MapStore2/web/client/components/map/openlayers/MeasurementSupport.jsx":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return V}));var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/prop-types/index.js"),a=n.n(i),s=n("./MapStore2/node_modules/lodash/lodash.js"),l=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),u=n("./MapStore2/web/client/utils/MeasureUtils.js"),c=n("./MapStore2/web/client/utils/ImmutableUtils.js"),p=n("./MapStore2/web/client/components/map/openlayers/VectorStyle.js"),f=n("./MapStore2/web/client/utils/LocaleUtils.js"),d=n("./MapStore2/web/client/utils/openlayers/DrawUtils.js"),h=n("./node_modules/ol/geom/Polygon.js"),m=n("./node_modules/ol/geom/LineString.js"),y=n("./node_modules/ol/Overlay.js"),g=n("./node_modules/ol/source/Vector.js"),b=n("./node_modules/ol/layer/Vector.js"),v=n("./node_modules/ol/Feature.js"),_=n("./node_modules/ol/style/Style.js"),w=n("./node_modules/ol/style/Fill.js"),O=n("./node_modules/ol/style/Stroke.js"),j=n("./node_modules/ol/style/Circle.js"),S=n("./node_modules/ol/interaction/Draw.js"),E=n("./node_modules/ol/format/GeoJSON.js"),x=n("./node_modules/ol/Observable.js"),P=n("./node_modules/ol/sphere.js");function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function T(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=U(e);if(t){var o=U(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N(this,n)}}function N(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?G(e):t}function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var B=function(e){return e.getView().getProjection().getCode()},V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(i,e);var t,n,r,o=F(i);function i(){var e;D(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return z(G(e=o.call.apply(o,[this].concat(n))),"getLength",(function(t,n){if("Bearing"===n.measurement.geomType&&t.length>1)return Object(l.calculateAzimuth)(t[0],t[1],B(n.map));var r=e.reprojectedCoordinatesIn4326(t);return Object(l.calculateDistance)(r,n.measurement.lengthFormula)})),z(G(e),"getArea",(function(t){return e.calculateGeodesicArea(t.getLinearRing(0).getCoordinates())})),z(G(e),"validateCoords",(function(e){return e.filter((function(e){return!isNaN(parseFloat(e[0]))&&!isNaN(parseFloat(e[1]))}))})),z(G(e),"updateFeatures",(function(t){var n=e.source.getFeatures();e.removeMeasureTooltips(),e.removeSegmentLengthOverlays(),e.source.clear(),e.textLabels=[],e.segmentLengths=[];var r=t.measurement.features.map((function(r,o){if(Object(s.get)(r,"properties.disabled"))return[r,n&&n[o]&&n[o].getGeometry()];var i=r.geometry.type,a=Object(s.get)(r,"properties.values",[]),c="bearing"===(a[0]||{}).type||!(a[0]||{}).type&&t.measurement.bearingMeasureEnabled,p="Polygon"===i?r.geometry.coordinates[0]:r.geometry.coordinates,f=e.reprojectedCoordinatesFrom4326(p),d="Polygon"===i?new h.b([f]):new m.a(f),y={Point:function(){return p},LineString:function(){return c?Object(l.calculateAzimuth)(p[0],p[1],"EPSG:4326"):Object(l.calculateDistance)(p,t.measurement.lengthFormula)},Polygon:function(){return e.getArea(d)}},g={LineString:function(){return e.formatLengthValue(c?Object(l.calculateAzimuth)(p[0],p[1],"EPSG:4326"):Object(l.calculateDistance)(p,t.measurement.lengthFormula),t.uom,c,t.measurement.trueBearing)},Polygon:function(){return e.formatAreaValue(e.getArea(d),t.uom)}};if(!c)for(var b=0;b<p.length-1;++b){e.createSegmentLengthOverlay();var v=Object(l.calculateAzimuth)(p[b],p[b+1],"EPSG:4326"),_=Object(l.calculateDistance)([p[b],p[b+1]],t.measurement.lengthFormula),w=e.props.measurement&&e.props.measurement.showLengthAndBearingLabel&&" | "+Object(u.getFormattedBearingValue)(v,e.props.measurement.trueBearing)||"",O=e.formatLengthValue(_,t.uom,c)+w;Object(s.last)(e.segmentOverlayElements).innerHTML=O,Object(s.last)(e.segmentOverlays).setPosition(Object(l.midpoint)(f[b],f[b+1],!0)),e.textLabels[e.segmentOverlays.length-1]={text:O,position:Object(l.midpoint)(p[b],p[b+1],!0)},e.segmentLengths[e.segmentOverlays.length-1]={value:_,type:c?"bearing":"length"}}if(e.createMeasureTooltip(),"Polygon"===i&&e.createMeasureTooltip(),e.tooltipCoord="LineString"===i?Object(s.last)(f):e.tooltipCoord=d.getInteriorPoint().getCoordinates(),Object(s.last)(e.measureTooltipElements).innerHTML=g[i](),Object(s.last)(e.measureTooltips).setPosition(e.tooltipCoord),e.outputValues[e.measureTooltipElements.length-1]={value:y[i](),type:"Polygon"===i?"area":c?"bearing":"length"},"Polygon"===i){var j=Object(l.calculateDistance)(p,t.measurement.lengthFormula);e.measureTooltipElements[e.measureTooltipElements.length-2].innerHTML=e.formatLengthValue(j,t.uom,!1),e.outputValues[e.measureTooltipElements.length-2]={value:j,type:"length"},e.perimeterTooltipCoord=Object(s.last)(f),e.measureTooltips[e.measureTooltipElements.length-2].setPosition(e.perimeterTooltipCoord),e.measureTooltips[e.measureTooltipElements.length-2].setOffset([0,-7])}var S=I({},r);return S.properties=r.properties?I({},r.properties):{},S.properties.values=[{value:(y[i]||function(){return null})(),formattedValue:(g[i]||function(){return null})(),position:"Polygon"===i?Object(l.pointObjectToArray)(Object(l.reproject)(d.getInteriorPoint().getCoordinates(),B(t.map),"EPSG:4326")):Object(s.last)(p),type:(a[0]||{}).type||(t.measurement.pointMeasureEnabled?"point":t.measurement.lineMeasureEnabled?"length":t.measurement.areaMeasureEnabled?"area":t.measurement.bearingMeasureEnabled?"bearing":void 0)}].concat(T("Polygon"===i?[{value:Object(l.calculateDistance)(p,t.measurement.lengthFormula),formattedValue:e.formatLengthValue(Object(l.calculateDistance)(p,t.measurement.lengthFormula),t.uom,!1),position:Object(s.last)(p),uom:t.uom,type:"length"}]:[])),[S,d]})),o=r.map((function(e){return e[0]})),i=r.map((function(e){return e[1]}));e.source.addFeatures(i.filter((function(e){return!!e})).map((function(e){return new v.a({geometry:e})})));var a=T(e.textLabels);o.map((function(e){var t,n,r=!!(null===(t=e.properties)||void 0===t||null===(n=t.values)||void 0===n?void 0:n.find((function(e){return"bearing"===e.type}))),o="Polygon"===e.geometry.type,i=o||r?0:1,s=o?e.geometry.coordinates[0]:e.geometry.coordinates,l=o?s.length-1:r?0:s.length;return e.geometry.textLabels=a.splice(0,l-i)||[],e})),e.props.changeGeometry(o),e.props.setTextLabels(T(e.textLabels));for(var c=0;c<e.measureTooltipElements.length;++c)e.measureTooltipElements[c]&&(e.measureTooltipElements[c].className="tooltip tooltip-static");for(var p=0;p<e.segmentOverlayElements.length;++p)e.segmentOverlayElements[p]&&(e.segmentOverlayElements[p].className="segment-overlay segment-overlay-static")})),z(G(e),"updateMeasures",(function(t){var n=function(n){var r=n.type,o=n.value;return"length"===r?e.formatLengthValue(o,t.uom,!1):"area"===r?e.formatAreaValue(o,t.uom):e.formatLengthValue(o,t.uom,!0,t.measurement.trueBearing)};e.outputValues=e.outputValues||[],e.segmentOverlayElements=e.segmentOverlayElements||[],e.textLabels=e.textLabels||[];for(var r=0;r<e.outputValues.length;++r)e.outputValues[r]&&(e.measureTooltipElements[r].innerHTML=n(e.outputValues[r]));for(var o=0;o<e.segmentOverlayElements.length;++o)if(e.segmentOverlayElements[o]){var i=n(e.segmentLengths[o]),a=e.textLabels[o].text,s=a.indexOf(" | ");a=a.replace(a.substring(0,-1!==s?s:a.length),i),e.segmentOverlayElements[o].innerHTML=a,e.textLabels[o].text=a}e.drawing||e.props.setTextLabels(T(e.textLabels));var l=(t.measurement.features||[]).map((function(e){return I(I({},e),e.properties?{properties:I(I({},e.properties),{},{values:(e.properties.values||[]).map((function(e){return I(I({},e),{},{formattedValue:n({type:e.type,value:e.value})})}))})}:{})}));e.props.changeGeometry(l)})),z(G(e),"addFeature",(function(t){var n=!1;e.source||(e.source=new g.a,n=!0);var r=Object(l.reprojectGeoJson)(t,"EPSG:4326",B(e.props.map)).geometry,o=new v.a({geometry:Object(d.b)(r)});e.source.addFeature(o),n&&e.measureLayer.setSource(e.source)})),z(G(e),"resetGeometry",(function(){e.source.clear(),e.props.resetGeometry()})),z(G(e),"saveDrawState",(function(){var t,n,r,o;e.savedDrawState={textLabels:e.textLabels.slice(),segmentLengths:e.segmentLengths.slice(),measureTooltipsLength:null!==(t=null===(n=e.measureTooltips)||void 0===n?void 0:n.length)&&void 0!==t?t:0,segmentOverlaysLength:null!==(r=null===(o=e.segmentOverlays)||void 0===o?void 0:o.length)&&void 0!==r?r:0}})),z(G(e),"discardDrawState",(function(){e.savedDrawState=null})),z(G(e),"restoreDrawState",(function(){if(e.savedDrawState){e.textLabels=e.savedDrawState.textLabels,e.segmentLengths=e.savedDrawState.segmentLengths;for(var t=e.savedDrawState.measureTooltipsLength;t<e.measureTooltips.length;++t)e.props.map.removeOverlay(e.measureTooltips[t]),e.measureTooltipElements[t].parentNode.removeChild(e.measureTooltipElements[t]);for(var n=e.savedDrawState.segmentOverlaysLength;n<e.segmentOverlays.length;++n)e.props.map.removeOverlay(e.segmentOverlays[n]),e.segmentOverlayElements[n].parentNode.removeChild(e.segmentOverlayElements[n]);e.measureTooltips.splice(e.savedDrawState.measureTooltipsLength),e.measureTooltipElements.splice(e.savedDrawState.measureTooltipsLength),e.outputValues.splice(e.savedDrawState.measureTooltipsLength),e.segmentOverlays.splice(e.savedDrawState.segmentOverlaysLength),e.segmentOverlayElements.splice(e.savedDrawState.segmentOverlaysLength),e.curPolygonLength=void 0,e.curLineStringLength=void 0,e.savedDrawState=null}})),z(G(e),"addDrawInteraction",(function(t){var n,r,o=t.measurement.startEndPoint;if(e.continueLineMsg=Object(f.getMessageById)(e.context.messages,"measureSupport.continueLine"),e.continuePolygonMsg=Object(f.getMessageById)(e.context.messages,"measureSupport.continuePolygon"),e.drawInteraction&&e.removeDrawInteraction(),!e.vector){e.source=new g.a;var i=[new _.default({fill:new w.default({color:"rgba(255, 255, 255, 0.2)"}),stroke:new O.default({color:"#ffcc33",width:2}),image:new j.default({radius:7,fill:new w.default({color:"#ffcc33"})})})],a=[],d=o||!0===o;if(d||void 0===o){var y=d?void 0===o?{}:o:t.startEndPoint;a=Object(p.f)(y.startPointOptions,y.endPointOptions)}var v=[].concat(i,T(a));e.vector=new b.a({source:e.source,zIndex:1e6,style:v}),e.props.map.addLayer(e.vector)}r="Bearing"===t.measurement.geomType?"LineString":t.measurement.geomType,n=new S.a({source:new g.a,type:r,style:new _.default({fill:new w.default({color:"rgba(255, 255, 255, 0.2)"}),stroke:new O.default({color:"rgba(0, 0, 0, 0.5)",lineDash:[10,10],width:2}),image:new j.default({radius:5,stroke:new O.default({color:"rgba(0, 0, 0, 0.7)"}),fill:new w.default({color:"rgba(255, 255, 255, 0.2)"})})})}),e.clickListener=e.props.map.on("click",(function(){return e.updateMeasurementResults(e.props)})),e.props.updateOnMouseMove&&e.props.map.on("pointermove",(function(){return e.updateMeasurementResults(e.props)})),e.props.map.on("pointermove",(function(t){return e.pointerMoveHandler(t)})),n.on("drawstart",(function(t){var n,r;e.sketchFeature=t.feature,e.drawing=!0,e.textId=(null===(n=e.props.measurement)||void 0===n||null===(r=n.features)||void 0===r?void 0:r.length)||0,e.textLabels||(e.textLabels=[]),e.segmentLengths||(e.segmentLengths=[]),e.props.measurement.disableLabels||(e.saveDrawState(),e.createMeasureTooltip("Polygon"===e.props.measurement.geomType?[0,0]:void 0),"Polygon"===e.props.measurement.geomType&&e.createMeasureTooltip(),"Polygon"===e.props.measurement.geomType&&e.createSegmentLengthOverlay()),e.listener=e.sketchFeature.getGeometry().on("change",(function(t){var n,r,o=t.target;if(o instanceof h.b){r={value:e.getArea(o),type:"area"},n=e.formatAreaValue(r.value,e.props.uom),e.tooltipCoord=o.getInteriorPoint().getCoordinates();var i=o.getCoordinates()[0],a=[];if(!e.props.measurement.disableLabels&&((void 0===e.curPolygonLength||e.curPolygonLength<i.length)&&(e.createSegmentLengthOverlay(),e.curPolygonLength=i.length),i.length>2)){a.push(Object(l.midpoint)(i[i.length-1],i[i.length-2],!0)),a.push(Object(l.midpoint)(i[i.length-2],i[i.length-3],!0));for(var c=0;c<a.length;++c){var p=i.slice(i.length-2-c,i.length-c),f=e.getLength(p,e.props),d=e.props.measurement&&e.props.measurement.showLengthAndBearingLabel&&" | "+Object(u.getFormattedBearingValue)(Object(l.calculateAzimuth)(p[0],p[1],B(e.props.map)),e.props.measurement.trueBearing)||"",y=e.formatLengthValue(f,e.props.uom,!1)+d;e.segmentOverlayElements[e.segmentOverlays.length-c-1].innerHTML=y,e.segmentOverlays[e.segmentOverlays.length-c-1].setPosition(a[c]),e.segmentLengths[e.segmentOverlays.length-c-1]={value:f,type:"length"},e.textLabels[e.segmentOverlays.length-c-1]={text:y,position:Object(l.pointObjectToArray)(Object(l.reproject)(a[c],B(e.props.map),"EPSG:4326")),type:e.props.measurement.geomType,textId:e.textId}}}}else if(o instanceof m.a){var g=o.getCoordinates(),b=[g[g.length-2],g[g.length-1]];e.props.measurement.disableLabels||e.props.measurement.bearingMeasureEnabled||!(void 0===e.curLineStringLength||e.curLineStringLength<g.length)||(e.createSegmentLengthOverlay(),e.curLineStringLength=g.length);var v=e.getLength(g,e.props),_=e.getLength(b,e.props);if(n=e.formatLengthValue(v,e.props.uom,"Bearing"===e.props.measurement.geomType,e.props.measurement.trueBearing),e.tooltipCoord=o.getLastCoordinate(),!e.props.measurement.disableLabels&&!e.props.measurement.bearingMeasureEnabled){var w=e.props.measurement&&e.props.measurement.showLengthAndBearingLabel&&" | "+Object(u.getFormattedBearingValue)(Object(l.calculateAzimuth)(b[0],b[1],B(e.props.map)),e.props.measurement.trueBearing)||"",O=e.formatLengthValue(_,e.props.uom,"Bearing"===e.props.measurement.geomType,e.props.measurement.trueBearing)+w;Object(s.last)(e.segmentOverlayElements).innerHTML=O,Object(s.last)(e.segmentOverlays).setPosition(Object(l.midpoint)(b[0],b[1],!0)),e.textLabels[e.segmentOverlays.length-1]={text:O,position:Object(l.pointObjectToArray)(Object(l.reproject)(Object(l.midpoint)(b[0],b[1],!0),B(e.props.map),"EPSG:4326")),type:e.props.measurement.geomType,textId:e.textId},e.segmentLengths[e.segmentOverlays.length-1]={value:_,type:"Bearing"===e.props.measurement.geomType?"bearing":"length"}}r={value:v,type:"Bearing"===e.props.measurement.geomType?"bearing":"length"}}if(!e.props.measurement.disableLabels&&(Object(s.last)(e.measureTooltipElements).innerHTML=n,Object(s.last)(e.measureTooltips).setPosition(e.tooltipCoord),e.outputValues[e.outputValues.length-1]=r,o instanceof h.b)){var j=o.getCoordinates()[0],S=e.getLength(3===j.length?Object(s.dropRight)(j):j,e.props);e.measureTooltipElements[e.measureTooltipElements.length-2].innerHTML=e.formatLengthValue(S,e.props.uom,!1),e.outputValues[e.measureTooltipElements.length-2]={value:S,type:"length"},e.perimeterTooltipCoord=o.getLastCoordinate(),e.measureTooltips[e.measureTooltipElements.length-2].setPosition(e.perimeterTooltipCoord)}}))})),n.on("drawend",(function(t){var n;e.drawing=!1;var r=Object(s.get)(e.props.measurement,"features",[]),o=t.feature.getGeometry(),i=o.getCoordinates(),a=new E.a,u={Point:function(){return Object(l.reproject)(i,B(e.props.map),"EPSG:4326")},LineString:function(){return e.getLength(i,e.props)},Polygon:function(){return e.getArea(o)},Bearing:function(){return Object(l.calculateAzimuth)(i[0],i[1],B(e.props.map))}},p={LineString:function(){return e.formatLengthValue(e.getLength(i,e.props),e.props.uom,!1)},Polygon:function(){return e.formatAreaValue(e.getArea(o),e.props.uom)},Bearing:function(){return e.formatLengthValue(Object(l.calculateAzimuth)(i[0],i[1],B(e.props.map)),e.props.uom,!0,e.props.measurement.trueBearing)}},f=Object(l.reprojectGeoJson)(a.writeFeatureObject(t.feature.clone()),B(e.props.map),"EPSG:4326");f.properties=f.properties||{},f.properties.values=[{value:(u[e.props.measurement.geomType]||function(){return null})(),formattedValue:(p[e.props.measurement.geomType]||function(){return null})(),position:Object(l.pointObjectToArray)(Object(l.reproject)("Polygon"===e.props.measurement.geomType?o.getInteriorPoint().getCoordinates():Object(s.last)(i),B(e.props.map),"EPSG:4326")),type:e.props.measurement.pointMeasureEnabled?"point":e.props.measurement.lineMeasureEnabled?"length":e.props.measurement.areaMeasureEnabled?"area":e.props.measurement.bearingMeasureEnabled?"bearing":void 0}].concat(T("Polygon"===e.props.measurement.geomType?[{value:(e.outputValues[e.measureTooltipElements.length-2]||{}).value||0,formattedValue:e.formatLengthValue((e.outputValues[e.measureTooltipElements.length-2]||{}).value||0,e.props.uom,!1),position:Object(l.pointObjectToArray)(Object(l.reproject)(Object(s.last)(i[0]),B(e.props.map),"EPSG:4326")),uom:e.props.uom,type:"length"}]:[]));var d=I({},f);if(e.props.measurement.lineMeasureEnabled){var h=d.geometry.coordinates,m=Object(l.transformLineToArcs)(h);if(!e.props.measurement.disableLabels){e.removeLastSegment();for(var y=0;y<h.length-1;++y){var g=m[100*y+50];g&&(e.textLabels[e.segmentOverlays.length-h.length+1+y].position=g,e.segmentOverlays[e.segmentOverlays.length-h.length+1+y].setPosition(Object(l.pointObjectToArray)(Object(l.reproject)(g,"EPSG:4326",B(e.props.map)))))}}d=Object(c.set)("geometry.coordinates",m,d)}else!e.props.measurement.disableLabels&&e.props.measurement.areaMeasureEnabled&&(e.textLabels.splice(e.segmentOverlays.length-2,1),e.props.map.removeOverlay(e.segmentOverlays[e.segmentOverlays.length-2]),e.segmentOverlayElements[e.segmentOverlays.length-2].parentNode.removeChild(e.segmentOverlayElements[e.segmentOverlays.length-2]),e.segmentOverlayElements.splice(e.segmentOverlays.length-2,1),e.segmentOverlays.splice(e.segmentOverlays.length-2,1));var b="bearing"===(null===(n=f.properties.values[0])||void 0===n?void 0:n.type)?"Bearing":f.geometry.type;if(f.geometry.textLabels=e.textLabels.filter((function(t){return t.type===b&&t.textId===e.textId})).map((function(e){e.textId,e.type;return L(e,["textId","type"])})),e.props.changeGeometry([].concat(T(r),[f])),e.props.setTextLabels(T(e.textLabels)),e.addFeature(d),!e.props.measurement.disableLabels&&(Object(s.last)(e.measureTooltipElements).className="tooltip tooltip-static",Object(s.last)(e.measureTooltips).setOffset([0,-7]),"Polygon"===e.props.measurement.geomType&&(e.measureTooltipElements[e.measureTooltipElements.length-2].className="tooltip tooltip-static",e.measureTooltips[e.measureTooltipElements.length-2].setOffset([0,-7])),e.segmentOverlayElements))for(var v=0;v<e.segmentOverlayElements.length;++v)e.segmentOverlayElements[v]&&(e.segmentOverlayElements[v].className="segment-overlay segment-overlay-static");Object(x.b)(e.listener),e.curPolygonLength=void 0,e.curLineStringLength=void 0,e.discardDrawState()})),e.props.map.addInteraction(n),e.createHelpTooltip(),e.drawInteraction=n,e.measureLayer=e.vector})),z(G(e),"removeLastSegment",(function(){e.textLabels.pop(),e.segmentLengths.pop(),e.props.map.removeOverlay(Object(s.last)(e.segmentOverlays)),Object(s.last)(e.segmentOverlayElements).parentNode.removeChild(Object(s.last)(e.segmentOverlayElements)),e.segmentOverlays.pop(),e.segmentOverlayElements.pop()})),z(G(e),"removeDrawInteraction",(function(){null!==e.drawInteraction&&(e.removeHelpTooltip(),e.props.map.removeInteraction(e.drawInteraction),e.drawInteraction=null,e.sketchFeature=null,e.props.map.un("click",(function(){return e.updateMeasurementResults(e.props)}),G(e)),Object(x.b)(e.clickListener),e.props.updateOnMouseMove&&e.props.map.un("pointermove",(function(){return e.updateMeasurementResults(e.props)}),G(e)))})),z(G(e),"pointerMoveHandler",(function(e){if(!e.dragging){var t=Object(f.getMessageById)(this.context.messages,"measureSupport.startDrawing");if(this.sketchFeature&&this.drawing){var n=this.sketchFeature.getGeometry();n instanceof h.b?t=this.continuePolygonMsg:n instanceof m.a&&(t=this.continueLineMsg)}this.helpTooltipElement.innerHTML=t,this.helpTooltip.setPosition(e.coordinate),this.helpTooltipElement.classList.remove("hidden")}})),z(G(e),"updateMeasurementResults",(function(t){if(e.sketchFeature){var n=e.sketchFeature.getGeometry().getCoordinates();if("Bearing"===t.measurement.geomType&&n.length>1&&n.length>2){for(e.drawInteraction.sketchCoords_=[n[0],n[1],n[0]];e.sketchFeature.getGeometry().getCoordinates().length>3;)e.drawInteraction.removeLastPoint();e.sketchFeature.getGeometry().setCoordinates([n[0],n[1]]),e.drawInteraction.sketchFeature_=e.sketchFeature,e.drawInteraction.finishDrawing()}}})),z(G(e),"reprojectedCoordinatesFrom4326",(function(t){return t.map((function(t){var n=Object(l.reproject)(t,"EPSG:4326",B(e.props.map));return[n.x,n.y]}))})),z(G(e),"reprojectedCoordinatesIn4326",(function(t){return t.map((function(t){var n=Object(l.reproject)(t,B(e.props.map),"EPSG:4326");return[n.x,n.y]}))})),z(G(e),"calculateGeodesicArea",(function(t){if(t.length>=4){var n=e.reprojectedCoordinatesIn4326(t);return Math.abs(Object(P.a)(new h.b([n]),{projection:"EPSG:4326"}))}return 0})),z(G(e),"createHelpTooltip",(function(){e.removeHelpTooltip(),e.helpTooltipElement=document.createElement("div"),e.helpTooltipElement.className="tooltip hidden",e.helpTooltip=new y.a({element:e.helpTooltipElement,offset:[15,0],positioning:"center-left"}),e.props.map.addOverlay(e.helpTooltip)})),z(G(e),"createMeasureTooltip",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,-15];e.measureTooltipElements||(e.measureTooltipElements=[]),e.measureTooltips||(e.measureTooltips=[]),e.outputValues||(e.outputValues=[]);var n=document.createElement("div");n.className="tooltip tooltip-measure",n.style.display=e.props.measurement.showLabel?"":"none",e.measureTooltipElements.push(n);var r=new y.a({element:n,offset:t,positioning:"bottom-center"});e.props.map.addOverlay(r),e.measureTooltips.push(r),e.outputValues.push(null)})),z(G(e),"createSegmentLengthOverlay",(function(t){e.segmentOverlayElements||(e.segmentOverlayElements=[]),e.segmentOverlays||(e.segmentOverlays=[]);var n=document.createElement("div");n.className="segment-overlay",n.style.display=e.props.measurement.showSegmentLengths&&!t?"":"none",e.segmentOverlayElements.push(n);var r=new y.a({element:n,offset:[0,0],positioning:"center-center"});e.props.map.addOverlay(r),e.segmentOverlays.push(r)})),z(G(e),"formatLengthValue",(function(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(r)return Object(u.getFormattedBearingValue)(t,o);var i=n&&n.length,a=i.label,l=i.unit,c=Object(s.round)(Object(u.convertUom)(t,"m",l),2);return e.props.formatNumber(c)+" "+a})),z(G(e),"formatAreaValue",(function(t,n){var r=n&&n.area,o=r.label,i=r.unit,a=Object(s.round)(Object(u.convertUom)(t,"sqm",i),2);return e.props.formatNumber(a)+" "+o})),z(G(e),"removeHelpTooltip",(function(){e.helpTooltipElement&&e.helpTooltipElement.parentNode&&e.helpTooltipElement.parentNode.removeChild(e.helpTooltipElement),e.helpTooltip&&e.props.map.removeOverlay(e.helpTooltip)})),z(G(e),"removeMeasureTooltips",(function(){(e.measureTooltips||[]).forEach((function(t){e.props.map.removeOverlay(t)}));for(var t=document.getElementsByClassName("tooltip-static")||[],n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);t=document.getElementsByClassName("tooltip-measure")||[];for(var r=0;r<t.length;r++)t[r].parentNode.removeChild(t[r]);e.measureTooltips=[],e.measureTooltipElements=[],e.outputValues=[]})),z(G(e),"removeSegmentLengthOverlays",(function(){(e.segmentOverlays||[]).forEach((function(t){e.props.map.removeOverlay(t)})),(e.segmentOverlayElements||[]).forEach((function(e){e.parentNode.removeChild(e)})),e.segmentOverlays=[],e.segmentOverlayElements=[]})),e}return t=i,(n=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(this.measureTooltipElements&&e.measurement.showLabel!==this.props.measurement.showLabel)for(var t=0;t<this.measureTooltipElements.length;++t)this.measureTooltipElements[t]&&(this.measureTooltipElements[t].style.display=e.measurement.showLabel?"":"none");if(this.segmentOverlayElements&&e.measurement.showSegmentLengths)for(var n=0;n<this.segmentOverlayElements.length;++n)this.segmentOverlayElements[n]&&(this.segmentOverlayElements[n].style.display=e.measurement.showSegmentLengths?"":"none");(e.measurement.geomType&&e.measurement.geomType!==this.props.measurement.geomType||e.measurement.geomType&&(e.measurement.lineMeasureEnabled||e.measurement.areaMeasureEnabled||e.measurement.bearingMeasureEnabled)&&!this.props.enabled&&e.enabled)&&(this.restoreDrawState(),this.addDrawInteraction(e)),e.measurement.geomType||(this.removeDrawInteraction(),this.removeMeasureTooltips(),this.removeSegmentLengthOverlays(),this.textLabels=[],this.segmentLengths=[],this.props.map.removeLayer(this.measureLayer),this.vector=null,this.measureLayer=null,e.measurement.features&&e.measurement.features.length>0&&this.props.changeGeometry([]),e.measurement.textLabels&&e.measurement.textLabels.length>0&&this.props.setTextLabels([]),this.source&&(this.source.clear(),this.source=null));var r=this.props.measurement.features,o=e.measurement.features;e.measurement.updatedByUI&&!Object(s.isEqual)(r,o)?this.updateFeatures(e):e.measurement.updatedByUI&&!Object(s.isEqual)(this.props.uom,e.uom)&&this.updateMeasures(e)}},{key:"render",value:function(){return null}}])&&A(t.prototype,n),r&&A(t,r),i}(o.a.Component);z(V,"propTypes",{startEndPoint:a.a.object,map:a.a.object,measurement:a.a.object,enabled:a.a.bool,uom:a.a.object,formatNumber:a.a.func,changeMeasurementState:a.a.func,updateMeasures:a.a.func,resetGeometry:a.a.func,changeGeometry:a.a.func,updateOnMouseMove:a.a.bool,setTextLabels:a.a.func}),z(V,"contextTypes",{messages:a.a.object}),z(V,"defaultProps",{changeMeasurementState:function(){},resetGeometry:function(){},updateMeasures:function(){},changeGeometry:function(){},formatNumber:function(e){return e},setTextLabels:function(){},startEndPoint:{startPointOptions:{radius:3,fillColor:"green"},endPointOptions:{radius:3,fillColor:"red"}},updateOnMouseMove:!1})},"./MapStore2/web/client/components/map/openlayers/Overview.jsx":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return j}));var r=n("./node_modules/prop-types/index.js"),o=n.n(r),i=n("./node_modules/react/index.js"),a=n.n(i),s=n("./MapStore2/web/client/utils/openlayers/Layers.js"),l=n("./node_modules/object-assign/index.js"),u=n.n(l),c=n("./MapStore2/node_modules/lodash/isFinite.js"),p=n.n(c),f=n("./node_modules/ol/control/OverviewMap.js");function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n("./MapStore2/web/client/components/map/openlayers/overview.css");var O={className:"ol-overviewmap ol-custom-overviewmap",collapseLabel:"»",label:"«",collapsed:!0,collapsible:!0},j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(i,e);var t,n,r,o=g(i);function i(){var e;h(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return w(v(e=o.call.apply(o,[this].concat(n))),"dragstart",(function(t){e.dragging||(e.dragBox=e.box.cloneNode(),e.dragBox.setAttribute("class","ol-overview-dargbox"),e.dragBox.style.position="relative",e.box.appendChild(e.dragBox),""===e.box.style.top?e.offsetStartTop=0:e.offsetStartTop=parseInt(e.box.style.top.slice(0,-2),10),""===e.box.style.left?e.offsetStartLeft=0:e.offsetStartLeft=parseInt(e.box.style.left.slice(0,-2),10),e.mouseStartTop=t.pageY,e.mouseStartLeft=t.pageX,e.dragging=!0)})),w(v(e),"draggingel",(function(t){!0===e.dragging&&(e.dragBox.style.top=e.offsetStartTop+t.pageY-e.mouseStartTop+"px",e.dragBox.style.left=e.offsetStartLeft+t.pageX-e.mouseStartLeft+"px",t.stopPropagation(),t.preventDefault())})),w(v(e),"dragend",(function(){if(!0===e.dragging){var t={};t.top=""===e.dragBox.style.top?0:parseInt(e.dragBox.style.top.slice(0,-2),10),t.left=""===e.dragBox.style.left?0:parseInt(e.dragBox.style.left.slice(0,-2),10),e.box.removeChild(e.dragBox),delete e.dragBox,e.dragging=!1,e.setNewExtent(t)}})),w(v(e),"setNewExtent",(function(t){var n=e.box.offsetWidth,r=e.box.offsetHeight,o=e.props.map.getSize(),i=t.left*Math.abs(o[0]/n),a=t.top*Math.abs(o[1]/r);i=p()(i)?i:0,a=p()(a)?a:0;var s=[0+i,o[1]+a],l=[o[0]+i,0+a],u=e.props.map.getCoordinateFromPixel(s)||[0,0],c=e.props.map.getCoordinateFromPixel(l)||[0,0],f=[u[0],u[1],c[0],c[1]];e.props.map.getView().fit(f,o,{nearest:!0})})),e}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this,t=[];this.props.layers.forEach((function(e){t.push(s.default.createLayer(e.type,e.options||{}))}));var n=u()({},O,this.props.overviewOpt,{layers:t});this.overview=new f.a(n),this.props.map&&this.overview.setMap(this.props.map),this.box=this.overview.element.getElementsByClassName("ol-overviewmap-box").item(0),this.box.onmousedown=function(t){e.dragstart(t),e.box.onmousemove=function(t){e.draggingel(t)},e.overview.element.onmousemove=function(t){e.draggingel(t)},e.box.onmouseup=function(){e.dragend(),e.overview.element.onmousemove=null,e.box.onmousemove=null,e.box.onmouseup=null}}}},{key:"render",value:function(){return null}}])&&m(t.prototype,n),r&&m(t,r),i}(a.a.Component);w(j,"displayName","Overview"),w(j,"propTypes",{id:o.a.string,map:o.a.object,overviewOpt:o.a.object,layers:o.a.array}),w(j,"defaultProps",{id:"overview",overviewOpt:{},layers:[{type:"osm",options:{}}]})},"./MapStore2/web/client/components/map/openlayers/PopupSupport.jsx":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return x}));var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/react-dom/index.js"),a=n.n(i),s=n("./node_modules/prop-types/index.js"),l=n.n(s),u=n("./node_modules/ol/Overlay.js"),c=n("./MapStore2/node_modules/lodash/isString.js"),p=n.n(c),f=n("./MapStore2/web/client/utils/PopupUtils.js"),d=n("./MapStore2/web/client/components/map/popups/index.js");function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new MutationObserver((function(){e.getMap().getSize()&&(e.setPosition(void 0),e.setPosition(n.coordinates))}));return r.observe(t,{attributes:!0,childList:!0,subtree:!0}),r},x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(s,e);var t,n,r,i=_(s);function s(){var e;g(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return S(O(e=i.call.apply(i,[this].concat(n))),"onPopupClose",(function(t){e.props.onPopupClose(t)})),S(O(e),"renderPopups",(function(){return e.preparePopups().map((function(t){var n,r=t.popup,i=t.id,s=t.component,l=t.content,u=t.props,c=t.containerStyle,h=r.getElement(),m=p()(s)&&d.default[s]||s;return m?n=o.a.isValidElement(m)&&m||o.a.createElement(m,u):l&&(n=f.c(l)?o.a.createElement("div",{dangerouslySetInnerHTML:{__html:l}}):l),h&&a.a.createPortal(o.a.createElement("div",{className:"map-popup-ol",key:i,onMouseUp:e.convertToClick},o.a.createElement("div",{className:"ol-popup-content-wrapper"},o.a.createElement("div",{className:"ol-popup-content",style:c},n)),o.a.createElement("div",{className:"ol-popup-closer",onClick:function(){return e.onPopupClose(i)}},"x")),h)}))})),S(O(e),"update",(function(){(e._popups||[]).map((function(e){var t=e.popup;t.setElement(t.getElement())}))})),S(O(e),"convertToClick",(function(e){var t=new MouseEvent("click",{bubbles:!0});t.stopPropagation=function(){},e.target.dispatchEvent(t)})),S(O(e),"preparePopups",(function(){var t=e.props,n=t.popups,r=void 0===n?[]:n,o=t.map,i=o.getSize();return(e._popups||[]).forEach((function(e){var t=e.popup,n=e.observer;n&&n.disconnect(),t&&o.removeOverlay(t)})),e._popups=r.map((function(e){var t=Math.round(.9*i[0])-40,n=Math.round(.9*i[1])-40,r=e.id,a=e.position.coordinates,s=e.className,l=e.maxWidth,c=void 0===l?t:l,p=e.maxHeight,d=void 0===p?n:p,h=e.autoPan,m=void 0!==h&&h,g=e.autoPanMargin,b=void 0===g?20:g,v=e.offset,_=void 0===v?[0,0]:v,w=e.autoPanAnimation,O=void 0===w?{duration:200}:w,j=c>t?t:c,S=d>n?n:d,x=f.b(r,s),P=new u.a({id:r,element:x,autoPan:m,offset:_,autoPanMargin:b,autoPanAnimation:O,positioning:"bottom-center",className:"ol-overlay-container ol-unselectable",position:a});return o.addOverlay(P),y({popup:P,observer:E(P,x,{coordinates:a}),containerStyle:{maxWidth:j,maxHeight:S}},e)})),e._popups})),S(O(e),"stopPropagationOnPointerMove",(function(e){e.stopPropagation()})),e}return t=s,(n=[{key:"componentWillMount",value:function(){this.props.map&&this.props.map.getOverlayContainerStopEvent().addEventListener("pointermove",this.stopPropagationOnPointerMove)}},{key:"shouldComponentUpdate",value:function(e){return e.popups!==this.props.popups}},{key:"componentWillUnmount",value:function(){this.props.map&&this.props.map.getOverlayContainerStopEvent().removeEventListener("pointermove",this.stopPropagationOnPointerMove)}},{key:"render",value:function(){return o.a.createElement("div",null,this.renderPopups())}}])&&b(t.prototype,n),r&&b(t,r),s}(o.a.Component);S(x,"propTypes",{map:l.a.object,popups:l.a.arrayOf(l.a.object),onPopupClose:l.a.func}),S(x,"defaultProps",{popups:[],onPopupClose:function(){}})},"./MapStore2/web/client/components/map/openlayers/ScaleBar.jsx":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return b}));var r=n("./node_modules/prop-types/index.js"),o=n.n(r),i=n("./node_modules/react/index.js"),a=n.n(i),s=n("./node_modules/object-assign/index.js"),l=n.n(s),u=n("./node_modules/ol/control/ScaleLine.js");function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(i,e);var t,n,r,o=h(i);function i(){return p(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){this.scalebar=new u.a(l()({},this.props,this.props.container?{target:document.querySelector(this.props.container)}:{})),this.props.map&&this.props.map.addControl(this.scalebar)}},{key:"componentWillUnmount",value:function(){if(this.props.container&&document.querySelector(".ol-scale-line"))try{document.querySelector(this.props.container).removeChild(document.querySelector(".ol-scale-line"))}catch(e){}}},{key:"render",value:function(){return null}}])&&f(t.prototype,n),r&&f(t,r),i}(a.a.Component);g(b,"propTypes",{map:o.a.object,className:o.a.string,minWidth:o.a.number,units:o.a.oneOf(["degrees","imperial","nautical","metric","us"]),container:o.a.string}),g(b,"defaultProps",{map:null,className:"ol-scale-line",minWidth:64,units:"metric"})},"./MapStore2/web/client/components/map/openlayers/VectorStyle.js":function(e,t,n){"use strict";var r=n("./MapStore2/node_modules/lodash/isNil.js"),o=n.n(r),i=n("./MapStore2/node_modules/lodash/trim.js"),a=n.n(i),s=n("./MapStore2/node_modules/lodash/isString.js"),l=n.n(s),u=n("./MapStore2/node_modules/lodash/isArray.js"),c=n.n(u),p=n("./MapStore2/node_modules/lodash/castArray.js"),f=n.n(p),d=n("./MapStore2/node_modules/lodash/head.js"),h=n.n(d),m=n("./MapStore2/node_modules/lodash/last.js"),y=n.n(m),g=n("./MapStore2/node_modules/lodash/find.js"),b=n.n(g),v=n("./MapStore2/node_modules/lodash/isObject.js"),_=n.n(v),w=n("./MapStore2/web/client/utils/ColorUtils.js"),O=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),j=n("./MapStore2/web/client/utils/MarkerUtils.js"),S=n("./MapStore2/node_modules/lodash/isNumber.js"),E=n.n(S),x=n("./node_modules/ol/style/Style.js"),P=n("./node_modules/ol/style/Icon.js"),M=n("./node_modules/ol/style/Text.js"),L=n("./node_modules/ol/style/Fill.js"),T=n("./MapStore2/web/client/utils/openlayers/highlight.png"),C=n.n(T),k=j.a.markers.extra,I=k.icons[0],D=k.icons[1],A=k.size[1],R=j.a.getGlyphs("fontawesome"),F=function(e,t){var n=e.highlight,r=e.rotation,o=void 0===r?0:r;return n?[new x.default({image:new P.default({anchor:[.5,t],rotation:o,anchorXUnits:"fraction",anchorYUnits:"pixels",src:C.a,scale:.5})})]:[]},N={extra:{getIcon:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o()(e.style&&e.style.rotation)?0:e.style.rotation;return[new x.default({image:new P.default({rotation:t,anchor:[12,12],anchorXUnits:"pixels",anchorYUnits:"pixels",src:D})}),new x.default({image:new P.default({rotation:t,src:I,anchor:[k.size[0]/2,k.size[1]],anchorXUnits:"pixels",anchorYUnits:"pixels",size:k.size,offset:[k.colors.indexOf(e.style.iconColor||"blue")*k.size[0],k.shapes.indexOf(e.style.iconShape||"circle")*k.size[1]]}),text:new M.default({rotation:t,text:R[e.style.iconGlyph],font:"14px FontAwesome",offsetY:2*-k.size[1]/3,fill:new L.default({color:"#FFFFFF"})})})].concat(F(e.style,2*(A+15)))}},standard:{getIcon:function(e){var t=e.style,n=e.iconAnchor,r=o()(t&&t.rotation)?0:t.rotation,i=t.iconAnchor||n,a=[new x.default({image:new P.default({anchor:i||[.5,1],anchorXUnits:t.anchorXUnits||(i||0===i?"pixels":"fraction"),anchorYUnits:t.anchorYUnits||(i||0===i?"pixels":"fraction"),size:c()(t.size)?t.size:E()(t.size)?[t.size,t.size]:void 0,rotation:r,anchorOrigin:t.anchorOrigin||"top-left",src:t.iconUrl||t.symbolUrlCustomized||t.symbolUrl})})];t.shadowUrl&&(a=[new x.default({image:new P.default({anchor:[12,41],anchorXUnits:"pixels",anchorYUnits:"pixels",src:t.shadowUrl})}),a[0]]);var s=c()(t.size)?t.size[1]:E()(t.size)?t.size:0;return s=s>32?s+.75*s:A+10,a.concat(F(t,s))}},html:{getIcon:function(){return null}}},G=n("./MapStore2/web/client/utils/VectorStyleUtils.js"),U=n("./node_modules/ol/style/Circle.js"),z=n("./node_modules/ol/style/Stroke.js"),B=n("./node_modules/ol/geom/Point.js"),V=n("./node_modules/ol/geom/LineString.js"),q=n("./node_modules/es6-promise/dist/es6-promise.js"),W=n("./MapStore2/web/client/libs/ajax.js"),H=n.n(W),Z=n("./node_modules/geostyler-openlayers-parser/build/dist/OlStyleParser.js"),Y=n.n(Z),K=n("./MapStore2/web/client/components/map/openlayers/img/marker-icon.png"),X=n.n(K),J=n("./MapStore2/web/client/components/map/openlayers/img/marker-shadow.png"),Q=n.n(J),$=n("./node_modules/object-assign/index.js"),ee=n.n($),te=n("./MapStore2/web/client/utils/ImmutableUtils.js");function ne(e){return function(e){if(Array.isArray(e))return re(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return re(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var se=[0,153,255,1],le=new U.default({radius:5,fill:null,stroke:new z.default({color:"red",width:1})}),ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.radius,n=void 0===t?5:t,r=e.fillColor,o=void 0===r?"green":r,i=e.applyToPolygon,a=void 0!==i&&i;return new x.default({image:new U.default({radius:n,fill:new L.default({color:o})}),geometry:function(e){var t=e.getGeometry(),n=t.getType();if(!a&&"Polygon"===n)return null;var r="Polygon"===n?t.getCoordinates()[0]:t.getCoordinates();return r.length>1?new B.a(h()(r)):null}})},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.radius,n=void 0===t?5:t,r=e.fillColor,o=void 0===r?"red":r,i=e.applyToPolygon,a=void 0!==i&&i;return new x.default({image:new U.default({radius:n,fill:new L.default({color:o})}),geometry:function(e){var t=e.getGeometry(),n=t.getType();if(!a&&"Polygon"===n)return null;var r="Polygon"===n?t.getCoordinates()[0]:t.getCoordinates();return new B.a(r.length>3?r[r.length-("Polygon"===n?2:1)]:y()(r))}})},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return[ue(e),ce(t)]},fe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new x.default({text:new M.default({offsetY:-4*Math.sqrt(e.fontSize),textAlign:e.textAlign||"center",text:t||"",font:e.font,fill:new L.default({color:Object(w.b)(e.stroke||e.color||"#000000",e.opacity||1)}),stroke:n?new z.default({color:[255,255,255,1],width:2}):null}),image:n?new U.default({radius:5,fill:null,stroke:new z.default({color:Object(w.b)(e.color||"#0000FF",e.opacity||1),width:e.weight||1})}):null})},de={color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2,radius:10},he={color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2,editing:{fill:1}},me={color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2,editing:{fill:1}},ye={Marker:{iconColor:"orange",iconShape:"circle",iconGlyph:"comment"},Text:{fontStyle:"normal",fontSize:"14",fontSizeUom:"px",fontFamily:"Arial",fontWeight:"normal",font:"14px Arial",textAlign:"center",color:"#000000",opacity:1},Circle:{color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2},Point:de,MultiPoint:de,LineString:he,MultiLineString:he,Polygon:me,MultiPolygon:me},ge=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{color:"blue",width:3,lineDash:[6]};return{stroke:new z.default(e.style?e.style.stroke||{color:e.style.color||t.color,lineDash:l()(e.style.dashArray)&&a()(e.style.dashArray).split(" ")||t.lineDash,width:e.style.weight||t.width,lineCap:e.style.lineCap||"round",lineJoin:e.style.lineJoin||"round",lineDashOffset:e.style.dashOffset||0}:ie({},t))}},be=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{color:"rgba(0, 0, 255, 0.1)"};return{fill:new L.default(e.style?e.style.fill||{color:Object(w.b)(e.style.fillColor,e.style.fillOpacity)||t.color}:ie({},t))}},ve={Point:function(){return[new x.default({image:le})]},LineString:function(e){return[new x.default(ee()({},ge(e,{color:"blue",width:3})))]},MultiLineString:function(e){return[new x.default(ee()({},ge(e,{color:"blue",width:3})))]},MultiPoint:function(){return[new x.default({image:le})]},MultiPolygon:function(e){return[new x.default(ee()({},ge(e),be(e)))]},Polygon:function(e){return[new x.default(ee()({},ge(e),be(e)))]},GeometryCollection:function(e){return[new x.default(ee()({},ge(e),be(e),{image:new U.default({radius:10,fill:null,stroke:new z.default({color:"magenta"})})}))]},Circle:function(){return[new x.default({stroke:new z.default({color:"red",width:2}),fill:new L.default({color:"rgba(255,0,0,0.2)"})})]},marker:function(e){return[new x.default({image:new P.default({anchor:[14,41],anchorXUnits:"pixels",anchorYUnits:"pixels",src:Q.a})}),new x.default({image:new P.default({anchor:[.5,1],anchorXUnits:"fraction",anchorYUnits:"fraction",src:X.a}),text:new M.default({text:e.label,scale:1.25,offsetY:8,fill:new L.default({color:"#000000"}),stroke:new z.default({color:"#FFFFFF",width:2})})})]}},_e=function(e,t){var n=e.getGeometry().getType();return ve[n](t&&t.style&&t.style[n]&&{style:ie({},t.style[n])}||t||{})};function we(e){if(e.style.iconUrl)return N.standard.getIcon(e);var t=e.style.iconLibrary||"extra";return N[t]?N[t].getIcon(e):null}var Oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{style:ye},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=t.style[e]||t.style;if("MultiLineString"===e||"LineString"===e){var s=[new x.default({stroke:t.style.useSelectedStyle?new z.default({color:[255,255,255,1],width:a.weight+2}):null}),new x.default(a?{stroke:new z.default(a&&a.stroke?a.stroke:{color:Object(w.b)(t.style&&a.color||"#0000FF",a.opacity||1),lineDash:t.style.highlight?[10]:[0],width:a.weight||1}),image:n?le:null}:{stroke:new z.default(ye[e]&&ye[e].stroke?ye[e].stroke:{color:Object(w.b)(t.style&&ye[e].color||"#0000FF",ye[e].opacity||1),lineDash:t.style.highlight?[10]:[0],width:ye[e].weight||1})})],l=t.style.useSelectedStyle?pe({radius:a.weight,applyToPolygon:!0},{radius:a.weight,applyToPolygon:!0}):[];return[].concat(ne(l),s)}if(("MultiPoint"===e||"Point"===e)&&(a.iconUrl||a.iconGlyph))return n?new x.default({image:le}):we({style:ie(ie({},a),{},{highlight:t.style.highlight||t.style.useSelectedStyle})});if("Circle"===e&&i){var u=[new x.default({stroke:t.style.useSelectedStyle?new z.default({color:[255,255,255,1],width:a.weight+4}):null}),new x.default({stroke:new z.default(a&&a.stroke?a.stroke:{color:t.style.useSelectedStyle?se:Object(w.b)(t.style&&a.color||"#0000FF",a.opacity||1),lineDash:t.style.highlight?[10]:[0],width:a.weight||1}),fill:new L.default(a.fill?a.fill:{color:Object(w.b)(t.style&&a.fillColor||"#0000FF",a.fillOpacity||.2)})}),new x.default({image:t.style.useSelectedStyle?new U.default({radius:3,fill:new L.default(a.fill?a.fill:{color:se})}):null,geometry:function(e){var t=e.getGeometry();if("Circle"===t.getType()){var n=t.getCenter();return new B.a(n)}return null}})];return u}if("Text"===e&&a.font)return[fe(a,r[0],t.style.useSelectedStyle||t.style.highlight)];if("MultiPolygon"===e||"Polygon"===e){var c=[new x.default({stroke:t.style.useSelectedStyle?new z.default({color:[255,255,255,1],width:a.weight+2}):null}),new x.default({stroke:new z.default(a.stroke?a.stroke:{color:t.style.useSelectedStyle?se:Object(w.b)(t.style&&a.color||"#0000FF",a.opacity||1),lineDash:t.style.highlight?[10]:[0],width:a.weight||1}),image:n?le:null,fill:new L.default(a.fill?a.fill:{color:Object(w.b)(t.style&&a.fillColor||"#0000FF",a.fillOpacity||1)})})],p=t.style.useSelectedStyle?pe({radius:a.weight,applyToPolygon:!0},{radius:a.weight,applyToPolygon:!0}):[];return[].concat(c,ne(p))}return o};function je(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(e.styleName&&!e.overrideOLStyle)return function(t){if("marker"===e.styleName)switch(t.getGeometry().getType()){case"Point":case"MultiPoint":return ve.marker(e)}return ve[e.styleName](e)};var r,i=e.nativeStyle,a=n,s=0,l=e.style&&e.style.type||(e.features&&e.features[0]&&e.features[0].geometry?e.features[0].geometry.type:void 0);if("FeatureCollection"===l||e.features&&e.features[0]&&"FeatureCollection"===e.features[0].type)return function(n){var o=this||n;r=o.getGeometry()&&o.getGeometry().getType();var i=o&&o.getProperties();i&&i.isCircle&&(r="Circle",s=i.radius),i&&i.isText&&(r="Text",a=[i.valueText]);var l=Object(te.set)("style.useSelectedStyle",i.canEdit,e);return Oe(r,l,t,a,null,s)};if(e&&e.properties&&e.properties.isText)return r="Text",a=[e.properties.valueText],Oe(r,e,t,a,null,s);if(e&&e.properties&&e.properties.isCircle)return r="Circle",s=e.properties.radius,Oe(r,e,t,a,null,s);if(!i&&e.style){if(i={stroke:new z.default(e.style.stroke?e.style.stroke:{color:Object(w.b)(e.style&&e.style.color||"#0000FF",o()(e.style.opacity)?1:e.style.opacity),lineDash:e.style.highlight?[10]:[0],width:e.style.weight||1}),fill:new L.default(e.style.fill?e.style.fill:{color:Object(w.b)(e.style&&e.style.fillColor||"#0000FF",o()(e.style.fillOpacity)?1:e.style.fillOpacity)})},"Point"===l&&(i={image:new U.default(ee()({},i,{radius:e.style.radius||5}))}),e.style.iconUrl||e.style.iconGlyph){var u=we(e);return i=function(t){var n=this||t;switch(r=n.getGeometry().getType()){case"Point":case"MultiPoint":return u;default:return _e(n,e)}}}return i=new x.default(i),"GeometryCollection"===l?i=function(o){var i,a=this||o;r=a.getGeometry().getType();var s=a.get("textGeometriesIndexes")||[],l=a.get("circles")||[],u=a.get("textValues");return"GeometryCollection"===a.getGeometry().getType()?a.getGeometry().getGeometries().reduce((function(o,a,p){if(("Point"===(r=a.getType())||"MultiPoint"===r)&&s.length&&-1!==s.indexOf(p)){var f=Oe("Text",e,t,[u[s.indexOf(p)]]);return f.setGeometry(a),o.concat([f])}if("Polygon"===r&&l.length&&-1!==l.indexOf(p)){var d=Oe("Circle",e,t,[]);return d.setGeometry(a),o.concat([d])}if("Point"===r||"MultiPoint"===r)return i=we({style:ie(ie({},e.style[r]),{},{highlight:e.style.highlight})}),o.concat(i.map((function(e){return e.setGeometry(a),e})));var h=Oe(r,e,t,n);return c()(h)?h.forEach((function(e){return e.setGeometry(a)})):h.setGeometry(a),o.concat([h])}),[]):"Point"===r||"MultiPoint"===r?(i=we({style:ie(ie({},e.style[r]),{},{highlight:e.style.highlight})}),t?new x.default({image:le,geometry:a.getGeometry()}):i.map((function(e){return e.setGeometry(a.getGeometry()),e}))):Oe(r,e,t,n)}:("Circle"===l&&(s=e.features&&e.features.length&&e.features[0].properties&&e.features[0].properties.radius||10),Oe(l,e,t,n,i,s))}return i||_e}function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"b",(function(){return Te})),n.d(t,"e",(function(){return Ue})),n.d(t,"d",(function(){return ze})),n.d(t,"c",(function(){return Be})),n.d(t,"f",(function(){return Ve})),n.d(t,"a",(function(){return qe}));var Pe=new Y.a,Me={white:[255,255,255,1],blue:[0,153,255,1],width:3},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Object(G.isCircleStyle)(e)?new U.default({stroke:t,fill:n,radius:e.radius||5}):null},Te=function(e){if(Object(G.isMarkerStyle)(e)){if(e.iconUrl)return N.standard.getIcon({style:e});var t=e.iconLibrary||"extra";if(N[t])return N[t].getIcon({style:e})}return null},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(G.isStrokeStyle)(e)?new z.default(e.stroke&&_()(e.stroke)?e.stroke:{color:e.highlight?Me.blue:Object(w.b)(e.color||e.stroke||"#0000FF",o()(e.opacity)?1:e.opacity),width:o()(e.weight)?1:e.weight,lineDash:l()(e.dashArray)&&a()(e.dashArray).split(" ")||c()(e.dashArray)&&e.dashArray||[0],lineCap:e.lineCap||"round",lineJoin:e.lineJoin||"round",lineDashOffset:e.dashOffset||0}):null},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(G.isFillStyle)(e)?new L.default(e.fill&&_()(e.fill)?e.fill:{color:Object(w.b)(e.fillColor||"#0000FF",o()(e.fillOpacity)?1:e.fillOpacity)}):null},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return Object(G.isTextStyle)(e)?new M.default({fill:n,offsetY:e.offsetY||-4*Math.sqrt(e.fontSize),rotation:e.textRotationDeg?e.textRotationDeg/180*Math.PI:0,textAlign:e.textAlign||"center",text:e.label||r&&r.properties&&r.properties.valueText||"New",font:e.font||"Arial",stroke:e.highlight?new z.default({color:[255,255,255,1],width:2}):t,image:e.highlight?new U.default({radius:5,fill:null,stroke:new z.default({color:Object(w.b)(e.color||"#0000FF",e.opacity||1),width:e.weight||1})}):null}):null},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.radius,n=void 0===t?5:t,r=e.fillColor,o=void 0===r?"green":r,i=e.applyToPolygon,a=void 0!==i&&i;return new x.default({image:new U.default({radius:n,fill:new L.default({color:o})}),geometry:function(e){var t=e.getGeometry(),n=t.getType();if(!a&&"Polygon"===n)return null;var r="Polygon"===n?t.getCoordinates()[0]:t.getCoordinates();return r.length>1?new B.a(h()(r)):null}})},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.radius,n=void 0===t?5:t,r=e.fillColor,o=void 0===r?"red":r,i=e.applyToPolygon,a=void 0!==i&&i;return new x.default({image:new U.default({radius:n,fill:new L.default({color:o})}),geometry:function(e){var t=e.getGeometry(),n=t.getType();if(!a&&"Polygon"===n)return null;var r="Polygon"===n?t.getCoordinates()[0]:t.getCoordinates();return new B.a(r.length>3?r[r.length-("Polygon"===n?2:1)]:y()(r))}})},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{radius:3,fillColor:"green",applyToPolygon:!0},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{radius:3,fillColor:"red",applyToPolygon:!0},r=[];return b()(e,(function(e){return"startPoint"===e.geometry&&e.filtering}))||r.push(De(Ee({},t))),b()(e,(function(e){return"endPoint"===e.geometry&&e.filtering}))||r.push(Ae(Ee({},n))),r};Object(G.registerGeometryFunctions)("centerPoint",(function(e){var t=e.getGeometry(),n=t.getExtent(),r=t.getCenter&&t.getCenter()||[n[2]-n[0],n[3]-n[1]];return new B.a(r)}),"Point"),Object(G.registerGeometryFunctions)("lineToArc",(function(e){var t=e.getGeometry().getType();if("LineString"===t||"MultiPoint"===t){var n=e.getGeometry().getCoordinates();return n=Object(O.transformLineToArcs)(n.map((function(e){var t=Object(O.reproject)(e,"EPSG:3857","EPSG:4326");return[t.x,t.y]}))),new V.a(n.map((function(e){var t=Object(O.reproject)(e,"EPSG:4326","EPSG:3857");return[t.x,t.y]})))}return e.getGeometry()}),"LineString"),Object(G.registerGeometryFunctions)("startPoint",(function(e){var t=e.getGeometry(),n="Polygon"===t.getType()?t.getCoordinates()[0]:t.getCoordinates();return n.length>1?new B.a(h()(n)):null}),"Point"),Object(G.registerGeometryFunctions)("endPoint",(function(e){var t=e.getGeometry(),n=t.getType(),r="Polygon"===n?t.getCoordinates()[0]:t.getCoordinates();return new B.a(r.length>3?r[r.length-("Polygon"===n?2:1)]:y()(r))}),"Point");var Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.geometry?function(t){var n=e.geometry||"centerPoint";return G.geometryFunctions[n].func(t)}:function(e){return e.getGeometry()}},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!!o()(e.filtering)||e.filtering},Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{properties:{}},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=Ne(t,e);if(r){var o=Ce(t),i=ke(t),a=Le(t,o,i);if(Object(G.isMarkerStyle)(t))return Te(t).map((function(e){return e.setGeometry(Fe(t)),e}));if(Object(G.isSymbolStyle)(t))return N.standard.getIcon({style:t}).map((function(e){return e.setGeometry(Fe(t)),e}));var s=Ie(t,o,i,e),l=t.zIndex,u=new x.default({geometry:Fe(t),image:a,text:s,stroke:!s&&!a&&o||null,fill:!s&&!a&&i||null,zIndex:l});return[u].concat(e&&e.properties&&e.properties.canEdit&&!e.properties.isCircle?Re(n):[])}return new x.default({})},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{properties:{}},t=e.style;if(t){var n=c()(t)?t:f()(t);return n.reduce((function(t,r){return t.concat(Ge(e,r,n))}),[])}return[]},ze=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(e.style&&e.style.url)return H.a.get(e.style.url).then((function(t){return Object(G.getStyleParser)(e.style.format).readStyle(t.data).then((function(e){return Pe.writeStyle(e)}))}));if(e.style&&"geostyler"===e.style.format)return Pe.writeStyle(e.style.styleObj);var r=je(e,t,n);return e.asPromise?new q.Promise((function(e){e(r)})):r},Be=we,Ve=pe,qe=ye},"./MapStore2/web/client/components/map/openlayers/img/marker-icon.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAGmklEQVRYw7VXeUyTZxjvNnfELFuyIzOabermMZEeQC/OclkO49CpOHXOLJl/CAURuYbQi3KLgEhbrhZ1aDwmaoGqKII6odATmH/scDFbdC7LvFqOCc+e95s2VG50X/LLm/f4/Z7neY/ne18aANCmAr5E/xZf1uDOkTcGcWR6hl9247tT5U7Y6SNvWsKT63P58qbfeLJG8M5qcgTknrvvrdDbsT7Ml+tv82X6vVxJE33aRmgSyYtcWVMqX97Yv2JvW39UhRE2HuyBL+t+gK1116ly06EeWFNlAmHxlQE0OMiV6mQCScusKRlhS3QLeVJdl1+23h5dY4FNB3thrbYboqptEFlphTC1hSpJnbRvxP4NWgsE5Jyz86QNNi/5qSUTGuFk1gu54tN9wuK2wc3o+Wc13RCmsoBwEqzGcZsxsvCSy/9wJKf7UWf1mEY8JWfewc67UUoDbDjQC+FqK4QqLVMGGR9d2wurKzqBk3nqIT/9zLxRRjgZ9bqQgub+DdoeCC03Q8j+0QhFhBHR/eP3U/zCln7Uu+hihJ1+bBNffLIvmkyP0gpBZWYXhKussK6mBz5HT6M1Nqpcp+mBCPXosYQfrekGvrjewd59/GvKCE7TbK/04/ZV5QZYVWmDwH1mF3xa2Q3ra3DBC5vBT1oP7PTj4C0+CcL8c7C2CtejqhuCnuIQHaKHzvcRfZpnylFfXsYJx3pNLwhKzRAwAhEqG0SpusBHfAKkxw3w4627MPhoCH798z7s0ZnBJ/MEJbZSbXPhER2ih7p2ok/zSj2cEJDd4CAe+5WYnBCgR2uruyEw6zRoW6/DWJ/OeAP8pd/BGtzOZKpG8oke0SX6GMmRk6GFlyAc59K32OTEinILRJRchah8HQwND8N435Z9Z0FY1EqtxUg+0SO6RJ/mmXz4VuS+DpxXC3gXmZwIL7dBSH4zKE50wESf8qwVgrP1EIlTO5JP9Igu0aexdh28F1lmAEGJGfh7jE6ElyM5Rw/FDcYJjWhbeiBYoYNIpc2FT/SILivp0F1ipDWk4BIEo2VuodEJUifhbiltnNBIXPUFCMpthtAyqws/BPlEF/VbaIxErdxPphsU7rcCp8DohC+GvBIPJS/tW2jtvTmmAeuNO8BNOYQeG8G/2OzCJ3q+soYB5i6NhMaKr17FSal7GIHheuV3uSCY8qYVuEm1cOzqdWr7ku/R0BDoTT+DT+ohCM6/CCvKLKO4RI+dXPeAuaMqksaKrZ7L3FE5FIFbkIceeOZ2OcHO6wIhTkNo0ffgjRGxEqogXHYUPHfWAC/lADpwGcLRY3aeK4/oRGCKYcZXPVoeX/kelVYY8dUGf8V5EBRbgJXT5QIPhP9ePJi428JKOiEYhYXFBqou2Guh+p/mEB1/RfMw6rY7cxcjTrneI1FrDyuzUSRm9miwEJx8E/gUmqlyvHGkneiwErR21F3tNOK5Tf0yXaT+O7DgCvALTUBXdM4YhC/IawPU+2PduqMvuaR6eoxSwUk75ggqsYJ7VicsnwGIkZBSXKOUww73WGXyqP+J2/b9c+gi1YAg/xpwck3gJuucNrh5JvDPvQr0WFXf0piyt8f8/WI0hV4pRxxkQZdJDfDJNOAmM0Ag8jyT6hz0WGXWuP94Yh2jcfjmXAGvHCMslRimDHYuHuDsy2QtHuIavznhbYURq5R57KpzBBRZKPJi8eQg48h4j8SDdowifdIrEVdU+gbO6QNvRRt4ZBthUaZhUnjlYObNagV3keoeru3rU7rcuceqU1mJBxy+BWZYlNEBH+0eH4vRiB+OYybU2hnblYlTvkHinM4m54YnxSyaZYSF6R3jwgP7udKLGIX6r/lbNa9N6y5MFynjWDtrHd75ZvTYAPO/6RgF0k76mQla3FGq7dO+cH8sKn0Vo7nDllwAhqwLPkxrHwWmHJOo+AKJ4rab5OgrM7rVu8eWb2Pu0Dh4eDgXoOfvp7Y7QeqknRmvcTBEyq9m/HQQSCSz6LHq3z0yzsNySRfMS253wl2KyRDbcZPcfJKjZmSEOjcxyi+Y8dUOtsIEH6R2wNykdqrkYJ0RV92H0W58pkfQk7cKevsLK10Py8SdMGfXNXATY+pPbyJR/ET6n9nIfztNtZYRV9XniQu9IA2vOVgy4ir7GCLVmmd+zjkH0eAF9Po6K61pmCXHxU5rHMYd1ftc3owjwRSVRzLjKvqZEty6cRUD7jGqiOdu5HG6MdHjNcNYGqfDm5YRzLBBCCDl/2bk8a8gdbqcfwECu62Fg/HrggAAAABJRU5ErkJggg=="},"./MapStore2/web/client/components/map/openlayers/img/marker-shadow.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAYAAACoYAD2AAAC5ElEQVRYw+2YW4/TMBCF45S0S1luXZCABy5CgLQgwf//S4BYBLTdJLax0fFqmB07nnQfEGqkIydpVH85M+NLjPe++dcPc4Q8Qh4hj5D/AaQJx6H/4TMwB0PeBNwU7EGQAmAtsNfAzoZkgIa0ZgLMa4Aj6CxIAsjhjOCoL5z7Glg1JAOkaicgvQBXuncwJAWjksLtBTWZe04CnYRktUGdilALppZBOgHGZcBzL6OClABvMSVIzyBjazOgrvACf1ydC5mguqAVg6RhdkSWQFj2uxfaq/BrIZOLEWgZdALIDvcMcZLD8ZbLC9de4yR1sYMi4G20S4Q/PWeJYxTOZn5zJXANZHIxAd4JWhPIloTJZhzMQduM89WQ3MUVAE/RnhAXpTycqys3NZALOBbB7kFrgLesQl2h45Fcj8L1tTSohUwuxhy8H/Qg6K7gIs+3kkaigQCOcyEXCHN07wyQazhrmIulvKMQAwMcmLNqyCVyMAI+BuxSMeTk3OPikLY2J1uE+VHQk6ANrhds+tNARqBeaGc72cK550FP4WhXmFmcMGhTwAR1ifOe3EvPqIegFmF+C8gVy0OfAaWQPMR7gF1OQKqGoBjq90HPMP01BUjPOqGFksC4emE48tWQAH0YmvOgF3DST6xieJgHAWxPAHMuNhrImIdvoNOKNWIOcE+UXE0pYAnkX6uhWsgVXDxHdTfCmrEEmMB2zMFimLVOtiiajxiGWrbU52EeCdyOwPEQD8LqyPH9Ti2kgYMf4OhSKB7qYILbBv3CuVTJ11Y80oaseiMWOONc/Y7kJYe0xL2f0BaiFTxknHO5HaMGMublKwxFGzYdWsBF174H/QDknhTHmHHN39iWFnkZx8lPyM8WHfYELmlLKtgWNmFNzQcC1b47gJ4hL19i7o65dhH0Negbca8vONZoP7doIeOC9zXm8RjuL0Gf4d4OYaU5ljo3GYiqzrWQHfJxA6ALhDpVKv9qYeZA8eM3EhfPSCmpuD0AAAAASUVORK5CYII="},"./MapStore2/web/client/components/map/openlayers/mapstore-ol-overrides.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/map/openlayers/mapstore-ol-overrides.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./MapStore2/web/client/components/map/openlayers/overview.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/map/openlayers/overview.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./MapStore2/web/client/components/map/openlayers/plugins/BingLayer.js":function(e,t,n){"use strict";n.r(t);var r=n("./MapStore2/web/client/utils/openlayers/Layers.js"),o=n("./node_modules/ol/layer/Tile.js"),i=n("./node_modules/ol/source/BingMaps.js"),a=function e(t,n){t.getSource&&"error"===t.getSource().getState()&&n.onError&&n.onError(t),t.getSource&&"loading"===t.getSource().getState()&&setTimeout(e.bind(null,t,n),1e3)};r.default.registerType("bing",{create:function(e){var t=e.apiKey,n=e.maxNativeZoom||19,r=new o.a({msId:e.id,preload:1/0,opacity:void 0!==e.opacity?e.opacity:1,zIndex:e.zIndex,visible:e.visibility,source:new i.a({key:t,imagerySet:e.name,maxZoom:n})});return setTimeout(a.bind(null,r,e),1e3),r},isValid:function(e){return!e.getSource||"error"!==e.getSource().getState()}})},"./MapStore2/web/client/components/map/openlayers/plugins/GoogleLayer.js":function(e,t,n){"use strict";n.r(t);var r,o,i=n("./MapStore2/web/client/utils/openlayers/Layers.js"),a=n("./node_modules/react/index.js"),s=n.n(a),l=n("./node_modules/ol/proj.js"),u={},c="ontouchstart"in window,p=c?"touchstart":"mousedown",f=c?"touchmove":"mousemove",d=c?"touchend":"mouseup";i.default.registerType("google",{create:function(e,t,n){if(document.getElementById(n+"gmaps")){var o=window.google;r||(r={HYBRID:o.maps.MapTypeId.HYBRID,SATELLITE:o.maps.MapTypeId.SATELLITE,ROADMAP:o.maps.MapTypeId.ROADMAP,TERRAIN:o.maps.MapTypeId.TERRAIN}),u[n]||(u[n]=new o.maps.Map(document.getElementById(n+"gmaps"),{disableDefaultUI:!0,keyboardShortcuts:!1,draggable:!1,disableDoubleClickZoom:!0,scrollwheel:!1,streetViewControl:!1})),u[n].setMapTypeId(r[e.name]);var i=document.getElementById(n+"gmaps"),a=function(){if(u[n]&&"hidden"!==i.style.visibility){var e=Object(l.l)(t.getView().getCenter(),"EPSG:3857","EPSG:4326");u[n].setCenter(new o.maps.LatLng(e[1],e[0]))}},s=function(){u[n]&&"hidden"!==i.style.visibility&&u[n].setZoom(t.getView().getZoom())},c=function(e,t){var n=t[0],r=t[1],o=[[n/2,r/2],[-n/2,r/2],[-n/2,-r/2],[n/2,-r/2]].map((function(t){return n=t,r=e*Math.PI/180,o=n[0],i=n[1],[o*Math.cos(r)-i*Math.sin(r),o*Math.sin(r)+i*Math.cos(r)];var n,r,o,i})),i=o.map((function(e){return e[0]})),a=o.map((function(e){return e[1]})),s=Math.max.apply(null,i),l=Math.min.apply(null,i),u=Math.max.apply(null,a),c=Math.min.apply(null,a),p=Math.abs(u)+Math.abs(c);return{width:Math.abs(s)+Math.abs(l),height:p}},h=function(){if("hidden"!==i.style.visibility){var e=180*t.getView().getRotation()/Math.PI;i.style.transform="rotate("+e+"deg)",o.maps.event.trigger(u[n],"resize")}},m=function(){var e=t.getView();e.on("change:center",a),e.on("change:resolution",s),e.on("change:rotation",h)};t.on("change:view",m),m(),a(),s();var y=t.getViewport(),g=document.getElementById(n+"gmaps").style.transform,b=!1,v=!1;y.addEventListener(p,(function(){b=!0})),y.addEventListener(d,(function(){v&&b&&function(){var e=document.getElementById(n+"gmaps").style.transform;if(u[n]&&e!==g&&-1!==e.indexOf("rotate")){var r=parseFloat(e.match(/[\+\-]?\d+\.?\d*/i)[0]),s=c(-r,t.getSize());i.style.width=s.width+"px",i.style.height=s.height+"px",i.style.left=Math.round((t.getSize()[0]-s.width)/2)+"px",i.style.top=Math.round((t.getSize()[1]-s.height)/2)+"px",o.maps.event.trigger(u[n],"resize"),a()}}(),g=document.getElementById(n+"gmaps").style.transform,b=!1})),y.addEventListener(f,(function(){v=b}))}return null},render:function(e,t,n){o||(o=e.name);var i={zIndex:0};if(!0===e.visibility){var a=document.getElementById(n+"gmaps");a&&(a.style.visibility="visible"),u[n]&&r&&(u[n].setMapTypeId(r[e.name]),u[n].setTilt(0))}else i.visibility="hidden";if(o===e.name){var l=document.getElementById(n+"gmaps");return l&&(l.style.visibility=e.visibility?"visible":"hidden"),s.a.createElement("div",{id:n+"gmaps",className:"fill",style:i})}return null},update:function(e,t,n,r,o){if(u[o]){var i=window.google;if(!n.visibility&&t.visibility){var a=r.getView(),s=Object(l.l)(a.getCenter(),"EPSG:3857","EPSG:4326");u[o].setCenter(new i.maps.LatLng(s[1],s[0])),u[o].setZoom(a.getZoom())}}},remove:function(e,t,n){o===e.name&&(o=void 0,delete u[n])}})},"./MapStore2/web/client/components/map/openlayers/plugins/GraticuleLayer.js":function(e,t,n){"use strict";n.r(t);var r=n("./MapStore2/web/client/utils/openlayers/Layers.js"),o=n("./node_modules/ol/Graticule.js"),i=n("./node_modules/ol/style/Stroke.js");r.default.registerType("graticule",{create:function(e,t){var n=new o.a({strokeStyle:e.style||new i.default({color:"rgba(255,120,0,0.9)",width:2,lineDash:[.5,4]})});return n.setMap(t),{detached:!0,remove:function(){n.setMap(null)}}}})},"./MapStore2/web/client/components/map/openlayers/plugins/MapQuest.js":function(e,t,n){"use strict";n.r(t),n("./MapStore2/web/client/utils/openlayers/Layers.js").default.registerType("mapquest",{create:function(e){return e.onError(),!1},isValid:function(){return!1}})},"./MapStore2/web/client/components/map/openlayers/plugins/OSMLayer.js":function(e,t,n){"use strict";n.r(t);var r=n("./MapStore2/web/client/utils/openlayers/Layers.js"),o=n("./node_modules/ol/source/OSM.js"),i=n("./node_modules/ol/layer/Tile.js");r.default.registerType("osm",{create:function(e){return new i.a({msId:e.id,opacity:void 0!==e.opacity?e.opacity:1,visible:e.visibility,zIndex:e.zIndex,source:new o.a})}})},"./MapStore2/web/client/components/map/openlayers/plugins/OverlayLayer.js":function(e,t,n){"use strict";n.r(t);var r=n("./MapStore2/web/client/utils/openlayers/Layers.js"),o=n("./node_modules/eventlistener/eventlistener.js"),i=n.n(o),a=n("./node_modules/ol/Overlay.js");r.default.registerType("overlay",{create:function(e,t){var n=function(e,t){var n=e.cloneNode(!0);n.id=t.id+"-overlay",n.className=(t.className||e.className)+"-overlay",n.removeAttribute("data-reactid"),function e(t){if(0!==t.length)for(var n=0;n<t.length;n++){var r=t.item(n);r.removeAttribute("data-reactid"),e(r.children||[])}}(n.children||[]);var r=t.closeClass||"close";if(t.onClose&&1===n.getElementsByClassName(r).length){var o=n.getElementsByClassName(r)[0];i.a.add(o,"click",(function(e){t.onClose(e.target.getAttribute("data-overlayid"))}))}if(t.onLink)for(var a=n.getElementsByTagName("a"),s=0;s<a.length;s++)i.a.add(a[s],"click",t.onLink);return n}(document.getElementById(e.id),e);document.body.appendChild(n);var r=new a.a({id:e.id,element:n,autoPan:e.autoPan||!1,positioning:e.positioning||"top-left",offset:e.offset||[0,0],autoPanAnimation:{duration:e.autoPanAnimation||250},position:[e.position.x,e.position.y]});return t.addOverlay(r),{detached:!0,remove:function(){t.removeOverlay(r)}}}})},"./MapStore2/web/client/components/map/openlayers/plugins/TMSLayer.js":function(e,t,n){"use strict";n.r(t);var r=n("./MapStore2/node_modules/lodash/lodash.js"),o=n("./MapStore2/web/client/utils/openlayers/Layers.js"),i=n("./node_modules/ol/source/XYZ.js"),a=n("./node_modules/ol/tilegrid/TileGrid.js"),s=n("./node_modules/ol/layer/Tile.js");o.default.registerType("tms",{create:function(e){return new s.a(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(r.get)(e,"bbox.bounds",{}),n=t.minx,o=t.miny,s=t.maxx,l=t.maxy,u={projection:e.srs,url:"".concat(e.tileMapUrl,"/{z}/{x}/{-y}.").concat(e.extension),attributions:e.attribution?[e.attribution]:[]},c=new i.a(u),p=c.getTileGrid();if(e.forceDefaultTileGrid){var f=p.getExtent(),d=[f[0],f[1]],h=new a.a({origin:d,extent:e.bbox&&[n,o,s,l],resolutions:p.getResolutions(),tileSize:e.tileSize});c.setTileGridForProjection(e.srs,h),"EPSG:3857"===e.srs&&c.setTileGridForProjection("EPSG:900913",h)}else e.tileSets&&c.setTileGridForProjection(e.srs,new a.a({origin:e.origin,extent:e.bbox&&[n,o,s,l],resolutions:e.tileSets.map((function(e){return e.resolution})),tileSize:e.tileSize}));var m={msId:e.id,extent:e.bbox&&[n,o,s,l],opacity:void 0!==e.opacity?e.opacity:1,visible:!1!==e.visibility,zIndex:e.zIndex,source:c};return m}(e))}})},"./MapStore2/web/client/components/map/openlayers/plugins/TileProviderLayer.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/object-assign/index.js"),o=n.n(r),i=n("./MapStore2/web/client/utils/openlayers/Layers.js"),a=n("./MapStore2/web/client/utils/TileConfigProvider.js"),s=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),l=n("./MapStore2/web/client/utils/TileProviderUtils.js"),u=n("./node_modules/ol/source/XYZ.js"),c=n("./node_modules/ol/layer/Tile.js");function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}i.default.registerType("tileprovider",{create:function(e){var t=p(a.a.getLayerConfig(e.provider,e),2),n=t[0],r=t[1];return r.url=n,new c.a(function(e){var t,n,r,i,a,c,f,d,h,m=e.url.match(/(\{s\})/)?Object(l.b)(e):[Object(l.c)(e.url,e)],y=o()({},{urls:m,attributions:e.attribution?[e.attribution]:[],maxZoom:e.maxZoom?e.maxZoom:18,minZoom:e.minZoom?e.minZoom:0}),g=new u.a(y);return o()({},{msId:e.id,opacity:void 0!==e.opacity?e.opacity:1,visible:!1!==e.visibility,zIndex:e.zIndex,source:g},e.bounds?{extent:(t=e.bounds,n=e.srs?e.srs:"EPSG:3857",r=p(t,2),i=p(r[0],2),a=i[0],c=i[1],f=p(r[1],2),d=f[0],h=f[1],s.default.reprojectBbox([c,a,h,d],"EPSG:4326",s.default.normalizeSRS(n)))}:{})}(r))}})},"./MapStore2/web/client/components/map/openlayers/plugins/VectorLayer.js":function(e,t,n){"use strict";n.r(t);var r=n("./MapStore2/web/client/utils/openlayers/Layers.js"),o=n("./MapStore2/web/client/components/map/openlayers/VectorStyle.js"),i=n("./MapStore2/node_modules/lodash/isEqual.js"),a=n.n(i),s=n("./node_modules/ol/source/Vector.js"),l=n("./node_modules/ol/layer/Vector.js");r.default.registerType("vector",{create:function(e){var t=new s.a({features:[]}),n=Object(o.d)(e);return new l.a({msId:e.id,source:t,visible:!1!==e.visibility,zIndex:e.zIndex,style:n,opacity:e.opacity})},update:function(e,t,n){var r=n.crs||n.srs||"EPSG:3857",i=t.crs||t.srs||"EPSG:3857";i!==r&&e.getSource().forEachFeature((function(e){e.getGeometry().transform(r,i)})),a()(n.style,t.style)&&n.styleName===t.styleName||e.setStyle(Object(o.d)(t))},render:function(){return null}})},"./MapStore2/web/client/components/map/openlayers/plugins/WFS3Layer.js":function(e,t,n){"use strict";n.r(t);var r=n("./MapStore2/node_modules/lodash/head.js"),o=n.n(r),i=n("./node_modules/url/url.js"),a=n.n(i),s=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),l=n("./MapStore2/web/client/utils/MapUtils.js"),u=n("./MapStore2/web/client/utils/openlayers/Layers.js"),c=n("./MapStore2/web/client/utils/SecurityUtils.js"),p=n("./node_modules/ol/proj.js"),f=n("./node_modules/ol/extent.js"),d=n("./node_modules/ol/tilegrid/TileGrid.js"),h=n("./node_modules/ol/layer/VectorTile.js"),m=n("./node_modules/ol/source/VectorTile.js"),y=n("./node_modules/ol/format/MVT.js"),g=n("./MapStore2/web/client/utils/VectorTileUtils.js"),b=n("./MapStore2/web/client/utils/openlayers/VectorTileUtils.js");function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||S(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||S(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){if(e){if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var x=function(e){var t=s.default.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),n=Object(p.f)(t),r=n.getMetersPerUnit(),i=o()(e.tilingSchemes&&e.tilingSchemes.schemes&&e.tilingSchemes.schemes.filter((function(e){return e.supportedCRS===t})))||{},u=i.identifier,v=i.tileMatrix,w=i.boundingBox,S=v&&v.map((function(e){return e.scaleDenominator})),E=l.default.getResolutions(),x=e.resolutions||S&&S.map((function(e){return 28e-5*e/r}))||E,P="ne"===n.getAxisOrientation().substr(0,2),M=v&&v.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.topLeftCorner;return t})).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=j(e,2),n=t[0],r=t[1];return P?[r,n]:[n,r]})),L=v&&v.map((function(e){return[e.tileWidth,e.tileHeight]})),T=e.bbox,C=T?Object(f.a)([parseFloat(T.bounds.minx),parseFloat(T.bounds.miny),parseFloat(T.bounds.maxx),parseFloat(T.bounds.maxy)],Object(p.h)(T.crs,e.srs)):null,k=w&&w.lowerCorner&&w.upperCorner?[].concat(O(w.lowerCorner),O(w.upperCorner)):null,I=new d.a({extent:k,minZoom:0,origins:M,origin:M?void 0:[20037508.3428,-20037508.3428],resolutions:x,tileSizes:L,tileSize:L?void 0:[256,256]}),D=(e.url||"").replace(/\{tilingSchemeId\}/,u).replace(/\{level\}/,"{z}").replace(/\{row\}/,"{y}").replace(/\{col\}/,"{x}"),A={};Object(c.addAuthenticationParameter)(D,A,e.securityToken);var R=decodeURI(D),F=a.a.format({query:_({},A)}),N=Object(g.isVectorFormat)(e.format)&&b.a[e.format]||y.a,G=new m.a({format:new N({dataProjection:t,layerName:"_layer_"}),tileGrid:I,url:R+F}),U=new h.a({extent:C,msId:e.id,source:G,visible:!1!==e.visibility,zIndex:e.zIndex});return Object(b.b)(e.vectorStyle,U),U};u.default.registerType("wfs3",{create:x,update:function(e,t,n){return n.securityToken!==t.securityToken||n.srs!==t.srs?x(t):null},render:function(){return null}})},"./MapStore2/web/client/components/map/openlayers/plugins/WFSLayer.js":function(e,t,n){"use strict";n.r(t);var r=n("./MapStore2/web/client/utils/openlayers/Layers.js"),o=n("./MapStore2/web/client/components/map/openlayers/VectorStyle.js"),i=n("./node_modules/ol/source/Vector.js"),a=n("./node_modules/ol/layer/Vector.js"),s=n("./node_modules/ol/format/GeoJSON.js"),l=n("./MapStore2/web/client/api/WFS.js"),u=n("./MapStore2/web/client/utils/VendorParamsUtils.js"),c=n("./MapStore2/web/client/utils/WFSLayerUtils.js");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e,t){return function(n,r,o){var i=Object(u.optionsToVendorParams)(t),a=o.getCode(),s=function(){e.removeLoadedExtent(n)};Object(l.getFeature)(t.url,t.name,f({outputFormat:"application/json",srsname:a},i)).then((function(t){200===t.status?e.addFeatures(e.getFormat().readFeatures(t.data)):s()})).catch((function(e){s()}))}},m=function(e,t){return Object(o.d)(f(f({},e),{},{style:f(f({},e.style||{}),{},{type:t})}))},y=function(e,t){return e.geometryType?e.setStyle(m(t,e.geometryType)):Object(l.describeFeatureType)(t.url,t.name).then(c.extractGeometryType).then((function(n){e.geometryType=n,e.setStyle(m(t,n))}))};r.default.registerType("wfs",{create:function(e){var t=new i.a({format:new s.a});t.setLoader(h(t,e));var n=Object(o.d)(e),r=new a.a({msId:e.id,source:t,visible:!1!==e.visibility,zIndex:e.zIndex,style:n,opacity:e.opacity});return y(r,e),r},update:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.crs||n.srs||"EPSG:3857",o=t.crs||t.srs||"EPSG:3857",i=e.getSource();o!==r&&i.forEachFeature((function(e){e.getGeometry().transform(r,o)})),Object(c.needsReload)(n,t)&&(i.setLoader(h(i,t)),i.clear(),i.refresh()),t.style===n.style&&t.styleName===n.styleName||y(e,t)},render:function(){return null}})},"./MapStore2/web/client/components/map/openlayers/plugins/WMSLayer.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./MapStore2/web/client/components/I18N/Message.jsx"),a=n("./MapStore2/web/client/utils/openlayers/Layers.js"),s=n("./MapStore2/node_modules/lodash/isNil.js"),l=n.n(s),u=n("./MapStore2/node_modules/lodash/isEqual.js"),c=n.n(u),p=n("./MapStore2/node_modules/lodash/union.js"),f=n.n(p),d=n("./MapStore2/node_modules/lodash/isArray.js"),h=n.n(d),m=n("./node_modules/object-assign/index.js"),y=n.n(m),g=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),b=n("./MapStore2/web/client/utils/ProxyUtils.js"),v=n("./MapStore2/web/client/utils/VendorParamsUtils.js"),_=n("./MapStore2/web/client/utils/SecurityUtils.js"),w=n("./MapStore2/web/client/utils/LayersUtils.js"),O=n("./MapStore2/web/client/utils/MapUtils.js"),j=n("./MapStore2/web/client/utils/ElevationUtils.js"),S=n("./node_modules/ol/layer/Image.js"),E=n("./node_modules/ol/source/ImageWMS.js"),x=n("./node_modules/ol/proj.js"),P=n("./node_modules/ol/tilegrid/TileGrid.js"),M=n("./node_modules/ol/layer/Tile.js"),L=n("./node_modules/ol/source/TileWMS.js"),T=n("./node_modules/ol/source/VectorTile.js"),C=n("./node_modules/ol/layer/VectorTile.js"),k=n("./MapStore2/web/client/utils/VectorTileUtils.js"),I=n("./MapStore2/web/client/utils/openlayers/VectorTileUtils.js"),D=n("./MapStore2/web/client/utils/LayerLocalizationUtils.js");function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){F(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e){var t=Object(v.optionsToVendorParams)(e),n=y()({},e.baseParams,{LAYERS:e.name,STYLES:e.style||"",FORMAT:e.format||"image/png",TRANSPARENT:void 0===e.transparent||e.transparent,SRS:g.default.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),CRS:g.default.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),TILED:!e.singleTile&&(!!l()(e.tiled)||e.tiled),VERSION:e.version||"1.3.0"},y()({},e._v_?{_v_:e._v_}:{},t||{},e.localizedLayerStyles&&e.env&&e.env.length&&"background"!==e.group?{ENV:Object(D.generateEnvString)(e.env)}:{}));return Object(_.addAuthenticationToSLD)(n,e)}function G(e,t){var n=t;Object(b.needProxy)(t)&&(n=Object(b.getProxyUrl)()+encodeURIComponent(t));e.getImage().src=n}function U(e){return e.join(":")}function z(e,t,n){var r=n;e&&Object(b.needProxy)(n)&&(r=Object(b.getProxyUrl)()+encodeURIComponent(n));var o=t.getTileCoord();t.getImage().src="",Object(j.loadTile)(r,o,U(o))}function B(e){try{var t=function(e,t){var n=e.get("map");return e.getSource().getTileGrid().getTileCoordForCoordAndZ(t,n.getView().getZoom())}(this,e),n=this.getSource().getTileGrid().getTileSize(),r=Object(j.getElevation)(U(t),function(e,t,n){var r=e.getSource().getTileGrid(),o=r.getTileCoordExtent(n),i=r.getTileSize()/(o[2]-o[0]);return{x:Math.floor((t[0]-o[0])*i),y:Math.floor((o[3]-t[1])*i)}}(this,e,t),n,this.get("nodata"));return r.available?r.value:o.a.createElement(i.default,{msgId:r.message})}catch(e){return o.a.createElement(i.default,{msgId:"elevationLoadingError"})}}var V=function(e){return e&&Object(w.creditsToAttribution)(e)||void 0},q=function(e,t){var n=function(e){return e.map((function(e){return e.split("?")[0]}))}(h()(e.url)?e.url:[e.url]),r=N(e)||{};n.forEach((function(t){return Object(_.addAuthenticationParameter)(t,r,e.securityToken)}));var o=Object(k.isVectorFormat)(e.format);if(e.singleTile&&!o)return new S.a({msId:e.id,opacity:void 0!==e.opacity?e.opacity:1,visible:!1!==e.visibility,zIndex:e.zIndex,source:new E.default({url:n[0],crossOrigin:e.crossOrigin,attributions:V(e.credits),params:r,ratio:e.ratio||1})});var i,a=t&&t.getView()&&t.getView().getProjection()&&t.getView().getProjection().getCode()||"EPSG:3857",s=Object(x.f)(g.default.normalizeSRS(e.srs||a,e.allowedSRS)).getExtent(),l=function(e,t){return t.useForElevation?y()({},e,{tileLoadFunction:z.bind(null,[t.forceProxy])}):t.forceProxy?y()({},e,{tileLoadFunction:G}):e}({attributions:V(e.credits),urls:n,crossOrigin:e.crossOrigin,params:r,tileGrid:new P.a({extent:s,resolutions:e.resolutions||O.default.getResolutions(),tileSize:e.tileSize?e.tileSize:256,origin:e.origin?e.origin:[s[0],s[1]]})},e),u=new L.default(R({},l)),c={msId:e.id,opacity:void 0!==e.opacity?e.opacity:1,visible:!1!==e.visibility,zIndex:e.zIndex};return(i=o?new C.a(R(R({},c),{},{source:new T.a(R(R({},l),{},{format:new I.a[e.format]({layerName:"_layer_"}),tileUrlFunction:function(e,t,n){return u.tileUrlFunction(e,t,n)}}))})):new M.a(R(R({},c),{},{source:u}))).set("map",t),o&&(i.set("wmsSource",u),e.vectorStyle&&Object(I.b)(e.vectorStyle,i)),e.useForElevation&&(i.set("nodata",e.nodata),i.set("getElevation",B.bind(i))),i};a.default.registerType("wms",{create:q,update:function(e,t,n,r){var o=Object(k.isVectorFormat)(t.format);if(function(e,t){return e.singleTile!==t.singleTile||e.securityToken!==t.securityToken||e.ratio!==t.ratio||e.credits!==t.credits&&!t.credits||Object(k.isVectorFormat)(e.format)!==Object(k.isVectorFormat)(t.format)||Object(k.isVectorFormat)(e.format)&&Object(k.isVectorFormat)(t.format)&&e.format!==t.format||e.localizedLayerStyles!==t.localizedLayerStyles||e.tileSize!==t.tileSize}(n,t))return q(t,r);var i=!1;o&&t.vectorStyle&&!c()(t.vectorStyle,n.vectorStyle||{})&&(Object(I.b)(t.vectorStyle,e),i=!0);var a=e.get("wmsSource")||e.getSource(),s=o?e.getSource():null;if(n.srs!==t.srs){var u=Object(x.f)(g.default.normalizeSRS(t.srs,t.allowedSRS)).getExtent();if(t.singleTile&&!o)e.setExtent(u);else{var p=new P.a({extent:u,resolutions:t.resolutions||O.default.getResolutions(),tileSize:t.tileSize?t.tileSize:256,origin:t.origin?t.origin:[u[0],u[1]]});a.tileGrid=p,s&&(s.tileGrid=p)}i=!0}n.credits!==t.credits&&t.credits&&(a.setAttributions(V(t.credits)),i=!0);var d,h,m=!1;if(n&&a&&a.updateParams&&(n.params&&t.params?m=f()(Object.keys(n.params),Object.keys(t.params)).reduce((function(e,r){return t.params[r]!==n.params[r]||e}),!1):(!n.params&&t.params||n.params&&!t.params)&&(m=!0),d=N(n),h=N(t),m=m||["LAYERS","STYLES","FORMAT","TRANSPARENT","TILED","VERSION","_v_","CQL_FILTER","SLD","VIEWPARAMS"].reduce((function(e,t){return d[t]!==h[t]||e}),!1),i=i||m),i&&(a.refresh&&a.refresh(),s&&(s.clear(),s.refresh()),m)){var b=y()(h,Object(_.addAuthenticationToSLD)(Object(v.optionsToVendorParams)(t)||{},t));a.updateParams(y()(b,Object.keys(d||{}).reduce((function(e,t){return l()(b[t])?y()(e,F({},t,void 0)):e}),{})))}return null}})},"./MapStore2/web/client/components/map/openlayers/plugins/WMTSLayer.js":function(e,t,n){"use strict";n.r(t);var r=n("./MapStore2/web/client/utils/openlayers/Layers.js"),o=n("./MapStore2/node_modules/lodash/castArray.js"),i=n.n(o),a=n("./MapStore2/node_modules/lodash/head.js"),s=n.n(a),l=n("./MapStore2/node_modules/lodash/last.js"),u=n.n(l),c=n("./MapStore2/web/client/utils/SecurityUtils.js"),p=n("./MapStore2/web/client/utils/WMTSUtils.js"),f=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),d=n("./MapStore2/web/client/utils/MapUtils.js"),h=n("./MapStore2/web/client/utils/VectorTileUtils.js"),m=n("./node_modules/url/url.js"),y=n.n(m),g=n("./node_modules/ol/proj.js"),b=n("./node_modules/ol/extent.js"),v=n("./node_modules/ol/layer/Tile.js"),_=n("./node_modules/ol/layer/VectorTile.js"),w=n("./node_modules/ol/source/WMTS.js"),O=n("./node_modules/ol/source/VectorTile.js"),j=n("./node_modules/ol/tilegrid/WMTS.js"),S=n("./node_modules/ol/format/MVT.js"),E=n("./node_modules/ol/format/GeoJSON.js"),x=n("./node_modules/ol/format/TopoJSON.js"),P=n("./MapStore2/web/client/components/map/openlayers/VectorStyle.js");function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C={"application/vnd.mapbox-vector-tile":S.a,"application/json;type=geojson":E.a,"application/json;type=topojson":x.a};var k=function(e){var t="RESTful"===e.requestEncoding?"REST":e.requestEncoding,n=function(e,t){return e.map((function(e){return"REST"===t?e:e.split("?")[0]}))}(i()(e.url),t),r=f.default.normalizeSRS(e.srs||"EPSG:3857",e.allowedSRS),o=Object(g.f)(r),a=o.getMetersPerUnit(),s=p.getTileMatrix(e,r),l=s.tileMatrixSetName,m=s.tileMatrixSet,S=s.matrixIds,E=m&&(null==m?void 0:m.TileMatrix.map((function(e){return Number(e.ScaleDenominator)}))),x=d.default.getResolutions(),M=e.resolutions||E&&E.map((function(e){return 28e-5*e/a}))||x,T="ne"===o.getAxisOrientation().substr(0,2),k=m&&m.TileMatrix&&m.TileMatrix.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.TopLeftCorner;return t&&f.default.parseString(t)})).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.x,n=e.y;return T?[n,t]:[t,n]})),I=m&&m.TileMatrix&&m.TileMatrix.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.MatrixWidth,n=e.MatrixHeight;return[parseInt(t,10),parseInt(n,10)]})),D=m&&m.TileMatrix&&m.TileMatrix.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.TileWidth,n=e.TileHeight;return[parseInt(t,10),parseInt(n,10)]})),A=e.bbox,R=A?Object(b.a)([parseFloat(A.bounds.minx),parseFloat(A.bounds.miny),parseFloat(A.bounds.maxx),parseFloat(A.bounds.maxy)],Object(g.h)(A.crs,e.srs)):o.getExtent(),F=Object(b.B)(R,o.getExtent());Object(b.H)(F)&&(F=o.getExtent());var N={};n.forEach((function(t){return Object(c.addAuthenticationParameter)(t,N,e.securityToken)}));var G=y.a.format({query:L({},N)}),U=e.maxResolution||u()(x.filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return M[0]/e*256<.5}))),z=-1!==(e.availableFormats||[]).indexOf(e.format)&&e.format||!e.availableFormats&&e.format||"image/png",B=Object(h.isVectorFormat)(z),V={requestEncoding:t,urls:n.map((function(e){return e+G})),layer:e.name,version:e.version||"1.0.0",matrixSet:l,format:z,style:e.style||"",tileGrid:new j.b({origins:k,origin:k?void 0:[20037508.3428,-20037508.3428],resolutions:M,matrixIds:p.limitMatrix((S||p.getDefaultMatrixId(e)||[]).map((function(e){return e.identifier})),M.length),sizes:I,extent:F,tileSizes:D,tileSize:!D&&(e.tileSize||[256,256])}),wrapX:!0},q=new w.a(V),W=new(B?_.a:v.a)({msId:e.id,opacity:void 0!==e.opacity?e.opacity:1,zIndex:e.zIndex,maxResolution:U,visible:!1!==e.visibility,source:B?new O.a(L(L({},V),{},{format:new C[e.format]({dataProjection:r}),tileUrlFunction:function(){return q.tileUrlFunction.apply(q,arguments)}})):q});return B&&W.setStyle(Object(P.d)(e)),W};r.default.registerType("wmts",{create:k,update:function(e,t,n){return n.securityToken!==t.securityToken||n.srs!==t.srs||n.format!==t.format||n.style!==t.style?k(t):null},isCompatible:function(e){return!!s()(f.default.getEquivalentSRS(e.srs||"EPSG:3857").filter((function(t){return function(e,t){var n=p.getTileMatrix(t,e),r=n.tileMatrixSetName,o=n.tileMatrixSet;return o?f.default.getEPSGCode(o["ows:SupportedCRS"])===e:r===e}(t,e)})))}})},"./MapStore2/web/client/components/map/openlayers/plugins/index.js":function(e,t,n){e.exports={BingLayer:n("./MapStore2/web/client/components/map/openlayers/plugins/BingLayer.js").default,GoogleLayer:n("./MapStore2/web/client/components/map/openlayers/plugins/GoogleLayer.js").default,GraticuleLayer:n("./MapStore2/web/client/components/map/openlayers/plugins/GraticuleLayer.js").default,MapQuest:n("./MapStore2/web/client/components/map/openlayers/plugins/MapQuest.js").default,OSMLayer:n("./MapStore2/web/client/components/map/openlayers/plugins/OSMLayer.js").default,OverlayLayer:n("./MapStore2/web/client/components/map/openlayers/plugins/OverlayLayer.js").default,TMSLayer:n("./MapStore2/web/client/components/map/openlayers/plugins/TMSLayer.js").default,TileProviderLayer:n("./MapStore2/web/client/components/map/openlayers/plugins/TileProviderLayer.js").default,VectorLayer:n("./MapStore2/web/client/components/map/openlayers/plugins/VectorLayer.js").default,WFSLayer:n("./MapStore2/web/client/components/map/openlayers/plugins/WFSLayer.js").default,WFS3Layer:n("./MapStore2/web/client/components/map/openlayers/plugins/WFS3Layer.js").default,WMSLayer:n("./MapStore2/web/client/components/map/openlayers/plugins/WMSLayer.js").default,WMTSLayer:n("./MapStore2/web/client/components/map/openlayers/plugins/WMTSLayer.js").default}},"./MapStore2/web/client/components/map/plugins sync recursive ^\\.\\/.*\\.js$":function(e,t,n){var r={"./cesium.js":"./MapStore2/web/client/components/map/plugins/cesium.js","./leaflet.js":"./MapStore2/web/client/components/map/plugins/leaflet.js","./openlayers.js":"./MapStore2/web/client/components/map/plugins/openlayers.js","./sink.js":"./MapStore2/web/client/components/map/plugins/sink.js"};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id="./MapStore2/web/client/components/map/plugins sync recursive ^\\.\\/.*\\.js$"},"./MapStore2/web/client/components/map/plugins/cesium.js":function(e,t,n){var r=n("./node_modules/recompose/es/Recompose.js").createSink;e.exports=function(){return n("./MapStore2/web/client/components/map/cesium/plugins/index.js"),{Map:n("./MapStore2/web/client/components/map/cesium/Map.jsx"),Layer:n("./MapStore2/web/client/components/map/cesium/Layer.jsx"),Feature:r((function(){}))}}},"./MapStore2/web/client/components/map/plugins/leaflet.js":function(e,t,n){e.exports=function(){return n("./MapStore2/web/client/components/map/leaflet/plugins/index.js"),{Map:n("./MapStore2/web/client/components/map/leaflet/Map.jsx"),Layer:n("./MapStore2/web/client/components/map/leaflet/Layer.jsx"),Feature:n("./MapStore2/web/client/components/map/leaflet/Feature.jsx"),Locate:n("./MapStore2/web/client/components/map/leaflet/Locate.jsx"),MeasurementSupport:n("./MapStore2/web/client/components/map/leaflet/MeasurementSupport.jsx"),Overview:n("./MapStore2/web/client/components/map/leaflet/Overview.jsx"),ScaleBar:n("./MapStore2/web/client/components/map/leaflet/ScaleBar.jsx"),DrawSupport:n("./MapStore2/web/client/components/map/leaflet/DrawSupport.jsx"),PopupSupport:n("./MapStore2/web/client/components/map/leaflet/PopupSupport.jsx").default}}},"./MapStore2/web/client/components/map/plugins/openlayers.js":function(e,t,n){e.exports=function(){return n("./MapStore2/web/client/components/map/openlayers/plugins/index.js"),{Map:n("./MapStore2/web/client/components/map/openlayers/Map.jsx").default,Layer:n("./MapStore2/web/client/components/map/openlayers/Layer.jsx").default,Feature:n("./MapStore2/web/client/components/map/openlayers/Feature.jsx").default,Locate:n("./MapStore2/web/client/components/map/openlayers/Locate.jsx").default,MeasurementSupport:n("./MapStore2/web/client/components/map/openlayers/MeasurementSupport.jsx").default,Overview:n("./MapStore2/web/client/components/map/openlayers/Overview.jsx").default,ScaleBar:n("./MapStore2/web/client/components/map/openlayers/ScaleBar.jsx").default,DrawSupport:n("./MapStore2/web/client/components/map/openlayers/DrawSupport.jsx").default,PopupSupport:n("./MapStore2/web/client/components/map/openlayers/PopupSupport.jsx").default,BoxSelectionSupport:n("./MapStore2/web/client/components/map/openlayers/BoxSelectionSupport.jsx").default}}},"./MapStore2/web/client/components/map/plugins/sink.js":function(e,t,n){var r=n("./node_modules/recompose/es/Recompose.js").createSink;e.exports=function(){return{Map:r((function(){})),Layer:r((function(){})),Feature:r((function(){}))}}},"./MapStore2/web/client/components/map/popups/index.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./MapStore2/web/client/components/misc/enhancers/loadingState.jsx"),a=n.n(i),s=n("./MapStore2/web/client/components/data/identify/enhancers/defaultViewer.js"),l=n("./node_modules/recompose/es/Recompose.js"),u=n("./node_modules/react-redux/es/index.js"),c=n("./node_modules/reselect/es/index.js"),p=n("./MapStore2/web/client/selectors/mapInfo.js"),f=n("./MapStore2/web/client/actions/mapInfo.js"),d=n("./MapStore2/web/client/components/data/identify/DefaultViewer.jsx"),h=n.n(d),m=n("./MapStore2/node_modules/lodash/lodash.js"),y=n("./MapStore2/web/client/components/data/identify/SwipeHeader.jsx"),g=n.n(y),b=n("./MapStore2/web/client/selectors/map.js").isMouseMoveIdentifyActiveSelector,v=Object(l.compose)(Object(u.connect)(Object(c.createSelector)(p.indexSelector,(function(e){return{index:e}})),{setIndex:f.changePage}),Object(l.defaultProps)({index:0,responses:[]})),_=Object(c.createSelector)([p.responsesSelector,p.validResponsesSelector,p.requestsSelector,p.generalInfoFormatSelector,p.showEmptyMessageGFISelector,b,p.isLoadedResponseSelector],(function(e,t,n,r,o,i,a){return{responses:e,validResponses:t,requests:n,format:r,showEmptyMessageGFI:o,missingResponses:(n||[]).length-(e||[]).length,renderEmpty:i,loaded:a}})),w=Object(l.compose)(Object(u.connect)(_),Object(l.defaultProps)({responses:[],container:function(e){var t=e.index,n=e.children;return o.a.createElement(o.a.Fragment,null,Object(m.isArray)(n)&&n[t]||n)},header:g.a}),v,s.defaultViewerDefaultProps,s.defaultViewerHandlers,a()((function(e){var t=e.loaded;return Object(m.isUndefined)(t)})))(h.a);n.d(t,"IDENTIFY_POPUP",(function(){return O}));var O="identify";t.default={identify:w}},"./MapStore2/web/client/components/mapcontrols/annotations/img/markers_default.png":function(e,t,n){e.exports=n.p+"MapStore2/web/client/components/mapcontrols/annotations/img/markers_default.png"},"./MapStore2/web/client/components/mapcontrols/annotations/img/markers_shadow.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAQCAYAAACcN8ZaAAAB3klEQVR42s3U4UdDURzG8czMXJnJ1Vwzc6VJZjaZJdlMlpQsKdmUFNOUspRSSqUolfQfr+fF98Vx5mwv9qbDx7LdznnO7/7Omej3+/+Ga0QMUYkhbvBgmhzCQxwxibIGrGEF8CQhU+LLtKQkQNqScUgjxRxTBIxbgfgD/BgnhM8kM5KTeclLQYqGkkMRBckzR8ic/mAgd5BAZplsUaqyIg2sDtHg2brUZJk5SmwopErJUWE8SpmTMhNvya60Zd/SNrR4bkeaskG4uiwRZk6yrJEYFibGAxn+scECHTmTnuVCzvmty3PHciB7bGKN6lQkzysPqIrHmpFhYbKUtckC1/Ioz4ZHuZdbuSLYiRxRpSZVWXZVxAzC0R4Ik5SQsu6w8yd5l2/5kg95I9SdXMoZQfYIUjeqEUrgOkXGPeN4TYRhxy8E+ZUf+eS7B7miIoeybVSjKDnm8u3+gH3pDTYwu1igATvs/pXqvBKiR4i2bNJfi1ZfUAnjgrOG8wY2quNzBKuU/ZS+uSFEl5O0xRGuUIlZCcw7xG5QPkeHYUSNV5WXGou2sC3rBC0LjenqCXGO0WEiTJa0Lr4KixdHBrDGuGGiRqCUpFk8pGIpQtCU7p4YPwxYxEMCk1aAMQZh8Ac8PfbIzYPJOwAAAABJRU5ErkJggg=="},"./MapStore2/web/client/components/misc/ConfirmDialog.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=n("./node_modules/prop-types/index.js"),f=n("./node_modules/react/index.js"),d=n("./node_modules/react-bootstrap/es/index.js"),h=d.Button,m=d.ButtonGroup,y=d.Glyphicon,g=n("./MapStore2/web/client/components/misc/Dialog.jsx"),b=n("./node_modules/object-assign/index.js"),v=n("./MapStore2/web/client/components/I18N/Message.jsx").default,_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(u,e);var t,n,r,l=s(u);function u(){return o(this,u),l.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){return f.createElement(g,{draggable:this.props.draggable,onClickOut:this.props.onClose,id:"confirm-dialog",modal:this.props.modal,style:b({},this.props.style,{display:this.props.show?"block":"none"})},f.createElement("span",{role:"header"},f.createElement("span",{className:"user-panel-title"},this.props.title),f.createElement("button",{onClick:this.props.onClose,className:"login-panel-close close"},this.props.closeGlyph?f.createElement(y,{glyph:this.props.closeGlyph}):f.createElement("span",null,"×"))),f.createElement("div",{role:"body"},this.props.children),f.createElement("div",{role:"footer"},f.createElement(m,null,f.createElement(h,{onClick:this.props.onConfirm,disabled:this.props.confirmButtonDisabled,bsStyle:this.props.confirmButtonBSStyle},this.props.confirmButtonContent),f.createElement(h,{onClick:this.props.onClose},this.props.closeText))))}}])&&i(t.prototype,n),r&&i(t,r),u}(f.Component);c(_,"propTypes",{show:p.bool,draggable:p.bool,onClose:p.func,onConfirm:p.func,onSave:p.func,modal:p.bool,closeGlyph:p.string,style:p.object,buttonSize:p.string,inputStyle:p.object,title:p.node,confirmButtonContent:p.node,confirmButtonDisabled:p.bool,closeText:p.node,confirmButtonBSStyle:p.string}),c(_,"defaultProps",{onClose:function(){},onChange:function(){},modal:!0,title:f.createElement(v,{msgId:"confirmTitle"}),closeGlyph:"",confirmButtonBSStyle:"danger",confirmButtonDisabled:!1,confirmButtonContent:f.createElement(v,{msgId:"confirm"})||"Confirm",closeText:f.createElement(v,{msgId:"close"}),includeCloseButton:!0}),e.exports=_},"./MapStore2/web/client/components/misc/Dialog.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=n("./node_modules/react/index.js"),m=n("./node_modules/prop-types/index.js"),y=n("./node_modules/react-draggable/dist/react-draggable.js"),g=n("./node_modules/react-spinkit/dist/index.js"),b=n("./node_modules/object-assign/index.js"),v=n("./MapStore2/web/client/components/I18N/Message.jsx").default,_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(c,e);var t,n,r,o=u(c);function c(){var e;a(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return d(p(e=o.call.apply(o,[this].concat(n))),"renderLoading",(function(){return e.props.maskLoading?h.createElement("div",{style:{width:"100%",height:"100%",position:"absolute",overflow:"visible",margin:"auto",verticalAlign:"center",left:"0",background:"rgba(255, 255, 255, 0.5)",zIndex:2}},h.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -40%)"}},h.createElement(v,{msgId:"loading"}),h.createElement(g,{spinnerName:"circle",noFadeIn:!0,overrideSpinnerClassName:"spinner"}))):null})),d(p(e),"renderRole",(function(t){return h.Children.toArray(e.props.children).filter((function(e){return e.props.role===t}))})),d(p(e),"hasRole",(function(t){return h.Children.toArray(e.props.children).filter((function(e){return e.props.role===t})).length>0})),d(p(e),"onClickOut",(function(t){e.props.onClickOut&&e.mask===t.target&&e.props.onClickOut(t)})),e}return t=c,(n=[{key:"render",value:function(){var e=this,t=h.createElement("div",{id:this.props.id,style:i({zIndex:3},this.props.style),className:"".concat(this.props.draggable?"modal-dialog-draggable":""," ").concat(this.props.className," modal-dialog-container")},h.createElement("div",{className:this.props.headerClassName+" draggable-header"},this.renderRole("header")),h.createElement("div",{className:this.props.bodyClassName},this.renderLoading(),this.renderRole("body")),this.hasRole("footer")?h.createElement("div",{className:this.props.footerClassName},this.renderRole("footer")):h.createElement("span",null)),n=this.props.draggable?h.createElement(y,{defaultPosition:this.props.start,bounds:this.props.bounds,handle:".draggable-header, .draggable-header *"},t):t,r=b({},this.props.style.display?{display:this.props.style.display}:{},this.props.backgroundStyle);return this.props.modal?h.createElement("div",{ref:function(t){e.mask=t},onClick:this.onClickOut,style:r,className:"fade in modal "+this.props.containerClassName,role:"dialog"},n):n}}])&&s(t.prototype,n),r&&s(t,r),c}(h.Component);d(_,"propTypes",{id:m.string.isRequired,style:m.object,backgroundStyle:m.object,className:m.string,maskLoading:m.bool,containerClassName:m.string,headerClassName:m.string,bodyClassName:m.string,footerClassName:m.string,onClickOut:m.func,modal:m.bool,start:m.object,draggable:m.bool,bounds:m.oneOfType([m.string,m.object])}),d(_,"defaultProps",{style:{},backgroundStyle:{background:"rgba(0,0,0,.5)"},start:{x:0,y:150},className:"modal-dialog modal-content",maskLoading:!1,containerClassName:"",headerClassName:"modal-header",bodyClassName:"modal-body",footerClassName:"modal-footer",modal:!1,draggable:!0,bounds:"parent"}),e.exports=_},"./MapStore2/web/client/components/misc/EmptyView.jsx":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n("./node_modules/react/index.js"),s=n("./MapStore2/web/client/components/misc/FitIcon.jsx");e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.style,n=void 0===t?{}:t,r=e.mainViewStyle,i=void 0===r?{}:r,l=e.contentStyle,u=void 0===l?{}:l,c=e.imageStyle,p=void 0===c?{}:c,f=e.glyph,d=void 0===f?"info-sign":f,h=e.iconFit,m=e.title,y=e.tooltip,g=e.tooltipId,b=e.description,v=e.content;return a.createElement("div",{className:"empty-state-container",style:o({height:h?"100%":void 0},n)},a.createElement("div",{key:"main-view",className:"empty-state-main-view",style:o({height:h?"100%":void 0},i)},d?a.createElement("div",{key:"glyph",className:"empty-state-image",style:o({height:h?"100%":void 0},p)},a.createElement(s,{iconFit:h,tooltip:y,tooltipId:g,glyph:d})):null,m?a.createElement("h1",{key:"title"},m):null,b?a.createElement("p",{key:"description",className:"empty-state-description"},b):null),a.createElement("div",{key:"content",className:"empty-state-content",style:u},v))}},"./MapStore2/web/client/components/misc/Filter.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n("./node_modules/react/index.js"),d=n("./node_modules/prop-types/index.js"),h=n("./node_modules/react-bootstrap/es/index.js"),m=h.FormGroup,y=h.FormControl,g=h.Glyphicon,b=h.InputGroup,v=h.OverlayTrigger,_=h.Tooltip;n("./MapStore2/web/client/components/misc/style/filter.css");var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,n,r,l=s(c);function c(){var e;o(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(u(e=l.call.apply(l,[this].concat(n))),"onFilter",(function(t){e.props.onFilter(t.target.value)})),p(u(e),"onClear",(function(){e.props.onFilter("")})),e}return t=c,(n=[{key:"render",value:function(){var e=this.props.filterText?f.createElement(v,{placement:"bottom",overlay:f.createElement(_,{id:"mapstore-toc-filter"},this.props.tooltipClear)},f.createElement(g,{glyph:"1-close",className:"text-primary close-filter",onClick:this.onClear})):f.createElement(g,{className:"text-primary",glyph:"filter"});return f.createElement(m,{className:"mapstore-filter"},f.createElement(b,null,f.createElement(y,{value:this.props.filterText,placeholder:this.props.filterPlaceholder,onChange:this.onFilter,onFocus:this.props.onFocus,type:"text"}),f.createElement(b.Addon,{className:"square-button-md"},this.props.loading?f.createElement("div",{className:"toc-inline-loader"}):e)))}}])&&i(t.prototype,n),r&&i(t,r),c}(f.Component);p(w,"propTypes",{loading:d.bool,filterText:d.string,filterPlaceholder:d.oneOfType([d.object,d.string]),onFilter:d.func,onFocus:d.func,tooltipClear:d.oneOfType([d.object,d.string])}),p(w,"defaultProps",{loading:!1,filterText:"",filterPlaceholder:"",onFilter:function(){},onFocus:function(){},tooltipClear:"Clear"}),e.exports=w},"./MapStore2/web/client/components/misc/FitIcon.jsx":function(e,t,n){var r=n("./node_modules/react/index.js"),o=n("./node_modules/react-bootstrap/es/index.js").Glyphicon,i=n("./node_modules/react-container-dimensions/lib/index.js").default,a=n("./MapStore2/web/client/components/misc/enhancers/tooltip.jsx")(o);e.exports=function(e){var t=e.glyph,n=void 0===t?"info-sign":t,o=e.tooltip,s=e.tooltipId,l=e.iconFit,u=e.padding,c=void 0===u?0:u,p=e.margin,f=void 0===p?0:p;return r.createElement(i,null,(function(e){var t=e.width,i=e.height;return r.createElement(a,{glyph:n,tooltip:o,tooltipId:s,style:{display:"inline-block",padding:c+"px",margin:f+"px",textAlign:"center",fontSize:l?Math.min(t,i)-2*c-2*f:t-2*c-2*f}})}))}},"./MapStore2/web/client/components/misc/HtmlRenderer.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n("./node_modules/prop-types/index.js"),d=n("./node_modules/react/index.js"),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,n,r,l=s(c);function c(){var e;o(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return p(u(e=l.call.apply(l,[this].concat(n))),"getSourceCode",(function(){return{__html:e.props.html}})),e}return t=c,(n=[{key:"render",value:function(){return d.createElement("div",{id:this.props.id,dangerouslySetInnerHTML:this.getSourceCode()})}}])&&i(t.prototype,n),r&&i(t,r),c}(d.Component);p(h,"propTypes",{html:f.string,id:f.string}),e.exports=h},"./MapStore2/web/client/components/misc/Loader.jsx":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n("./node_modules/react/index.js"),s=n("./node_modules/prop-types/index.js"),l=function(e){return e>100?"full":e>40?"medium":"small"},u=function(e){var t=e.size,n=e.style,r=void 0===n?{}:n,i=e.className,s=e.hidden;return a.createElement("div",{className:i,style:o({width:t,height:t,overflow:"hidden"},r)},!s&&a.createElement("div",{className:"mapstore-".concat(l(t),"-size-loader")}))};u.propTypes={size:s.number,className:s.string,style:s.object},e.exports=u},"./MapStore2/web/client/components/misc/LoadingSpinner.jsx":function(e,t,n){var r=n("./node_modules/react/index.js");e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.style,n=void 0===t?{display:"inline-block"}:t;return r.createElement("div",{style:n,className:"mapstore-inline-loader"})}},"./MapStore2/web/client/components/misc/LoadingView.jsx":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n("./node_modules/react/index.js"),s=n("./node_modules/react-container-dimensions/lib/index.js").default,l=n("./MapStore2/web/client/components/misc/Loader.jsx");e.exports=function(e){var t=e.width,n=e.height,r=e.className,i=void 0===r?"loader-container":r,u=e.contentStyle,c=void 0===u?{}:u;return a.createElement("div",{className:i},a.createElement(s,null,(function(e){var r=e.width,i=void 0===r?200:r,s=e.height,u=void 0===s?200:s,p=t||(u>0?Math.min(i,u):i),f=n||(u>0?Math.min(i,u):i),d=Math.min(p,f);return a.createElement(l,{size:d,style:o({padding:d/10,margin:"auto",display:"flex"},c)})})))}},"./MapStore2/web/client/components/misc/OverlayTrigger.jsx":function(e,t,n){"use strict";n.r(t);var r=n("./MapStore2/web/client/components/misc/WithContainer.jsx"),o=n("./node_modules/react-bootstrap/es/index.js");t.default=Object(r.default)(o.OverlayTrigger)},"./MapStore2/web/client/components/misc/Portal.jsx":function(e,t,n){"use strict";n.r(t);var r=n("./MapStore2/web/client/components/misc/WithContainer.jsx"),o=n("./node_modules/react-overlays/es/index.js"),i=Object(r.default)(o.a);t.default=i},"./MapStore2/web/client/components/misc/ResizableModal.jsx":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/react-bootstrap/es/index.js"),a=n("./MapStore2/web/client/components/misc/Dialog.jsx"),s=n.n(a),l=n("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),u=n.n(l),c=n("./node_modules/recompose/es/Recompose.js"),p=n("./node_modules/react-addons-css-transition-group/index.js"),f=n.n(p),d=n("./MapStore2/web/client/components/misc/LoadingSpinner.jsx"),h=n.n(d),m={xs:" ms-xs",sm:" ms-sm",md:"",lg:" ms-lg"},y={className:{vertical:" ms-fullscreen-v",horizontal:" ms-fullscreen-h",full:" ms-fullscreen"},glyph:{expanded:{vertical:"resize-vertical",horizontal:"resize-horizontal",full:"resize-small"},collapsed:{vertical:"resize-vertical",horizontal:"resize-horizontal",full:"resize-full"}}},g=Object(c.withState)("fullscreenState","onFullscreen",(function(e){var t=e.initialFullscreenState;return void 0===t?"collapsed":t}))((function(e){var t=e.show,n=void 0!==t&&t,r=e.loading,a=e.loadingText,l=e.onClose,c=void 0===l?function(){}:l,p=e.title,d=void 0===p?"":p,g=e.clickOutEnabled,b=void 0===g||g,v=e.showClose,_=void 0===v||v,w=e.disabledClose,O=void 0!==w&&w,j=e.showFullscreen,S=void 0!==j&&j,E=e.fullscreenType,x=void 0===E?"full":E,P=e.buttons,M=void 0===P?[]:P,L=e.size,T=void 0===L?"":L,C=e.bodyClassName,k=void 0===C?"":C,I=e.children,D=e.draggable,A=void 0!==D&&D,R=e.fullscreenState,F=e.onFullscreen,N=e.fade,G=void 0!==N&&N,U=e.fitContent,z=e.modalClassName,B=void 0===z?"":z,V=e.dialogClassName,q=void 0===V?"":V,W=e.enableFooter,H=void 0===W||W,Z=m[T]||"",Y=S&&"expanded"===R&&y.className[x]||"",K=n?o.a.createElement("div",{className:"modal-fixed ".concat(B," ")+(A?"ms-draggable":"")},o.a.createElement(s.a,{id:"ms-resizable-modal",style:{display:"flex"},onClickOut:b?c:function(){},containerClassName:"ms-resizable-modal",draggable:A,modal:!0,className:"modal-dialog modal-content"+Z+Y+q+(U?" ms-fit-content":"")},o.a.createElement("span",{role:"header"},o.a.createElement("h4",{className:"modal-title"},o.a.createElement("div",{className:"ms-title"},d),S&&y.className[x]&&o.a.createElement(i.Glyphicon,{className:"ms-header-btn",onClick:function(){return F("expanded"===R?"collapsed":"expanded")},glyph:y.glyph[R][x]}),_&&c&&o.a.createElement(i.Glyphicon,{glyph:"1-close",className:"ms-header-btn",onClick:c,disabled:O}))),o.a.createElement("div",{role:"body",className:k},I),H&&o.a.createElement("div",{style:{display:"flex"},role:"footer"},o.a.createElement("div",{className:"ms-resizable-modal-loading-spinner-container"},r?o.a.createElement(h.a,null):null),o.a.createElement("div",{className:"ms-resizable-modal-loading-text"},r?a:null),o.a.createElement(u.a,{buttons:M})))):null;return G?o.a.createElement(f.a,{transitionName:"ms-resizable-modal-fade",transitionEnterTimeout:300,transitionLeaveTimeout:300},K):K}));t.default=g},"./MapStore2/web/client/components/misc/Thumbnail.jsx":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/react-dropzone/dist/index.js"),a=n.n(i),s=n("./MapStore2/web/client/components/misc/Loader.jsx"),l=n.n(s),u=n("./MapStore2/web/client/utils/ThumbnailUtils.js"),c=n("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),p=n.n(c);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||m(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||m(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=Object(r.forwardRef)((function(e,t){var n=e.className,i=void 0===n?"ms-thumbnail":n,s=e.label,c=e.loading,m=e.message,y=e.error,g=e.thumbnail,b=e.removeGlyph,v=void 0===b?"trash":b,_=e.removeTooltipId,w=void 0===_?"removeThumbnail":_,O=e.style,j=void 0===O?{}:O,S=e.maxFileSize,E=void 0===S?5e5:S,x=e.supportedImageTypes,P=void 0===x?["image/png","image/jpeg","image/jpg"]:x,M=e.thumbnailOptions,L=e.dropZoneProps,T=void 0===L?{className:"ms-thumbnail-dropzone",activeClassName:"ms-thumbnail-dropzone-active",rejectClassName:"ms-thumbnail-dropzone-reject"}:L,C=e.onUpdate,k=void 0===C?function(){}:C,I=e.onError,D=void 0===I?function(){}:I,A=e.onRemove,R=e.toolbarButtons,F=Object(r.useRef)(),N=h(Object(r.useState)(),2),G=N[0],U=N[1];Object(r.useEffect)((function(){return F.current=!0,function(){F.current=!1}}),[]);if(c||G)return o.a.createElement("div",{className:"dropzone-thumbnail-container".concat(i?" ".concat(i):""," ms-loading")},o.a.createElement(l.a,{size:70}));var z=o.a.createElement(p.a,{btnDefaultProps:{className:"square-button-md no-border"},buttons:R||[{glyph:v,visible:!(!A||!g),tooltipId:w,onClick:function(e){var t;null==e||null===(t=e.stopPropagation)||void 0===t||t.call(e),null==A||A()}}]});return o.a.createElement("div",{className:"dropzone-thumbnail-container".concat(i?" ".concat(i):""),style:j},s,o.a.createElement(a.a,f({},T,{multiple:!1,onDrop:function(e){var t,n=null==e||null===(t=e[0])||void 0===t?void 0:t.type,r=-1!==P.indexOf(n);U(!0),function(e,t){return new Promise((function(n){var r=e;if(null==r?void 0:r[0]){var o=r[0],i=new FileReader;return i.onload=function(e){return n(t?Object(u.a)(e.target.result,t).then((function(e){return{data:e,size:e.length}})):{data:e.target.result,size:o.size})},i.readAsDataURL(o)}return n({data:null})}))}(e,M).then((function(t){var n=t.data,o=t.size;return F.current?(U(!1),r&&n&&o<E?k(n,e):D([].concat(d(r?[]:["FORMAT"]),d(n&&o>=E?["SIZE"]:[])),e)):null})).catch((function(e){return F.current?(U(!1),D(e)):null}))}}),g?o.a.createElement("div",{style:{position:"relative",width:"100%",height:"100%"}},o.a.createElement("div",{ref:t,style:{position:"relative",width:"100%",height:"100%",backgroundImage:"url(".concat(g,")"),backgroundSize:(null==M?void 0:M.contain)?"contain":"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}),o.a.createElement("div",{className:"dropzone-content-image-added"},m),z):o.a.createElement("div",{className:"dropzone-content-image"},m,z,y&&o.a.createElement("div",{className:"dropzone-errors"},y))))}));t.default=g},"./MapStore2/web/client/components/misc/WithContainer.jsx":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/react/index.js"),o=n.n(r);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=n("./MapStore2/web/client/utils/ConfigUtils.js").default;t.default=function(e){return function(t){return o.a.createElement(e,i({},t,{container:document.querySelector("."+(a.getConfigProp("themePrefix")||"ms2")+" > div")||document.body}))}}},"./MapStore2/web/client/components/misc/cardgrids/SideCard.jsx":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=n("./node_modules/react/index.js"),l=n("./MapStore2/node_modules/lodash/lodash.js").isObject,u=n("./MapStore2/web/client/components/misc/Loader.jsx");e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.body,n=e.caption,r=e.infoExtra,i=e.className,c=void 0===i?"":i,p=e.description,f=e.fullText,d=e.onClick,h=void 0===d?function(){}:d,m=e.onMouseEnter,y=void 0===m?function(){}:m,g=e.onMouseLeave,b=void 0===g?function(){}:g,v=e.preview,_=e.selected,w=e.size,O=e.style,j=void 0===O?{}:O,S=e.stylePreview,E=void 0===S?{}:S,x=e.styleTools,P=void 0===x?{}:x,M=e.title,L=e.loading,T=e.dragSymbol,C=void 0===T?"+":T,k=e.tools,I=a(e,["body","caption","infoExtra","className","description","fullText","onClick","onMouseEnter","onMouseLeave","preview","selected","size","style","stylePreview","styleTools","title","loading","dragSymbol","tools"]);return s.createElement("div",{className:"mapstore-side-card".concat(_?" selected":"").concat(w?" ms-"+w:"").concat(c?" ".concat(c):"").concat(f?" full-text":""),onClick:function(e){return h(o({title:M,preview:v,description:p,caption:n,tools:k},I),e)},onMouseEnter:y,onMouseLeave:b,style:j},s.createElement("div",{className:"ms-head"},I.isDraggable&&I.connectDragSource&&I.connectDragSource(s.createElement("div",{className:"mapstore-side-card-tool text-center"},s.createElement("div",{style:{width:10,overflow:"hidden"}},C))),v&&s.createElement("div",{className:"mapstore-side-preview",style:E},v),s.createElement("div",{className:"mapstore-side-card-container"},s.createElement("div",{className:"mapstore-side-card-inner"},s.createElement("div",{className:"mapstore-side-card-left-container"},s.createElement("div",{className:"mapstore-side-card-info"},M&&s.createElement("div",{className:"mapstore-side-card-title"},s.createElement("span",null,M)),p&&s.createElement("div",{className:"mapstore-side-card-desc"},l(p)?p:s.createElement("span",null,p)),n&&s.createElement("div",{className:"mapstore-side-card-caption"},s.createElement("span",null,n))),r),s.createElement("div",{className:"mapstore-side-card-right-container"},s.createElement("div",{className:"mapstore-side-card-tool text-center",style:P},k),"sm"!==w&&s.createElement("div",{className:"mapstore-side-card-loading"},s.createElement(u,{className:"mapstore-side-card-loader",size:12,hidden:!L})))))),t&&s.createElement("div",{className:"ms-body"},t))}},"./MapStore2/web/client/components/misc/cardgrids/SideGrid.jsx":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n("./node_modules/react/index.js"),d=n("./MapStore2/web/client/components/misc/cardgrids/SideCard.jsx"),h=n("./node_modules/prop-types/index.js"),m=n("./node_modules/react-bootstrap/es/index.js"),y=m.Row,g=m.Col,b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(c,e);var t,n,r,u=l(c);function c(){return i(this,c),u.apply(this,arguments)}return t=c,(n=[{key:"render",value:function(){var e=this.props,t=e.cardComponent,n=e.items,r=e.colProps,i=e.onItemClick,a=e.size,s=t||d;return f.createElement("div",{className:"msSideGrid"+(this.props.className?" "+this.props.className:"")},f.createElement(y,{className:"items-list"},n.map((function(e,t){return f.createElement(g,o({key:e.id||t},r),f.createElement(s,o({onClick:function(){return i(e)},size:a},e)))}))))}}])&&a(t.prototype,n),r&&a(t,r),c}(f.Component);p(b,"propTypes",{size:h.string,onItemClick:h.func,colProps:h.object,items:h.array,cardComponent:h.oneOfType([h.string,h.func]),className:h.string}),p(b,"defaultProps",{size:"",onItemClick:function(){},colProps:{xs:12},className:"",items:[]}),e.exports=b},"./MapStore2/web/client/components/misc/enhancers/buttonTooltip.jsx":function(e,t,n){var r=n("./node_modules/react/index.js"),o=n("./node_modules/recompose/es/Recompose.js").branch,i=n("./MapStore2/node_modules/lodash/lodash.js").omit,a=n("./MapStore2/web/client/components/misc/enhancers/tooltip.jsx");e.exports=o((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disabled,n=e.noTooltipWhenDisabled,r=void 0!==n&&n;return!(r&&t)}),a,(function(e){return function(t){return r.createElement(e,i(t,["tooltipId","tooltip","noTooltipWhenDisabled"]),t.children)}}))},"./MapStore2/web/client/components/misc/enhancers/emptyState.jsx":function(e,t,n){var r=n("./node_modules/react/index.js"),o=n("./MapStore2/node_modules/lodash/lodash.js").isFunction,i=n("./node_modules/recompose/es/Recompose.js").branch,a=n("./MapStore2/web/client/components/misc/EmptyView.jsx");e.exports=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a;return i(e,(function(){return function(e){return r.createElement(n,t&&o(t)?t(e):t)}}))}},"./MapStore2/web/client/components/misc/enhancers/infiniteScroll/withScrollSpy.js":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=n("./node_modules/react/index.js"),g=n("./node_modules/prop-types/index.js"),b=n("./node_modules/react-dom/index.js");n("./node_modules/rxjs/Rx.js"),e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dataProp,n=void 0===t?"items":t,r=e.querySelector,o=e.closest,s=void 0!==o&&o,c=e.loadingProp,f=void 0===c?"loading":c,h=e.skip,v=void 0===h?0:h,_=e.pageSize,w=void 0===_?10:_,O=e.offsetSize,j=void 0===O?200:O;return function(e){var t,o;return o=t=function(t){u(c,t);var o=p(c);function c(){var e;a(this,c);for(var t=arguments.length,l=new Array(t),u=0;u<t;u++)l[u]=arguments[u];return m(d(e=o.call.apply(o,[this].concat(l))),"findScrollDomNode",(function(){if(!e.isMounded)return null;var t=b.findDOMNode(d(e));return t&&s&&r?t.closest(r||"*"):t&&(r?t.querySelector(r):t)})),m(d(e),"onScroll",(function(){var t=i({skip:v,pageSize:w,offsetSize:j},e.props.scrollOptions),r=e.findScrollDomNode();r&&e.props.isScrolled({div:r,offset:t.offsetSize})&&(!n||e.props[n]&&e.props[n].length)&&(!f||!e.props[f])&&e.props.hasMore(e.props)&&e.props.onLoadMore(n?Math.ceil((e.props[n].length-t.skip)/t.pageSize):null)})),e}return l(c,[{key:"componentDidMount",value:function(){this.isMounded=!0;var e=this.findScrollDomNode();e&&(this.listenerAdded=!0,e.addEventListener("scroll",this.onScroll,!1),this.onScroll())}},{key:"componentDidUpdate",value:function(e){var t=this,r=this.findScrollDomNode();r&&!this.listenerAdded&&(r.addEventListener("scroll",this.onScroll,!1),this.listenerAdded=!0),!r||n&&this.props[n]&&this.props[n]===e[n]||setTimeout((function(){return t.onScroll()}),300)}},{key:"componentWillUnmount",value:function(){this.isMounded=!1,this.listenerAdded=!1;var e=this.findScrollDomNode();e&&e.removeEventListener("scroll",this.onScroll,!1)}},{key:"render",value:function(){return y.createElement(e,this.props)}}]),c}(y.Component),m(t,"propTypes",{hasMore:g.func,onLoadMore:g.func,isScrolled:g.func,scrollOptions:g.object}),m(t,"defaultProps",{onLoadMore:function(){},hasMore:function(){return!0},isScrolled:function(e){var t=e.div,n=e.offset;return t.scrollTop+t.clientHeight>=t.scrollHeight-n}}),o}}},"./MapStore2/web/client/components/misc/enhancers/loadingState.jsx":function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var o=n("./node_modules/react/index.js"),i=n("./node_modules/recompose/es/Recompose.js").branch,a=n("./MapStore2/web/client/components/misc/LoadingView.jsx"),s=function(e){var t=e.loading,n=e.isLoading;return t||n&&("function"==typeof n?n():!0===n)};e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a;return i(e,(function(){return function(e){var i=e.loaderProps;return o.createElement(n,r({},t,i))}}))}},"./MapStore2/web/client/components/misc/enhancers/localizedProps.js":function(e,t,n){function r(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n("./MapStore2/web/client/utils/LocaleUtils.js").getMessageById,l=n("./node_modules/prop-types/index.js"),u=n("./MapStore2/node_modules/lodash/lodash.js"),c=u.castArray,p=u.isArray,f=u.isNil,d=u.isString,h=n("./node_modules/recompose/es/Recompose.js"),m=h.getContext,y=h.mapProps,g=h.compose,b=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"label";if(p(t))return t.map((function(r){var o=s(e,r[n]||d(r)&&r||"");return i(i({},r),{},a({},n,f(o)?t:o))}));var r=s(e,t);return f(r)?t:r},v=function(e,t,n){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;return i(i({},r),{},a({},o,e[o]&&b(t,e[o],n)))}};e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"label";return g(m({messages:l.object}),y((function(n){var o=n.messages,a=r(n,["messages"]);return i(i({},a),c(e).reduce(v(a,o,t),{}))})))}},"./MapStore2/web/client/components/misc/enhancers/popover.js":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=n("./node_modules/react/index.js"),f=n("./node_modules/recompose/es/Recompose.js"),d=f.branch,h=f.toClass,m=n("./node_modules/prop-types/index.js"),y=n("./MapStore2/node_modules/lodash/lodash.js").omit,g=n("./node_modules/react-bootstrap/es/index.js").Popover,b=n("./MapStore2/web/client/components/misc/OverlayTrigger.jsx").default;e.exports=d((function(e){return e.popover}),(function(e){var t,n;return n=t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,t);var n,r,l,u=s(c);function c(){return o(this,c),u.apply(this,arguments)}return n=c,(r=[{key:"renderPopover",value:function(){return p.createElement(g,y(this.props.popover,["trigger","placement","text"]),this.props.popover.text)}},{key:"renderContent",value:function(){var t=h(e);return p.createElement(t,y(this.props,["popover"]))}},{key:"render",value:function(){var e=!0===this.props.popover.trigger?["hover","focus"]:this.props.popover.trigger;return p.createElement("span",null,p.createElement(b,{trigger:e,placement:this.props.popover.placement,overlay:this.renderPopover()},this.renderContent()))}}])&&i(n.prototype,r),l&&i(n,l),c}(p.Component),c(t,"propTypes",{popover:m.object}),c(t,"defaultProps",{popover:{trigger:!0}}),n}))},"./MapStore2/web/client/components/misc/enhancers/tooltip.jsx":function(e,t,n){function r(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var o=n("./node_modules/react/index.js"),i=n("./node_modules/recompose/es/Recompose.js").branch,a=n("./node_modules/react-bootstrap/es/index.js").Tooltip,s=n("./MapStore2/web/client/components/misc/OverlayTrigger.jsx").default,l=n("./MapStore2/web/client/components/I18N/Message.jsx").default,u=n("./MapStore2/node_modules/lodash/lodash.js").omit;e.exports=i((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tooltip,n=e.tooltipId;return t||n}),(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.tooltip,i=t.tooltipId,u=t.tooltipPosition,c=void 0===u?"top":u,p=t.tooltipTrigger,f=t.keyProp,d=t.idDropDown,h=t.args,m=t.customOverlayTrigger,y=void 0===m?s:m,g=r(t,["tooltip","tooltipId","tooltipPosition","tooltipTrigger","keyProp","idDropDown","args","customOverlayTrigger"]);return o.createElement(y,{trigger:p,id:d,key:f,placement:c,overlay:o.createElement(a,{id:"tooltip-"+f},i?o.createElement(l,{msgId:i,msgParams:{data:h}}):n)},o.createElement(e,g))}}),(function(e){return function(t){return o.createElement(e,u(t,["tooltipId","tooltip"]),t.children)}}))},"./MapStore2/web/client/components/misc/enhancers/withResizeSpy.js":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=n("./node_modules/react/index.js"),m=n("./MapStore2/node_modules/lodash/lodash.js").debounce,y=n("./node_modules/prop-types/index.js"),g=n("./node_modules/react-dom/index.js"),b=n("./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js").default;e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.debounceTime,n=e.querySelector,r=e.closest,i=void 0!==r&&r;return function(e){var r,l;return l=r=function(r){s(c,r);var l=u(c);function c(e){var r;return o(this,c),d(p(r=l.call(this,e)),"findDomNode",(function(){if(!r.isMounded)return null;var e=g.findDOMNode(p(r));return e&&i&&n?e.closest(n||"*"):e&&(n?e.querySelector(n):e)})),r.width=void 0,r.height=void 0,r.skipOnMount=e.skipOnMount,r.onResize=m((function(){var e;return(e=r.props).onResize.apply(e,arguments)}),void 0!==t?t:e.debounceTime||1e3),r.ro=new b((function(e){e.forEach((function(e){var t=e.contentRect,n=t.width,o=t.height,i=r.props.handleWidth&&r.width!==n,a=r.props.handleHeight&&r.height!==o;r.skipOnMount||!i&&!a||r.onResize({width:n,height:o}),r.width=n,r.height=o,r.skipOnMount=!1}))})),r}return a(c,[{key:"componentDidMount",value:function(){this.isMounded=!0;var e=this.findDomNode();e&&this.ro.observe(e)}},{key:"componentWillUnmount",value:function(){var e=this.findDomNode();e&&this.ro&&this.ro.unobserve&&this.ro.unobserve(e)}},{key:"render",value:function(){return h.createElement(e,this.props)}}]),c}(h.Component),d(r,"propTypes",{handleWidth:y.bool,handleHeight:y.bool,onResize:y.func}),d(r,"defaultProps",{onResize:function(){},handleWidth:!0,handleHeight:!0}),l}}},"./MapStore2/web/client/components/misc/style/filter.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/misc/style/filter.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx":function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var i=n("./node_modules/react/index.js"),a=n("./node_modules/react-bootstrap/es/index.js").ButtonGroup,s=n("./MapStore2/web/client/components/misc/toolbar/ToolbarButton.jsx"),l=n("./node_modules/react-addons-css-transition-group/index.js");e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.buttons,n=void 0===t?[]:t,u=e.btnGroupProps,c=void 0===u?{}:u,p=e.btnDefaultProps,f=void 0===p?{}:p,d=e.transitionProps,h=void 0===d?{transitionName:"toolbar-btn-transition",transitionEnterTimeout:300,transitionLeaveTimeout:300}:d,m=function(){return n.map((function(e,t){var n=e.visible,a=void 0===n||n,l=e.Element,u=e.renderButton,c=o(e,["visible","Element","renderButton"]);return a?u||(l&&i.createElement(l,r({key:c.key||t},c))||i.createElement(s,r({key:c.key||t},f,c))):null}))};return i.createElement(a,c,h?i.createElement(l,h,m()):m())}},"./MapStore2/web/client/components/misc/toolbar/ToolbarButton.jsx":function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var i=n("./node_modules/react/index.js"),a=n("./node_modules/recompose/es/Recompose.js").compose,s=n("./MapStore2/web/client/components/I18N/Message.jsx").default,l=n("./MapStore2/node_modules/lodash/lodash.js").omit,u=n("./node_modules/react-bootstrap/es/index.js"),c=u.Button,p=u.Glyphicon,f=n("./MapStore2/web/client/components/misc/Loader.jsx"),d=n("./MapStore2/web/client/components/misc/enhancers/buttonTooltip.jsx"),h=n("./MapStore2/web/client/components/misc/enhancers/popover.js");e.exports=a(d,h)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.glyph,n=e.loading,a=e.text,u=void 0===a?"":a,d=e.textId,h=e.glyphClassName,m=void 0===h?"":h,y=e.loaderProps,g=void 0===y?{}:y,b=e.children,v=o(e,["glyph","loading","text","textId","glyphClassName","loaderProps","children"]);return i.createElement(c,l(v,["pullRight","confirmNo","confirmYes"]),t&&!n?i.createElement(p,{glyph:t,className:m}):null,d?i.createElement(s,{msgId:d}):u,n?i.createElement(f,r({className:"ms-loader".concat(v.bsStyle&&" ms-loader-"+v.bsStyle||"").concat(v.bsSize&&" ms-loader-"+v.bsSize||"")},g)):null,b)}))},"./MapStore2/web/client/components/misc/withConfirm.jsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./MapStore2/web/client/components/misc/ConfirmDialog.jsx"),a=n.n(i),s=n("./MapStore2/web/client/components/misc/Portal.jsx"),l=n("./MapStore2/web/client/components/I18N/Message.jsx"),u=n("./node_modules/recompose/es/Recompose.js");function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var p=Object(u.compose)(Object(u.withProps)((function(e){var t=e.setConfirming;return{onClose:function(){return t(!1)}}})))((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.confirmYes,n=void 0===t?o.a.createElement(l.default,{msgId:"yes"}):t,r=e.confirmNo,i=void 0===r?o.a.createElement(l.default,{msgId:"no"}):r,u=e.confirmTitle,c=void 0===u?o.a.createElement(l.default,{msgId:"confirm"}):u,p=e.confirmContent,f=e.confirmButtonBSStyle,d=void 0===f?"primary":f,h=e.show,m=void 0!==h&&h,y=e.confirmModal,g=void 0===y||y,b=e.draggable,v=void 0!==b&&b,_=e.onClose,w=void 0===_?function(){}:_,O=e.onConfirm,j=void 0===O?function(){}:O;return m?o.a.createElement(s.default,null,o.a.createElement("div",{className:"with-confirm-modal"},o.a.createElement(a.a,{draggable:v,show:m,modal:g,onClose:w,onConfirm:j,title:c,confirmButtonContent:n,closeText:i,confirmButtonBSStyle:d,closeGlyph:"1-close"},p))):null})),f=function(e){return function(t){var n=t.confirming,r=t.confirmYes,i=t.confirmNo,a=t.confirmTitle,s=t.confirmContent,l=t.confirmModal,u=t.draggable,f=t.onConfirm,d=t.setConfirming,h=c(t,["confirming","confirmYes","confirmNo","confirmTitle","confirmContent","confirmModal","draggable","onConfirm","setConfirming"]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(p,{show:n,setConfirming:d,confirmYes:r,confirmNo:i,confirmTitle:a,confirmContent:s,confirmModal:l,draggable:u,onConfirm:f}),o.a.createElement(e,h))}};t.a=function(e){return Object(u.compose)(Object(u.withState)("confirming","setConfirming",!1),Object(u.withHandlers)({onClick:function(e){var t=e.setConfirming,n=void 0===t?function(){}:t,r=e.onClick,o=void 0===r?function(){}:r,i=e.confirmPredicate,a=void 0===i||i;return function(){a?n(!0):o.apply(void 0,arguments)}},onConfirm:function(e){var t=e.onClick,n=void 0===t?function(){}:t,r=e.setConfirming,o=void 0===r?function(){}:r;return function(){o(!1),n.apply(void 0,arguments)}}}),f)(e)}},"./MapStore2/web/client/components/widgets/builder/wizard/map/PreviewMap.jsx":function(e,t,n){var r=n("./MapStore2/web/client/components/widgets/builder/wizard/map/enhancers/previewMap.js");e.exports=r(n("./MapStore2/web/client/components/widgets/widget/MapView.jsx"))},"./MapStore2/web/client/components/widgets/builder/wizard/map/enhancers/previewMap.js":function(e,t,n){var r=n("./node_modules/recompose/es/Recompose.js"),o=r.compose,i=r.withHandlers;e.exports=o(i({onMapViewChanges:function(e){var t=e.onChange,n=void 0===t?function(){}:t;return function(e){n("map",e),n("mapStateSource",e.mapStateSource)}}}))},"./MapStore2/web/client/components/widgets/widget/MapView.jsx":function(e,t,n){var r=n("./MapStore2/web/client/components/map/enhancers/autoMapType.js"),o=n("./MapStore2/web/client/components/map/enhancers/mapType.js"),i=n("./MapStore2/web/client/components/map/enhancers/autoResize.js"),a=n("./MapStore2/web/client/components/map/enhancers/getProjectionDefs.js").default,s=n("./MapStore2/web/client/components/map/enhancers/onMapViewChanges.js"),l=n("./node_modules/recompose/es/Recompose.js").compose,u=n("./MapStore2/web/client/components/map/enhancers/handlingUnsupportedProjection.js").handlingUnsupportedProjection;e.exports=l(s,i(0),r,o,a,u)(n("./MapStore2/web/client/components/map/BaseMap.jsx"))},"./MapStore2/web/client/libs/cesium.js":function(e,t){e.exports=window.Cesium},"./MapStore2/web/client/libs/leaflet.js":function(e,t){e.exports=window.L},"./MapStore2/web/client/libs/mapquest.js":function(e,t){e.exports=window.MQ},"./MapStore2/web/client/plugins/MediaEditor.jsx":function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"loadMediaEditorDataEpic",(function(){return j})),n.d(r,"editorSaveUpdateMediaEpic",(function(){return S})),n.d(r,"mediaEditorNewMap",(function(){return E})),n.d(r,"mediaEditorEditMap",(function(){return x})),n.d(r,"reloadMediaResources",(function(){return P})),n.d(r,"importInLocalSource",(function(){return M})),n.d(r,"editRemoteMap",(function(){return L})),n.d(r,"removeMediaEpic",(function(){return T})),n.d(r,"updateSelectedItem",(function(){return C}));var o=n("./node_modules/react-redux/es/index.js"),i=n("./node_modules/reselect/es/index.js"),a=n("./MapStore2/web/client/utils/PluginsUtils.js"),s=n("./MapStore2/web/client/actions/mediaEditor.js"),l=n("./node_modules/rxjs/Rx.js"),u=n("./node_modules/uuid/index.js"),c=n.n(u),p=n("./MapStore2/node_modules/lodash/findKey.js"),f=n.n(p),d=n("./MapStore2/web/client/actions/mapEditor.js"),h=n("./MapStore2/web/client/selectors/mediaEditor.js"),m=n("./MapStore2/web/client/utils/GeoStoryUtils.js"),y=n("./MapStore2/web/client/utils/MediaEditorUtils.js"),g=n("./MapStore2/web/client/api/media/index.js");function b(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=function(e,t){return e.ofType(s.p,s.i,s.o,s.n).switchMap((function(e){var n,r=t.getState(),o=e.sourceId||Object(h.p)(r),i=e.mediaType||Object(h.c)(r),a=Object(h.d)(t.getState())||[],u=Object(h.m)(r),c=(null===(n=e.params)||void 0===n?void 0:n.page)?e.params.page:1,p=w(w({},e.params),{},{page:c,pageSize:10}),f=1===c?[]:a,d=w(w({},Object(h.o)(r)),{},{store:t});return Object(g.a)(d).load({mediaType:i,sourceId:o,params:p,selectedId:u}).switchMap((function(e){return e?l.Observable.of(Object(s.w)({mediaType:i,sourceId:o,params:w(w({},p),{},{mediaType:i}),resultData:w(w({},e),{},{resources:[].concat(b(f),b(e.resources))})})):l.Observable.empty()})).startWith(Object(s.x)())}))},S=function(e,t){return e.ofType(s.l).switchMap((function(e){var n=e.mediaType,r=void 0===n?"image":n,o=e.source,i=e.data,a=Object(h.e)(t.getState()),u=w(w({},Object(h.o)(t.getState())),{},{store:t}),c=a?Object(g.a)(u).edit({mediaType:r,source:o,data:i}):Object(g.a)(u).save({mediaType:r,source:o,data:i}),p=a?Object(s.E)(!1):Object(s.D)(!1);return c.switchMap((function(e){var t=e.id;return l.Observable.of(Object(s.B)({mediaType:r,source:o,data:i,id:t}),p,Object(s.C)(t))}))}))},E=function(e,t){var n=t.getState;return e.ofType(d.c).filter((function(e){var t=e.owner,n=e.map;return"mediaEditor"===t&&!n})).switchMap((function(){var t=e.ofType(d.b).switchMap((function(e){var t=e.map,r=Object(h.d)(n())||[],o=c()();return l.Observable.from([Object(s.w)({mediaType:m.e.MAP,sourceId:y.a.GEOSTORY,params:{mediaType:m.e.MAP},resultData:{resources:[{id:o,type:"map",data:w({type:"map",id:o},t)}].concat(b(r)),totalCount:r.length+1}}),Object(s.C)(o),Object(d.d)()])})).takeUntil(e.ofType(d.a)),r=e.ofType(d.a).map((function(){return Object(s.D)(!1)})).takeUntil(e.ofType(d.b));return l.Observable.merge(r,t)}))},x=function(e,t){var n=t.getState;return e.ofType(d.c).filter((function(e){var t=e.owner,n=e.map;return"mediaEditor"===t&&!!n})).switchMap((function(){return e.ofType(d.b).switchMap((function(e){var t=e.map,r=Object(h.n)(n());return l.Observable.from([Object(s.I)(w(w({},r),{},{data:w({},t)}),"replace"),Object(d.d)()])})).takeUntil(e.ofType(d.a))}))},P=function(e,t){var n=t.getState;return e.ofType(s.c,s.a).filter((function(e){var t=e.editing,n=void 0===t||t,r=e.adding;return!1===n||!1===(void 0===r||r)})).map((function(){return Object(s.v)(void 0,Object(h.c)(n()),y.a.GEOSTORY)}))},M=function(e,t){return e.ofType(s.f).switchMap((function(e){var n=e.resource,r=e.sourceType,o=Object(h.q)(t.getState()),i=f()(o,(function(e){var t=e.type;return r===t})),a=w(w({},o[i]),{},{store:t});return Object(g.a)(a).save({mediaType:n.type,source:o[i],data:n}).switchMap((function(e){var t=e.id;return l.Observable.of(Object(s.F)(i),Object(s.B)({mediaType:n.type,source:o[i],data:n,id:t}),Object(s.v)(void 0,n.type,i),Object(s.C)(t))}))}))},L=function(e,t){return e.ofType(d.c).filter((function(e){var t=e.owner,n=e.map;return"mediaEditorEditRemote"===t&&!!n})).switchMap((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.map,o=(r=void 0===r?{}:r).data;return e.ofType(d.b).switchMap((function(e){var n=e.map,r=Object(h.q)(t.getState()),i=f()(r,(function(e){var t=e.type;return y.a.GEOSTORY===t})),a=w(w({},r[i]),{},{store:t});return Object(g.a)(a).save({mediaType:o.type,source:r[i],data:w(w({},o),n)}).switchMap((function(e){var t=e.id;return l.Observable.of(Object(s.F)(i),Object(s.B)({mediaType:o.type,source:r[i],data:o,id:t}),Object(s.v)(void 0,o.type,i),Object(s.C)(t),Object(d.d)())}))})).takeUntil(e.ofType(d.a))}))},T=function(e,t){return e.ofType(s.k).switchMap((function(e){var n=e.mediaType,r=w(w({},Object(h.o)(t.getState())),{},{store:t});return Object(g.a)(r).remove({mediaType:n}).switchMap((function(){return l.Observable.of(Object(s.v)(void 0,Object(h.c)(t.getState()),y.a.GEOSTORY))}))}))},C=function(e,t){return e.ofType(s.m).switchMap((function(){var e=t.getState(),n=Object(h.n)(e),r=w(w({},Object(h.o)(t.getState())),{},{store:t});return Object(g.a)(r).getData({selectedItem:n}).switchMap((function(e){return null===e?l.Observable.of(Object(s.y)(!1)):l.Observable.of(Object(s.I)(w(w({},n),{},{data:w({},e)}),"replace"),Object(s.y)(!1))})).catch((function(){return l.Observable.of(Object(s.y)(!1))})).startWith(Object(s.y)(!0))}))},k=n("./MapStore2/node_modules/lodash/lodash.js"),I=n("./node_modules/connected-react-router/esm/actions.js"),D=n("./MapStore2/web/client/utils/ImmutableUtils.js");function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){F(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N={open:!1,data:{},settings:{mediaType:m.e.IMAGE,sourceId:"geostory",mediaTypes:{image:{defaultSource:"geostory",sources:["geostory"]},video:{defaultSource:"geostory",sources:["geostory"]},map:{defaultSource:"geostory",sources:["geostory","geostoreMap"]}},sources:{geostory:{name:"geostory.storyResources",type:y.a.GEOSTORY,addMediaEnabled:{image:!0,video:!0,map:!0},editMediaEnabled:{image:!0,video:!0,map:!0},removeMediaEnabled:{image:!0,video:!0,map:!0}},geostoreMap:{name:"geostory.geostoreMap",type:y.a.GEOSTORE,baseURL:"rest/geostore/",category:"MAP",editMediaEnabled:{map:!0}}}}},G=n("./node_modules/react/index.js"),U=n.n(G),z=n("./node_modules/recompose/es/Recompose.js"),B=n("./MapStore2/web/client/components/misc/withConfirm.jsx"),V=n("./MapStore2/web/client/components/I18N/Message.jsx"),q=Object(z.compose)(Object(z.defaultProps)({confirmContent:U.a.createElement(V.default,{msgId:"mediaEditor.confirmExitContent"}),confirmTitle:U.a.createElement(V.default,{msgId:"mediaEditor.confirmExitTitle"})}),Object(z.withPropsOnChange)(["adding"],(function(e){return{confirmPredicate:e.adding}})),Object(z.withHandlers)({onClick:function(e){var t=e.hide,n=e.owner;return function(){return t(n)}}}),B.a,Object(z.withHandlers)({hide:function(e){var t=e.onClick;return function(){return t.apply(void 0,arguments)}}})),W=n("./MapStore2/web/client/components/misc/ResizableModal.jsx"),H=n("./MapStore2/web/client/components/misc/Portal.jsx"),Z=n("./node_modules/react-select/dist/react-select.es.js"),Y=n("./MapStore2/web/client/components/layout/BorderLayout.jsx"),K=n.n(Y),X=n("./MapStore2/web/client/components/misc/enhancers/localizedProps.js"),J=n.n(X),Q=n("./MapStore2/web/client/components/misc/toolbar/Toolbar.jsx"),$=n.n(Q),ee=n("./MapStore2/web/client/components/misc/enhancers/emptyState.jsx"),te=n.n(ee),ne=te()((function(e){var t=e.mediaType,n=e.selectedItem;return t===m.e.IMAGE&&!n}),{style:{width:"100%",height:"100%",boxShadow:"inset 0px 0px 30px -5px rgba(0,0,0,0.16)"},iconFit:!0,glyph:"picture",imageStyle:{display:"flex",flexDirection:"column",justifyContent:"center"}})((function(e){var t=e.selectedItem,n=t&&t.data&&t.data.src;return n&&U.a.createElement("img",{src:n,style:{objectFit:"contain",width:"100%",height:"100%"}})})),re=n("./MapStore2/web/client/components/geostory/media/Video.jsx"),oe=te()((function(e){var t=e.mediaType,n=e.selectedItem;return t===m.e.VIDEO&&!n}),{style:{width:"100%",height:"100%",boxShadow:"inset 0px 0px 30px -5px rgba(0,0,0,0.16)"},iconFit:!0,glyph:"play",imageStyle:{display:"flex",flexDirection:"column",justifyContent:"center"}})((function(e){var t,n,r=e.selectedItem,o=null==r||null===(t=r.data)||void 0===t?void 0:t.src,i=null==r||null===(n=r.data)||void 0===n?void 0:n.thumbnail;return U.a.createElement("div",{key:"preview",className:"ms-video-preview",style:{width:"100%",height:"100%",boxShadow:"inset 0px 0px 30px -5px rgba(0,0,0,0.16)"}},o&&U.a.createElement(re.a,{key:o,thumbnail:i,fit:"contain",src:o,inView:!0,mode:m.f.VIEW}))})),ie=n("./MapStore2/web/client/components/widgets/builder/wizard/map/PreviewMap.jsx"),ae=n.n(ie);function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ce(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var pe=te()((function(e){var t=e.mediaType,n=e.selectedItem;return t===m.e.MAP&&(!n||Object(k.isEmpty)(n))}),{iconFit:!0,glyph:"1-map",imageStyle:{display:"flex",flexDirection:"column",justifyContent:"center"}})((function(e){var t=e.selectedItem,n=t.data?t.data:t,r=n.layers,o=void 0===r?[]:r,i=(n.mapOptions,ce(n,["layers","mapOptions"]));return[U.a.createElement(ae.a,{key:i.id||i.mapId,styleMap:{height:"100%"},map:le(le({},i),{},{id:"map"+i.id}),id:"preview"+t.id,layers:o||[y.b],options:Object(m.j)({})})]})),fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.mediaType&&U.a.createElement("div",{className:"ms-media-preview",key:"preview",style:{width:"100%",height:"100%",boxShadow:"inset 0px 0px 30px -5px rgba(0,0,0,0.16)"}},e.mediaType===m.e.IMAGE&&U.a.createElement(ne,e),e.mediaType===m.e.VIDEO&&U.a.createElement(oe,e),e.mediaType===m.e.MAP&&U.a.createElement(pe,e))||null},de=J()(["placeholder","clearValueText","noResultsText"])(Z.default),he=Object(z.compose)(Object(o.connect)(null,{openMapEditor:d.e,importInLocal:s.u}),Object(z.withHandlers)({setAddingMedia:function(e){var t=e.setAddingMedia,n=e.openMapEditor,r=e.mediaType;return function(e,o){r===m.e.MAP&&n("mediaEditor",o),t(e)}},editRemoteMap:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.openMapEditor,n=e.selectedItem,r=void 0===n?{}:n;return function(){t("mediaEditorEditRemote",r)}}})),me=n("./MapStore2/web/client/selectors/geostory.js"),ye=Object(z.compose)(Object(o.connect)((function(e){return{isUsed:Object(me.l)(e,Object(h.m)(e))}}),{removeMedia:s.z}),Object(z.withHandlers)({onClick:function(e){var t=e.removeMedia,n=e.mediaType;return function(){t(n)}}}),Object(z.withProps)((function(e){var t=e.isUsed;return{confirmTitle:U.a.createElement(V.default,{msgId:"mediaEditor.mediaList.removeResourceTitle"}),confirmContent:U.a.createElement(V.default,{msgId:t?"mediaEditor.mediaList.confirmRemoveUsedResource":"mediaEditor.mediaList.confirmRemoveResource"})}})),B.a,Object(z.renameProp)("onClick","removeMedia")),ge=n("./MapStore2/web/client/components/misc/Filter.jsx"),be=n.n(ge),ve=n("./MapStore2/web/client/components/misc/Loader.jsx"),_e=n.n(ve),we=n("./MapStore2/web/client/components/misc/cardgrids/SideGrid.jsx"),Oe=n.n(we),je=n("./MapStore2/web/client/components/I18N/HTML.jsx"),Se=n.n(je),Ee=n("./node_modules/prop-types/index.js"),xe=n.n(Ee),Pe=n("./MapStore2/node_modules/lodash/debounce.js"),Me=n.n(Pe);function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){Ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var De,Ae=function(e,t){return function(n){function r(r){var o,i=Object(G.useRef)(),a=ke(Object(G.useState)(r[t]),2),s=a[0],l=a[1],u=Object(G.useRef)();u.current=s,Object(G.useEffect)((function(){u.current!==r[t]&&l(r[t])}),[r[t]]),Object(G.useEffect)((function(){return i.current=Me()((function(t){var n=t.newProps,r=t.newValue;n[e](r)}),r.debounceTime),function(){i.current.cancel()}}),[r.debounceTime]);var c=Te(Te({},r),{},(Ce(o={},t,s),Ce(o,e,(function(e){l(e),i.current&&(i.current.cancel(),i.current({newProps:r,newValue:e}))})),o));return U.a.createElement(n,c)}return r.propTypes={debounceTime:xe.a.number},r.defaultProps={debounceTime:300},r.displayName=n.displayName+"WithDebounceOnCallback",r}},Re=n("./MapStore2/web/client/components/misc/enhancers/infiniteScroll/withScrollSpy.js"),Fe=n.n(Re),Ne=n("./MapStore2/web/client/components/misc/FitIcon.jsx"),Ge=n.n(Ne);function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach((function(t){Be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ve=Fe()()(Oe.a),qe=J()("filterPlaceholder")(Ae("onFilter","filterText")(be.a)),We=(Be(De={},m.e.IMAGE,{glyph:"image",emptyMessageId:"mediaEditor.imageList.emptyList",filterPlaceholderMessageId:"mediaEditor.mediaPicker.imageFilter"}),Be(De,m.e.VIDEO,{glyph:"play",emptyMessageId:"mediaEditor.videoList.emptyList",filterPlaceholderMessageId:"mediaEditor.mediaPicker.videoFilter"}),Be(De,m.e.MAP,{glyph:"1-map",emptyMessageId:"mediaEditor.mapList.emptyList",filterPlaceholderMessageId:"mediaEditor.mediaPicker.mapFilter"}),De),He=Object(z.compose)(he,ye)((function(e){var t,n,r,o,i,a=e.resources,s=void 0===a?[]:a,l=e.services,u=void 0===l?[]:l,c=e.selectedItem,p=e.selectedSource,f=void 0===p?{}:p,d=e.selectedService,h=e.mediaType,g=e.selectItem,b=void 0===g?function(){}:g,v=e.setAddingMedia,_=void 0===v?function(){}:v,w=e.setEditingMedia,O=void 0===w?function(){}:w,j=e.editRemoteMap,S=void 0===j?function(){}:j,E=e.removeMedia,x=void 0===E?function(){}:E,P=e.params,M=e.totalCount,L=e.onLoad,T=e.loadingSelected,C=e.loading,I=e.buttons,D=void 0===I?[{glyph:"plus",tooltipId:"mediaEditor.mediaPicker.add",visible:!!(null==f||null===(t=f.addMediaEnabled)||void 0===t?void 0:t[h]),onClick:function(){return _(!0)}},{glyph:"pencil",tooltipId:"mediaEditor.mediaPicker.edit",visible:!(void 0!==(null==c||null===(n=c.data)||void 0===n?void 0:n.sourceId)&&(null==c||null===(r=c.data)||void 0===r?void 0:r.sourceId)!==d||!(null==f||null===(o=f.editMediaEnabled)||void 0===o?void 0:o[h])||Object(k.isNil)(c)),onClick:function(){f.type===y.a.GEOSTORY?O(!0):f.type===y.a.GEOSTORE&&S()}},{glyph:"trash",tooltipId:"mediaEditor.mediaPicker.trash",visible:!(!(null==f||null===(i=f.removeMediaEnabled)||void 0===i?void 0:i[h])||Object(k.isNil)(c)),onClick:x}]:I,A=(null==P?void 0:P.q)||"";function R(e){L(ze(ze({},P),e),h,d)}var F=We[h]||{},N=F.glyph,G=F.emptyMessageId,z=F.filterPlaceholderMessageId,B=0===s.length&&C;return U.a.createElement("div",{style:{position:"relative"},className:"ms-media-list"},D.filter((function(e){return!!Object(k.isNil)(e.visible)||e.visible})).length>0&&U.a.createElement("div",{className:"ms-media-toolbar",key:"toolbar"},U.a.createElement($.a,{btnDefaultProps:{bsStyle:"primary",className:"square-button-md"},buttons:D})),U.a.createElement(qe,{filterPlaceholder:z,filterText:A,onFilter:function(e){R({page:1,q:e})}}),s.length>0?U.a.createElement(Ve,{loading:C,scrollOptions:{pageSize:P.pageSize},items:s.map((function(e){var t=e.id,n=e.data,r=void 0===n?{}:n,o=null==u?void 0:u.find((function(e){return e.id===r.sourceId}));return{preview:r.thumbnail||h===m.e.IMAGE&&r.src?U.a.createElement("div",{style:{backgroundImage:'url("'.concat(r.thumbnail||r.src,'")'),backgroundSize:"cover",backgroundPosition:"center",height:"100%",overflow:"hidden"}}):U.a.createElement(Ge.a,{glyph:N,padding:20}),title:r.title||r.name,onClick:function(){return b(t)},selected:c&&c.id&&t===c.id,description:r.description,caption:o&&U.a.createElement(V.default,{msgId:o.name})}})),hasMore:function(){return M>s.length},onLoadMore:function(e){R({page:e+1})}}):!B&&U.a.createElement("div",{className:"msEmptyListMessage"},U.a.createElement(Se.a,{msgId:G})),U.a.createElement("div",{className:"ms-media-list-pagination"},U.a.createElement("div",null,s.length&&M?U.a.createElement(Se.a,{msgId:"mediaEditor.mediaList.resultsCount",msgParams:{count:s.length,total:M}}):null),C&&U.a.createElement(_e.a,{size:20})),(T||B)&&U.a.createElement("div",{className:"ms-media-list-loading"},U.a.createElement(_e.a,{size:70})))})),Ze=n("./node_modules/react-bootstrap/es/index.js"),Ye=n("./MapStore2/web/client/utils/LocaleUtils.js");function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){Je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qe=[{placeholder:"mediaEditor.mediaPicker.sourcePlaceholder",type:"text",id:"src",label:U.a.createElement(V.default,{msgId:"mediaEditor.mediaPicker.source"}),validation:function(e){var t=e.src;return void 0!==t&&""===t?"error":t?"success":void 0}},{placeholder:"mediaEditor.mediaPicker.titlePlaceholder",type:"text",id:"title",label:U.a.createElement(V.default,{msgId:"mediaEditor.mediaPicker.title"}),validation:function(e){var t=e.title;return void 0!==t&&""===t?"error":t?"success":void 0}},{placeholder:"mediaEditor.mediaPicker.altTextPlaceholder",type:"text",id:"alt",label:U.a.createElement(V.default,{msgId:"mediaEditor.mediaPicker.altText"})},{placeholder:"mediaEditor.mediaPicker.descriptionPlaceholder",type:"text",id:"description",label:U.a.createElement(V.default,{msgId:"mediaEditor.mediaPicker.description"})},{placeholder:"mediaEditor.mediaPicker.creditsPlaceholder",type:"text",id:"credits",label:U.a.createElement(V.default,{msgId:"mediaEditor.mediaPicker.credits"})}],$e=Object(z.compose)(Object(z.defaultProps)({confirmTitle:U.a.createElement(V.default,{msgId:"mediaEditor.mediaform.confirmExitTitle"}),confirmContent:U.a.createElement(V.default,{msgId:"mediaEditor.mediaform.confirmExitContent"}),getImageDimensionsFunc:function(e,t){var n=new Image;n.onload=function(){t({imgWidth:n.naturalWidth,imgHeight:n.naturalHeight})},n.onerror=function(){t({})},n.src=e}}),Object(z.withStateHandlers)((function(e){var t=e.selectedItem,n=void 0===t?{}:t;return{properties:e.editing?Xe({},n.data):{},confirmPredicate:!1}}),{setProperties:function(e){return function(t){return{properties:Xe(Xe({},e.properties),t),confirmPredicate:!0}}}}),Object(z.withHandlers)({onClick:function(e){var t=e.setAddingMedia,n=e.setEditingMedia,r=e.editing;return function(){r&&n(!1)||t(!1)}}}),B.a,Object(z.getContext)({messages:{}}))((function(e){var t=e.properties,n=void 0===t?{}:t,r=e.onClick,o=void 0===r?function(){}:r,i=e.setProperties,a=void 0===i?function(){}:i,s=e.onSave,l=void 0===s?function(){}:s,u=e.messages,c=e.getImageDimensionsFunc;return U.a.createElement(K.a,{className:"ms-imageForm",header:U.a.createElement("div",{className:"text-center",key:"toolbar",style:{borderBottom:"1px solid #ddd",padding:8}},U.a.createElement($.a,{btnGroupProps:{style:{marginBottom:8}},btnDefaultProps:{bsStyle:"primary",className:"square-button-md"},buttons:[{glyph:"arrow-left",tooltipId:"mediaEditor.mediaPicker.back",onClick:o},{glyph:"floppy-disk",tooltipId:"mediaEditor.mediaPicker.save",disabled:!n.src||!n.title,onClick:function(){c(n.src,(function(e){return l(Xe(Xe({},n),e))}))}}]}))},U.a.createElement(Ze.Form,{style:{padding:8}},Qe.map((function(e){return U.a.createElement(Ze.FormGroup,{key:e.id,validationState:e.validation&&e.validation(n)},U.a.createElement(Ze.ControlLabel,null,e.label),U.a.createElement(Ze.FormControl,{type:e.type,placeholder:Object(Ye.getMessageById)(u,e.placeholder),value:n[e.id]||"",onChange:function(t){a(Xe(Xe({},n),{},Je({},e.id,t.target.value)))}}))}))))})),et=n("./MapStore2/web/client/components/misc/toolbar/ToolbarButton.jsx"),tt=n.n(et),nt=n("./MapStore2/web/client/components/misc/Thumbnail.jsx");function rt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){at(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function at(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function st(){return(st=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var lt=Object(B.a)(tt.a),ut=function(e){return U.a.createElement(lt,st({confirmTitle:U.a.createElement(V.default,{msgId:"mediaEditor.mapForm.confirmMapSaveTitle"}),confirmContent:U.a.createElement(V.default,{msgId:"mediaEditor.mapForm.confirmMapSaveContent"})},e))},ct=[{placeholder:"mediaEditor.mediaPicker.titlePlaceholder",type:"text",id:"name",label:U.a.createElement(V.default,{msgId:"mediaEditor.mediaPicker.title"}),validation:function(e){var t=e.name;return void 0!==t&&""===t?"error":t?"success":void 0}},{placeholder:"mediaEditor.mediaPicker.descriptionPlaceholder",type:"text",id:"description",label:U.a.createElement(V.default,{msgId:"mediaEditor.mediaPicker.description"})}],pt=Object(z.compose)(Object(o.connect)((function(e,t){var n=(t||{}).selectedItem,r=(n=void 0===n?{}:n).id;return{isResourceUsed:n.type===m.e.MAP&&Object(me.l)(e,r)}}),{openMapEditor:d.e}),Object(z.defaultProps)({confirmTitle:U.a.createElement(V.default,{msgId:"mediaEditor.mediaform.confirmExitTitle"}),confirmContent:U.a.createElement(V.default,{msgId:"mediaEditor.mediaform.confirmExitContent"})}),Object(z.withState)("properties","setProperties",(function(e){var t=e.selectedItem,n=(t=void 0===t?{}:t).data;return{name:(n=void 0===n?{}:n).name,thumbnail:n.thumbnail,description:n.description}})),Object(z.withState)("initialResource",null,(function(e){var t=e.properties,n=e.selectedItem,r=(n=void 0===n?{}:n).data;return it(it({},void 0===r?{}:r),t)})),Object(z.withHandlers)({openMapEditor:function(e){var t=e.selectedItem,n=e.openMapEditor;return function(){var e=t.data,r=e.id,o=rt(e,["id"]);n("mediaEditor",{data:o,id:r})}},onSave:function(e){var t=e.onSave,n=e.selectedItem,r=(n=void 0===n?{}:n).data,o=void 0===r?{}:r,i=e.properties;return function(){return t(it(it({},o),i))}},updateThumb:function(e){var t=e.setProperties,n=e.properties;return function(e){return t(it(it({},n),{},{thumbnail:e}))}},onClick:function(e){var t=e.setAddingMedia,n=e.setEditingMedia,r=e.editing;return function(){r&&n(!1)||t(!1)}}}),Object(z.withPropsOnChange)(["selectedItem","initialResource","properties"],(function(e){var t=e.initialResource,n=e.selectedItem,r=(n=void 0===n?{}:n).data,o=void 0===r?{}:r,i=e.properties;return{confirmPredicate:!Object(k.isEqual)(t,it(it({},o),i))}})),B.a,Object(z.defaultProps)({errorMessages:{FORMAT:U.a.createElement(V.default,{msgId:"map.errorFormat"}),SIZE:U.a.createElement(V.default,{msgId:"map.errorCustomSize",msgParams:{maxFileSize:"50kb"}})}}),Object(z.withState)("thumbnailErrors","setErrors",(function(){return[]})),Object(z.getContext)({messages:{}}))((function(e){var t=e.properties,n=void 0===t?{}:t,r=e.setProperties,o=void 0===r?function(){}:r,i=e.onSave,a=void 0===i?function(){}:i,s=e.updateThumb,l=void 0===s?function(){}:s,u=e.messages,c=e.openMapEditor,p=e.setErrors,f=e.thumbnailErrors,d=void 0===f?[]:f,h=e.errorMessages,m=e.onClick,y=void 0===m?function(){}:m,g=e.confirmPredicate,b=e.isResourceUsed,v=void 0!==b&&b;return U.a.createElement(K.a,{className:"ms-mapForm",header:U.a.createElement("div",{className:"text-center",key:"toolbar",style:{borderBottom:"1px solid #ddd",padding:8}},U.a.createElement($.a,{btnGroupProps:{style:{marginBottom:8}},btnDefaultProps:{bsStyle:"primary",className:"square-button-md"},buttons:[{glyph:"arrow-left",tooltipId:"mediaEditor.mediaPicker.back",onClick:y},{renderButton:U.a.createElement(ut,{glyph:"floppy-disk",tooltipId:"mediaEditor.mediaPicker.save",disabled:!n.name||!g,onClick:a,bsStyle:"primary",className:"square-button-md",confirmPredicate:g&&v})},{glyph:"pencil",tooltipId:"mediaEditor.mediaPicker.edit",onClick:c}]}))},U.a.createElement(Ze.Form,{style:{padding:8}},U.a.createElement(nt.default,{thumbnail:n.thumbnail,thumbnailOptions:{width:300,height:180,type:"image/jpeg",quality:.5},message:U.a.createElement(V.default,{msgId:"mediaEditor.mediaPicker.thumbnail"}),onUpdate:function(e){l(e),p(void 0)},onRemove:function(){l(void 0),p(void 0)},onError:function(e){return p(e)}}),d&&d.length>0&&U.a.createElement(Ze.Alert,{bsStyle:"danger",className:"text-center"},U.a.createElement("div",null,U.a.createElement(V.default,{msgId:"map.error"})),d.map((function(e){return U.a.createElement("div",null," ",h[e])}))),ct.map((function(e){return U.a.createElement(Ze.FormGroup,{key:e.id,validationState:e.validation&&e.validation(n)},U.a.createElement(Ze.ControlLabel,null,e.label),U.a.createElement(Ze.FormControl,{type:e.type,placeholder:Object(Ye.getMessageById)(u,e.placeholder),value:n[e.id]||"",onChange:function(t){o(it(it({},n),{},at({},e.id,t.target.value)))}}))}))))})),ft=n("./MapStore2/web/client/utils/ThumbnailUtils.js");function dt(){return(dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(n),!0).forEach((function(t){yt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return bt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var vt=[{placeholder:"mediaEditor.mediaPicker.videoUrlPlaceholder",type:"text",id:"src",label:U.a.createElement(V.default,{msgId:"mediaEditor.mediaPicker.videoUrl"}),validation:function(e){var t=e.src;return void 0!==t&&""===t?"error":t?"success":void 0}},{placeholder:"mediaEditor.mediaPicker.titlePlaceholder",type:"text",id:"title",label:U.a.createElement(V.default,{msgId:"mediaEditor.mediaPicker.title"}),validation:function(e){var t=e.title;return void 0!==t&&""===t?"error":t?"success":void 0}},{placeholder:"mediaEditor.mediaPicker.descriptionPlaceholder",type:"text",id:"description",label:U.a.createElement(V.default,{msgId:"mediaEditor.mediaPicker.description"})},{placeholder:"mediaEditor.mediaPicker.creditsPlaceholder",type:"text",id:"credits",label:U.a.createElement(V.default,{msgId:"mediaEditor.mediaPicker.credits"})}],_t=function(e){var t=e.src,n=e.thumbnail,r=e.onUpdate,o=Object(G.useRef)();Object(G.useEffect)((function(){return o.current=!0,function(){o.current=!1}}),[]);var i=gt(Object(G.useState)(),2),a=i[0],s=i[1],l=gt(Object(G.useState)(),2),u=l[0],c=l[1],p=gt(Object(G.useState)(!n),2),f=p[0],d=p[1];return Object(G.useEffect)((function(){t&&f&&(s(void 0),c(!0),Object(ft.b)(t,{width:640,height:360,type:"image/jpeg",quality:.5}).then((function(e){o.current&&(r(e),d(!1),c(!1))})).catch((function(){o.current&&(d(!1),s(["CREATE"]),c(!1))})))}),[t,f]),U.a.createElement(U.a.Fragment,null,U.a.createElement(nt.default,{thumbnail:n,thumbnailOptions:{width:640,height:360,type:"image/jpeg",quality:.5},loading:u,message:U.a.createElement(V.default,{msgId:"mediaEditor.mediaPicker.thumbnail"}),onUpdate:function(e){r(e),s(void 0)},onError:function(e){return s(e)},toolbarButtons:[{glyph:"refresh",tooltipId:"mediaEditor.mediaPicker.createVideoThumbnail",visible:!n,onClick:function(e){e.stopPropagation(),d(!0)}},{glyph:"trash",tooltipId:"removeThumbnail",visible:!!n,onClick:function(e){e.stopPropagation(),r(void 0),s(void 0)}}]}),a&&a.length>0&&U.a.createElement(Ze.Alert,{bsStyle:"danger",className:"text-center"},-1===a.indexOf("CREATE")&&U.a.createElement("div",null,U.a.createElement(V.default,{msgId:"map.error"})),-1!==a.indexOf("FORMAT")&&U.a.createElement("div",null,U.a.createElement(V.default,{msgId:"map.errorFormat"})),-1!==a.indexOf("SIZE")&&U.a.createElement("div",null,U.a.createElement(V.default,{msgId:"map.errorSize"})),-1!==a.indexOf("CREATE")&&U.a.createElement("div",null,U.a.createElement(V.default,{msgId:"mediaEditor.mediaPicker.thumbnailCreateError"}))))},wt=function(e,t){var n=e.properties,r=e.setProperties,o=void 0===r?function(){}:r,i=e.onSave,a=void 0===i?function(){}:i,s=e.onClick,l=void 0===s?function(){}:s,u=(t||{}).messages,c=void 0===u?{}:u,p=n.src,f=n.thumbnail;return U.a.createElement(K.a,{className:"ms-video-form",header:U.a.createElement("div",{className:"text-center",key:"toolbar",style:{borderBottom:"1px solid #ddd",padding:8}},U.a.createElement($.a,{btnGroupProps:{style:{marginBottom:8}},btnDefaultProps:{bsStyle:"primary",className:"square-button-md"},buttons:[{glyph:"arrow-left",tooltipId:"mediaEditor.mediaPicker.back",onClick:l},{glyph:"floppy-disk",tooltipId:"mediaEditor.mediaPicker.save",disabled:!n.src||!n.title,onClick:function(){return a(n)}}]}))},U.a.createElement(Ze.Form,{style:{padding:8}},U.a.createElement(_t,{src:p,thumbnail:f,onUpdate:function(e){return o(mt(mt({},n),{},{thumbnail:e}))}}),vt.map((function(e){return U.a.createElement(Ze.FormGroup,{key:e.id,validationState:e.validation&&e.validation(n)},U.a.createElement(Ze.ControlLabel,null,e.label),U.a.createElement(Ze.FormControl,{type:e.type,placeholder:Object(Ye.getMessageById)(c,e.placeholder),value:n[e.id]||"",onChange:function(t){o(mt(mt({},n),{},yt({},e.id,t.target.value)))}}))}))))};wt.contextTypes={messages:xe.a.object};var Ot,jt=Object(B.a)(wt);function St(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Et=(St(Ot={},m.e.IMAGE,$e),St(Ot,m.e.MAP,pt),St(Ot,m.e.VIDEO,(function(e){var t=gt(Object(G.useState)(!1),2),n=t[0],r=t[1],o=gt(Object(G.useState)((null==e?void 0:e.editing)?mt({},null==e?void 0:e.selectedItem.data):{}),2),i=o[0],a=o[1];return U.a.createElement(jt,dt({},e,{confirmTitle:U.a.createElement(V.default,{msgId:"mediaEditor.mediaform.confirmExitTitle"}),confirmContent:U.a.createElement(V.default,{msgId:"mediaEditor.mediaform.confirmExitContent"}),confirmPredicate:n,properties:i,setProperties:function(e){a(e),r(!0)},onClick:function(){return(null==e?void 0:e.editing)&&(null==e?void 0:e.setEditingMedia(!1))||(null==e?void 0:e.setAddingMedia(!1))}}))})),Ot),xt=Object(z.compose)(Object(z.withHandlers)({onSave:function(e){var t=e.mediaType,n=e.source,r=e.saveMedia,o=void 0===r?function(){}:r;return function(e){return o({type:t,source:n,data:e})}}}),Object(z.branch)((function(e){return e.addingMedia}),Object(z.renderComponent)((function(e){var t=Et[e.mediaType||m.e.IMAGE];return U.a.createElement(t,e)}))))(He);function Pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lt=Object(o.connect)(Object(i.createSelector)([h.d,h.n,h.p,h.o,h.e,h.f,h.g,h.i,h.h,h.l,h.b],(function(e,t,n,r,o,i,a,s,l,u,c){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(n),!0).forEach((function(t){Mt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({resources:e,selectedItem:t,selectedService:n,selectedSource:r,editing:o,services:c,params:i,totalCount:a,loadingSelected:s,loading:l},u)})),{selectItem:s.C,setAddingMedia:s.D,setEditingMedia:s.E,saveMedia:s.A,onLoad:s.v,setMediaService:s.F})(xt),Tt=Object(o.connect)(Object(i.createStructuredSelector)({selectedItem:h.n,selectedService:h.p,services:h.b,editing:h.e,saveState:h.l}),{setMediaService:s.F,setMediaType:s.G})((function(e){var t=e.mediaType,n=void 0===t?"image":t,r=e.saveState,o=e.selectedItem,i=e.selectedService,a=e.services,s=void 0===a?[{name:"Currently used",id:"geostory"},{name:"Geostore",id:"geostore"}]:a,l=e.setMediaType,u=void 0===l?function(){}:l,c=e.setMediaService,p=void 0===c?function(){}:c,f=e.mediaSelector;return U.a.createElement(K.a,{className:"ms-mediaEditor",header:U.a.createElement("div",{className:"ms-border-layout-header",style:{padding:4,zIndex:2}},U.a.createElement($.a,{btnDefaultProps:{bsSize:"sm"},buttons:[{text:U.a.createElement(V.default,{msgId:"mediaEditor.images"}),active:"image"===n,bsStyle:"image"===n?"primary":"default",onClick:function(){u("image")},disabled:r&&r.addingMedia},{text:U.a.createElement(V.default,{msgId:"mediaEditor.videos"}),active:"video"===n,bsStyle:"video"===n?"primary":"default",onClick:function(){u("video")},disabled:r&&r.addingMedia},{text:U.a.createElement(V.default,{msgId:"mediaEditor.maps"}),active:"map"===n,bsStyle:"map"===n?"primary":"default",onClick:function(){u("map")},disabled:r&&r.addingMedia}]}),U.a.createElement("div",{className:"ms-mediaEditor-services"},U.a.createElement("div",{className:"ms-mediaEditor-label"},U.a.createElement("strong",null,U.a.createElement(V.default,{msgId:"mediaEditor.mediaPicker.services"}))),U.a.createElement(de,{disabled:r&&r.addingMedia,noResultsText:"mediaEditor.mediaPicker.noResults",placeholder:"mediaEditor.mediaPicker.selectService",options:s.map((function(e){return{label:U.a.createElement(V.default,{msgId:e.name}),value:e.id}})),onChange:p,value:i,clearable:!1}))),columns:[U.a.createElement("div",{key:"selector",className:"ms-mediaSelector"},f)]},U.a.createElement(fe,{selectedItem:o,mediaType:n}))})),Ct=q((function(e){var t=e.open,n=e.mediaType,r=e.chooseMedia,o=e.selectedItem,i=e.editing,a=e.adding,s=e.hide,l=void 0===s?function(){}:s,u=e.disableAddMedia,c=e.disableEditMedia;return U.a.createElement(H.default,null,U.a.createElement(W.default,{title:U.a.createElement(V.default,{msgId:"mediaEditor.modalTitle"}),show:t,clickOutEnabled:!1,onClose:l,size:"lg",modalClassName:"media-editor-modal",buttons:[{text:U.a.createElement(V.default,{msgId:"mediaEditor.apply"}),bsSize:"sm",disabled:a||i,onClick:function(){return r(o)}}]},U.a.createElement(Tt,{mediaType:n,mediaSelector:U.a.createElement(Lt,{mediaType:n,disableAddMedia:u,disableEditMedia:c})})))}));t.default=Object(a.createPlugin)("MediaEditor",{component:Object(o.connect)(Object(i.createStructuredSelector)({mediaType:h.c,editing:h.e,adding:h.a,open:h.j,selectedItem:h.n}),{hide:s.t,chooseMedia:s.r})(Ct),reducers:{mediaEditor:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case s.a:return Object(D.compose)(Object(D.set)("saveState.addingMedia",n.adding),Object(D.set)("selected",""))(t);case s.c:return Object(D.compose)(Object(D.set)("saveState.addingMedia",n.editing),Object(D.set)("saveState.editing",n.editing))(t);case s.e:return Object(D.compose)(Object(D.set)("open",!1),Object(D.set)("owner",void 0),Object(D.set)("saveState.addingMedia",!1),Object(D.set)("saveState.editing",!1),Object(D.set)("settings",R(R({},t.stashedSettings||N.settings),(null===(e=t.settings)||void 0===e?void 0:e.mediaType)&&{mediaType:t.settings.mediaType})),Object(D.set)("stashedSettings",void 0),Object(D.unset)("selected"))(t);case s.j:var r=n.resultData,o=n.params,i=n.mediaType,a=n.sourceId;return Object(D.compose)(Object(D.set)('data["'.concat(i,'"]["').concat(a,'"]'),{params:o,resultData:r}),Object(D.set)("loadingList",!1))(t);case s.q:var l=n.item,u=n.mode,c=Object(h.p)({mediaEditor:t}),p=Object(h.c)({mediaEditor:t}),f=Object(h.k)({mediaEditor:t}).resources,d=Object(k.findIndex)(f,{id:l.id}),m=Object(k.find)(f,{id:l.id}),y="merge"===u?Object(k.merge)({},Object(k.merge)({},m),Object(k.merge)({},l)):l;return Object(D.set)('data["'.concat(p,'"]["').concat(c,'"].resultData.resources[').concat(d,"]"),y,t);case s.m:return n.id===t.selected?Object(D.set)("selected","",t):Object(D.set)("selected",n.id,t);case s.o:var g=Object(k.get)(t,"settings.mediaTypes[".concat(n.mediaType,"].defaultSource"),"geostory");return Object(D.compose)(Object(D.set)("settings.sourceId",g),Object(D.set)("settings.mediaType",n.mediaType))(t);case s.n:return Object(D.set)("settings.sourceId",n.id,t);case s.p:var b=n.settings&&R(R({},n.settings),t.settings.mediaType&&{mediaType:t.settings.mediaType});return Object(D.compose)(Object(D.set)("open",!0),Object(D.set)("owner",n.owner),Object(D.set)("settings",b||t.settings),Object(D.set)("stashedSettings",t.settings))(t);case I.b:return R(R({},N),{},{settings:R(R({},t.settings),{},{mediaType:N.settings.mediaType})});case s.h:return Object(D.set)("loadingSelected",n.loading,t);case s.g:return Object(D.set)("loadingList",!0,t);default:return t}}},epics:r})},"./MapStore2/web/client/product/assets/symbols/symbolMissing.svg":function(e,t,n){e.exports=n.p+"symbolMissing.svg"},"./MapStore2/web/client/selectors/context.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return y}));var r=n("./node_modules/reselect/es/index.js"),o=n("./MapStore2/web/client/selectors/localConfig.js"),i=n("./MapStore2/node_modules/lodash/lodash.js"),a=n("./MapStore2/web/client/utils/ConfigUtils.js"),s=n("./MapStore2/web/client/utils/PluginsUtils.js");function l(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=function(e){return e.context&&e.context.currentContext},p=function(e){return e.context&&e.context.resource},f=Object(r.createSelector)((function(){return Object(i.get)(a.default.getConfigProp("plugins"),"desktop")}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{desktop:[].concat(l(e),["Context"])}})),d=function(e){return f(e)},h=Object(r.createSelector)((function(e){return Object(i.get)(c(e),"plugins")}),(function(e){return Object(i.get)(c(e),"userPlugins")}),(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e&&{desktop:[].concat(l(Object(i.get)(e,"desktop",[])),l(t.filter((function(e){return e.active}))))}})),m=(Object(r.createSelector)(c,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.templates})),function(e){return function(e){return Object(i.get)(e,"context.loading")}(e)?d(e):h(e)||f(e)}),y=function(e){return Object(r.createSelector)(c,m,(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!t||Object(i.findIndex)(Object(i.get)(n,"desktop",[]),(function(t){return t.name===e}))>-1}))};Object(r.createSelector)((function(e){return Object(s.getMonitoredState)(e,Object(o.b)(e))}),(function(e){return JSON.stringify(e)}))},"./MapStore2/web/client/selectors/localConfig.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s}));var r=n("./MapStore2/node_modules/lodash/lodash.js"),o=function(e){return e.localConfig},i=function(e){return(o(e)||{}).monitorState},a=function(e){return function(t){return Object(r.get)(function(e){return Object(r.get)(o(e),"plugins")}(t),e)}},s=function(e){return Object(r.get)(o(e),"defaultMapOptions.floatingIdentifyDelay",500)}},"./MapStore2/web/client/selectors/locale.js":function(e,t,n){"use strict";n.r(t),n.d(t,"currentLocaleSelector",(function(){return i})),n.d(t,"currentMessagesSelector",(function(){return a})),n.d(t,"currentLocaleLanguageSelector",(function(){return s}));var r=n("./node_modules/reselect/es/index.js"),o=n("./MapStore2/node_modules/lodash/lodash.js"),i=function(e){return e.locale&&e.locale.current||"en-US"},a=function(e){return e.locale&&e.locale.messages||{}},s=Object(r.createSelector)([i],(function(e){return Object(o.head)(e.split("-"))}))},"./MapStore2/web/client/selectors/map.js":function(e,t,n){"use strict";n.r(t),n.d(t,"mapSelector",(function(){return a})),n.d(t,"projectionSelector",(function(){return s})),n.d(t,"stateMapIdSelector",(function(){return l})),n.d(t,"mapIdSelector",(function(){return u})),n.d(t,"mapInfoSelector",(function(){return c})),n.d(t,"mapInfoLoadingSelector",(function(){return p})),n.d(t,"mapSaveErrorsSelector",(function(){return f})),n.d(t,"mapInfoDetailsUriFromIdSelector",(function(){return d})),n.d(t,"mapInfoDetailsSettingsFromIdSelector",(function(){return h})),n.d(t,"mapIsEditableSelector",(function(){return m})),n.d(t,"projectionDefsSelector",(function(){return y})),n.d(t,"mapConstraintsSelector",(function(){return g})),n.d(t,"configuredRestrictedExtentSelector",(function(){return b})),n.d(t,"configuredExtentCrsSelector",(function(){return v})),n.d(t,"configuredMinZoomSelector",(function(){return _})),n.d(t,"mapLimitsSelector",(function(){return w})),n.d(t,"minZoomSelector",(function(){return O})),n.d(t,"resolutionsSelector",(function(){return j})),n.d(t,"scalesSelector",(function(){return S})),n.d(t,"mapVersionSelector",(function(){return E})),n.d(t,"mapNameSelector",(function(){return x})),n.d(t,"mouseMoveListenerSelector",(function(){return P})),n.d(t,"isMouseMoveActiveSelector",(function(){return M})),n.d(t,"isMouseMoveCoordinatesActiveSelector",(function(){return L})),n.d(t,"isMouseMoveIdentifyActiveSelector",(function(){return T}));var r=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),o=n("./node_modules/reselect/es/index.js"),i=n("./MapStore2/node_modules/lodash/lodash.js"),a=function(e){return e.map&&e.map.present||e.map||e.config&&e.config.map||null},s=Object(o.createSelector)([a],(function(e){return e&&e.projection})),l=function(e){return Object(i.get)(a(e),"mapId")&&parseInt(Object(i.get)(a(e),"mapId"),10)||null},u=function(e){return Object(i.get)(e,"mapInitialConfig.mapId")&&parseInt(Object(i.get)(e,"mapInitialConfig.mapId"),10)||l(e)},c=function(e){return Object(i.get)(a(e),"info")},p=function(e){return Object(i.get)(a(e),"loadingInfo",!1)},f=function(e){return Object(i.get)(a(e),"mapSaveErrors")},d=function(e){return Object(i.get)(c(e),"details")},h=function(e){return Object(i.get)(c(e),"detailsSettings")},m=function(e){var t=Object(i.get)(c(e),"canEdit");return void 0===t?Object(i.get)(e,"context.resource.canEdit"):t},y=function(e){return e.localConfig&&e.localConfig.projectionDefs||[]},g=function(e){return e.localConfig&&e.localConfig.mapConstraints||{}},b=function(e){return g(e).restrictedExtent},v=function(e){return g(e).crs},_=function(e){var t=g(e),n=s(e);return n&&Object(i.get)(t,'projectionsConstraints["'.concat(n,'"].minZoom'))||Object(i.get)(t,"minZoom")},w=function(e){return Object(i.get)(a(e),"limits")},O=function(e){return Object(i.get)(w(e),"minZoom")},j=function(e){return Object(i.get)(a(e),"resolutions")},S=Object(o.createSelector)([j,s],(function(e,t){if(e&&t){var n=r.default.getUnits(t);return e.map((function(e){return e*(100/2.54*96)*("degrees"===n?111194.87428468118:1)}))}return[]})),E=function(e){return e.map&&e.map.present&&e.map.present.version||1},x=function(e){return e.map&&e.map.present&&e.map.present.info&&e.map.present.info.name||""},P=function(e){return Object(i.get)(a(e),"eventListeners.mousemove",[])},M=function(e){return!!P(e).length},L=function(e){return P(e).includes("mouseposition")},T=function(e){return P(e).includes("identifyFloatingTool")}},"./MapStore2/web/client/selectors/mapInfo.js":function(e,t,n){"use strict";n.r(t),n.d(t,"isMapPopup",(function(){return h})),n.d(t,"mapInfoRequestsSelector",(function(){return m})),n.d(t,"isMapInfoOpen",(function(){return y})),n.d(t,"generalInfoFormatSelector",(function(){return g})),n.d(t,"showEmptyMessageGFISelector",(function(){return b})),n.d(t,"mapInfoConfigurationSelector",(function(){return v})),n.d(t,"measureActiveSelector",(function(){return _})),n.d(t,"clickPointSelector",(function(){return w})),n.d(t,"clickLayerSelector",(function(){return O})),n.d(t,"showMarkerSelector",(function(){return j})),n.d(t,"itemIdSelector",(function(){return S})),n.d(t,"overrideParamsSelector",(function(){return E})),n.d(t,"filterNameListSelector",(function(){return x})),n.d(t,"drawSupportActiveSelector",(function(){return P})),n.d(t,"annotationsEditingSelector",(function(){return M})),n.d(t,"mapInfoDisabledSelector",(function(){return L})),n.d(t,"stopGetFeatureInfoSelector",(function(){return T})),n.d(t,"identifyOptionsSelector",(function(){return C})),n.d(t,"isHighlightEnabledSelector",(function(){return k})),n.d(t,"indexSelector",(function(){return I})),n.d(t,"responsesSelector",(function(){return D})),n.d(t,"requestsSelector",(function(){return A})),n.d(t,"isLoadedResponseSelector",(function(){return R})),n.d(t,"validResponsesSelector",(function(){return F})),n.d(t,"currentResponseSelector",(function(){return N})),n.d(t,"currentFeatureSelector",(function(){return G})),n.d(t,"currentFeatureCrsSelector",(function(){return U})),n.d(t,"getStyleForFeature",(function(){return z})),n.d(t,"applyMapInfoStyle",(function(){return B})),n.d(t,"highlightStyleSelector",(function(){return V})),n.d(t,"clickedPointWithFeaturesSelector",(function(){return q})),n.d(t,"currentEditFeatureQuerySelector",(function(){return W})),n.d(t,"mapTriggerSelector",(function(){return H}));var r=n("./MapStore2/node_modules/lodash/lodash.js"),o=n("./node_modules/reselect/es/index.js"),i=n("./MapStore2/web/client/selectors/map.js"),a=n("./MapStore2/web/client/selectors/context.js"),s=n("./MapStore2/web/client/selectors/locale.js"),l=n("./MapStore2/web/client/utils/MapInfoUtils.js"),u=n("./MapStore2/web/client/selectors/maptype.js"),c=n("./MapStore2/web/client/selectors/localConfig.js");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=Object(o.createSelector)((function(e){return Object(c.c)("desktop")(e)||{}}),u.isCesium,(function(e,t){return!t&&!!((Object.values(e).filter((function(e){return"Identify"===e.name})).pop()||{}).cfg||{}).showInMapPopup})),m=function(e){return Object(r.get)(e,"mapInfo.requests")||[]},y=Object(o.createSelector)(m,Object(a.b)("Identify"),h,(function(e,t,n){return!n&&!!e&&e.length>0&&t})),g=function(e){return Object(r.get)(e,"mapInfo.configuration.infoFormat","text/plain")},b=function(e){return Object(r.get)(e,"mapInfo.configuration.showEmptyMessageGFI",!0)},v=function(e){return Object(r.get)(e,"mapInfo.configuration",{})},_=function(e){return Object(r.get)(e,"controls.measure.enabled")&&(Object(r.get)(e,"measurement.lineMeasureEnabled")||Object(r.get)(e,"measurement.areaMeasureEnabled")||Object(r.get)(e,"measurement.bearingMeasureEnabled"))},w=function(e){return e&&e.mapInfo&&e.mapInfo.clickPoint},O=function(e){return e&&e.mapInfo&&e.mapInfo.clickLayer},j=function(e){return e&&e.mapInfo&&e.mapInfo.showMarker},S=function(e){return Object(r.get)(e,"mapInfo.itemId",null)},E=function(e){return Object(r.get)(e,"mapInfo.overrideParams",{})},x=function(e){return Object(r.get)(e,"mapInfo.filterNameList",[])},P=function(e){var t=Object(r.get)(e,"draw.drawStatus",!1);return t&&"clean"!==t&&"stop"!==t},M=function(e){return Object(r.get)(e,"annotations.editing")},L=function(e){return!Object(r.get)(e,"mapInfo.enabled",!1)},T=Object(o.createSelector)(L,_,P,M,Object(a.b)("Identify"),(function(e,t,n,r,o){return e||!!t||n||!!r||!o})),C=Object(o.createStructuredSelector)({format:g,map:i.mapSelector,point:w,currentLocale:s.currentLocaleSelector,maxItems:function(e){return Object(r.get)(e,"mapInfo.configuration.maxItems")}}),k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.mapInfo&&e.mapInfo.highlight},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e&&e.mapInfo&&e.mapInfo.index},D=function(e){return e.mapInfo&&e.mapInfo.responses||[]},A=function(e){var t;return(null==e||null===(t=e.mapInfo)||void 0===t?void 0:t.requests)||[]},R=function(e){var t;return null==e||null===(t=e.mapInfo)||void 0===t?void 0:t.loaded},F=Object(o.createSelector)(A,D,g,i.isMouseMoveIdentifyActiveSelector,(function(e,t,n,r){var o=Object(l.getValidator)(n);return e.length===t.length&&o.getValidResponses(t,r)})),N=Object(o.createSelector)(F,I,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]})),G=function(e){var t=N(e)||{};return Object(r.get)(t,"layerMetadata.features")},U=function(e){var t=N(e)||{};return Object(r.get)(t,"layerMetadata.featuresCrs")},z=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.style||t.geometry&&("Point"===t.geometry.type||"MultiPoint"===t.geometry.type)?e:Object(r.omit)(e,"radius")}},B=function(e){return function(t){return f(f({},t),{},{style:z(e)(t)})}},V=function(e){return Object(r.get)(e,"mapInfo.highlightStyle",{color:"#3388ff",weight:4,radius:4,dashArray:"",fillColor:"#3388ff",fillOpacity:.2})},q=Object(o.createSelector)(w,k,G,U,j,V,(function(e,t,n,o,i,a){return i&&e?t?f(f({},e),{},{featuresCrs:o,features:n&&Object(r.isArray)(n)&&n.map(B(a))}):e:void 0})),W=function(e){var t;return null===(t=e.mapInfo)||void 0===t?void 0:t.currentEditFeatureQuery},H=function(e){var t,n;return void 0===(null===(t=e.mapInfo)||void 0===t||null===(n=t.configuration)||void 0===n?void 0:n.trigger)?"click":e.mapInfo.configuration.trigger}},"./MapStore2/web/client/selectors/maptype.js":function(e,t,n){"use strict";n.r(t),n.d(t,"mapTypeSelector",(function(){return r})),n.d(t,"isCesium",(function(){return o})),n.d(t,"isLeaflet",(function(){return i})),n.d(t,"isOpenlayers",(function(){return a}));var r=function(e){return e&&e.maptype&&e.maptype.mapType||"leaflet"},o=function(e){return"cesium"===r(e)},i=function(e){return"leaflet"===r(e)},a=function(e){return"openlayers"===r(e)}},"./MapStore2/web/client/utils/AnnotationsUtils.js":function(e,t,n){"use strict";n.r(t),n.d(t,"STYLE_CIRCLE",(function(){return w})),n.d(t,"STYLE_POINT_MARKER",(function(){return O})),n.d(t,"STYLE_POINT_SYMBOL",(function(){return j})),n.d(t,"STYLE_TEXT",(function(){return S})),n.d(t,"STYLE_LINE",(function(){return E})),n.d(t,"STYLE_POLYGON",(function(){return x})),n.d(t,"DEFAULT_ANNOTATIONS_STYLES",(function(){return P})),n.d(t,"ANNOTATION_TYPE",(function(){return M})),n.d(t,"getStartEndPointsForLinestring",(function(){return L})),n.d(t,"rgbaTorgb",(function(){return T})),n.d(t,"textAlignTolabelAlign",(function(){return C})),n.d(t,"getStylesObject",(function(){return k})),n.d(t,"getProperties",(function(){return I})),n.d(t,"getDashArrayFromStyle",(function(){return D})),n.d(t,"hasOutline",(function(){return A})),n.d(t,"annStyleToOlStyle",(function(){return R})),n.d(t,"convertGeoJSONToInternalModel",(function(){return F})),n.d(t,"getAvailableStyler",(function(){return N})),n.d(t,"getRelativeStyler",(function(){return G})),n.d(t,"createFont",(function(){return U})),n.d(t,"getGeometryType",(function(){return z})),n.d(t,"getGeometryGlyphInfo",(function(){return B})),n.d(t,"normalizeAnnotation",(function(){return V})),n.d(t,"removeDuplicate",(function(){return q})),n.d(t,"circlesToMultiPolygon",(function(){return W})),n.d(t,"fromCircleToPolygon",(function(){return H})),n.d(t,"fromTextToPoint",(function(){return Z})),n.d(t,"fromLineStringToGeodesicLineString",(function(){return Y})),n.d(t,"textToPoint",(function(){return K})),n.d(t,"flattenGeometryCollection",(function(){return X})),n.d(t,"createGeometryFromGeomFunction",(function(){return J})),n.d(t,"fromAnnotationToGeoJson",(function(){return Q})),n.d(t,"annotationsToPrint",(function(){return $})),n.d(t,"formatCoordinates",(function(){return ee})),n.d(t,"getBaseCoord",(function(){return te})),n.d(t,"getComponents",(function(){return ne})),n.d(t,"addIds",(function(){return re})),n.d(t,"COMPONENTS_VALIDATION",(function(){return oe})),n.d(t,"validateCoords",(function(){return ie})),n.d(t,"validateCoordsArray",(function(){return ae})),n.d(t,"validateCoord",(function(){return se})),n.d(t,"coordToArray",(function(){return le})),n.d(t,"validateCoordinates",(function(){return ue})),n.d(t,"validateCircle",(function(){return ce})),n.d(t,"validateText",(function(){return pe})),n.d(t,"validateFeature",(function(){return fe})),n.d(t,"updateAllStyles",(function(){return de})),n.d(t,"DEFAULT_SHAPE",(function(){return he})),n.d(t,"DEFAULT_PATH",(function(){return me})),n.d(t,"checkSymbolsError",(function(){return ye})),n.d(t,"isAMissingSymbol",(function(){return ge})),n.d(t,"isCompletePolygon",(function(){return be})),n.d(t,"isAnnotation",(function(){return ve}));var r=n("./node_modules/uuid/v1.js"),o=n.n(r),i=n("./MapStore2/web/client/utils/LocaleUtils.js"),a=n("./MapStore2/web/client/utils/MarkerUtils.js"),s=n("./MapStore2/web/client/utils/VectorStyleUtils.js"),l=n("./MapStore2/web/client/utils/ImmutableUtils.js"),u=n("./MapStore2/node_modules/lodash/lodash.js"),c=n("./node_modules/uuid/index.js"),p=n.n(c),f=n("./node_modules/@turf/center/main.es.js"),d=n("./node_modules/object-assign/index.js"),h=n.n(d);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _={},w={color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2},O={iconGlyph:"comment",iconShape:"square",iconColor:"blue"},j={iconAnchor:[.5,.5],anchorXUnits:"fraction",anchorYUnits:"fraction",color:"#000000",fillColor:"#000000",opacity:1,size:64,fillOpacity:1},S={fontStyle:"normal",fontSize:"14",fontSizeUom:"px",fontFamily:"Arial",fontWeight:"normal",font:"14px Arial",textAlign:"center",color:"#000000",opacity:1,fillColor:"#000000",fillOpacity:1},E={color:"#ffcc33",opacity:1,weight:3,editing:{fill:1}},x={color:"#ffcc33",opacity:1,weight:3,fillColor:"#ffffff",fillOpacity:.2,editing:{fill:1}},P={Text:S,Point:O,Circle:w,MultiPoint:O,LineString:E,MultiLineString:E,Polygon:x,MultiPolygon:x},M="ms2-annotations",L=function(){return[b(b({},P.Point),{},{highlight:!0,iconAnchor:[.5,.5],type:"Point",title:"StartPoint Style",geometry:"startPoint",filtering:!1,id:o()()}),b(b({},P.Point),{},{highlight:!0,iconAnchor:[.5,.5],type:"Point",title:"EndPoint Style",geometry:"endPoint",filtering:!1,id:o()()})]},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return-1!==e.indexOf("rgba")?"rgb".concat(e.slice(e.indexOf("("),e.lastIndexOf(",")),")"):e},C=function(e){return("start"===e?"lm":"end"===e&&"rm")||"cm"},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,n=void 0===t?"Point":t,r=e.features,o=void 0===r?[]:r;return"FeatureCollection"===n?o.reduce((function(e,t){return e[t.geometry.type]=P[t.geometry.type],e}),{type:"FeatureCollection"}):b({},P[n])},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return b({title:"annotations.defaulttitle"!==Object(i.getMessageById)(t,"annotations.defaulttitle")?Object(i.getMessageById)(t,"annotations.defaulttitle"):"Default title",id:o()()},e)},D=function(e){return Object(u.isString)(e)&&e||Object(u.isArray)(e)&&e.join(" ")},A=function(e){return e.color&&e.opacity&&e.weight},R=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=t&&t[e]?t[e]:t,o=r,i=o.dashArray?D(o.dashArray):"solid";switch(e){case"MultiPolygon":case"Polygon":case"Circle":return{strokeColor:T(o.color),strokeOpacity:o.opacity,strokeWidth:o.weight,fillColor:T(o.fillColor),fillOpacity:o.fillOpacity,strokeDashstyle:i};case"LineString":case"MultiLineString":return{strokeColor:T(o.color),strokeOpacity:o.opacity,strokeWidth:o.weight,strokeDashstyle:i};case"Text":var l=A(o)?{labelOutlineColor:T(o.color),labelOutlineOpacity:o.opacity,labelOutlineWidth:o.weight}:{};return b({fontStyle:o.fontStyle,fontSize:o.fontSize,fontFamily:o.fontFamily,fontWeight:o.fontWeight,labelAlign:C(o.textAlign),fontColor:T(o.fillColor),fontOpacity:o.fillOpacity,label:n,stroke:!0,strokeColor:T(o.color),strokeOpacity:o.opacity,strokeWidth:o.weight,strokeDashstyle:i},l);case"Point":case"MultiPoint":var c=o.symbolUrl&&Object(s.fetchStyle)(Object(s.hashAndStringify)(o),"base64")||a.a.extraMarkers.markerToDataUrl(o),p=-18,f=-46;return o.iconAnchor&&Object(u.isArray)(o.iconAnchor)&&o.size&&(p="pixels"===o.anchorXUnits?-1*o.iconAnchor[0]:-1*o.size*o.iconAnchor[0],f="pixels"===o.anchorYUnits?-1*o.iconAnchor[1]:-1*o.size*o.iconAnchor[1]),c?{graphicWidth:o.size||36,graphicHeight:o.size||46,externalGraphic:c,graphicXOffset:p,graphicYOffset:f,display:!1===o.filtering&&"none"}:{fillColor:"#0000AE",fillOpacity:.5,strokeColor:"#0000FF",pointRadius:10,strokeOpacity:1,strokeWidth:1,display:!1===o.filtering&&"none"};default:return{fillColor:"#FF0000",fillOpacity:0,strokeColor:"#FF0000",pointRadius:5,strokeOpacity:1,strokeDashstyle:i,strokeWidth:1}}},F=function(e){var t=e.type,n=void 0===t?"Point":t,r=e.geometries,o=void 0===r?[]:r,i=e.features,a=void 0===i?[]:i,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];switch(n){case"Point":case"MultiPoint":return{type:1===s.length?"Text":n};case"Polygon":return{type:1===l.length?"Circle":n};case"GeometryCollection":var u=o.filter((function(e){return"Point"===e.type||"MultiPoint"===e.type})),c=o.filter((function(e){return"Polygon"===e.type})),p=0,f=0;return{type:"GeometryCollection",geometries:o.map((function(e){if("Point"===e.type||"MultiPoint"===e.type){if(u.length===s.length)return{type:"Text"};if(0===s.length)return{type:e.type};if(0===p)return p++,{type:"Text"}}if("Polygon"===e.type){if(c.length===l.length)return{type:"Circle"};if(0===l.length)return{type:e.type};if(0===f)return f++,{type:"Circle"}}return{type:e.type}}))};case"FeatureCollection":var d=a.map((function(e){return e.properties&&e.properties.isCircle?{type:"Circle"}:e.properties&&e.properties.isText?{type:"Text"}:{type:e.geometry.type}}));return{type:"FeatureCollection",features:d};default:return{type:n}}},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,n=void 0===t?"Point":t,r=e.geometries,o=void 0===r?[]:r,i=e.features,a=void 0===i?[]:i;switch(n){case"Point":case"MultiPoint":case"Symbol":return[_.getRelativeStyler(n)];case"LineString":case"MultiLineString":return[_.getRelativeStyler(n)];case"Polygon":case"MultiPolygon":case"Text":case"Circle":return[_.getRelativeStyler(n)];case"GeometryCollection":return o.reduce((function(e,t){return-1!==e.indexOf(_.getRelativeStyler(t.type))?e:e.concat(_.getAvailableStyler(t))}),[]);case"FeatureCollection":return a.reduce((function(e,t){return-1!==e.indexOf(_.getRelativeStyler(t.type))?e:e.concat(_.getAvailableStyler(t))}),[]);default:return[]}},G=function(e){switch(e){case"Point":case"MultiPoint":return"marker";case"Symbol":return"symbol";case"Circle":return"circle";case"LineString":case"MultiLineString":return"lineString";case"Polygon":case"MultiPolygon":return"polygon";case"Text":return"text";default:return""}},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fontSize,n=void 0===t?"14":t,r=e.fontSizeUom,o=void 0===r?"px":r,i=e.fontFamily,a=void 0===i?"Arial":i,s=e.fontStyle,l=void 0===s?"normal":s,u=e.fontWeight,c=void 0===u?"normal":u;return"".concat(l," ").concat(c," ").concat(n).concat(o," ").concat(a)},z=function(e){var t,n,r;return(null==e||null===(t=e.properties)||void 0===t?void 0:t.isCircle)?"Circle":(null==e||null===(n=e.properties)||void 0===n?void 0:n.isText)?"Text":null==e||null===(r=e.geometry)||void 0===r?void 0:r.type},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Point",t={Point:{glyph:"point",label:"Point"},MultiPoint:{glyph:"point",label:"Point"},LineString:{glyph:"polyline",label:"Line"},MultiLineString:{glyph:"polyline",label:"Line"},Polygon:{glyph:"polygon",label:"Polygon"},MultiPolygon:{glyph:"polygon",label:"Polygon"},Text:{glyph:"font",label:"Text"},Circle:{glyph:"1-circle",label:"Circle"}};return t[e]},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="FeatureCollection"===e.type?b({},e):{type:"Feature",geometry:e},r=k(n),o=I(n.properties,t);return b({style:r,properties:o},n)},q=function(e){return Object(u.values)(e.reduce((function(e,t){return b(b({},e),{},v({},t.properties.id,t))}),{}))},W=function(e,t){var n=e.geometries,r=void 0===n?[]:n,i=t.circles,a=void 0===i?[]:i,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w,l=a.reduce((function(e,t){return e.concat([r[t].coordinates])}),[]);return{type:"Feature",geometry:{type:"MultiPolygon",coordinates:l},properties:{id:o()(),ms_style:R("Circle",s)}}},H=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w;return{type:"Feature",geometry:t.polygonGeom||e,properties:{id:t.id||o()(),ms_style:R("Circle",n)}}},Z=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S;return{type:"Feature",geometry:e,properties:{id:t.id||o()(),ms_style:R("Text",n,t.valueText)}}},Y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E;return{type:"Feature",geometry:e.geometryGeodesic,properties:{id:e.id||o()(),ms_style:R(e.geometryGeodesic.type,t)}}},K=function(e,t){var n=e.geometries,r=void 0===n?[]:n,i=t.textGeometriesIndexes,a=void 0===i?[]:i,s=t.textValues,l=void 0===s?[]:s,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S;return a.map((function(e,t){return{type:"Feature",geometry:r[e],properties:{id:o()(),ms_style:R("Text",u,l[t])}}}))},X=function(e){var t=e.geometry,n=e.properties,r=e.style,i=n.circles&&_.circlesToMultiPolygon(t,n,r.Circle)||[],a=n.textGeometriesIndexes&&_.textToPoint(t,n,r.Text)||[],s=(n.circles||[]).concat(n.textGeometriesIndexes||[]);return t.geometries.filter((function(e,t){return-1===s.indexOf(t)})).map((function(e){return{type:"Feature",geometry:e,properties:{id:o()(),ms_style:R(e.type,r[e.type])}}})).concat(i,a)},J=function(e){var t=s.geometryFunctions[e.style.geometry]&&s.geometryFunctions[e.style.geometry].type||e.geometry.type,n=e.geometry.coordinates||[];switch(e.style.geometry){case"startPoint":n=Object(u.head)(n);break;case"endPoint":n=Object(u.last)(n);break;case"centerPoint":n=Object(f.a)(e).geometry.coordinates}return{type:t,coordinates:n}},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.geometry,n=e.properties,r=void 0===n?{}:n,i=e.style,a=void 0===i?{}:i,s=a.geometry?_.createGeometryFromGeomFunction({geometry:t,properties:r,style:a,type:"Feature"}):t;return r.isCircle&&"Polygon"===s.type?_.fromCircleToPolygon(s,r,a):r.isText?_.fromTextToPoint(s,r,a):"LineString"===s.type&&r.useGeodesicLines&&a.filtering?_.fromLineStringToGeodesicLineString(r,a):{type:"Feature",geometry:s,properties:{id:r.id||o()(),ms_style:R(s.type,a)}}},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((function(e,t){return"FeatureCollection"===t.type?e.concat(t.features.map((function(e){return Object(u.castArray)(e.style||t.style||{}).filter((function(e){return!!Object(u.isNil)(e.filtering)||e.filtering})).map((function(t){return _.fromAnnotationToGeoJson(b(b({},e),{},{style:t}))}))})).reduce((function(e,t){return e.concat(t)}),[])):t.geometry&&"GeometryCollection"===t.geometry.type?e.concat(_.flattenGeometryCollection(t)):e.concat({type:"Feature",geometry:t.geometry,properties:b(b({},t.properties),{},{ms_style:R(t.geometry.type,t.style)})})}),[])},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[[]];return e.map((function(e){return{lat:e&&e[1],lon:e&&e[0]}}))},te=function(e){switch(e){case"Polygon":case"LineString":case"MultiPoint":return[];default:return[[{lat:"",lon:""}]]}},ne=function(e){var t=e.type,n=e.coordinates;switch(t){case"Polygon":return _.isCompletePolygon(n)?_.formatCoordinates(Object(u.slice)(n[0],0,n[0].length-1)):_.formatCoordinates(n[0]);case"LineString":case"MultiPoint":return _.formatCoordinates(n);default:return _.formatCoordinates([n])}},re=function(e){return e.map((function(e){return e.properties&&e.properties.id?e:Object(l.set)("properties.id",p.a.v1(),e)}))},oe={Point:{min:1,add:!1,remove:!1,validation:"validateCoordinates",notValid:"Add a valid coordinate to complete the Point"},MultiPoint:{min:2,add:!0,remove:!0,validation:"validateCoordinates",notValid:"Add 2 valid coordinates to complete the Polyline"},Polygon:{min:3,add:!0,remove:!0,validation:"validateCoordinates",notValid:"Add 3 valid coordinates to complete the Polygon"},LineString:{min:2,add:!0,remove:!0,validation:"validateCoordinates",notValid:"Add 2 valid coordinates to complete the Polyline"},Circle:{add:!1,remove:!1,validation:"validateCircle",notValid:"Add a valid coordinate and a radius (m) to complete the Circle"},Text:{add:!1,remove:!1,validation:"validateText",notValid:"Add a valid coordinate and a Text value"}},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.lat,n=e.lon;return!isNaN(parseFloat(t))&&!isNaN(parseFloat(n))},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=m(e,2),n=t[0],r=t[1];return!isNaN(parseFloat(r))&&!isNaN(parseFloat(n))},se=function(e){return!isNaN(parseFloat(e))},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[e.lon,e.lat]},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.components,n=void 0===t?[]:t,r=e.remove,o=void 0!==r&&r,i=e.type;if(n&&n.length){var a=n.filter(_.validateCoords);return o?a.length>_.COMPONENTS_VALIDATION[i].min&&a.length===n.length:a.length>=_.COMPONENTS_VALIDATION[i].min&&a.length===n.length}return!1},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.components,n=void 0===t?[]:t,r=e.properties,o=void 0===r?{radius:0}:r;if(n&&n.length){var i=Object(u.head)(n);return!isNaN(parseFloat(o.radius))&&_.validateCoords(i)}return!1},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.components,n=void 0===t?[]:t,r=e.properties,o=void 0===r?{valueText:""}:r;if(n&&n.length){var i=Object(u.head)(n);return o&&!!o.valueText&&_.validateCoords(i)}return!1},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.components,n=void 0===t?[[]]:t,r=e.type,o=e.remove,i=void 0!==o&&o,a=e.properties,s=void 0===a?{}:a;return!Object(u.isNil)(r)&&("Text"===r?_.validateText({components:n,properties:s}):"Circle"===r?_.validateCircle({components:n,properties:s}):_.validateCoordinates({components:n,remove:i,type:r}))},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.features&&e.features.length?b(b({},e),{},{features:e.features.map((function(e){return h()({},e,{style:Object(u.castArray)(e.style).map((function(e){return h()({},e,t)}))})}))}):e},he="triangle",me="product/assets/symbols/",ye=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"loading_symbols_path";return e.length&&-1!==Object(u.findIndex)(e,(function(e){return e===t}))},ge=function(e){return e.symbolUrlCustomized===n("./MapStore2/web/client/product/assets/symbols/symbolMissing.svg")},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[[[]]],t=e[0].filter(_.validateCoordsArray);return t.length>3&&Object(u.head)(t)[0]===Object(u.last)(t)[0]&&Object(u.head)(t)[1]===Object(u.last)(t)[1]},ve=function(e){return(null==e?void 0:e.type)===M||"Annotations"===(null==e?void 0:e.name)};_={ANNOTATION_TYPE:M,convertGeoJSONToInternalModel:F,getAvailableStyler:N,getRelativeStyler:G,createFont:U,DEFAULT_ANNOTATIONS_STYLES:P,STYLE_CIRCLE:w,STYLE_POINT_MARKER:O,STYLE_POINT_SYMBOL:j,STYLE_TEXT:S,STYLE_LINE:E,STYLE_POLYGON:x,getGeometryType:z,getGeometryGlyphInfo:B,normalizeAnnotation:V,removeDuplicate:q,circlesToMultiPolygon:W,fromCircleToPolygon:H,fromTextToPoint:Z,fromLineStringToGeodesicLineString:Y,textToPoint:K,flattenGeometryCollection:X,createGeometryFromGeomFunction:J,fromAnnotationToGeoJson:Q,annotationsToPrint:$,formatCoordinates:ee,getBaseCoord:te,getComponents:ne,addIds:re,COMPONENTS_VALIDATION:oe,validateCoords:ie,validateCoordsArray:ae,validateCoord:se,coordToArray:le,validateCoordinates:ue,validateCircle:ce,validateText:pe,validateFeature:fe,updateAllStyles:de,getStartEndPointsForLinestring:L,DEFAULT_SHAPE:he,DEFAULT_PATH:me,checkSymbolsError:ye,isAMissingSymbol:ge,isCompletePolygon:be,getDashArrayFromStyle:D,isAnnotation:ve},t.default=_},"./MapStore2/web/client/utils/ColorUtils.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var r,o=n("./node_modules/tinycolor2/tinycolor.js"),i=n.n(o),a=n("./MapStore2/node_modules/lodash/lodash.js"),s=function(e,t,n,o){var i=e;isNaN(parseFloat(e))&&(i=r.hexToHsv(e)[0]);var a=.5/(n-1),s=t/(n-1),l=[];1===n&&(a=.5,s=t/2);for(var u=0;u<n;u++){var c=i+u*s-t/2,p=a*u+.3,f=p;o&&(c=o.h||c,p=o.s||p,f=o.v||f),l.push(r.hsvToHex(c,p,f,u))}return l},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"red";return i()(e).toHexString()},u=function(e,t,n){var r=i()(e);return e&&r.setAlpha(Object(a.toNumber)(void 0!==t?t:r.getAlpha())).toRgbString()||n};r={decToHex:function(e){var t=parseInt(e,10);return t=isNaN(t)?0:t,"0123456789ABCDEF".charAt(((t=t>255||t<0?0:t)-t%16)/16)+"0123456789ABCDEF".charAt(t%16)},rgbToHex:function(e,t,n){return e instanceof Array?r.rgbToHex(e[0],e[1],e[2]):"#"+r.decToHex(e)+r.decToHex(t)+r.decToHex(n)},realToDec:function(e){return Math.min(255,Math.round(256*e))},rgbToHsv:function(e,t,n){if(e instanceof Array)return r.rgbToHsv(e[0],e[1],e[2]);var o,i,a,s,l,u=e/255,c=t/255,p=n/255;switch(o=Math.min(Math.min(u,c),p),a=(i=Math.max(Math.max(u,c),p))-o,i){case o:s=0;break;case u:s=60*(c-p)/a,c<p&&(s+=360);break;case c:s=60*(p-u)/a+120;break;case p:s=60*(u-c)/a+240}return l=0===i?0:1-o/i,[Math.round(s),l,i]},distributedColorsHEX:function(e){for(var t=360/(e-1),n=[],o=function e(t,n,o){var i=e(t,n,o);return r.rgbToHex(i)},i=0;i<e;i++)n.push(o(t*i,.57,.63));return n},sameToneRangeColors:s,hsvToRgb:function(e,t,n){if(e instanceof Array)return r.hsvToRgb(e[0],e[1],e[2]);var o,i,a,s=Math.floor(e/60%6),l=e/60-s,u=n*(1-t),c=n*(1-l*t),p=n*(1-(1-l)*t);switch(s){case 0:o=n,i=p,a=u;break;case 1:o=c,i=n,a=u;break;case 2:o=u,i=n,a=p;break;case 3:o=u,i=c,a=n;break;case 4:o=p,i=u,a=n;break;case 5:o=n,i=u,a=c}return[r.realToDec(o),r.realToDec(i),r.realToDec(a)]},hsvToHex:function(e,t,n){var o=r.hsvToRgb(e,t,n);return r.rgbToHex(o)},hexToHsv:function(e){var t=e;if(t.length>0){"#"===t[0]&&(t=e.substring(1));var n=r.hexToRgb(t);return r.rgbToHsv(n)}return null},hexToRgb:function(e){var t,n,r,o=e;return"#"===o.charAt(0)&&(o=e.substring(1)),t=o.charAt(0)+o.charAt(1),n=o.charAt(2)+o.charAt(3),r=o.charAt(4)+o.charAt(5),[parseInt(t,16),parseInt(n,16),parseInt(r,16)]},colorToHexStr:l,colorToRgbaStr:u}},"./MapStore2/web/client/utils/ConfigProvider.js":function(e,t,n){"use strict";t.a={OpenStreetMap:{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",options:{maxZoom:19,maxNativeZoom:19,credits:{text:"© OpenStreetMap, Open Street Map and contributors, CC-BY-SA",link:"http://www.openstreetmap.org/copyright"},attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'},variants:{Mapnik:{},BlackAndWhite:{url:"http://tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png",options:{maxZoom:18,maxNativeZoom:18}},DE:{url:"http://{s}.tile.openstreetmap.de/tiles/osmde/{z}/{x}/{y}.png",options:{maxZoom:18,maxNativeZoom:18}},France:{url:"http://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png",options:{attribution:"&copy; Openstreetmap France | {attribution.OpenStreetMap}"}},HOT:{url:"http://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",options:{attribution:'{attribution.OpenStreetMap}, Tiles courtesy of <a href="http://hot.openstreetmap.org/" target="_blank">Humanitarian OpenStreetMap Team</a>'}}}},OpenSeaMap:{url:"http://tiles.openseamap.org/seamark/{z}/{x}/{y}.png",options:{maxNativeZoom:18,attribution:'Map data: &copy; <a href="http://www.openseamap.org">OpenSeaMap</a> contributors',credits:{text:"Map data: © OpenSeaMap contributors",link:"http://www.openseamap.org"}}},OpenPtMap:{url:"http://openptmap.org/tiles/{z}/{x}/{y}.png",options:{maxZoom:17,attribution:'Map data: &copy; <a href="http://www.openptmap.org">OpenPtMap</a> contributors'}},OpenTopoMap:{url:"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",options:{maxZoom:17,attribution:'Map data: {attribution.OpenStreetMap}, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}},OpenRailwayMap:{url:"https://{s}.tiles.openrailwaymap.org/standard/{z}/{x}/{y}.png",options:{maxZoom:19,attribution:'Map data: {attribution.OpenStreetMap} | Map style: &copy; <a href="https://www.OpenRailwayMap.org">OpenRailwayMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}},OpenFireMap:{url:"http://openfiremap.org/hytiles/{z}/{x}/{y}.png",options:{maxZoom:19,attribution:'Map data: {attribution.OpenStreetMap} | Map style: &copy; <a href="http://www.openfiremap.org">OpenFireMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}},SafeCast:{url:"https://s3.amazonaws.com/te512.safecast.org/{z}/{x}/{y}.png",options:{maxZoom:16,attribution:'Map data: {attribution.OpenStreetMap} | Map style: &copy; <a href="https://blog.safecast.org/about/">SafeCast</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}},CyclOSM:{url:"https://dev.{s}.tile.openstreetmap.fr/cyclosm/{z}/{x}/{y}.png",options:{maxZoom:20,attribution:'<a href="https://github.com/cyclosm/cyclosm-cartocss-style/releases" title="CyclOSM - Open Bicycle render">CyclOSM</a> | Map data: {attribution.OpenStreetMap}'}},OpenMapSurfer:{url:"https://maps.heigit.org/openmapsurfer/tiles/{variant}/webmercator/{z}/{x}/{y}.png",options:{maxZoom:19,variant:"roads",attribution:'Imagery from <a href="http://giscience.uni-hd.de/">GIScience Research Group @ University of Heidelberg</a> | Map data '},variants:{Roads:{options:{variant:"roads",attribution:"{attribution.OpenMapSurfer}{attribution.OpenStreetMap}"}},Hybrid:{options:{variant:"hybrid",attribution:"{attribution.OpenMapSurfer}{attribution.OpenStreetMap}"}},AdminBounds:{options:{variant:"adminb",maxZoom:18,attribution:"{attribution.OpenMapSurfer}{attribution.OpenStreetMap}"}},ContourLines:{options:{variant:"asterc",maxZoom:18,minZoom:13,attribution:'{attribution.OpenMapSurfer} <a href="https://lpdaac.usgs.gov/products/aster_policies">ASTER GDEM</a>'}},Hillshade:{options:{variant:"asterh",maxZoom:18,attribution:'{attribution.OpenMapSurfer} <a href="https://lpdaac.usgs.gov/products/aster_policies">ASTER GDEM</a>, <a href="http://srtm.csi.cgiar.org/">SRTM</a>'}},ElementsAtRisk:{options:{variant:"elements_at_risk",attribution:"{attribution.OpenMapSurfer}{attribution.OpenStreetMap}"}}}},Hydda:{url:"https://{s}.tile.openstreetmap.se/hydda/{variant}/{z}/{x}/{y}.png",options:{maxZoom:18,variant:"full",attribution:'Tiles courtesy of <a href="http://openstreetmap.se/" target="_blank">OpenStreetMap Sweden</a> &mdash; Map data {attribution.OpenStreetMap}'},variants:{Full:"full",Base:"base",RoadsAndLabels:"roads_and_labels"}},Thunderforest:{url:"https://{s}.tile.thunderforest.com/{variant}/{z}/{x}/{y}.png",options:{maxNativeZoom:18,attribution:'&copy; <a href="http://www.opencyclemap.org">OpenCycleMap</a>, {attribution.OpenStreetMap}',credits:{text:"Map data: OpenCycleMap contributors",link:"http://www.opencyclemap.org"},variant:"cycle"},variants:{OpenCycleMap:"cycle",Transport:{options:{variant:"transport",maxZoom:19,maxNativeZoom:19}},TransportDark:{options:{variant:"transport-dark",maxZoom:19,maxNativeZoom:19}},Landscape:"landscape",Outdoors:"outdoors"}},MapQuestOpen:{url:"http://otile{s}.mqcdn.com/tiles/1.0.0/{type}/{z}/{x}/{y}.{ext}",options:{maxNativeZoom:18,type:"map",ext:"jpg",attribution:'Tiles Courtesy of <a href="http://www.mapquest.com/">MapQuest</a> &mdash; Map data {attribution.OpenStreetMap}',subdomains:["1","2","3","4"]},variants:{OSM:{},Aerial:{options:{type:"sat",attribution:'Tiles Courtesy of <a href="http://www.mapquest.com/">MapQuest</a> &mdash; Portions Courtesy NASA/JPL-Caltech and U.S. Depart. of Agriculture, Farm Service Agency'}},HybridOverlay:{options:{type:"hyb",ext:"png",opacity:.9}}}},MapBox:{url:"https://api.tiles.mapbox.com/v4/{source}/{z}/{x}/{y}.png?access_token={accessToken}",options:{maxNativeZoom:18,attribution:'Imagery from <a href="http://mapbox.com/about/maps/">MapBox</a> &mdash; Map data {attribution.OpenStreetMap}',subdomains:["a","b","c","d"]}},MapBoxStyle:{url:"https://api.mapbox.com/styles/v1/mapbox/{source}/tiles/{z}/{x}/{y}?access_token={accessToken}",options:{attribution:'Imagery from <a href="http://mapbox.com/about/maps/">MapBox</a>',subdomains:["a","b","c","d"]}},Stamen:{url:"https://stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}.{ext}",options:{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data {attribution.OpenStreetMap}',subdomains:"abcd",minZoom:0,maxZoom:20,variant:"toner",ext:"png"},variants:{Toner:"toner",TonerBackground:"toner-background",TonerHybrid:"toner-hybrid",TonerLines:"toner-lines",TonerLabels:"toner-labels",TonerLite:"toner-lite",Watercolor:{url:"https://stamen-tiles-{s}.a.ssl.fastly.net/{variant}/{z}/{x}/{y}.{ext}",options:{variant:"watercolor",ext:"jpg",minZoom:1,maxZoom:16}},Terrain:{options:{variant:"terrain",minZoom:0,maxZoom:18}},TerrainBackground:{options:{variant:"terrain-background",minZoom:0,maxZoom:18}},TerrainLabels:{options:{variant:"terrain-labels",minZoom:0,maxZoom:18}}}},Esri:{url:"https://server.arcgisonline.com/ArcGIS/rest/services/{variant}/MapServer/tile/{z}/{y}/{x}",options:{maxNativeZoom:18,variant:"World_Street_Map",attribution:"Tiles &copy; Esri"},variants:{WorldStreetMap:{options:{attribution:"{attribution.Esri} &mdash; Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012"}},DeLorme:{options:{variant:"Specialty/DeLorme_World_Base_Map",minZoom:1,maxZoom:11,maxNativeZoom:11,attribution:"{attribution.Esri} &mdash; Copyright: &copy;2012 DeLorme"}},WorldTopoMap:{options:{variant:"World_Topo_Map",attribution:"{attribution.Esri} &mdash; Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community"}},WorldImagery:{options:{variant:"World_Imagery",attribution:"{attribution.Esri} &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"}},WorldTerrain:{options:{variant:"World_Terrain_Base",maxZoom:13,maxNativeZoom:13,attribution:"{attribution.Esri} &mdash; Source: USGS, Esri, TANA, DeLorme, and NPS"}},WorldShadedRelief:{options:{variant:"World_Shaded_Relief",maxZoom:13,maxNativeZoom:13,attribution:"{attribution.Esri} &mdash; Source: Esri"}},WorldPhysical:{options:{variant:"World_Physical_Map",maxZoom:8,maxNativeZoom:8,attribution:"{attribution.Esri} &mdash; Source: US National Park Service"}},OceanBasemap:{options:{variant:"Ocean_Basemap",maxZoom:13,maxNativeZoom:13,attribution:"{attribution.Esri} &mdash; Sources: GEBCO, NOAA, CHS, OSU, UNH, CSUMB, National Geographic, DeLorme, NAVTEQ, and Esri"}},NatGeoWorldMap:{options:{variant:"NatGeo_World_Map",maxZoom:16,maxNativeZoom:16,attribution:"{attribution.Esri} &mdash; National Geographic, Esri, DeLorme, NAVTEQ, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, iPC"}},WorldGrayCanvas:{options:{variant:"Canvas/World_Light_Gray_Base",maxZoom:16,maxNativeZoom:16,attribution:"{attribution.Esri} &mdash; Esri, DeLorme, NAVTEQ"}}}},OpenWeatherMap:{url:"http://{s}.tile.openweathermap.org/map/{variant}/{z}/{x}/{y}.png",options:{maxZoom:19,maxNativeZoom:19,attribution:'Map data &copy; <a href="http://openweathermap.org">OpenWeatherMap</a>',opacity:.5},variants:{Clouds:"clouds",CloudsClassic:"clouds_cls",Precipitation:"precipitation",PrecipitationClassic:"precipitation_cls",Rain:"rain",RainClassic:"rain_cls",Pressure:"pressure",PressureContour:"pressure_cntr",Wind:"wind",Temperature:"temp",Snow:"snow"}},HERE:{url:"https://{s}.{base}.maps.cit.api.here.com/maptile/2.1/maptile/{mapID}/{variant}/{z}/{x}/{y}/256/png8?app_id={app_id}&app_code={app_code}",options:{attribution:'Map &copy; 1987-2014 <a href="http://developer.here.com">HERE</a>',subdomains:["1","2","3","4"],mapID:"newest",app_id:"<insert your app_id here>",app_code:"<insert your app_code here>",base:"base",variant:"normal.day",maxZoom:20,maxNativeZoom:20},variants:{normalDay:"normal.day",normalDayCustom:"normal.day.custom",normalDayGrey:"normal.day.grey",normalDayMobile:"normal.day.mobile",normalDayGreyMobile:"normal.day.grey.mobile",normalDayTransit:"normal.day.transit",normalDayTransitMobile:"normal.day.transit.mobile",normalNight:"normal.night",normalNightMobile:"normal.night.mobile",normalNightGrey:"normal.night.grey",normalNightGreyMobile:"normal.night.grey.mobile",carnavDayGrey:"carnav.day.grey",hybridDay:{options:{base:"aerial",variant:"hybrid.day"}},hybridDayMobile:{options:{base:"aerial",variant:"hybrid.day.mobile"}},pedestrianDay:"pedestrian.day",pedestrianNight:"pedestrian.night",satelliteDay:{options:{base:"aerial",variant:"satellite.day"}},terrainDay:{options:{base:"aerial",variant:"terrain.day"}},terrainDayMobile:{options:{base:"aerial",variant:"terrain.day.mobile"}}}},Acetate:{url:"http://a{s}.acetate.geoiq.com/tiles/{variant}/{z}/{x}/{y}.png",options:{attribution:"&copy;2012 Esri & Stamen, Data from OSM and Natural Earth",subdomains:["0","1","2","3"],minZoom:2,maxZoom:18,maxNativeZoom:18,variant:"acetate-base"},variants:{basemap:"acetate-base",terrain:"terrain",all:"acetate-hillshading",foreground:"acetate-fg",roads:"acetate-roads",labels:"acetate-labels",hillshading:"hillshading"}},FreeMapSK:{url:"http://t{s}.freemap.sk/T/{z}/{x}/{y}.jpeg",options:{minZoom:8,maxZoom:16,maxNativeZoom:16,subdomains:["1","2","3","4"],bounds:[[47.204642,15.996093],[49.830896,22.576904]],attribution:'{attribution.OpenStreetMap}, vizualization CC-By-SA 2.0 <a href="http://freemap.sk">Freemap.sk</a>'}},MtbMap:{url:"http://tile.mtbmap.cz/mtbmap_tiles/{z}/{x}/{y}.png",options:{maxNativeZoom:18,attribution:"{attribution.OpenStreetMap} &amp; USGS"}},CartoDB:{url:"https://{s}.basemaps.cartocdn.com/{variant}/{z}/{x}/{y}.png",options:{attribution:'{attribution.OpenStreetMap} &copy; <a href="http://cartodb.com/attributions">CartoDB</a>',subdomains:["a","b","c","d"],maxZoom:19,maxNativeZoom:19,variant:"light_all"},variants:{Positron:"light_all",PositronNoLabels:"light_nolabels",PositronOnlyLabels:"light_only_labels",DarkMatter:"dark_all",DarkMatterNoLabels:"dark_nolabels",DarkMatterOnlyLabels:"dark_only_labels"}},HikeBike:{url:"http://{s}.tiles.wmflabs.org/{variant}/{z}/{x}/{y}.png",options:{maxZoom:19,maxNativeZoom:19,attribution:"{attribution.OpenStreetMap}",variant:"hikebike"},variants:{HikeBike:{},HillShading:{options:{maxZoom:15,maxNativeZoom:15,variant:"hillshading"}}}},BasemapAT:{url:"https://maps{s}.wien.gv.at/basemap/{variant}/normal/google3857/{z}/{y}/{x}.{format}",options:{maxZoom:19,maxNativeZoom:19,attribution:'Datenquelle: <a href="https://www.basemap.at">basemap.at</a>',subdomains:["","1","2","3","4"],format:"png",bounds:[[46.35877,8.782379],[49.037872,17.189532]],variant:"geolandbasemap"},variants:{basemap:"geolandbasemap",grau:"bmapgrau",overlay:"bmapoverlay",highdpi:{options:{variant:"bmaphidpi",format:"jpeg"}},orthofoto:{options:{variant:"bmaporthofoto30cm",format:"jpeg"}}}},NASAGIBS:{url:"https://map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}9/{z}/{y}/{x}.{format}",options:{attribution:'<span>Imagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System (<a href="https://earthdata.nasa.gov">ESDIS</a>) with funding provided by NASA/HQ.</span>',credits:{text:"Black Marble imagery courtesy NASA Earth Observatory"},bounds:[[-85.0511287776,-179.999999975],[85.0511287776,179.999999975]],minZoom:1,maxZoom:9,maxNativeZoom:9,format:"jpg",time:"",tilematrixset:"GoogleMapsCompatible_Level"},variants:{ModisTerraTrueColorCR:"MODIS_Terra_CorrectedReflectance_TrueColor",ModisTerraBands367CR:"MODIS_Terra_CorrectedReflectance_Bands367",ViirsEarthAtNight2012:{url:"https://map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}8/{z}/{y}/{x}.{format}",options:{variant:"VIIRS_CityLights_2012",maxZoom:8,maxNativeZoom:8}},ModisTerraLSTDay:{url:"https://map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}7/{z}/{y}/{x}.{format}",options:{variant:"MODIS_Terra_Land_Surface_Temp_Day",format:"png",maxZoom:7,maxNativeZoom:7,opacity:.75}},ModisTerraSnowCover:{url:"https://map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}8/{z}/{y}/{x}.{format}",options:{variant:"MODIS_Terra_Snow_Cover",format:"png",maxZoom:8,maxNativeZoom:8,opacity:.75}},ModisTerraAOD:{url:"https://map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}6/{z}/{y}/{x}.{format}",options:{variant:"MODIS_Terra_Aerosol",format:"png",maxZoom:6,maxNativeZoom:6,opacity:.75}},ModisTerraChlorophyll:{url:"https://map1.vis.earthdata.nasa.gov/wmts-webmerc/{variant}/default/{time}/{tilematrixset}7/{z}/{y}/{x}.{format}",options:{variant:"MODIS_Terra_Chlorophyll_A",format:"png",maxZoom:7,maxNativeZoom:7,opacity:.75}}}},NLS:{url:"https://nls-{s}.tileserver.com/{variant}/{z}/{x}/{y}.jpg",options:{attribution:'<a href="http://geo.nls.uk/maps/">National Library of Scotland Historic Maps</a>',bounds:[[49.6,-12],[61.7,3]],minZoom:1,maxZoom:18,maxNativeZoom:18,subdomains:["0","1","2","3"]},variants:{OS_1900:"NLS_API",OS_1920:"nls",OS_opendata:{url:"http://geo.nls.uk/maps/opendata/{z}/{x}/{y}.png",options:{maxZoom:16,maxNativeZoom:16}},OS_6inch_1st:{url:"http://geo.nls.uk/maps/os/six_inch/{z}/{x}/{y}.png",options:{tms:!0,minZoom:6,maxZoom:16,maxNativeZoom:16,bounds:[[49.86261,-8.66444],[60.89421,1.7785]]}},OS_6inch:"os_6_inch_gb",OS_25k:"25k",OS_npe:{url:"http://geo.nls.uk/maps/os/newpopular/{z}/{x}/{y}.png",options:{tms:!0,minZoom:3,maxZoom:15,maxNativeZoom:15}},OS_7th:"os7gb",OS_London:{options:{variant:"London_1056",minZoom:9,maxNativeZoom:9,bounds:[[51.177621,-.708618],[51.618016,.355682]]}},GSGS_Ireland:{url:"http://geo.nls.uk/maps/ireland/gsgs4136/{z}/{x}/{y}.png",options:{tms:!0,minZoom:5,maxZoom:15,maxNativeZoom:15,bounds:[[51.37178,-10.810546],[55.422779,-5.262451]]}}}},LINZ:{url:"http://tiles-{s}.data-cdn.linz.govt.nz/services;key={linzAPIkey}/tiles/v4/{variant}/{tilematrixset}/{z}/{x}/{y}.png",options:{attribution:'<a href="https://www.linz.govt.nz/data/licensing-and-using-data/attributing-elevation-or-aerial-imagery-data">Sourced from LINZ. CC-BY 4.0</a>',subdomains:["a","b","c","d"],linzAPIkey:"<insert your LINZ API Key here>",variant:"set=4702",tilematrixset:"EPSG:3857",maxZoom:22,maxNativeZoom:22},variants:{nz_aerial_imagery:{options:{attribution:'<a href="https://www.linz.govt.nz/data/licensing-and-using-data/attributing-elevation-or-aerial-imagery-data">Sourced from LINZ. CC-BY 4.0</a>',variant:"set=4702",tilematrixset:"EPSG:3857",maxZoom:22,maxNativeZoom:22}},nz_topo50_maps:{options:{attribution:'Sourced from the <a href="https://data.linz.govt.nz/">LINZ Data Service</a> and licensed for reuse under the <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> license',variant:"layer=50767",tilematrixset:"EPSG:3857",maxZoom:22,maxNativeZoom:22}},nz_topo50_gridless_maps:{options:{attribution:'Sourced from the <a href="https://data.linz.govt.nz/">LINZ Data Service</a> and licensed for reuse under the <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> license',variant:"layer=52343",tilematrixset:"EPSG:3857",maxZoom:22,maxNativeZoom:22}},nz_topo250_gridless_maps:{options:{attribution:'Sourced from the <a href="https://data.linz.govt.nz/">LINZ Data Service</a> and licensed for reuse under the <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> license',variant:"layer=52324",tilematrixset:"EPSG:3857",maxZoom:22,maxNativeZoom:22}},nz_topo250_maps:{options:{attribution:'Sourced from the <a href="https://data.linz.govt.nz/">LINZ Data Service</a> and licensed for reuse under the <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> license',variant:"layer=50798",tilematrixset:"EPSG:3857",maxZoom:22,maxNativeZoom:22}},nz_parcel_boundaries_wireframe:{options:{attribution:'Sourced from the <a href="https://data.linz.govt.nz/">LINZ Data Service</a> and licensed for reuse under the <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> license',variant:"set=4769",tilematrixset:"EPSG:3857",maxZoom:22,maxNativeZoom:22}}}},PDOK:{url:"https://geodata.nationaalgeoregister.nl/tiles/service/wmts?layer={variant}&tilematrixset=EPSG:3857&Service=WMTS&Request=GetTile&Version=1.0.0&Format=image%2Fpng&TileMatrix={z}&TileCol={x}&TileRow={y}",options:{attribution:'<a href="https://www.pdok.nl/introductie?articleid=1949876">BRT Achtergrondkaart</a> by <a href="https://www.kadaster.nl/">Kadaster</a>, <a href="http://creativecommons.org/licenses/by/4.0">CC BY 4.0</a>',format:"png",bounds:[[48.0405018704,-1.65729160235],[56.1105896442,12.4317272654]],minZoom:6,maxZoom:19,maxNativeZoom:19},variants:{brtachtergrondkaart:"brtachtergrondkaart",brtachtergrondkaartgrijs:"brtachtergrondkaartgrijs",brtachtergrondkaartpastel:"brtachtergrondkaartpastel",brtachtergrondkaartwater:"brtachtergrondkaartwater",luchtfotoRGB:{url:"https://geodata.nationaalgeoregister.nl/luchtfoto/rgb/wmts?layer={variant}&tilematrixset=EPSG:3857&Service=WMTS&Request=GetTile&Version=1.0.0&Format=image%2Fpng&TileMatrix={z}&TileCol={x}&TileRow={y}",options:{variant:"Actueel_ortho25",attribution:'<a href="https://www.pdok.nl/introductie?articleid=1954278">Luchtfoto Actueel Ortho 25cm RGB</a> by <a href="http://www.beeldmateriaal.nl">Beeldmateriaal.nl</a>, <a href="http://creativecommons.org/licenses/by/4.0">CC BY 4.0</a>'}},luchtfotoIR:{url:"https://geodata.nationaalgeoregister.nl/luchtfoto/rgb/wmts?layer={variant}&tilematrixset=EPSG:3857&Service=WMTS&Request=GetTile&Version=1.0.0&Format=image%2Fpng&TileMatrix={z}&TileCol={x}&TileRow={y}",options:{variant:"Actueel_ortho25IR",attribution:'<a href="https://www.pdok.nl/introductie?articleid=1954278">Luchtfoto Actueel Ortho 25cm Infrarood</a> by <a href="http://www.beeldmateriaal.nl">Beeldmateriaal.nl</a>, <a href="http://creativecommons.org/licenses/by/4.0">CC BY 4.0</a>'}}}}}},"./MapStore2/web/client/utils/CoordinatesUtils.js":function(e,t,n){"use strict";n.r(t),n.d(t,"FORMULAS",(function(){return C})),n.d(t,"getProjUrl",(function(){return I})),n.d(t,"determineCrs",(function(){return A})),n.d(t,"normalizePoint",(function(){return F})),n.d(t,"reproject",(function(){return G})),n.d(t,"reprojectExtent",(function(){return z})),n.d(t,"getPolygonFromExtent",(function(){return B})),n.d(t,"getExtentFromNormalized",(function(){return V})),n.d(t,"crsCodeTable",(function(){return q})),n.d(t,"setCrsLabels",(function(){return W})),n.d(t,"getUnits",(function(){return H})),n.d(t,"getProjectedBBox",(function(){return Z})),n.d(t,"createBBox",(function(){return Y})),n.d(t,"reprojectGeoJson",(function(){return K})),n.d(t,"lineIntersectPolygon",(function(){return X})),n.d(t,"normalizeLng",(function(){return J})),n.d(t,"reprojectBbox",(function(){return Q})),n.d(t,"getCompatibleSRS",(function(){return $})),n.d(t,"getEquivalentSRS",(function(){return ee})),n.d(t,"getEPSGCode",(function(){return te})),n.d(t,"normalizeSRS",(function(){return ne})),n.d(t,"isAllowedSRS",(function(){return re})),n.d(t,"getAvailableCRS",(function(){return oe})),n.d(t,"filterCRSList",(function(){return ie})),n.d(t,"calculateAzimuth",(function(){return ae})),n.d(t,"calculateDistance",(function(){return se})),n.d(t,"extendExtent",(function(){return le})),n.d(t,"getGeoJSONExtent",(function(){return ue})),n.d(t,"isValidExtent",(function(){return ce})),n.d(t,"calculateCircleCoordinates",(function(){return pe})),n.d(t,"transformLineToArcs",(function(){return fe})),n.d(t,"transformArcsToLine",(function(){return de})),n.d(t,"coordsOLtoLeaflet",(function(){return he})),n.d(t,"mergeToPolyGeom",(function(){return me})),n.d(t,"getViewportGeometry",(function(){return ye})),n.d(t,"getExtentFromViewport",(function(){return ge})),n.d(t,"fetchProjRemotely",(function(){return be})),n.d(t,"parseURN",(function(){return ve})),n.d(t,"parseString",(function(){return _e})),n.d(t,"getWMSBoundingBox",(function(){return we})),n.d(t,"isSRSAllowed",(function(){return Oe})),n.d(t,"getNormalizedLatLon",(function(){return je})),n.d(t,"isInsideVisibleArea",(function(){return Se})),n.d(t,"centerToVisibleArea",(function(){return Ee})),n.d(t,"calculateCircleRadiusFromPixel",(function(){return xe})),n.d(t,"roundCoord",(function(){return Pe})),n.d(t,"midpoint",(function(){return Me})),n.d(t,"pointObjectToArray",(function(){return Le})),n.d(t,"isPointInsideExtent",(function(){return Te})),n.d(t,"isBboxCompatible",(function(){return Ce})),n.d(t,"extractCrsFromURN",(function(){return ke})),n.d(t,"makeNumericEPSG",(function(){return Ie})),n.d(t,"makeBboxFromOWS",(function(){return De}));var r=n("./node_modules/node-geo-distance/index.js"),o=n.n(r),i=n("./MapStore2/web/client/libs/proj4.js"),a=n.n(i),s=n("./MapStore2/web/client/libs/ajax.js"),l=n.n(s),u=n("./node_modules/object-assign/index.js"),c=n.n(u),p=n("./MapStore2/node_modules/lodash/lodash.js"),f=n("./node_modules/@turf/line-intersect/index.js"),d=n.n(f),h=n("./node_modules/@turf/polygon-to-linestring/index.js"),m=n.n(h),y=n("./node_modules/@turf/great-circle/main.es.js"),g=n("./node_modules/turf-point/index.js"),b=n.n(g),v=n("./node_modules/@turf/bbox-polygon/main.es.js"),_=n("./node_modules/@turf/boolean-overlap/main.es.js"),w=n("./node_modules/@turf/boolean-contains/main.es.js");function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){return function(e){if(Array.isArray(e))return M(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||P(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||P(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){if(e){if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var L,T=a.a,C={vincenty:function(e){for(var t=0,n=0;n<e.length-1;++n){var r=e[n],i=e[n+1],a=x(r,2),s=a[0],l=a[1],u=x(i,2),c=u[0],p=u[1];t+=parseFloat(o.a.vincentySync({longitude:s,latitude:l},{longitude:c,latitude:p}))}return t},haversine:function(e){for(var t=0,n=0;n<e.length-1;++n){var r=e[n],i=e[n+1],a=x(r,2),s=a[0],l=a[1],u=x(i,2),c=u[0],p=u[1];t+=parseFloat(o.a.haversineSync({longitude:s,latitude:l},{longitude:c,latitude:p}))}return t}};function k(e,t){return(n=e).length>=2&&"number"==typeof n[0]&&"number"==typeof n[1]?t(e):e.map((function(e){return k(e,t)}));var n}var I=function(e){return"http://spatialreference.org/ref/epsg/".concat(e,"/proj4/")};function D(e,t,n){if(null===e)return e;var r=Object(p.cloneDeep)(e);return"Feature"===e.type?r.geometry=D(e.geometry,t,n):"FeatureCollection"===e.type?r.features=r.features.map((function(e){return D(e,t,n)})):"GeometryCollection"===e.type?r.geometries=r.geometries.map((function(e){return D(e,t,n)})):t&&t(r),n&&n(r),r}function A(e){return"string"==typeof e||e instanceof String?a.a.defs(e)?new a.a.Proj(e):null:e}var R={"EPSG:4326":"WGS 84","EPSG:3857":"EPSG:3857"},F=function(e){return{x:e.x||0,y:e.y||0,srs:e.srs||e.crs||"EPSG:4326",crs:e.srs||e.crs||"EPSG:4326"}},N=function(e){var t=e;return Object(p.isNumber)(e.x)||(t.x=parseFloat(e.x)),Object(p.isNumber)(e.y)||(t.y=parseFloat(e.y)),t},G=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=t&&a.a.defs(t)?new a.a.Proj(t):null,i=n&&a.a.defs(n)?new a.a.Proj(n):null;if(o&&i){var s=Object(p.isArray)(e)?a.a.toPoint(e):a.a.toPoint([e.x,e.y]),l=c()({},t===n?N(s):a.a.transform(o,i,N(s)),{srs:n});return r?F(l):l}return null},U=["EPSG:900913","EPSG:4326","EPSG:3857"],z=function(e,t,n){return"EPSG:4326"===t?e:n?e.map((function(e){return[G([e[0],e[1]],"EPSG:4326",t),G([e[2],e[3]],"EPSG:4326",t)].reduce((function(e,t){return[].concat(E(e),[t.x,t.y])}),[])})):[G([e[0],e[1]],"EPSG:4326",t),G([e[2],e[3]],"EPSG:4326",t)].reduce((function(e,t){return[].concat(E(e),[t.x,t.y])}),[])},B=function(e){return e?e.hasOwnProperty("geometry")&&"Polygon"===e.geometry.type?e:Object(v.a)(e):null},V=function(e,t){var n=function(e,t){var n="EPSG:4326"!==t?[G([parseFloat(e.minx),parseFloat(e.miny)],t,"EPSG:4326"),G([parseFloat(e.maxx),parseFloat(e.maxy)],t,"EPSG:4326")].reduce((function(e,t){return[].concat(E(e),[t.x,t.y])}),[]):[parseFloat(e.minx),parseFloat(e.miny),parseFloat(e.maxx),parseFloat(e.maxy)],r=!1;return"EPSG:4326"===t?r=Math.abs(e.maxx-e.minx)>=360:"EPSG:900913"!==t&&"EPSG:3857"!==t||(r=Math.abs(e.maxx-e.minx)>=40075016.68557849),r?[0,n[1],360,n[3]]:[(n[0]+180)%360,n[1],(n[2]+180)%360,n[3]].map((function(e,t){return t%2==0&&e<0?360+e:e}))}(e,t),r=n[2]<n[0];return r?{extent:z([[-180,n[1],n[2]-180,n[3]],[n[0]-180,n[1],180,n[3]]],t,r),isIDL:r}:{extent:z([n[0]-180,n[1],n[2]-180,n[3]],t,r),isIDL:r}},q={wgs84:4326,wgs1984:4326,crs84:4326,ogccrs84:4326,lambert93:2154,rgflambert93:2154},W=function(e){R=c()({},R,e)},H=function(e){return new a.a.Proj(e).units||"degrees"},Z=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0,o=t*r[0]/2,i=t*r[1]/2,a=Math.cos(n),s=Math.sin(n),l=o*a,u=o*s,c=i*a,p=i*s,f=e.x,d=e.y,h=f-l+p,m=f-l-p,y=f+l-p,g=f+l+p,b=d-u-c,v=d-u+c,_=d+u+c,w=d+u-c,O=L.createBBox(Math.min(h,m,y,g),Math.min(b,v,_,w),Math.max(h,m,y,g),Math.max(b,v,_,w));return O},Y=function(e,t,n,r){return{minx:e,miny:t,maxx:n,maxy:r}},K=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"EPSG:4326",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"EPSG:4326",r=t,o=n;"string"==typeof r&&(r=A(r)),"string"==typeof o&&(o=A(o));var i=T(r,o);return D(e,(function(e){e.crs&&delete e.crs,e.coordinates=k(e.coordinates,(function(e){var t=x(e,2),n=t[0],r=t[1];return i.forward([n,r])}))}),(function(e){var t,n;e.bbox&&(e.bbox=(t=[Number.MAX_VALUE,Number.MAX_VALUE],n=[-Number.MAX_VALUE,-Number.MAX_VALUE],D(e,(function(e){k(e.coordinates,(function(e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),n[0]=Math.max(n[0],e[0]),n[1]=Math.max(n[1],e[1])}))})),[t[0],t[1],n[0],n[1]]))}))},X=function(e,t){var n=m()(t).features[0];return 0!==d()(e,n).features.length},J=function(e){var t=e/360%1*360;return t<-180?t+=360:t>180&&(t-=360),t},Q=function(e,t,n){var r,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];r=Object(p.isArray)(e)?{sw:[e[0],e[1]],ne:[e[2],e[3]]}:{sw:[e.minx,e.miny],ne:[e.maxx,e.maxy]};var i=[];for(var a in r)if(r.hasOwnProperty(a)){var s=L.reproject(r[a],t,n,o);if(!s)return null;var l=s.x,u=s.y;i.push(l),i.push(u)}return i},$=function(e,t){return"EPSG:900913"===e&&!t["EPSG:900913"]&&t["EPSG:3857"]?"EPSG:3857":"EPSG:3857"===e&&!t["EPSG:3857"]&&t["EPSG:900913"]?"EPSG:900913":e},ee=function(e){return"EPSG:900913"===e||"EPSG:3857"===e?["EPSG:3857","EPSG:900913"]:[e]},te=function(e){return-1!==e.indexOf(":")?"EPSG:"+e.substring(e.lastIndexOf(":")+1):e},ne=function(e,t){var n="EPSG:900913"===e?"EPSG:3857":e;return t&&!t[n]?L.getCompatibleSRS(n,t):n},re=function(e,t){return t[L.getCompatibleSRS(e,t)]},oe=function(){var e={};for(var t in a.a.defs)a.a.defs.hasOwnProperty(t)&&(e[t]={label:R[t]||t});return e},ie=function(e,t,n,r){var o=Object.keys(e).reduce((function(n,r){return c()({},-1===t.indexOf(r)?n:j(j({},n),{},S({},r,e[r])))}),{}),i=r.map((function(e){return e.code})),a=Object.keys(n).reduce((function(e,t){return c()({},-1===i.indexOf(t)?e:j(j({},e),{},S({},t,n[t])))}),{});return c()({},o,a)},ae=function(e,t,n){var r=L.reproject(e,n,"EPSG:4326"),o=L.reproject(t,n,"EPSG:4326"),i=r.x*Math.PI/180,a=r.y*Math.PI/180,s=o.x*Math.PI/180,l=o.y*Math.PI/180,u=s-i,c=Math.sin(u)*Math.cos(l),p=Math.cos(a)*Math.sin(l)-Math.sin(a)*Math.cos(l)*Math.cos(u);return(180*Math.atan2(c,p)/Math.PI+360)%360},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"haversine";return e.length>=2&&-1!==Object.keys(C).indexOf(t)?C[t](e):0},le=function(e,t){var n=e.slice();return t[0]<e[0]&&(n[0]=t[0]),t[2]>e[2]&&(n[2]=t[2]),t[1]<e[1]&&(n[1]=t[1]),t[3]>e[3]&&(n[3]=t[3]),n},ue=function(e){var t=this,n=[1/0,1/0,-1/0,-1/0],r=function(e,n){var r=L.getGeoJSONExtent(n);return t.isValidExtent(r)?t.extendExtent(r,e):r};if(e.coordinates){if("Point"===e.type){var o=e.coordinates;n[0]=o[0]-.01*o[0],n[1]=o[1]-.01*o[1],n[2]=o[0]+.01*o[0],n[3]=o[1]+.01*o[1]}return Object(p.chunk)(Object(p.flattenDeep)(e.coordinates),2).reduce((function(e,t){return[t[0]<e[0]?t[0]:e[0],t[1]<e[1]?t[1]:e[1],t[0]>e[2]?t[0]:e[2],t[1]>e[3]?t[1]:e[3]]}),n)}if("GeometryCollection"===e.type)return e.geometries.reduce(r,n);if(e.type){if("FeatureCollection"===e.type)return e.features.reduce(r,n);if("Feature"===e.type&&e.geometry)return L.getGeoJSONExtent(e.geometry)}return n},ce=function(e){return!(-1!==e.indexOf(1/0)||-1!==e.indexOf(-1/0)||e[0]>e[2]||e[1]>e[3])},pe=function(e,t,n,r){var o,i,a,s=Math.PI*(1/n-.5);r&&(s+=r/180*Math.PI);for(var l=[[]],u=0;u<n;u++)o=s+2*u*Math.PI/n,i=e.x+t*Math.cos(o),a=e.y+t*Math.sin(o),l[0].push([i,a]);return l[0].push(l[0][0]),l},fe=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{npoints:100,offset:10,properties:{}},n=[],r=0;r<e.length-1;++r){var o=e[r],i=e[r+1],a=b()(o),s=b()(i);if(o[0]!==i[0]||o[1]!==i[1]){var l=Object(y.a)(a,s,t);n=[].concat(E(n),E(l.geometry.coordinates))}}return n},de=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return e.length<=t?[Object(p.head)(e),Object(p.last)(e)]:e.length>t?[Object(p.head)(e)].concat(L.transformArcsToLine(Object(p.slice)(e,t))):[]},he=function(e){var t=e.coordinates;switch(e.type){case"Polygon":return t.map((function(e){return e.map((function(e){return e.reverse()}))}));case"LineString":return t.map((function(e){return e.reverse()}));case"Point":return t.reverse();default:return[]}},me=function(e){return 1===e.length?e[0].geometry:{type:"GeometryCollection",geometries:e.map((function(e){return e.geometry}))}},ye=function(e,t){if(Object(p.head)(U.filter((function(e){return e===t})))){var n=V(e,t),r=n.extent,o=n.isIDL,i=(o?r:[r]).map((function(e){var t=[e[0],e[1]],n=[e[2],e[3]];return[[t,[t[0],n[1]],n,[n[0],t[1]],t]]}));if(o){var a=r[1][0]+(Math.abs(r[0][0]-r[0][2])+Math.abs(r[1][0]-r[1][2]))/2;return{type:"MultiPolygon",radius:0,projection:t,coordinates:i,extent:r,center:[a=a>180?a-360:a,(r[0][1]+r[0][3])/2]}}return{type:"Polygon",radius:0,projection:t,coordinates:i[0],extent:r,center:[(r[0]+r[2])/2,(r[1]+r[3])/2]}}var s=[e.minx,e.miny,e.maxx,e.maxy],l=[s[0],s[1]],u=[s[2],s[3]];return{type:"Polygon",radius:0,projection:t,coordinates:[[l,[l[0],u[1]],u,[u[0],l[1]],l]],extent:s,center:[(s[0]+s[2])/2,(s[1]+s[3])/2]}},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.bounds,n=e.crs,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"EPSG:4326";if(!t||!n)return null;var o=L.getViewportGeometry(t,n),i=o.extent;if(4===i.length)return L.reprojectBbox(i,n,r);var a=i.map((function(e){return e[2]-e[0]})),s=x(a,2),l=s[0],u=s[1];return l>u?L.reprojectBbox(i[0],n,r):L.reprojectBbox(i[1],n,r)},be=function(e,t){var n=2===e.split(":").length?e.split(":")[1]:"3857";return l.a.get(t||I(n),null,{timeout:2e3})},ve=function(e){var t=e&&e.properties&&e.properties.name||e&&e.name||e&&e.properties&&e.properties.code||e,n=t&&Object(p.last)(t.split(":"));return"WGS 1984"===n||"WGS84"===n?"EPSG:4326":n?"EPSG:"+n:null},_e=function(e){var t=e.split(" "),n=parseFloat(t[0]),r=parseFloat(t[1]);return!isNaN(n)&&!isNaN(r)&&{x:n,y:r}||null},we=function(e,t){var n=t||"EPSG:3857",r=e&&Object(p.isArray)(e)&&Object(p.head)(e.filter((function(e){return e&&e.$&&e.$.SRS===n&&e.$.maxx&&e.$.maxy&&e.$.minx&&e.$.miny})).map((function(e){return e&&e.$&&L.reprojectBbox([parseFloat(e.$.minx),parseFloat(e.$.miny),parseFloat(e.$.maxx),parseFloat(e.$.maxy)],n,"EPSG:4326")})));return Object(p.isArray)(r)&&{minx:r[0],miny:r[1],maxx:r[2],maxy:r[3]}||null},Oe=function(e){return!!a.a.defs(e)},je=function(e){var t=e.lng,n=void 0===t?1:t,r=e.lat;return{lat:void 0===r?1:r,lng:L.normalizeLng(n)}},Se=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=L.getNormalizedLatLon(e),i=G([o.lng,o.lat],"EPSG:4326",t.projection);if(!t.bbox)return!1;var a=L.reprojectBbox(t.bbox.bounds,t.bbox.crs,t.projection),s=j({left:0,right:0,top:0,bottom:0},n),l={minx:a[0]+s.left*r,miny:a[1]+s.bottom*r,maxx:a[2]-s.right*r,maxy:a[3]-s.top*r},u=L.getViewportGeometry(l,t.projection),c=4===u.extent.length?[E(u.extent)]:E(u.extent);return Object(p.head)(c.map((function(e){return i.x>=e[0]&&i.y>=e[1]&&i.x<=e[2]&&i.y<=e[3]})).filter((function(e){return e})))||!1},Ee=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=L.getNormalizedLatLon(e),i=G([o.lng,o.lat],"EPSG:4326",t.projection),a=j({left:0,right:0,top:0,bottom:0},n),s={width:(t.size.width-a.right-a.left)*r,height:(t.size.height-a.top-a.bottom)*r},l={minx:i.x-s.width/2-a.left*r,miny:i.y-s.height/2-a.bottom*r,maxx:i.x+s.width/2+a.right*r,maxy:i.y+s.height/2+a.top*r},u=L.getViewportGeometry(l,t.projection);if(4===u.extent.length)return{pos:G([u.extent[0]+t.size.width/2*r,u.extent[1]+t.size.height/2*r],t.projection,"EPSG:4326"),zoom:t.zoom,crs:"EPSG:4326"};if(Math.abs(u.extent[0][2]-u.extent[0][0])>Math.abs(u.extent[1][2]-u.extent[1][0])){var c=G([u.extent[0][2]-t.size.width/2*r,u.extent[0][3]-t.size.height/2*r],t.projection,"EPSG:4326"),p=j(j({},c),{},{x:c.x+(o.lng>c.x?360:0)});return{pos:p,zoom:t.zoom,crs:"EPSG:4326"}}return{pos:G([u.extent[1][0]+t.size.width/2*r,u.extent[1][1]+t.size.height/2*r],t.projection,"EPSG:4326"),zoom:t.zoom,crs:"EPSG:4326"}},xe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.01,i=Object(p.isArray)(n)?n:[n.x,n.y];if(Object(p.isNumber)(i[0])&&!isNaN(i[0])&&Object(p.isNumber)(i[1])&&!isNaN(i[1])&&Object(p.isNumber)(t.x)&&!isNaN(t.x)&&Object(p.isNumber)(t.y)&&!isNaN(t.y)){var a=Object(p.isFunction)(e)?e([t.x,t.y>=r?t.y-r:t.y+r]):null,s=a&&(Object(p.isArray)(a)?a:[a.x,a.y]);return Object(p.isArray)(s)?Math.sqrt((i[0]-s[0])*(i[0]-s[0])+(i[1]-s[1])*(i[1]-s[1])):o}return o},Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.roundingBehaviour,n=void 0===t?"round":t,r=e.value,o=void 0===r?0:r,i=e.maximumFractionDigits,a=void 0===i?0:i;return 0===a&&Math[n]?Math[n](o):o},Me=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Object(p.isArray)(e)?{x:e[0],y:e[1]}:e,o=Object(p.isArray)(t)?{x:t[0],y:t[1]}:t,i={x:.5*(r.x+o.x),y:.5*(r.y+o.y)};return n?[i.x,i.y]:i},Le=function(e){return Object(p.isObject)(e)&&Object(p.isNumber)(e.x)&&Object(p.isNumber)(e.y)?[e.x,e.y]:e},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{lat:1,lng:1},t=arguments.length>1?arguments[1]:void 0;return Object(w.a)(B(t),b()([e.lng,e.lat]))},Ce=function(e,t){return Object(_.a)(e,t)||Object(w.a)(e,t)||Object(w.a)(t,e)},ke=function(e){if(e){var t=e.split(":");if(!("urn"!==t[0]||"ogc"!==t[1]&&"x-ogc"!==t[1]||"def"!==t[2]||"crs"!==t[3]||!t[4]&&!t[6])){var n=t[4],r=t[6];return n?"".concat(n,":").concat(r):r}}return null},Ie=function(e){if(!e||"EPSG:"!==e.slice(0,5))return null;var t=e.slice(5),n=parseInt(t,10);if(n>=1024&&n<=32767)return e;var r=t.replace(" ","").replace(":","").toLowerCase(),o=q[r];return o>=1024&&o<=32767?"EPSG:".concat(o):null},De=function(e,t){var n=[e[0],e[1]],r=[t[0],t[1]];if(n[1]>r[1]){var o=n;n=r,r=o}if(n[0]>r[0]){var i=n.slice(),a=r.slice();n=[a[0],i[1]],r=[i[0],a[1]]}return[n[0],n[1],r[0],r[1]]};L={setCrsLabels:W,getUnits:H,reproject:G,getProjectedBBox:Z,createBBox:Y,reprojectGeoJson:K,lineIntersectPolygon:X,normalizePoint:F,normalizeLng:J,reprojectBbox:Q,getCompatibleSRS:$,getEquivalentSRS:ee,getEPSGCode:te,normalizeSRS:ne,isAllowedSRS:re,getAvailableCRS:oe,filterCRSList:ie,calculateAzimuth:ae,calculateDistance:se,FORMULAS:C,extendExtent:le,getGeoJSONExtent:ue,isValidExtent:ce,calculateCircleCoordinates:pe,transformLineToArcs:fe,transformArcsToLine:de,coordsOLtoLeaflet:he,mergeToPolyGeom:me,getViewportGeometry:ye,getProjUrl:I,getExtentFromViewport:ge,fetchProjRemotely:be,parseURN:ve,determineCrs:A,parseString:_e,getWMSBoundingBox:we,isSRSAllowed:Oe,getNormalizedLatLon:je,isInsideVisibleArea:Se,centerToVisibleArea:Ee,calculateCircleRadiusFromPixel:xe,roundCoord:Pe,midpoint:Me,pointObjectToArray:Le,getExtentFromNormalized:V,getPolygonFromExtent:B,isPointInsideExtent:Te,isBboxCompatible:Ce,extractCrsFromURN:ke,crsCodeTable:q,makeNumericEPSG:Ie,makeBboxFromOWS:De},t.default=L},"./MapStore2/web/client/utils/ElevationUtils.js":function(e,t,n){"use strict";n.r(t),n.d(t,"loadTile",(function(){return c})),n.d(t,"getElevation",(function(){return p})),n.d(t,"reset",(function(){return f}));var r=n("./MapStore2/web/client/libs/ajax.js"),o=n.n(r),i=n("./node_modules/lrucache/index.js"),a=n.n(i),s=n("./node_modules/es6-promise/dist/es6-promise.js"),l=new a.a(100),u=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-9999,i=r*e+n;try{var a=t.dataView.getInt16(2*i,!1);if(a!==o&&32767!==a&&-32768!==a)return a}catch(e){}return null},c=function(e,t,n){return l.has(n)?null:new s.Promise((function(r,i){o.a.get(e,{responseType:"arraybuffer"}).then((function(e){!function(e,t,n){l.set(n,{data:e,dataView:new DataView(e),coords:t,current:!0,status:"success"})}(e.data,t,n),r()})).catch((function(e){!function(e,t,n){l.set(n,{coords:t,current:!0,status:"error: "+e})}(e.message,t,n),i(e)}))}))},p=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-9999,o=l.get(e);return o&&"success"===o.status?{available:!0,value:u(n,o,t.x,t.y,r)}:o&&"loading"===o.status?{available:!1,message:"elevationLoading"}:o&&"error"===o.status?{available:!1,message:"elevationLoadingError"}:{available:!1,message:"elevationNotAvailable"}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l=new a.a(e.max||100)}},"./MapStore2/web/client/utils/FeatureInfoUtils.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return u}));var r={TEXT:"text/plain",HTML:"text/html",JSONP:"text/javascript",PROPERTIES:"application/json",JSON:"application/json",GML2:"application/vnd.ogc.gml",GML3:"application/vnd.ogc.gml/3.1.1",TEMPLATE:"application/json"},o={"text/plain":"TEXT","text/html":"HTML","text/javascript":"JSONP","application/json":"JSON","application/vnd.ogc.gml":"GML2","application/vnd.ogc.gml/3.1.1":"GML3"},i=/^[\s\S]*<gml:featureMembers[^>]*>([\s\S]*)<\/gml:featureMembers>[\s\S]*$/i,a=/^[\s\S]*<body[^>]*>([\s\S]*)<\/body>[\s\S]*$/i;function s(e){if("string"==typeof e.response&&0!==e.response.indexOf("<?xml")){var t=e.response.match(a);return e.layerMetadata&&e.layerMetadata.regex?t&&t[1]&&t[1].match(e.layerMetadata.regex):t&&t[1]&&t[1].trim().length>0}return!1}function l(e){if("string"==typeof e.response&&-1!==e.response.indexOf("<?xml")){var t=e.response.match(i);return t&&t[1]&&t[1].trim().length>0}return!1}var u={HTML:{getValidResponses:function(e,t){return t?e.filter(s):e},getNoValidResponses:function(e){return e.filter((function(e){return!s(e)}))}},TEXT:{getValidResponses:function(e,t){var n=e.filter((function(e){var t=e.response;return""!==t&&"string"==typeof t&&0!==t.indexOf("<?xml")}));return t&&(n=n.filter((function(e){var t=e.response;return"string"==typeof t&&0!==t.indexOf("no features were found")}))),n},getNoValidResponses:function(e){return e.filter((function(e){return""===e.response||"string"==typeof e.response&&0===e.response.indexOf("no features were found")||e.response&&"string"==typeof e.response&&0===e.response.indexOf("<?xml")}))}},JSON:{getValidResponses:function(e,t){var n=e.filter((function(e){var t=e.response;return t&&t.features}));return t&&(n=n.filter((function(e){var n=e.response;return t&&n.features.length}))),n},getNoValidResponses:function(e){return e.filter((function(e){return e.response&&e.response.features&&0===e.response.features.length}))}},PROPERTIES:{getValidResponses:function(e,t){var n=e.filter((function(e){var t=e.response;return t&&t.features}));return t&&(n=n.filter((function(e){var n=e.response;return t&&n.features.length}))),n},getNoValidResponses:function(e){return e.filter((function(e){return e.response&&e.response.features&&0===e.response.features.length}))}},GML3:{getValidResponses:function(e){return e.filter(l)},getNoValidResponses:function(e){return e.filter((function(e){return!l(e)}))}},TEMPLATE:{getValidResponses:function(e){return e.filter((function(e){return e.response&&e.response.features&&e.response.features.length}))},getNoValidResponses:function(e){return e.filter((function(e){return e.response&&e.response.features&&0===e.response.features.length}))}}}},"./MapStore2/web/client/utils/FilterUtils.js":function(e,t,n){"use strict";n.r(t),n.d(t,"cqlToOgc",(function(){return v})),n.d(t,"escapeCQLStrings",(function(){return _})),n.d(t,"checkOperatorValidity",(function(){return w})),n.d(t,"isCrossLayerFilterValid",(function(){return O})),n.d(t,"setupCrossLayerFilterDefaults",(function(){return S})),n.d(t,"ogcDateField",(function(){return P})),n.d(t,"ogcListField",(function(){return M})),n.d(t,"ogcStringField",(function(){return L})),n.d(t,"ogcBooleanField",(function(){return T})),n.d(t,"ogcNumberField",(function(){return C})),n.d(t,"processOGCSimpleFilterField",(function(){return k})),n.d(t,"toOGCFilterParts",(function(){return A})),n.d(t,"toOGCFilter",(function(){return R})),n.d(t,"processOGCFilterGroup",(function(){return F})),n.d(t,"processOGCFilterFields",(function(){return N})),n.d(t,"getGmlPointElement",(function(){return G})),n.d(t,"getGmlPolygonElement",(function(){return U})),n.d(t,"getGmlLineStringElement",(function(){return z})),n.d(t,"processOGCGeometry",(function(){return B})),n.d(t,"processOGCSpatialFilter",(function(){return V})),n.d(t,"getGetFeatureBase",(function(){return q})),n.d(t,"getCrossLayerCqlFilter",(function(){return W})),n.d(t,"processOGCCrossLayerFilter",(function(){return H})),n.d(t,"toCQLFilter",(function(){return Z})),n.d(t,"processCQLFilterGroup",(function(){return Y})),n.d(t,"getCQLGeometryElement",(function(){return K})),n.d(t,"processCQLSpatialFilter",(function(){return X})),n.d(t,"cqlDateField",(function(){return J})),n.d(t,"cqlStringField",(function(){return Q})),n.d(t,"cqlBooleanField",(function(){return $})),n.d(t,"cqlNumberField",(function(){return ee})),n.d(t,"findSubGroups",(function(){return te})),n.d(t,"cqlListField",(function(){return ne})),n.d(t,"processCQLFilterFields",(function(){return re})),n.d(t,"processCQLSimpleFilterField",(function(){return oe})),n.d(t,"getOgcAllPropertyValue",(function(){return ie})),n.d(t,"getSLD",(function(){return ae})),n.d(t,"getWFSFilterData",(function(){return se})),n.d(t,"isLikeOrIlike",(function(){return le})),n.d(t,"isFilterEmpty",(function(){return ue})),n.d(t,"isFilterValid",(function(){return ce})),n.d(t,"composeAttributeFilters",(function(){return pe})),n.d(t,"reprojectFilterInNativeCrs",(function(){return fe})),n.d(t,"normalizeFilterCQL",(function(){return de}));var r=n("./MapStore2/web/client/utils/ogc/GML/index.js"),o=n("./MapStore2/web/client/utils/ogc/WFS/base.js"),i=n("./MapStore2/web/client/utils/ogc/Filter/operators.js"),a=n("./MapStore2/web/client/utils/ogc/Filter/CQL/parser.js"),s=n("./MapStore2/web/client/utils/ogc/Filter/fromObject.js"),l=n.n(s),u=n("./MapStore2/web/client/utils/ogc/Filter/FilterBuilder.js"),c=n.n(u),p=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),f=n("./MapStore2/node_modules/lodash/lodash.js");function d(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b,v=function(e,t){var n=c()(t);return l()(n)(Object(a.read)(e))},_=function(e){return e&&e.replace?e.replace(/\'/g,"''"):e},w=function(e,t){return!Object(f.isNil)(e)&&"isNull"!==t||!Object(f.isUndefined)(e)&&"isNull"===t},O=function(e){return Object(f.get)(e,"operation",!1)&&Object(f.get)(e,"collectGeometries.queryCollection.typeName",!1)&&Object(f.get)(e,"collectGeometries.queryCollection.geometryName",!1)},j=function(e){return'"'+e+'"'},S=function(e){if(!e||!Object(f.get)(e,"collectGeometries.queryCollection"))return null;if(Object(f.get)(e,"collectGeometries.queryCollection")){var t=(Object(f.get)(e,"collectGeometries.queryCollection.filterFields")||[]).filter((function(e){return w(e.value,e.operator)})),n=Object(f.get)(e,"collectGeometries.queryCollection.groupFields")||[{id:1,index:0,logic:"OR"}];return y(y({},e),{},{collectGeometries:y(y({},e.collectGeometries),{},{queryCollection:y(y({},e.collectGeometries.queryCollection),{},{filterFields:t,groupFields:n})})})}return null},E=function(e){return e?"1.0"===e?"1.0.0":"1.1"===e?"1.1.0":e:"2.0"},x={ogc:{startTag:"<ogc:PropertyName>",endTag:"</ogc:PropertyName>"},fes:{startTag:"<fes:ValueReference>",endTag:"</fes:ValueReference>"}},P=function(e,t,n,r){var o;if("><"===t){if(n.startDate&&n.endDate){var a=n.startDate.toISOString?n.startDate.toISOString():n.startDate,s=n.endDate.toISOString?n.endDate.toISOString():n.endDate;o=i.ogcComparisonOperators[t](r,x[r].startTag+e+x[r].endTag+"<"+r+":LowerBoundary><"+r+":Literal>"+a+"</"+r+":Literal></"+r+":LowerBoundary><"+r+":UpperBoundary><"+r+":Literal>"+s+"</"+r+":Literal></"+r+":UpperBoundary>")}}else if(n.startDate){var l=n.startDate.toISOString?n.startDate.toISOString():n.startDate;o=i.ogcComparisonOperators[t](r,x[r].startTag+e+x[r].endTag+"<"+r+":Literal>"+l+"</"+r+":Literal>")}return o},M=function(e,t,n,r){var o;return Object(f.isNil)(n)||(o=i.ogcComparisonOperators[t](r,x[r].startTag+e+x[r].endTag+"<"+r+":Literal>"+n+"</"+r+":Literal>")),o},L=function(e,t,n,r){var o;return w(n,t)&&(o="isNull"===t?i.ogcComparisonOperators[t](r,x[r].startTag+e+x[r].endTag):"="===t?i.ogcComparisonOperators[t](r,x[r].startTag+e+x[r].endTag+"<"+r+":Literal>"+n+"</"+r+":Literal>"):i.ogcComparisonOperators[t](r,x[r].startTag+e+x[r].endTag+"<"+r+":Literal>*"+n+"*</"+r+":Literal>")),o},T=function(e,t,n,r){var o="";return w(n,t)&&"="===t&&""!==n&&(o=i.ogcComparisonOperators[t](r,x[r].startTag+e+x[r].endTag+"<"+r+":Literal>"+n+"</"+r+":Literal>")),o},C=function(e,t,n,r){var o;if("><"===t)Object(f.isNil)(n)||null===n.lowBound||void 0===n.lowBound||null!==n.upBound&&void 0!==n.upBound?Object(f.isNil)(n)||null===n.upBound||void 0===n.upBound||null!==n.lowBound&&void 0!==n.lowBound?Object(f.isNil)(n)||null===n.upBound||void 0===n.upBound||null===n.lowBound||void 0===n.lowBound||(o=i.ogcComparisonOperators[t](r,x[r].startTag+e+x[r].endTag+"<"+r+":LowerBoundary><"+r+":Literal>"+n.lowBound+"</"+r+":Literal></"+r+":LowerBoundary><"+r+":UpperBoundary><"+r+":Literal>"+n.upBound+"</"+r+":Literal></"+r+":UpperBoundary>")):o=i.ogcComparisonOperators["<="](r,x[r].startTag+e+x[r].endTag+"<"+r+":Literal>"+n.upBound+"</"+r+":Literal>"):o=i.ogcComparisonOperators[">="](r,x[r].startTag+e+x[r].endTag+"<"+r+":Literal>"+n.lowBound+"</"+r+":Literal>");else{var a=Object(f.isNil)(n)||null===n.lowBound||void 0===n.lowBound?n:n.lowBound;Object(f.isNil)(a)||(o=i.ogcComparisonOperators[t](r,x[r].startTag+e+x[r].endTag+"<"+r+":Literal>"+a+"</"+r+":Literal>"))}return o},k=function(e,t){var n="";switch(e.type){case"date":n=P(e.attribute,e.operator,e.values,t);break;case"number":n=C(e.attribute,e.operator,e.values,t);break;case"string":n=L(e.attribute,e.operator,e.values,t);break;case"boolean":n=T(e.attribute,e.operator,e.values,t);break;case"list":if(e.values&&e.values.length>0){n=e.values.reduce((function(n,r){var o=null===r||"null"===r?"isNull":"=";return n+L(e.attribute,o,r,t)}),""),n=i.ogcLogicalOperators.OR(t,n)}}return n},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.typeName,n=e.geometryName,r=e.cqlFilter,o=void 0===r?"INCLUDE":r;return"queryCollection('".concat(t,"', '").concat(n,"','").concat(_(o),"')")},D=function(e){return"collectGeometries(".concat(e,")")},A=function(e,t,n){var r,a,s,l,u=[];if(e.filterFields&&e.filterFields.length>0)""!==(r=e.groupFields&&e.groupFields.length>0?b.processOGCFilterGroup(e.groupFields[0],e,n):b.processOGCFilterFields(null,e,n))&&u.push(r);else if(e.simpleFilterFields&&e.simpleFilterFields.length>0){var c=i.ogcLogicalOperators.AND(n,e.simpleFilterFields.map((function(e){return k(e,n)})).join(""));u.push(c)}if(Object(f.isArray)(e.spatialField)?(l=Object(f.find)(e.spatialField,(function(e){return"BBOX"===e.operation})))||(s=e.spatialField):e.spatialField&&("BBOX"===e.spatialField.operation?l=e.spatialField:s=[e.spatialField]),l){if(Object(f.isArray)(l.geometry&&l.geometry.extent[0])){var p=l.geometry.extent.reduce((function(e,r){var o=Object.assign({},l);return l.geometry.extent=r,e+b.processOGCSpatialFilter(t,o,n)}),"");a=i.ogcLogicalOperators.OR(n,p)}u.push(a)}else if(s&&(s=s.filter((function(e){return e&&e.geometry&&e.operation}))).length>0){var d=s.map((function(e){return b.processOGCSpatialFilter(t,e,n)})).join("");a=s.length>1?i.ogcLogicalOperators[e.spatialFieldOperator||"AND"](n,d):d,u.push(a)}if(e.crossLayerFilter&&e.crossLayerFilter.operation){var h=y(y({},e.crossLayerFilter),{},{attribute:e.crossLayerFilter.attribute});Array.isArray()?h.forEach((function(e){return u.push(b.processOGCCrossLayerFilter(e,n))})):u.push(b.processOGCCrossLayerFilter(h,n))}return e.options&&e.options.cqlFilter&&u.push(v(e.options.cqlFilter,{filterNS:n,wfsVersion:t,gmlVersion:Object(o.wfsToGmlVersion)(t)})),u},R=function(e,t,n){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"EPSG:4326";try{r=t instanceof Object?t:JSON.parse(t)}catch(e){return e}var u=E(n||"2.0"),c="2.0"===u?"fes":"ogc",p=b.getGetFeatureBase(u,r.pagination,i,a,t&&t.options),f=b.toOGCFilterParts(r,u,c),d="";return f.length>0&&(d="<"+c+":Filter>",1===f.length?d+=f[0]:(d+="<"+c+":And>",f.forEach((function(e){d+=e})),d+="</"+c+":And>"),d+="</"+c+":Filter>"),p+="<wfs:Query ".concat("2.0"===u?"typeNames":"typeName",'="').concat(e,'" ').concat("native"!==l&&'srsName="'.concat(l,'"')||"",">"),p+=d,s&&(p+=s.map((function(e){return x[c].startTag+e+x[c].endTag})).join("")),o&&o.sortBy&&o.sortOrder&&(p+="<"+c+":SortBy><"+c+":SortProperty>"+x[c].startTag+o.sortBy+x[c].endTag+"<"+c+":SortOrder>"+o.sortOrder+"</"+c+":SortOrder></"+c+":SortProperty></"+c+":SortBy>"),p+="</wfs:Query></wfs:GetFeature>"},F=function(e,t,n){var r=b.processOGCFilterFields(e,t,n),o=b.findSubGroups(e,t.groupFields);return o.length>0&&o.forEach((function(e){r+=b.processOGCFilterGroup(e,t,n)})),""!==r?i.ogcLogicalOperators[e.logic](n,r):""},N=function(e,t,n){var r=e?t.filterFields.filter((function(t){return t.groupId===e.id&&w(t.value,t.operator)})):t.filterFields.filter((function(e){return w(e.value,e.operator)}));return r.length?r.reduce((function(e,t){var r;switch(t.type){case"date":case"date-time":case"time":r=P(t.attribute,t.operator,t.value,n);break;case"number":r=C(t.attribute,t.operator,t.value,n);break;case"string":r=L(t.attribute,t.operator,t.value,n);break;case"boolean":r=T(t.attribute,t.operator,t.value,n);break;case"list":r=M(t.attribute,t.operator,t.value,n)}return"isNull"===t.operator&&(r=L(t.attribute,t.operator,t.operator,n)),r&&e.push(r),e}),[]).join(""):""},G=function(e,t,n){return Object(r.pointElement)(e,t,Object(o.wfsToGmlVersion)(n))},U=function(e,t,n){return Object(r.polygonElement)(e,t,Object(o.wfsToGmlVersion)(n))},z=function(e,t,n){return Object(r.lineStringElement)(e,t,Object(o.wfsToGmlVersion)(n))},B=function(e,t){return Object(r.processOGCGeometry)(Object(o.wfsToGmlVersion)(e),t)},V=function(e,t,n){if(t.collectGeometries)return b.processOGCCrossLayerFilter(t);var a=x[n].startTag+t.attribute+x[n].endTag;switch(t.operation){case"INTERSECTS":case"DWITHIN":case"WITHIN":case"CONTAINS":a+=Object(r.processOGCGeometry)(Object(o.wfsToGmlVersion)(e),t.geometry),"DWITHIN"===t.operation&&(a+="<"+n+':Distance units="m">'+(t.geometry.distance||0)+"</"+n+":Distance>");break;case"BBOX":var s=t.geometry.extent[0]+" "+t.geometry.extent[1],l=t.geometry.extent[2]+" "+t.geometry.extent[3];a+='<gml:Envelope srsName="'+t.geometry.projection+'"><gml:lowerCorner>'+s+"</gml:lowerCorner><gml:upperCorner>"+l+"</gml:upperCorner></gml:Envelope>"}return i.ogcSpatialOperators[t.operation](n,a)},q=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=E(e),a="<wfs:GetFeature ";switch(a+=r?'outputFormat="'+r+'" ':"",a+=t&&(t.startIndex||0===t.startIndex)?'startIndex="'+t.startIndex+'" ':"",a+=o.viewParams?' viewParams="'.concat(o.viewParams,'" '):"",i){case"1.0.0":a+=t&&t.maxFeatures?'maxFeatures="'+t.maxFeatures+'" ':"",a=n?a+' resultType="hits"':a,a+='service="WFS" version="'+i+'" outputFormat="GML2" xmlns:gml="http://www.opengis.net/gml" xmlns:wfs="http://www.opengis.net/wfs" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" '+(o.noSchemaLocation?"":'xsi:schemaLocation="http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/WFS-basic.xsd"')+">";break;case"1.1.0":a+=t&&t.maxFeatures?'maxFeatures="'+t.maxFeatures+'" ':"",a=n?a+' resultType="hits"':a,a+='service="WFS" version="'+i+'" xmlns:gml="http://www.opengis.net/gml" xmlns:wfs="http://www.opengis.net/wfs" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" '+(o.noSchemaLocation?"":'xsi:schemaLocation="http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd"')+">";break;default:a+=t&&t.maxFeatures?'count="'+t.maxFeatures+'" ':"",a=n&&!t?a+' resultType="hits"':a,a+='service="WFS" version="'+i+'" xmlns:wfs="http://www.opengis.net/wfs/2.0" xmlns:fes="http://www.opengis.net/fes/2.0" xmlns:gml="http://www.opengis.net/gml/3.2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" '+(o.noSchemaLocation?"":'xsi:schemaLocation="http://www.opengis.net/wfs/2.0 http://schemas.opengis.net/wfs/2.0/wfs.xsd http://www.opengis.net/gml/3.2 http://schemas.opengis.net/gml/3.2.1/gml.xsd"')+">"}return a},W=function(e){return Object(f.get)(e,"collectGeometries.queryCollection.cqlFilter")||(Object(f.get)(e,"collectGeometries.queryCollection.filterFields")||[]).length>0&&(Object(f.get)(e,"collectGeometries.queryCollection.groupFields")||[]).length>0&&b.toCQLFilter(e.collectGeometries.queryCollection)||"INCLUDE"},H=function(e,t){var n=t||"ogc",r=x[n].startTag+e.attribute+x[n].endTag;if(e.collectGeometries){var o=b.getCrossLayerCqlFilter(e);r+='<ogc:Function name="collectGeometries"><ogc:Function name="queryCollection">'+"<ogc:Literal>".concat(e.collectGeometries.queryCollection.typeName,"</ogc:Literal>")+"<ogc:Literal>".concat(e.collectGeometries.queryCollection.geometryName,"</ogc:Literal>")+"<ogc:Literal><![CDATA[".concat(o,"]]></ogc:Literal>")+"</ogc:Function></ogc:Function>"}return"DWITHIN"===e.operation&&(r+="<"+n+':Distance units="m">'+(e.distance||0)+"</"+n+":Distance>"),i.ogcSpatialOperators[e.operation](n,r)},Z=function(e){var t;try{t=e instanceof Object?e:JSON.parse(e)}catch(e){return e}var n,r,o=[];if(t.filterFields&&t.filterFields.length>0)(n=b.processCQLFilterGroup(t.groupFields[0],t))&&o.push(n);else if(t.simpleFilterFields&&t.simpleFilterFields.length>0){var i=t.simpleFilterFields.reduce((function(e,t){var n=e,r=b.processCQLSimpleFilterField(t);return!1!==r&&(n=e.length>0?e+" AND ("+r+")":"("+r+")"),n}),"");i=i.length>0?i:"INCLUDE",o.push(i)}if(t.spatialField&&(r=b.processCQLSpatialFilter(t))&&o.push(r),t.crossLayerFilter){var a=t.crossLayerFilter,s=a.operation,l=a.attribute,u=a.collectGeometries&&a.collectGeometries.queryCollection;if(s&&l&&u){var c=u.typeName,p=u.geometryName,f=b.getCrossLayerCqlFilter(a),d=D(I({typeName:c,geometryName:p,cqlFilter:f}));o.push("".concat(s,"(").concat(l,",").concat(d,")"))}}return o.length?"("+(o.length>1?o.join(") AND ("):o[0])+")":null},Y=function(e,t){var n="NOR"===e.logic?y(y({},e),{},{logic:"AND",negateAll:!0}):e,r=b.processCQLFilterFields(n,t),o=b.findSubGroups(n,t.groupFields);if(o.length>0){var i=o.map((function(e){return(n.negateAll?"NOT (":"(")+b.processCQLFilterGroup(e,t)+")"})).join(" "+n.logic+" ");return r?[r,i].join(" "+n.logic+" "):i}return r},K=function(e,t){var n=t+"(";switch(t){case"Point":n+=e.join(" ");break;case"MultiPoint":e.forEach((function(t,r){n+=t.join(" "),n+=r<e.length-1?", ":""}));break;case"Polygon":e.forEach((function(t,o){n+="(";var i=Object(r.closePolygon)(t).map((function(e){return e[0]+" "+e[1]}));n+=i.join(", "),n+=")",n+=o<e.length-1?", ":""}));break;case"MultiPolygon":e.forEach((function(t,o){n+="(",t.forEach((function(e,o){n+="(";var i=Object(r.closePolygon)(e).map((function(e){return e[0]+" "+e[1]}));n+=i.join(", "),n+=")",n+=o<t.length-1?", ":""})),n+=")",n+=o<e.length-1?", ":""}))}return n+=")"},X=function(e){var t=(Object(f.isArray)(e.spatialField)?e.spatialField:[e.spatialField]).filter((function(e){return e&&e.geometry&&e.operation})),n="";return t.forEach((function(r,o){if(n+=r.operation+'("'+r.attribute+'",',r.collectGeometries&&r.collectGeometries.queryCollection)n+=D(I(r.collectGeometries.queryCollection));else{var i=r.geometry.projection||"";i=2===i.split(":").length?"SRID="+i.split(":")[1]+";":"",n+=i+b.getCQLGeometryElement(r.geometry.coordinates,r.geometry.type)}n+=")",o<t.length-1&&(n+=" ".concat(e.spatialFieldOperator||"AND"," "))})),n},J=function(e,t,n){var r;"><"===t?n.startDate&&n.endDate&&(r="("+e+">='"+(n.startDate.toISOString?n.startDate.toISOString():n.startDate)+"' AND "+e+"<='"+(n.endDate.toISOString?n.endDate.toISOString():n.endDate)+"')"):n.startDate&&(r=e+t+"'"+(n.startDate.toISOString?n.startDate.toISOString():n.startDate)+"'");return r},Q=function(e,t,n){var r,o=j(e);if(!Object(f.isNil)(n))if("isNull"===t)r="isNull("+o+")=true";else if("="===t){r=o+t+("'"+_(n)+"'")}else if("ilike"===t){r="strToLowerCase("+o+") LIKE "+("'%"+_(n).toLowerCase()+"%'")}else{r=o+" LIKE "+("'%"+_(n)+"%'")}return r},$=function(e,t,n){var r="";Object(f.isNil)(n)||""===n||"="===t&&(r='"'+e+'"'+t+("'"+n+"'"));return r},ee=function(e,t,n){var r,o=j(e);if("><"===t)Object(f.isNil)(n)||null===n.lowBound||void 0===n.lowBound||null!==n.upBound&&void 0!==n.upBound?Object(f.isNil)(n)||null===n.upBound||void 0===n.upBound||null!==n.lowBound&&void 0!==n.lowBound?Object(f.isNil)(n)||null===n.upBound||void 0===n.upBound||null===n.lowBound||void 0===n.lowBound||(r="("+o+">='"+n.lowBound+"' AND "+o+"<='"+n.upBound+"')"):r="("+o+"<='"+n.upBound+"')":r="("+o+">='"+n.lowBound+"')";else{var i=Object(f.isNil)(n)||null===n.lowBound||void 0===n.lowBound?n:n.lowBound;Object(f.isNil)(i)||(r=o+" "+t+" '"+i+"'")}return r},te=function(e,t){return t.filter((function(t){return t.groupId===e.id}))},ne=function(e,t,n){return b.cqlStringField(e,t,n)},re=function(e,t){var n=t.filterFields.filter((function(t){return t.groupId===e.id})),r=[];return n&&(n.forEach((function(t){var n;switch(t.type){case"date":case"time":case"date-time":n=b.cqlDateField(t.attribute,t.operator,t.value);break;case"number":n=b.cqlNumberField(t.attribute,t.operator,t.value);break;case"string":n=b.cqlStringField(t.attribute,t.operator,t.value);break;case"boolean":n=b.cqlBooleanField(t.attribute,t.operator,t.value);break;case"list":n=b.cqlListField(t.attribute,t.operator,t.value)}n&&r.push(e.negateAll?"NOT ("+n+")":n)})),r=r.join(" "+e.logic+" ")),r},oe=function(e){var t=!1;switch(e.type){case"date":t=b.cqlDateField(e.attribute,e.operator,e.values);break;case"number":t=b.cqlNumberField(e.attribute,e.operator,e.values);break;case"string":t=b.cqlStringField(e.attribute,e.operator,e.values);break;case"boolean":t=b.cqlBooleanField(e.attribute,e.operator,e.values);break;case"list":if(e.values.length!==e.optionsValues.length){var n=!1,r=e.values.reduce((function(e,t){return null===t||"null"===t?n=!0:e.push("'"+t+"'"),e}),[]);t=r.length>0?e.attribute+" IN("+r.join(",")+")":t,n&&(t=t?t+" OR isNull("+e.attribute+")=true":"isNull("+e.attribute+")=true")}}return!!(t&&t.length>0)&&t},ie=function(e,t){return'<wfs:GetPropertyValue service="WFS" valueReference=\''.concat(t,'\'\n                version="2.0" xmlns:fes="http://www.opengis.net/fes/2.0"\n                xmlns:gml="http://www.opengis.net/gml/3.2"\n                xmlns:wfs="http://www.opengis.net/wfs/2.0"\n                xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n                xsi:schemaLocation="http://www.opengis.net/wfs/2.0 http://schemas.opengis.net/wfs/2.0/wfs.xsd http://www.opengis.net/gml/3.2 http://schemas.opengis.net/gml/3.2.1/gml.xsd">\n                    <wfs:Query typeNames="').concat(e,'"/>\n            </wfs:GetPropertyValue>')},ae=function(e,t,n){var r=b.toOGCFilter(e,t,n),o=r.search("<".concat(b.nsplaceholder,":Filter>"));if(-1!==o){var i=r.search("</wfs:Query>");r=r.substr(o,i-o)}else r="";return'<StyledLayerDescriptor version="1.0.0"\n            xsi:schemaLocation="http://www.opengis.net/sld StyledLayerDescriptor.xsd" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:gml="http://www.opengis.net/gml" xmlns:gsml="urn:cgi:xmlns:CGI:GeoSciML:2.0" xmlns:sld="http://www.opengis.net/sld" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><NamedLayer><Name>'.concat(e,"</Name><UserStyle><FeatureTypeStyle><Rule >").concat(r,'<PointSymbolizer><Graphic><Mark><WellKnownName>circle</WellKnownName><Fill><CssParameter name="fill">#0000FF</CssParameter></Fill></Mark><Size>20</Size></Graphic></PointSymbolizer></Rule></FeatureTypeStyle></UserStyle></NamedLayer></StyledLayerDescriptor>')},se=function(e,t){return"string"==typeof e?e:"OGC"===e.filterType?b.toOGCFilter(e.featureTypeName,y(y({},e),{},{options:t}),e.ogcVersion,e.sortOptions,e.hits):b.toCQLFilter(e)},le=function(e){return"ilike"===e||"like"===e},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.filterFields,n=void 0===t?[]:t,r=e.spatialField,o=void 0===r?{}:r,i=e.crossLayerFilter,a=void 0===i?{}:i;return!(n.filter((function(e){return e.value||0===e.value})).length>0||o.geometry||a&&a.attribute&&a.operation)},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.filterFields&&e.filterFields.length>0||e.simpleFilterFields&&e.simpleFilterFields.length>0||e.spatialField&&e.spatialField.geometry&&e.spatialField.operation||Object(f.isArray)(e.spatialField)&&Object(f.findIndex)(e.spatialField,(function(e){return e.operation&&e.geometry}))>-1||e.crossLayerFilter&&e.crossLayerFilter.collectGeometries&&e.crossLayerFilter.collectGeometries.queryCollection&&e.crossLayerFilter.collectGeometries.queryCollection.geometryName&&e.crossLayerFilter.collectGeometries.queryCollection.typeName},pe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"AND",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"AND",r={id:(new Date).getTime(),index:0,logic:t};return e.reduce((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.filterFields,i=void 0===o?[]:o,a=t.groupFields,s=void 0===a?[]:a,l=t.spatialField,u=arguments.length>2?arguments[2]:void 0;return{groupFields:e.groupFields.concat(i.length>0&&s.map((function(e){return{groupId:0===e.index&&r.id||"".concat(e.groupId,"_").concat(u),logic:e.logic,id:"".concat(e.id,"_").concat(u),index:1+e.index}}))||[]),filterFields:e.filterFields.concat(i.map((function(e){return y(y({},e),{},{groupId:"".concat(e.groupId,"_").concat(u)})}))),spatialField:l?[].concat(d(e.spatialField),[l]):e.spatialField,spatialFieldOperator:n}}),{groupFields:[r],filterFields:[],spatialField:[]})},fe=function(e,t){var n,r=e.spatialField.geometry.projection,o=e.spatialField.geometry.center,i=e.spatialField.geometry.radius,a=Object(p.reprojectGeoJson)(e.spatialField.geometry,e.spatialField.geometry.projection||"EPSG:3857",t).coordinates,s=o&&[(n=Object(p.reproject)(o,r,t)).x,n.y],l=i&&Object(p.reproject)([i,0],r,t).x;return y(y({},e),{},{spatialField:y(y({},e.spatialField),{},{geometry:y(y({},e.spatialField.geometry),{},{center:s,radius:l,coordinates:a,projection:t})})})},de=function(e,t){return e&&e.spatialField&&e.spatialField.geometry&&e.spatialField.geometry.coordinates&&e.spatialField.geometry.coordinates[0]&&(e.spatialField.projection||"EPSG:3857")!==t?t?b.reprojectFilterInNativeCrs(e,t):y(y({},e),{},{spatialField:void 0}):e};b={processOGCFilterGroup:F,processOGCFilterFields:N,processOGCCrossLayerFilter:H,getGetFeatureBase:q,toOGCFilterParts:A,findSubGroups:te,toCQLFilter:Z,getCrossLayerCqlFilter:W,processCQLFilterGroup:Y,processCQLSimpleFilterField:oe,processCQLSpatialFilter:X,processCQLFilterFields:re,getCQLGeometryElement:K,cqlStringField:Q,cqlDateField:J,cqlNumberField:ee,cqlBooleanField:$,cqlListField:ne,toOGCFilter:R,reprojectFilterInNativeCrs:fe,processOGCSpatialFilter:V}},"./MapStore2/web/client/utils/IdentifyUtils.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getFormatForResponse",(function(){return i})),n.d(t,"responseValidForEdit",(function(){return a}));var r=n("./MapStore2/node_modules/lodash/lodash.js"),o=n("./MapStore2/web/client/utils/FeatureInfoUtils.js"),i=function(e,t){var n=e.format,r=e.queryParams,i=void 0===r?{}:r;return i.info_format||i.outputFormat||n&&o.a[n]||t.format},a=function(e){return!!Object(r.get)(e,"layer.search.url")}},"./MapStore2/web/client/utils/LayerLocalizationUtils.js":function(e,t,n){"use strict";n.r(t),n.d(t,"generateEnvString",(function(){return r}));var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.length?e.map((function(e){var t=e.name,n=e.value;return"".concat(t,":").concat(n)})).join(";"):""}},"./MapStore2/web/client/utils/MapInfoUtils.js":function(e,t,n){"use strict";n.r(t),n.d(t,"AVAILABLE_FORMAT",(function(){return L})),n.d(t,"EMPTY_RESOURCE_VALUE",(function(){return T})),n.d(t,"getAvailableInfoFormat",(function(){return C})),n.d(t,"getLabelFromValue",(function(){return k})),n.d(t,"getAvailableInfoFormatLabels",(function(){return I})),n.d(t,"getAvailableInfoFormatValues",(function(){return D})),n.d(t,"getDefaultInfoFormatValue",(function(){return A})),n.d(t,"getDefaultInfoFormatValueFromLayer",(function(){return R})),n.d(t,"getLayerFeatureInfoViewer",(function(){return F})),n.d(t,"getLayerFeatureInfo",(function(){return N})),n.d(t,"clickedPointToGeoJson",(function(){return G})),n.d(t,"getMarkerLayer",(function(){return U})),n.d(t,"buildIdentifyRequest",(function(){return z})),n.d(t,"getIdentifyFlow",(function(){return B})),n.d(t,"getValidator",(function(){return V})),n.d(t,"getViewers",(function(){return q})),n.d(t,"defaultQueryableFilter",(function(){return W})),n.d(t,"services",(function(){return H})),n.d(t,"getViewer",(function(){return Z})),n.d(t,"setViewer",(function(){return Y})),n.d(t,"filterRequestParams",(function(){return K}));var r,o=n("./MapStore2/web/client/utils/FeatureInfoUtils.js"),i=n("./node_modules/turf-point-on-surface/index.js"),a=n.n(i),s=n("./MapStore2/node_modules/lodash/lodash.js"),l=n("./MapStore2/web/client/components/map/openlayers/img/marker-icon.png"),u=n.n(l),c=n("./MapStore2/web/client/components/data/identify/viewers/JSONViewer.jsx"),p=n.n(c),f=n("./MapStore2/web/client/components/data/identify/viewers/HTMLViewer.jsx"),d=n.n(f),h=n("./MapStore2/web/client/components/data/identify/viewers/TextViewer.jsx"),m=n.n(h),y=n("./MapStore2/web/client/utils/mapinfo/wfs.js"),g=n.n(y),b=n("./MapStore2/web/client/utils/mapinfo/wms.js"),v=n.n(b),_=n("./MapStore2/web/client/utils/mapinfo/wmts.js"),w=n.n(_),O=n("./MapStore2/web/client/utils/mapinfo/vector.js"),j=n.n(O);function S(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L=["TEXT","PROPERTIES","HTML","TEMPLATE"],T="NODATA",C=function(){return Object.keys(o.a).filter((function(e){return-1!==r.AVAILABLE_FORMAT.indexOf(e)})).reduce((function(e,t){return e[t]=o.a[t],e}),{})},k=function(e){return r.getAvailableInfoFormatLabels().filter((function(t){return o.a[t]===e}))[0]||"TEXT"},I=function(){return Object.keys(r.getAvailableInfoFormat())},D=function(){return Object.keys(r.getAvailableInfoFormat()).map((function(e){return o.a[e]}))},A=function(){return o.a[r.AVAILABLE_FORMAT[0]]},R=function(e,t){return e.featureInfo&&e.featureInfo.format&&o.a[e.featureInfo.format]||t.format||r.getDefaultInfoFormatValue()},F=function(e){return e.featureInfo&&e.featureInfo.viewer?e.featureInfo.viewer:{}},N=function(e){return e&&e.featureInfo&&P({},e.featureInfo)||{}},G=function(e){if(!e)return[];if("Feature"===e.type){var t=[a()(e)];return e&&e.geometry&&"Point"!==e.geometry.type&&t.push(e),t}return void 0===e.lng||void 0===e.lat?e.features||[]:[].concat(S(e.features||[]),[{id:"get-feature-info-point",type:"Feature",geometry:{type:"Point",coordinates:[parseFloat(e.lng),parseFloat(e.lat)]},style:[{iconUrl:u.a,iconAnchor:[12,41],iconSize:[25,41]}]}])},U=function(e,t,n,o,i){return P({type:"vector",visibility:!0,name:e||"GetFeatureInfo",styleName:n||"marker",label:i,features:r.clickedPointToGeoJson(t)},o)},z=function(e,t){if(r.services[e.type]){var n=r.getDefaultInfoFormatValueFromLayer(e,t),o=r.getLayerFeatureInfoViewer(e),i=r.getLayerFeatureInfo(e);return r.services[e.type].buildRequest(e,t,n,o,i)}return{}},B=function(e,t,n){return r.services[e.type]&&r.services[e.type].getIdentifyFlow?r.services[e.type].getIdentifyFlow(e,t,n):null},V=function(e){var t={getValidResponses:function(e){return e},getNoValidResponses:function(){return[]}};return{getValidResponses:function(n){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n.reduce((function(n,i){if(i){var a;i.queryParams&&i.queryParams.hasOwnProperty("info_format")&&(a=i.queryParams.info_format),i.queryParams&&i.queryParams.hasOwnProperty("outputFormat")&&(a=i.queryParams.outputFormat);var s=(o.c[i.format||o.b[a]||o.b[e]]||t).getValidResponses([i],r);return[].concat(S(n),S(s))}return S(n)}),[])},getNoValidResponses:function(n){return n.reduce((function(n,r){if(r){var i;r.queryParams&&r.queryParams.hasOwnProperty("info_format")&&(i=r.queryParams.info_format),r.queryParams&&r.queryParams.hasOwnProperty("outputFormat")&&(i=r.queryParams.outputFormat);var a=(o.c[r.format||o.b[i]||o.b[e]]||t).getNoValidResponses([r]);return[].concat(S(n),S(a))}return S(n)}),[])}}},q=function(){var e;return M(e={},o.a.PROPERTIES,p.a),M(e,o.a.JSON,p.a),M(e,o.a.HTML,d.a),M(e,o.a.TEXT,m.a),e},W=function(e){var t;return e.visibility&&r.services[e.type]&&(void 0===e.queryable||e.queryable)&&"background"!==e.group&&"HIDDEN"!==(null==e||null===(t=e.featureInfo)||void 0===t?void 0:t.format)},H={wfs:g.a,wms:v.a,wmts:w.a,vector:j.a},Z=function(e){return r.VIEWERS[e]?r.VIEWERS[e]:null},Y=function(e,t){r.VIEWERS[e]=t},K=function(e,t,n){var r=t||[],o=n||[];return Object.keys(e).reduce((function(t,n){if("params"!==n&&-1!==r.indexOf(n))t[n]=e[n];else if("params"===n&&o.length>0){var i=e[n];Object.keys(i).forEach((function(e){-1===Object(s.findIndex)(o,(function(t){return t===e}))&&(t[e]=i[e])}),{})}return t}),{})};r={AVAILABLE_FORMAT:L,getAvailableInfoFormatLabels:I,getAvailableInfoFormat:C,getDefaultInfoFormatValue:A,clickedPointToGeoJson:G,services:H,getDefaultInfoFormatValueFromLayer:R,getLayerFeatureInfoViewer:F,getLayerFeatureInfo:N,VIEWERS:{}}},"./MapStore2/web/client/utils/MapUtils.js":function(e,t,n){"use strict";n.r(t),n.d(t,"DEFAULT_SCREEN_DPI",(function(){return b})),n.d(t,"METERS_PER_UNIT",(function(){return v})),n.d(t,"GOOGLE_MERCATOR",(function(){return _})),n.d(t,"EXTENT_TO_ZOOM_HOOK",(function(){return w})),n.d(t,"ZOOM_TO_EXTENT_HOOK",(function(){return O})),n.d(t,"RESOLUTIONS_HOOK",(function(){return j})),n.d(t,"RESOLUTION_HOOK",(function(){return S})),n.d(t,"COMPUTE_BBOX_HOOK",(function(){return E})),n.d(t,"GET_PIXEL_FROM_COORDINATES_HOOK",(function(){return x})),n.d(t,"GET_COORDINATES_FROM_PIXEL_HOOK",(function(){return P})),n.d(t,"registerHook",(function(){return L})),n.d(t,"getHook",(function(){return T})),n.d(t,"executeHook",(function(){return C})),n.d(t,"clearHooks",(function(){return k})),n.d(t,"dpi2dpm",(function(){return I})),n.d(t,"dpi2dpu",(function(){return D})),n.d(t,"getSphericalMercatorScale",(function(){return A})),n.d(t,"getGoogleMercatorScale",(function(){return R})),n.d(t,"getSphericalMercatorScales",(function(){return F})),n.d(t,"getGoogleMercatorScales",(function(){return N})),n.d(t,"getResolutionsForScales",(function(){return G})),n.d(t,"getGoogleMercatorResolutions",(function(){return U})),n.d(t,"getResolutions",(function(){return z})),n.d(t,"getScales",(function(){return B})),n.d(t,"defaultGetZoomForExtent",(function(){return V})),n.d(t,"getZoomForExtent",(function(){return q})),n.d(t,"getCurrentResolution",(function(){return W})),n.d(t,"getCenterForExtent",(function(){return H})),n.d(t,"getBbox",(function(){return Z})),n.d(t,"isNearlyEqual",(function(){return Y})),n.d(t,"mapUpdated",(function(){return K})),n.d(t,"transformExtent",(function(){return X})),n.d(t,"groupSaveFormatted",(function(){return J})),n.d(t,"saveMapConfiguration",(function(){return Q})),n.d(t,"generateNewUUIDs",(function(){return $})),n.d(t,"mergeMapConfigs",(function(){return ee})),n.d(t,"addRootParentGroup",(function(){return te})),n.d(t,"isSimpleGeomType",(function(){return ne})),n.d(t,"getSimpleGeomType",(function(){return re})),n.d(t,"getIdFromUri",(function(){return oe})),n.d(t,"parseLayoutValue",(function(){return ie})),n.d(t,"prepareMapObjectToCompare",(function(){return ae})),n.d(t,"updateObjectFieldKey",(function(){return se})),n.d(t,"compareMapChanges",(function(){return le})),n.d(t,"createRegisterHooks",(function(){return ue}));var r=n("./MapStore2/node_modules/lodash/lodash.js"),o=n("./node_modules/uuid/v1.js"),i=n.n(o),a=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),s=n("./MapStore2/web/client/utils/ImmutableUtils.js"),l=n("./MapStore2/web/client/utils/LayersUtils.js"),u=n("./node_modules/object-assign/index.js"),c=n.n(u);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function d(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=96,v={m:1,degrees:111194.87428468118,ft:.3048,"us-ft":1200/3937},_={RADIUS:6378137,TILE_WIDTH:256,ZOOM_FACTOR:2},w="EXTENT_TO_ZOOM_HOOK",O="ZOOM_TO_EXTENT_HOOK",j="RESOLUTIONS_HOOK",S="RESOLUTION_HOOK",E="COMPUTE_BBOX_HOOK",x="GET_PIXEL_FROM_COORDINATES_HOOK",P="GET_COORDINATES_FROM_PIXEL_HOOK",M={};function L(e,t){M[e]=t}function T(e){return M[e]}function C(e,t,n){var r=T(e);return r?t(r):n?n():null}function k(){M={}}function I(e){return e*(100/2.54)}function D(e,t){var n=Object(a.getUnits)(t||"EPSG:3857");return v[n]*I(e||b)}function A(e,t,n,r,o){return 2*Math.PI*e/(t*Math.pow(n,r)/I(o||b))}function R(e,t){return A(_.RADIUS,_.TILE_WIDTH,_.ZOOM_FACTOR,e,t)}function F(e,t,n,r,o,i){for(var a=[],s=r;s<=o;s++)a.push(A(e,t,n,s,i));return a}function N(e,t,n){return F(_.RADIUS,_.TILE_WIDTH,_.ZOOM_FACTOR,e,t,n)}function G(e,t,n){var r=D(n,t);return e.map((function(e){return e/r}))}function U(e,t,n){return G(N(e,t,n),"EPSG:3857",n)}function z(){return T("RESOLUTIONS_HOOK")?T("RESOLUTIONS_HOOK")():U(0,21,b)}function B(e,t){var n=D(t,e);return z().map((function(e){return e*n}))}function V(e,t,n,r,o,i){var a=e[2]-e[0],s=e[3]-e[1],l=Math.abs(a/t.width),u=Math.abs(s/t.height),c=Math.max(l,u),p=(i||G(N(n,r,o||b),"EPSG:3857",o)).reduce((function(e,t,n){var r=Math.abs(t-c);return r>e.diff?e:{diff:r,zoom:n}}),{diff:Number.POSITIVE_INFINITY,zoom:0}).zoom;return Math.max(0,Math.min(p,r))}function q(e,t,n,r,o){return T("EXTENT_TO_ZOOM_HOOK")?T("EXTENT_TO_ZOOM_HOOK")(e,t,n,r,o):V(e,t,n,r,o,T("RESOLUTIONS_HOOK")?T("RESOLUTIONS_HOOK")(e,t,n,r,o,I(o||b)):null)}function W(e,t,n,r){return T("RESOLUTION_HOOK")?T("RESOLUTION_HOOK")(e,t,n,r):U(t,n,r)[e]}function H(e,t){var n=(e[2]-e[0])/2,r=(e[3]-e[1])/2;return{x:e[0]+n,y:e[1]+r,crs:t}}function Z(e,t){return C("COMPUTE_BBOX_HOOK",(function(n){return n(e,t)}))}var Y=function(e,t){return void 0!==e&&void 0!==t&&e.toFixed(12)-t.toFixed(12)==0};function K(e,t){var n,o,i,a;return!(!e||Object(r.isEmpty)(e)||!t||Object(r.isEmpty)(t))&&(!(Y(null==t||null===(n=t.center)||void 0===n?void 0:n.x,null==e||null===(o=e.center)||void 0===o?void 0:o.x)&&Y(null==t||null===(i=t.center)||void 0===i?void 0:i.y,null==e||null===(a=e.center)||void 0===a?void 0:a.y))||(null==t?void 0:t.zoom)!==(null==e?void 0:e.zoom))}function X(e,t,n,r){var o=Object(a.getUnits)(e);return"ft"===o?{width:n/v.ft,height:r/v.ft}:"us-ft"===o?{width:n/v["us-ft"],height:r/v["us-ft"]}:"degrees"===o?{width:n/(111132.92-559.82*Math.cos(2*t.y)+1.175*Math.cos(4*t.y)),height:r/(111412.84*Math.cos(t.y)-93.5*Math.cos(3*t.y))}:{width:n,height:r}}var J=function(e){return{id:e.id,title:e.title,description:e.description,tooltipOptions:e.tooltipOptions,tooltipPlacement:e.tooltipPlacement,expanded:e.expanded}};function Q(e,t,n,o,i,a,u){var p={center:e.center,maxExtent:e.maxExtent,projection:e.projection,units:e.units,mapInfoControl:e.mapInfoControl,zoom:e.zoom,mapOptions:e.mapOptions||{}},f=t.map((function(e){return Object(l.saveLayer)(e)})),d=n.reduce((function(e,t){return e.concat(Object(l.getGroupNodes)(t))}),[].concat(n.map((function(e){return e.id})))).map((function(e){var t=Object(l.getNode)(n,e);return t&&t.nodes?J(t):null})).filter((function(e){return e})),h=o.filter((function(e){return!!e.thumbnail})),m=Object(l.extractSourcesFromLayers)(f),g=f.map((function(e){return c()({},e,{tileMatrixSet:e.tileMatrixSet&&e.tileMatrixSet.length>0,matrixIds:e.matrixIds&&Object.keys(e.matrixIds)})})),b=Object(r.findIndex)(g,(function(e){return"annotations"===e.id}));if(-1!==b){var v=g[b].features.map((function(e){return"FeatureCollection"===e.type?y(y({},e),{},{features:e.features.map((function(e){return e.properties.geometryGeodesic?Object(s.set)("properties.geometryGeodesic",null,e):e}))}):e.properties.geometryGeodesic?Object(s.set)("properties.geometryGeodesic",null,e):{}}));g[b]=Object(s.set)("features",v,g[b])}return y({version:2,map:c()({},p,{layers:g,groups:d,backgrounds:h,text_search_config:i,bookmark_search_config:a},!Object(r.isEmpty)(m)&&{sources:m}||{})},u)}var $=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(r.cloneDeep)(e),n=y(y({},Object(r.get)(e,"map.layers",[]).reduce((function(e,t){return y(y({},e),{},g({},t.id,"annotations"===t.id?t.id:i()()))}),{})),Object(r.get)(e,"widgetsConfig.widgets",[]).reduce((function(e,t){return y(y({},e),{},g({},t.id,i()()))}),{}));return Object(s.set)("map.backgrounds",Object(r.get)(e,"map.backgrounds",[]).map((function(e){return y(y({},e),{},{id:n[e.id]})})),Object(s.set)("widgetsConfig",{collapsed:Object(r.mapValues)(Object(r.mapKeys)(Object(r.get)(e,"widgetsConfig.collapsed",{}),(function(e,t){return n[t]})),(function(e){return y(y({},e),{},{layouts:Object(r.mapValues)(e.layouts,(function(e){return y(y({},e),{},{i:n[e.i]})}))})})),layouts:Object(r.mapValues)(Object(r.get)(e,"widgetsConfig.layouts",{}),(function(e){return e.map((function(e){return y(y({},e),{},{i:n[e.i]})}))})),widgets:Object(r.get)(e,"widgetsConfig.widgets",[]).map((function(e){return y(y({},e),{},{id:n[e.id],layer:y(y({},Object(r.get)(e,"layer",{})),{},{id:n[Object(r.get)(e,"layer.id")]})})}))},Object(s.set)("map.layers",Object(r.get)(e,"map.layers",[]).map((function(e){return y(y({},e),{},{id:n[e.id]})})),t)))},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return Object(r.pick)(e,Object(r.keys)(e).filter((function(t){return void 0!==e[t]})))}))},o=$(t),i=[].concat(d(Object(r.get)(e,"map.backgrounds",[])),d(Object(r.get)(o,"map.backgrounds",[]))),a=n(Object(r.get)(e,"map.layers",[])),s=n(Object(r.get)(o,"map.layers",[])),l=Object(r.find)(a,(function(e){return"annotations"===e.id})),u=Object(r.find)(s,(function(e){return"annotations"===e.id})),c=[].concat(d(s.filter((function(e){return"annotations"!==e.id}))),d(a.filter((function(e){return"annotations"!==e.id}))),d(l||u?[y(y(y({},l||{}),u||{}),{},{features:[].concat(d(Object(r.get)(l,"features",[])),d(Object(r.get)(u,"features",[])))})]:[])),p=c.filter((function(e){return"background"===e.group})),f=Object(r.findIndex)(p,(function(e){return e.visibility})),h=Object(r.get)(e,"map.sources",{}),m=Object(r.get)(o,"map.sources",{}),b=y(y({},h),m),v=Object(r.get)(e,"widgetsConfig",{}),_=Object(r.get)(o,"widgetsConfig",{});return y(y(y({},o),e),{},{catalogServices:y(y({},Object(r.get)(e,"catalogServices",{})),{},{services:y(y({},Object(r.get)(e,"catalogServices.services",{})),Object(r.get)(o,"catalogServices.services",{}))}),map:y(y(y({},o.map),e.map),{},{backgrounds:i,groups:Object(r.uniqWith)([].concat(d(Object(r.get)(e,"map.groups",[])),d(Object(r.get)(o,"map.groups",[]))),(function(e,t){return e.id===t.id})),layers:[].concat(d(p.slice(0,f+1)),d(p.slice(f+1).map((function(e){return y(y({},e),{},{visibility:!1})}))),d(c.filter((function(e){return"background"!==e.group})))),sources:Object(r.isEmpty)(b)?void 0:b}),widgetsConfig:{collapsed:y(y({},v.collapsed),_.collapsed),layouts:Object(r.uniq)([].concat(d(Object(r.keys)(v.layouts)),d(Object(r.keys)(_.layouts)))).reduce((function(e,t){return y(y({},e),{},g({},t,[].concat(d(Object(r.get)(v,"layouts.".concat(t),[])),d(Object(r.get)(_,"layouts.".concat(t),[])))))}),{}),widgets:[].concat(d(Object(r.get)(v,"widgets",[])),d(Object(r.get)(_,"widgets",[])))},timelineData:y(y({},Object(r.get)(e,"timelineData",{})),Object(r.get)(o,"timelineData",{})),dimensionData:y(y({},Object(r.get)(e,"dimensionData",{})),Object(r.get)(o,"dimensionData",{}))})},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"RootGroup",n=Object(r.get)(e,"map.groups",[]),o=n.filter((function(e){return"Default"!==e.id})),a=Object(r.find)(n,(function(e){return"Default"===e.id})),s=a&&{id:i()(),title:t,expanded:a.expanded},l=a?[].concat(d(o.map((function(e){var t=e.id,n=f(e,["id"]);return y({id:"".concat(s.id,".").concat(t)},n)}))),[s]):o;return y(y({},e),{},{map:y(y({},e.map),{},{groups:l,layers:Object(r.get)(e,"map.layers",[]).map((function(e){var t,n=e.group;return y(y({},f(e,["group"])),{},{group:!a||"background"===n||"Default"!==n&&n?a&&(null===(t=Object(r.find)(l,(function(e){var t=e.id;return t.slice(t.indexOf(".")+1)===n})))||void 0===t?void 0:t.id)||n:s.id})}))})})};function ne(e){switch(e){case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":case"Text":return!1;case"Point":case"Circle":case"LineString":case"Polygon":default:return!0}}function re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Point";switch(e){case"Point":case"LineString":case"Polygon":case"Circle":return e;case"MultiPoint":case"Marker":return"Point";case"MultiLineString":return"LineString";case"MultiPolygon":return"Polygon";case"GeometryCollection":return"GeometryCollection";case"Text":return"Point";default:return e}}var oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/data\/(\d+)/,n=decodeURIComponent(e),r=t.exec(n);return r&&r.length&&r.length>1?r[1]:null},ie=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(r.isString)(e)&&-1!==e.indexOf("%")?parseFloat(Object(r.trim)(e))*t/100:Object(r.isNumber)(e)?e:0},ae=function e(t){var n=["apiKey","time","args","fixed"],r=function(e){return n.reduce((function(t,n){return t||e===n}),!1)};Object.keys(t).forEach((function(n){var o=t[n],i=p(o);"object"!==i||null===o||r(n)?"undefined"!==i&&o&&!r(n)||delete t[n]:(e(o),Object.keys(o).length||delete t[n])}))},se=function(e,t,n){e[t]&&(Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(e,t)),delete e[t])},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=["map.layers","map.backgrounds","map.text_search_config","map.bookmark_search_config","map.text_serch_config","map.zoom","widgetsConfig"],o=Object(r.pick)(Object(r.cloneDeep)(e),n),i=Object(r.pick)(Object(r.cloneDeep)(t),n);return se(o.map,"text_serch_config","text_search_config"),se(i.map,"text_serch_config","text_search_config"),ae(o),ae(i),Object(r.isEqual)(o,i)},ue=function(){var e={};return{registerHook:function(t,n){e[t]=n},getHook:function(t){return e[t]},executeHook:function(t,n,r){var o=e[t];return o?n(o):r?r():null}}};t.default={createRegisterHooks:ue,EXTENT_TO_ZOOM_HOOK:w,RESOLUTIONS_HOOK:j,RESOLUTION_HOOK:S,COMPUTE_BBOX_HOOK:E,GET_PIXEL_FROM_COORDINATES_HOOK:x,GET_COORDINATES_FROM_PIXEL_HOOK:P,DEFAULT_SCREEN_DPI:b,ZOOM_TO_EXTENT_HOOK:O,registerHook:L,getHook:T,dpi2dpm:I,getSphericalMercatorScales:F,getSphericalMercatorScale:A,getGoogleMercatorScales:N,getGoogleMercatorResolutions:U,getGoogleMercatorScale:R,getResolutionsForScales:G,getZoomForExtent:q,defaultGetZoomForExtent:V,getCenterForExtent:H,getResolutions:z,getScales:B,getBbox:Z,mapUpdated:K,getCurrentResolution:W,transformExtent:X,saveMapConfiguration:Q,generateNewUUIDs:$,mergeMapConfigs:ee,addRootParentGroup:te,isSimpleGeomType:ne,getSimpleGeomType:re,getIdFromUri:oe,parseLayoutValue:ie,prepareMapObjectToCompare:ae,updateObjectFieldKey:se,compareMapChanges:le,clearHooks:k}},"./MapStore2/web/client/utils/MarkerUtils.js":function(module,__webpack_exports__,__webpack_require__){"use strict";var css_tree__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-tree/lib/index.js"),css_tree__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(css_tree__WEBPACK_IMPORTED_MODULE_0__),object_assign__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/object-assign/index.js"),object_assign__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(object_assign__WEBPACK_IMPORTED_MODULE_1__),raw_loader_font_awesome_txt__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/raw-loader/index.js!./MapStore2/web/client/utils/font-awesome.txt"),raw_loader_font_awesome_txt__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(raw_loader_font_awesome_txt__WEBPACK_IMPORTED_MODULE_2__),_components_mapcontrols_annotations_img_markers_default_png__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./MapStore2/web/client/components/mapcontrols/annotations/img/markers_default.png"),_components_mapcontrols_annotations_img_markers_default_png__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_components_mapcontrols_annotations_img_markers_default_png__WEBPACK_IMPORTED_MODULE_3__),_components_mapcontrols_annotations_img_markers_shadow_png__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./MapStore2/web/client/components/mapcontrols/annotations/img/markers_shadow.png"),_components_mapcontrols_annotations_img_markers_shadow_png__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_components_mapcontrols_annotations_img_markers_shadow_png__WEBPACK_IMPORTED_MODULE_4__);function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var css={fontawesome:raw_loader_font_awesome_txt__WEBPACK_IMPORTED_MODULE_2___default.a},baseImage=new Image,shadowImage=new Image;baseImage.src=_components_mapcontrols_annotations_img_markers_default_png__WEBPACK_IMPORTED_MODULE_3___default.a,shadowImage.src=_components_mapcontrols_annotations_img_markers_shadow_png__WEBPACK_IMPORTED_MODULE_4___default.a;var getNodeOfType=function e(t,n){return n(t)?t:t.children?t.children.reduce((function(t,r){return e(r,n)||t}),null):null},glyphs={},loadGlyphs=function loadGlyphs(font){var parsedCss=css_tree__WEBPACK_IMPORTED_MODULE_0___default.a.toPlainObject(css_tree__WEBPACK_IMPORTED_MODULE_0___default.a.parse(css[font]));return parsedCss.children.reduce((function(previous,rule){if(rule.prelude){var classSelector=getNodeOfType(rule.prelude,(function(e){return"ClassSelector"===e.type})),pseudoClassSelector=getNodeOfType(rule.prelude,(function(e){return"PseudoClassSelector"===e.type}));if(classSelector&&classSelector.name&&0===classSelector.name.indexOf("fa-")&&pseudoClassSelector&&"before"===pseudoClassSelector.name){var text=getNodeOfType(getNodeOfType(rule.block,(function(e){return"Declaration"===e.type&&"content"===e.property})).value,(function(e){return"String"===e.type})).value;return object_assign__WEBPACK_IMPORTED_MODULE_1___default()(previous,_defineProperty({},classSelector.name.substring(3),eval("'\\u"+text.substring(2,text.length-1)+"'")))}}return previous}),{})},extraMarkers={size:[36,46],colors:["red","orange-dark","orange","yellow","blue-dark","blue","cyan","purple","violet","pink","green-dark","green","green-light","black"],shapes:["circle","square","star","penta"],icons:[_components_mapcontrols_annotations_img_markers_default_png__WEBPACK_IMPORTED_MODULE_3___default.a,_components_mapcontrols_annotations_img_markers_shadow_png__WEBPACK_IMPORTED_MODULE_4___default.a],images:[shadowImage,baseImage]},getOffsets=function(e,t){return[-extraMarkers.colors.indexOf(e)*extraMarkers.size[0]-2,-extraMarkers.shapes.indexOf(t)*extraMarkers.size[1]]},MarkerUtils={extraMarkers:object_assign__WEBPACK_IMPORTED_MODULE_1___default()({},extraMarkers,{getOffsets:getOffsets,markerToDataUrl:function(e){var t=e.iconColor,n=e.iconShape,r=e.iconGlyph;if(MarkerUtils.extraMarkers.images){var o=document.createElement("canvas"),i=extraMarkers.size;o.width=i[0],o.height=i[1];var a=o.getContext("2d"),s=getOffsets(t,n);a.drawImage(extraMarkers.images[0],4,31,35,16),a.drawImage(extraMarkers.images[1],Math.abs(s[0]),Math.abs(s[1]),i[0],i[1],0,0,i[0],i[1]),a.font="14px FontAwesome",a.fillStyle="rgb(255,255,255)",a.textBaseline="middle",a.textAlign="center",a.fillText(MarkerUtils.getGlyphs("fontawesome")[r]||"",i[0]/2-2,i[1]/2-7);var l=o.toDataURL("image/png");return o=null,l}return null},matches:function(e,t){return e.iconColor===t.color&&e.iconShape===t.shape},getStyle:function(e){return{iconColor:e.color,iconShape:e.shape}},getGrid:function(){return extraMarkers.shapes.map((function(e){return{name:e,markers:extraMarkers.colors.map((function(t){return{name:t,width:extraMarkers.size[0],height:extraMarkers.size[1],offsets:getOffsets(t,e),style:{color:t,shape:e},thumbnailStyle:{backgroundImage:"url("+extraMarkers.icons[0]+")",width:extraMarkers.size[0]+"px",height:extraMarkers.size[1]+"px",backgroundPositionX:getOffsets(t,e)[0],backgroundPositionY:getOffsets(t,e)[1],cursor:"pointer"}}}))}}))}}),getGlyphs:function(e){return glyphs[e]||(glyphs[e]=loadGlyphs(e)),glyphs[e]}};MarkerUtils.markers={extra:MarkerUtils.extraMarkers},__webpack_exports__.a=MarkerUtils},"./MapStore2/web/client/utils/MeasureUtils.js":function(e,t,n){"use strict";n.r(t),n.d(t,"degToDms",(function(){return o})),n.d(t,"getFormattedBearingValue",(function(){return i})),n.d(t,"CONVERSION_RATE",(function(){return a})),n.d(t,"convertUom",(function(){return s})),n.d(t,"validateCoord",(function(){return l})),n.d(t,"validateFeatureCoordinates",(function(){return u})),n.d(t,"isValidGeometry",(function(){return c}));var r=n("./MapStore2/node_modules/lodash/lodash.js");function o(e){var t=Math.floor(e),n=60*(e-t),r=Math.floor(n),o=60*(n-r);return t+"° "+r+"' "+Math.floor(o)+"'' "}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.measureTrueBearing,r=void 0!==n&&n,i=t.fractionDigits,a=void 0===i?0:i,s="";if(r){var l="";e>=0&&e<10?l="00":e>10&&e<100&&(l="0");var u=a>0?e.toFixed(a):Math.floor(e);s=l+u+"° T"}else e>=0&&e<90?s="N "+o(e)+"E":e>90&&e<=180?s="S "+o(180-e)+"E":e>180&&e<270?s="S "+o(e-180)+"W":e>=270&&e<=360&&(s="N "+o(360-e)+"W");return s}var a={yd:{ft:3,m:.9144,km:9144e-7,yd:1,mi:.00056818181818,nm:.00049373650107},ft:{ft:1,m:.3048,km:3048e-7,yd:.33333333333334,mi:.0001893932,nm:164579e-9},m:{ft:3.28084,m:1,km:.001,yd:1.0936132983377,mi:621371e-9,nm:.000539956803},km:{ft:3280.84,m:1e3,km:1,yd:1093.6132983377,mi:.62137121212121,nm:.5399568207343395},mi:{ft:5280.000168959982,m:1609.3440514990027,km:1.6093440514990027,yd:1760,mi:1,nm:.8689762697078849},nm:{ft:6076.115679999979,m:1852.0000592639938,km:1.8520000592639938,yd:2025.3718285214,mi:1.150779484848481,nm:1},sqft:{sqft:1,sqm:.09290304,sqkm:9.2903043596611e-8,sqmi:3.587e-8,sqnm:2.7051601137505e-8},sqyd:{sqft:8.9999247491639,sqm:.83612040133779,sqkm:8.3612040133779e-7,sqyd:1,sqmi:3.228278917579e-7,sqnm:2.4346237458194e-7},sqm:{sqft:10.76391,sqm:1,sqkm:1e-6,sqyd:1.196,sqmi:3.8610215854245e-7,sqnm:2.91181e-7},sqkm:{sqft:10763910,sqm:1e6,sqkm:1,sqyd:1196e3,sqmi:.38610215854245,sqnm:.291181},sqmi:{sqft:27878398.920726,sqm:2589988.110336,sqkm:2.589988110336,sqyd:27878398.920726,sqmi:1,sqnm:.75415532795574},sqnm:{sqft:36966388.603652,sqm:3434290.0120544,sqkm:3.4342900120544,sqyd:36966388.603652,sqmi:1.325986786715,sqnm:1}};function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"m",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"m";return a[t]&&a[t][n]?e*a[t][n]:e}var l=function(e){return!Object(r.isNaN)(parseFloat(e[0]))&&!Object(r.isNaN)(parseFloat(e[1]))},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.coordinates,n=e.type,o=t;if("LineString"===n){if((o=t.filter(l)).length<2)return[]}else if("Polygon"===n){if((o=Object(r.head)(t).filter(l)).length<3)return[[]];o=[o.concat([Object(r.head)(o)])]}return o},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.coordinates,n=e.type;if(!n||!t||t&&Object(r.isArray)(t)&&0===t.length)return!1;var o=u({coordinates:t,type:n});return(o="Polygon"===n?Object(r.head)(o):o).length>0}},"./MapStore2/web/client/utils/MediaEditorUtils.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r={GEOSTORY:"geostory",GEOSTORE:"geostore"},o={type:"osm",title:"Open Street Map",name:"mapnik",source:"osm",group:"background",visibility:!0,id:"mapnik__0",loading:!1,loadingError:!1}},"./MapStore2/web/client/utils/PopupUtils.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s}));var r=n("./node_modules/uuid/index.js"),o=n.n(r),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o()(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ms-map-popup",n=document.createElement("div");return n.setAttribute("id",e+"-map-popup"),n.setAttribute("class",t),n},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.startsWith("<")},s=function(e,t){if(!t)return e;if(t instanceof Node){var n=document.createDocumentFragment();n.appendChild(t),e.appendChild(n)}else a(t)?e.innerHTML=t:e.append(document.createTextNode(String(t)));return e}},"./MapStore2/web/client/utils/ProxyUtils.js":function(e,t,n){"use strict";n.r(t),n.d(t,"needProxy",(function(){return i})),n.d(t,"getProxyUrl",(function(){return a}));var r=n("./MapStore2/web/client/utils/ConfigUtils.js"),o=n("./MapStore2/node_modules/lodash/lodash.js"),i=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Object(o.isArray)(t))return t.reduce((function(t,n){return e(n)&&t}),!0);var i=!1,a=!(0===t.indexOf("http")),s=!a&&t.match(/([^:]*:)\/\/([^:]*:?[^@]*@)?([^:\/\?]*):?([^\/\?]*)/);if(s){var l=window.location;a=s[1]===l.protocol&&s[3]===l.hostname;var u=s[4],c=l.port;(80!==u&&""!==u||"80"!==c&&""!==c)&&(a=a&&u===c)}if(!a){var p=r.default.getProxyUrl(n);if(p){var f=[];Object(o.isObject)(p)&&(f=p.useCORS||[],p=p.url);var d=f.reduce((function(e,n){return e||0===t.indexOf(n)}),!1);d||(i=!0)}}return i},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.default.getProxyUrl(e);return t&&Object(o.isObject)(t)&&(t=t.url),t}},"./MapStore2/web/client/utils/StringUtils.js":function(e,t,n){"use strict";n.r(t),n.d(t,"containsHTML",(function(){return r})),n.d(t,"isValidEmail",(function(){return o}));var r=function(e){return new RegExp("<(.|\\n)*?>","g").test(e)},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;return t.test(e)}},"./MapStore2/web/client/utils/TemplateUtils.js":function(e,t,n){"use strict";n.r(t),n.d(t,"validateStringAttribute",(function(){return i})),n.d(t,"getCleanTemplate",(function(){return a})),n.d(t,"parseCustomTemplate",(function(){return s})),n.d(t,"generateTemplateString",(function(){return l})),n.d(t,"parseTemplate",(function(){return u}));var r,o=n("./MapStore2/node_modules/lodash/lodash.js"),i=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=Object(o.isString)(t)&&Object(o.trim)(t.substring(n,t.length-r))||"";return Object(o.has)(e,i)},a=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(){return""},l=Object(o.isString)(e)&&e.match(n),u=l&&l.map((function(e){var n=e.replace(/(<([^>]+)>)/gi,"");return{previous:e,next:i(t,n,r,a)?n:s(e)}}))||null;return u&&u.reduce((function(e,t){return e.replace(t.previous,t.next)}),e)||e||""},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return"".concat(Object(o.trim)(e.substring(2,e.length-1))," Not Available")};return Object(o.template)(a(e||"",t,/\$\{.*?\}/g,2,1,n))(t)},l=(r={},function(e,t){var n=r[e];return n&&!t||(n=function(n){var r=e.replace(/\$\{([\s]*[^;\s\{]+[\s]*)\}/g,(function(e,r){return(t||function(e){return e})(r.trim().split(".").reduce((function(e,t){return e&&e[t]}),n))}));return Object(o.isString)(r)&&r||""},t||(r[e]=n)),n}),u=function(e,t){n.e(28).then(function(){var r=n("./node_modules/babel-standalone/babel.js"),o="function"==typeof e?e():e;try{var i=r.transform(o,{presets:["es2015","react","stage-0"]}).code;t(i)}catch(e){t(null,e)}}.bind(null,n)).catch(n.oe)},c={generateTemplateString:l,parseTemplate:u,validateStringAttribute:i,getCleanTemplate:a,parseCustomTemplate:s};t.default=c},"./MapStore2/web/client/utils/ThumbnailUtils.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(e,t){return new Promise((function(n,r){var o=t||{},i=o.width,a=void 0===i?64:i,s=o.height,l=void 0===s?64:s,u=o.contain,c=o.type,p=void 0===c?"image/jpeg":c,f=o.quality,d=void 0===f?.5:f,h=new Image;h.crossOrigin="anonymous",h.onload=function(){var e=h.naturalWidth/h.naturalHeight,t=a,r=l,o=a/l,i=document.createElement("canvas");i.setAttribute("width",a),i.setAttribute("height",l),i.style.width=a+"px",i.style.height=l+"px";var s=i.getContext("2d"),c=!u&&e<o||u&&e>o?[t,t/e]:[r*e,r];s.save(),s.translate(t/2,r/2),s.drawImage(h,-c[0]/2,-c[1]/2,c[0],c[1]),s.restore();var f=i.toDataURL(p,d);n(f)},h.onerror=function(e){r(e)},h.src=e}))},o=function(e,t){return new Promise((function(n,r){var o=t||{},i=o.type,a=void 0===i?"image/jpeg":i,s=o.quality,l=void 0===s?.5:s,u=document.createElement("video");u.crossOrigin="anonymous";var c=document.createElement("source"),p=document.createElement("canvas");u.addEventListener("loadedmetadata",(function(){var e=u.videoWidth,t=u.videoHeight;p.setAttribute("width",e),p.setAttribute("height",t),p.style.width=e+"px",p.style.height=t+"px"}),!0),u.addEventListener("loadeddata",(function(){u.currentTime=1}),!0),u.addEventListener("seeked",(function(){p.getContext("2d").drawImage(u,0,0);try{var e=p.toDataURL(a,l);n(e)}catch(e){r(e)}}),!0),u.addEventListener("error",(function(e){r(e)}),!0),u.appendChild(c),u.setAttribute("src",e)}))},i=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,i=/(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})|youtube\.com\/playlist\?list=/,a=null===(e=t.match(i))||void 0===e?void 0:e[1];return a?new Promise((function(e){return e("http://img.youtube.com/vi/".concat(a,"/sddefault.jpg"))})):t.match(/\.(mp4|og[gv]|webm|mov|m4v)($|\?)/i)?o(t).then((function(e){return r(e,n)})):new Promise((function(e,t){return t("Cannot create a thumbnail from the provided source")}))}},"./MapStore2/web/client/utils/TileConfigProvider.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return u}));var r=n("./MapStore2/node_modules/lodash/lodash.js"),o=n("./MapStore2/web/client/utils/ConfigProvider.js"),i=n("./MapStore2/web/client/utils/ConfigUtils.js");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e,t){var n,a,l,u,c=o.a;if("custom"===e)n=t;else if(l=(u=e.split("."))[0],a=u[1],!(n=c[l]))throw new Error("No such provider ("+l+")");var p={url:n.url,options:n.options||{}};if(a&&"variants"in n){if(!(a in n.variants))throw new Error("No such variant of "+(l||n.url)+" ("+a+")");var f,d=n.variants[a];f="string"==typeof d?{variant:d}:d.options,p={url:d.url||p.url,options:s(s({},p.options||{}),f)}}else"function"==typeof p.url&&(p.url=p.url(u.splice(1,u.length-1).join(".")));var h="file:"===window.location.protocol||p.options.forceHTTP;0===p.url.indexOf("//")&&h&&(p.url="http:"+p.url),p.options.retina&&(t.detectRetina&&i.default.getBrowserProperties().retina?t.detectRetina=!1:p.options.retina="");p.options.attribution&&(p.options.attribution=function e(t){return-1===t.indexOf("{attribution.")?t:t.replace(/\{attribution.(\w*)\}/,(function(t,n){return e(c[n].options.attribution)}))}(p.options.attribution));var m=s(s({},p.options),Object(r.pickBy)(t,(function(e){return void 0!==e})));return[p.url,m]};t.a={getLayerConfig:u}},"./MapStore2/web/client/utils/TileProviderUtils.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var r=n("./MapStore2/node_modules/lodash/lodash.js");function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.replace(/(\{(.*?)\})/g,(function(){var e=arguments[0],n=arguments[2]?arguments[2]:arguments[1];if(["x","y","z"].includes(n))return arguments[0];var r=t[n];if(void 0===r)throw new Error("No value provided for variable "+e);return"function"==typeof r&&(r=r(t)),r}))}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.url||"",n=e.subdomains||"";return n&&("string"==typeof n&&(n=n.split("")),Object(r.isArray)(n))?n.map((function(n){return o(t.replace("{s}",n),e)})):["a","b","c"].map((function(n){return o(t.replace("{s}",n),e)}))}var a=function(e){return(e.url.match(/(\{s\})/)?i(e):[o(e.url,e)])[0]}},"./MapStore2/web/client/utils/VectorStyleUtils.js":function(e,t,n){"use strict";n.r(t),n.d(t,"isAttrPresent",(function(){return y})),n.d(t,"isStrokeStyle",(function(){return g})),n.d(t,"isFillStyle",(function(){return b})),n.d(t,"isTextStyle",(function(){return v})),n.d(t,"isCircleStyle",(function(){return _})),n.d(t,"isMarkerStyle",(function(){return w})),n.d(t,"isSymbolStyle",(function(){return O})),n.d(t,"getStylerTitle",(function(){return j})),n.d(t,"geometryFunctions",(function(){return S})),n.d(t,"getGeometryFunction",(function(){return E})),n.d(t,"registerGeometryFunctions",(function(){return x})),n.d(t,"addOpacityToColor",(function(){return P})),n.d(t,"hashCode",(function(){return M})),n.d(t,"registerStyle",(function(){return T})),n.d(t,"setSymbolsStyles",(function(){return C})),n.d(t,"fetchStyle",(function(){return k})),n.d(t,"getSymbolsStyles",(function(){return I})),n.d(t,"hashAndStringify",(function(){return D})),n.d(t,"domNodeToString",(function(){return A})),n.d(t,"createSvgUrl",(function(){return R})),n.d(t,"createStylesAsync",(function(){return F})),n.d(t,"getStyleParser",(function(){return N}));var r=n("./MapStore2/node_modules/lodash/lodash.js"),o=n("./MapStore2/web/client/utils/ImmutableUtils.js"),i=n("./MapStore2/web/client/utils/ColorUtils.js"),a=n("./node_modules/axios/index.js"),s=n.n(a),l=n("./node_modules/geostyler-sld-parser/build/dist/SldStyleParser.js"),u=n.n(l),c=n("./node_modules/geostyler-geocss-parser/build/dist/GeoCSSStyleParser.js"),p=n.n(c);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m={sld:new u.a,css:new p.a},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.filter((function(t){return!Object(r.isNil)(e[t])})).length>0},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["color","opacity","dashArray","dashOffset","lineCap","lineJoin","weight"];return y(e,t)},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["fillColor","fillOpacity"];return y(e,t)},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["label","font","fontFamily","fontSize","fontStyle","fontWeight","textAlign","textRotationDeg"];return y(e,t)},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["radius"];return y(e,t)},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["iconGlyph","iconShape","iconUrl"];return y(e,t)},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["symbolUrl"];return y(e,t)},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return w(e)?"Marker":O(e)?"Symbol":v(e)?"Text":_(e)||"Circle Style"===e.title?"Circle":b(e)?"Polygon":g(e)?"Polyline":""},S={centerPoint:{type:"Point",func:function(){}},lineToArc:{type:"LineString",func:function(){}},startPoint:{type:"Point",func:function(){}},endPoint:{type:"Point",func:function(){}}},E=function(e,t){return S[e]&&S[e][t]},x=function(e,t,n){if(!(e&&t&&n))throw new Error("specify all the params: functionName, func, type");S[e]={func:t,type:n}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#FFCC33",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2;return Object(o.set)("a",t,e)},M=function(e){var t,n=0;if(0===e.length)return n;for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return n},L={},T=function(e,t){if(!e||!t)throw new Error("specify all the params: sha, style");L[e]=t},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};L=e},k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"style";return L[e]&&L[e][t]},I=function(){return L},D=function(e){if(e)return M(JSON.stringify(e));throw new Error("hashAndStringify: specify mandatory params: style")},A=function(e){var t=document.createElement("div");return t.appendChild(e),t.innerHTML},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return O(e)&&e.symbolUrl?s.a.get(t,{"Content-Type":"image/svg+xml;charset=utf-8"}).then((function(t){var n=window.URL||window.webkitURL||window,o=(new DOMParser).parseFromString(t.data,"image/svg+xml").firstElementChild;o.setAttribute("fill",e.fillColor||"#FFCC33"),o.setAttribute("fill-opacity",Object(r.isNil)(e.fillOpacity)?.2:e.fillOpacity),o.setAttribute("stroke",Object(i.b)(e.color||"#FFCC33",Object(r.isNil)(e.opacity)?1:e.opacity)),o.setAttribute("stroke-opacity",Object(r.isNil)(e.opacity)?1:e.opacity),o.setAttribute("stroke-width",e.weight||1),o.setAttribute("width",e.size||32),o.setAttribute("height",e.size||32),o.setAttribute("stroke-dasharray",e.dashArray||"none");var a=new Blob([A(o)],{type:"image/svg+xml;charset=utf-8"}),s=n.createObjectURL(a),l=document.createElement("canvas");l.width=e.size,l.height=e.size;var u=l.getContext("2d"),c=new Image;c.src=s;var p="",f=D(e);return c.onload=function(){try{u.drawImage(c,l.width/2-c.width/2,l.height/2-c.height/2),p=l.toDataURL("image/png"),l=null,T(f,{style:d(d({},e),{},{symbolUrlCustomized:s}),base64:p})}catch(e){return}},T(f,{style:d(d({},e),{},{symbolUrlCustomized:s}),svg:o,base64:p}),s})).catch((function(){return n("./MapStore2/web/client/product/assets/symbols/symbolMissing.svg")})):new Promise((function(e){e(null)}))},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return O(e)&&!k(D(e))?R(e,e.symbolUrl||e.symbolUrlCustomized).then((function(t){return t?d(d({},e),{},{symbolUrlCustomized:t}):k(D(e))})).catch((function(){return d(d({},e),{},{symbolUrlCustomized:n("./MapStore2/web/client/product/assets/symbols/symbolMissing.svg")})})):new Promise((function(t){t(O(e)?k(D(e)):e)}))}))},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sld";return m[e]}},"./MapStore2/web/client/utils/VectorTileUtils.js":function(e,t,n){"use strict";n.r(t),n.d(t,"VECTOR_FORMATS",(function(){return r})),n.d(t,"isVectorFormat",(function(){return o}));var r=["application/vnd.mapbox-vector-tile","application/json;type=geojson","application/json;type=topojson"],o=function(e){return-1!==r.indexOf(e)}},"./MapStore2/web/client/utils/VendorParamsUtils.js":function(e,t,n){"use strict";n.r(t),n.d(t,"optionsToVendorParams",(function(){return s}));var r=n("./MapStore2/web/client/utils/FilterUtils.js");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=t.layerFilter,a=t.filterObj,s=[Object(r.isFilterValid)(o)&&!o.disabled&&Object(r.toCQLFilter)(o),Object(r.isFilterValid)(a)&&Object(r.toCQLFilter)(a),t&&t.params&&t.params.CQL_FILTER,n];return(e=(s=s.filter((function(e){return!!e}))).length>1?s.map((function(e){return"(".concat(e,")")})).join(" AND "):s.pop())?i(i({},t.params),{},{CQL_FILTER:e}):t.params}},"./MapStore2/web/client/utils/WFSLayerUtils.js":function(e,t,n){"use strict";n.r(t),n.d(t,"needsReload",(function(){return c})),n.d(t,"toDescribeURL",(function(){return p})),n.d(t,"extractGeometryType",(function(){return f})),n.d(t,"extractGeometryAttributeName",(function(){return d}));var r=n("./MapStore2/web/client/utils/VendorParamsUtils.js"),o=n("./node_modules/url/url.js"),i=n.n(o),a=n("./MapStore2/node_modules/lodash/lodash.js");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(e,t){var n=l(l({},Object(r.optionsToVendorParams)(e)||{}),{},{_v_:e._v_}),o=l(l({},Object(r.optionsToVendorParams)(t)||{}),{},{_v_:t._v_});return["_v_","CQL_FILTER","VIEWPARAMS"].reduce((function(e,t){return n[t]!==o[t]||e}),!1)},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,n=e.search,r=void 0===n?{}:n,o=e.url,a=e.describeFeatureTypeURL,s=i.a.parse(a||r.url||o,!0);return i.a.format(l(l({},s),{},{search:void 0,query:l(l({},s.query),{},{service:"WFS",version:"1.1.0",typeName:t,outputFormat:"application/json",request:"DescribeFeatureType"})}))},f=function(e){var t=Object(a.get)(e,"featureTypes[0].properties")||[];return t&&Object(a.head)(t.filter((function(e){return 0===e.type.indexOf("gml:")})).map((function(e){return e.type.split(":")[1]})))},d=function(e){var t=Object(a.get)(e,"featureTypes[0].properties")||[];return t&&Object(a.head)(t.filter((function(e){return 0===e.type.indexOf("gml:")})).map((function(e){return e.name})))}},"./MapStore2/web/client/utils/WMTSUtils.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getDefaultMatrixId",(function(){return u})),n.d(t,"getMatrixIds",(function(){return c})),n.d(t,"limitMatrix",(function(){return p})),n.d(t,"getTileMatrixSet",(function(){return f})),n.d(t,"getRequestEncoding",(function(){return d})),n.d(t,"getOperations",(function(){return h})),n.d(t,"getOperation",(function(){return m})),n.d(t,"getGetTileURL",(function(){return y})),n.d(t,"getCapabilitiesURL",(function(){return g})),n.d(t,"getDefaultStyleIdentifier",(function(){return b})),n.d(t,"getDefaultFormat",(function(){return v})),n.d(t,"sortTileMatrix",(function(){return _})),n.d(t,"getTileMatrix",(function(){return w}));var r,o=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),i=n("./MapStore2/node_modules/lodash/lodash.js");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e){for(var t=new Array(30),n=0;n<30;++n)t[n]=e.tileMatrixPrefix+n;return t},c=function(e,t){return Object(i.isObject)(e)&&Object(i.isArray)(e[t])&&e[t]||Object(i.isArray)(e)&&e||[]},p=function(e,t){return e.length>t?Object(i.slice)(e,0,t):e.length<t?e.concat(new Array(t-e.length)):e},f=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t;return e&&Object(i.isString)(e)?e:e?Object(o.getEquivalentSRS)(t,n).reduce((function(t,n){if(Object(i.isArray)(e)){var a=Object(i.head)(e.filter((function(e){return(e["ows:Identifier"]===n||Object(o.getEPSGCode)(e["ows:SupportedCRS"])===n)&&r[e["ows:Identifier"]]})));return a&&a["ows:Identifier"]?a["ows:Identifier"]:t}return Object(i.isObject)(e)&&e[n]||t}),a):a},d=function(e){var t=r.getOperations(e);return r.getOperation(t,"GetTile","KVP")?"KVP":r.getOperation(t,"GetTile","RESTful")&&"RESTful"},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i.castArray)(e.Capabilities["ows:OperationsMetadata"]["ows:Operation"])},m=function(e,t,n){return Object(i.head)(Object(i.castArray)(Object(i.head)(e.filter((function(e){return e.$.name===t})).map((function(e){return Object(i.castArray)(e["ows:DCP"]["ows:HTTP"]["ows:Get"])})))||[]).filter((function(e){return(e["ows:Constraint"]&&e["ows:Constraint"]["ows:AllowedValues"]["ows:Value"])===n})).map((function(e){return e.$["xlink:href"]})))},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ResourceURL,n=e.GetTileURL,r=e.requestEncoding;return"KVP"===r?n:t&&Object(i.castArray)(t).map((function(e){var t=e.$,n=void 0===t?{}:t;return n.template||n.value}))||n},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i.head)(Object(i.castArray)(e.capabilitiesURL||e.GetTileURL))},b=function(e){return Object(i.head)(Object(i.castArray)(e.Style).filter((function(e){var t=e.$;return"true"===(void 0===t?{}:t).isDefault})).map((function(e){return e["ows:Identifier"]})))},v=function(e){return Object(i.head)(Object(i.castArray)(e.Format))},_=function(e,t){return e?s(s({},e),{},{TileMatrix:Object(i.sortBy)(null==e?void 0:e.TileMatrix.map((function(e){return s(s({},e),{},{ScaleDenominator:Number(e.ScaleDenominator)})})),"ScaleDenominator").reverse().filter((function(e){return!t||t.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.identifier;return t})).indexOf(e["ows:Identifier"])>=0}))}):e},w=function(e,t){var n,r,o=f(e.tileMatrixSet,t,e.allowedSRS,e.matrixIds),a=e.matrixIds&&c(e.matrixIds,o||t),s=_(Object(i.head)(e.tileMatrixSet.filter((function(e){return e["ows:Identifier"]===o}))),a),l=null==s||null===(n=(r=s.TileMatrix).map)||void 0===n?void 0:n.call(r,(function(e){return e["ows:Identifier"]}));return{matrixIds:l&&a?a.sort((function(e,t){return l.indexOf(e.identifier)-l.indexOf(t.identifier)})):a,tileMatrixSetName:o,tileMatrixSet:s}};r={getOperations:h,getOperation:m}},"./MapStore2/web/client/utils/cesium/BILTerrainProvider.js":function(e,t){e.exports=function(e){var t={};t.CRS=[{name:"CRS:84",ellipsoid:e.Ellipsoid.WGS84,firstAxeIsLatitude:!1,tilingScheme:e.GeographicTilingScheme,supportedCRS:"urn:ogc:def:crs:OGC:2:84"},{name:"EPSG:4326",ellipsoid:e.Ellipsoid.WGS84,firstAxeIsLatitude:!0,tilingScheme:e.GeographicTilingScheme,SupportedCRS:"urn:ogc:def:crs:EPSG::4326"},{name:"EPSG:3857",ellipsoid:e.Ellipsoid.WGS84,firstAxeIsLatitude:!1,tilingScheme:e.WebMercatorTilingScheme,SupportedCRS:"urn:ogc:def:crs:EPSG::3857"},{name:"OSGEO:41001",ellipsoid:e.Ellipsoid.WGS84,firstAxeIsLatitude:!1,tilingScheme:e.WebMercatorTilingScheme,SupportedCRS:"urn:ogc:def:crs:EPSG::3857"}],t.FormatImage=[{format:"image/png",extension:"png"},{format:"image/jpeg",extension:"jpg"},{format:"image/jpeg",extension:"jpeg"},{format:"image/gif",extension:"gif"},{format:"image/png; mode=8bit",extension:"png"}],t.FormatArray=[{format:"image/bil",postProcessArray:function(e,t,n,r,o){var i,a=new DataView(e),s=new ArrayBuffer(t.height*t.width*2),l=new DataView(s);if(s.byteLength===e.byteLength){for(var u,c=0;c<s.byteLength;c+=2)(u=a.getInt16(c,!1)-o)>r&&u<n?(l.setInt16(c,u,!0),u):l.setInt16(c,0,!0);i=new Int16Array(s)}return i}}],t.WMSParser={},t.TMSParser={},t.WMTSParser={},t.parser=function(n){var r;switch((n=e.defaultValue(n,e.defaultValue.EMPTY_OBJECT)).service){case"TMS":r=t.TMSParser.generate(n);break;case"WMTS":r=t.WMTSParser.generate(n);break;default:r=t.WMSParser.generate(n)}return r},t.WMSParser.generate=function(n){var r;if(n=e.defaultValue(n,e.defaultValue.EMPTY_OBJECT),e.defined(n.url)){var o=n.url,i=o.lastIndexOf("?");i>-1&&(o=o.substring(0,i));var a=o+"?SERVICE=WMS&REQUEST=GetCapabilities&tiled=true";e.defined(n.proxy)&&(a=n.proxy.getURL(a)),r=e.when(e.loadXML(a),(function(e){return t.WMSParser.getMetaDatafromXML(e,n)}))}else{if(!e.defined(n.xml))throw new e.DeveloperError("either description.url or description.xml are required.");r=t.WMSParser.getMetaDatafromXML(n.xml,n)}return r},t.WMSParser.getMetaDatafromXML=function(n,r){if(!(n instanceof XMLDocument))throw new e.DeveloperError("xml must be a XMLDocument");if(!e.defined(r.layerName))throw new e.DeveloperError("description.layerName is required.");var o={},i=r.layerName,a=(e.defaultValue(r.maxLevel,11),void 0);o.heightMapWidth=e.defaultValue(r.heightMapWidth,65),o.heightMapHeight=e.defaultValue(r.heightMapHeight,o.heightMapWidth);var s={width:65,height:65},l=void 0;o.formatImage=r.formatImage,o.formatArray=r.formatArray,o.tilingScheme=void 0;var u=void 0,c=void 0;o.ready=!1,o.levelZeroMaximumGeometricError=void 0,o.waterMask=e.defaultValue(r.waterMask,!1),"boolean"!=typeof o.waterMask&&(o.waterMask=!1),o.offset=e.defaultValue(r.offset,0),o.highest=e.defaultValue(r.highest,12e3),o.lowest=e.defaultValue(r.lowest,-500);var p=r.styleName;o.hasStyledImage=e.defaultValue(r.hasStyledImage,"string"==typeof r.styleName);var f=n.querySelector("[version]");null!==f&&(a=f.getAttribute("version"),c=/^1\.[3-9]\./.test(a));var d=n.querySelector("Request>GetMap OnlineResource").getAttribute("xlink:href"),h=d.indexOf("?");h>-1&&(d=d.substring(0,h)),e.defined(r.proxy)&&(d=r.proxy.getURL(d));var m=n.querySelectorAll("Request>GetMap>Format");if(!e.defined(o.formatImage))for(var y=0;y<m.length&&!e.defined(o.formatArray);y++){(g=t.FormatArray.filter((function(e){return e.format===m[y].textContent}))).length>0&&(o.formatArray=g[0])}e.defined(o.formatArray)&&"string"==typeof o.formatArray.format&&"function"==typeof o.formatArray.postProcessArray?o.formatArray.terrainDataStructure={heightScale:1,heightOffset:0,elementsPerHeight:1,stride:1,elementMultiplier:256,isBigEndian:!1}:o.formatArray=void 0;for(y=0;y<m.length&&!e.defined(o.formatImage);y++){var g;(g=t.FormatImage.filter((function(e){return e.format===m[y].textContent}))).length>0&&(o.formatImage=g[0])}e.defined(o.formatImage)&&"string"==typeof o.formatImage.format?o.formatImage.terrainDataStructure={heightScale:1,heightOffset:0,elementsPerHeight:2,stride:4,elementMultiplier:256,isBigEndian:!0}:o.formatImage=void 0;for(var b,v=n.querySelectorAll("Layer[queryable='1'],Layer[queryable='true']"),_=0;_<v.length&&!e.defined(b);_++)if(v[_].querySelector("Name").textContent===i){var w=(b=v[_]).getAttribute("fixedHeight"),O=b.getAttribute("fixedWidth");e.defined(w)&&(w=parseInt(w),o.heightMapHeight=w>0&&w<o.heightMapHeight?w:o.heightMapHeight,s.height=w>0?w:s.height),e.defined(O)&&(O=parseInt(O),o.heightMapWidth=O>0&&O<o.heightMapWidth?O:o.heightMapWidth,s.width=O>0?O:s.width)}if(e.defined(b)&&e.defined(a)){for(var j=!1,S=0;S<t.CRS.length&&!j;S++){var E=t.CRS[S],x=E.name,P=b.querySelector("BoundingBox[SRS='"+x+"'],BoundingBox[CRS='"+x+"']");if(null!==P){var M,L,T,C;l=x,u=E.firstAxeIsLatitude,o.tilingScheme=new E.tilingScheme({ellipsoid:E.ellipsoid}),u&&c?(M=parseFloat(P.getAttribute("miny")),L=parseFloat(P.getAttribute("maxy")),T=parseFloat(P.getAttribute("minx")),C=parseFloat(P.getAttribute("maxx"))):(M=parseFloat(P.getAttribute("minx")),L=parseFloat(P.getAttribute("maxx")),T=parseFloat(P.getAttribute("miny")),C=parseFloat(P.getAttribute("maxy")));new e.Rectangle(M,T,L,C);o.getTileDataAvailable=function(e,t,n){return!0},j=!0}}if(e.defined(p)){for(var k=b.querySelectorAll("Style>Name"),I=!1,D=0;D<k.length&&!I;D++)p===k[D].textContent&&(I=!0);I||(p=void 0)}for(var A=n.querySelectorAll("VendorSpecificCapabilities>TileSet"),R=!1,F=0;F<A.length&&!R;F++){var N=null!==A[F].querySelector("BoundingBox[SRS='"+l+"'],BoundingBox[CRS='"+l+"']");A[F].querySelector("Layers").textContent===i&&N&&(s.width=parseInt(A[F].querySelector("Width").textContent),s.height=parseInt(A[F].querySelector("Height").textContent),R=!0)}o.ready=j&&(e.defined(o.formatImage)||e.defined(o.formatArray))&&e.defined(a)}if(o.ready){var G=d+"?SERVICE=WMS&REQUEST=GetMap&layers="+i+"&version="+a+"&bbox=";if(G+=c&&u?"{south},{west},{north},{east}":"{west},{south},{east},{north}",G+="&crs="+l+"&srs="+l,o.formatImage){var U=G+"&format="+o.formatImage.format+"&width="+s.width+"&height="+s.height;e.defined(p)&&(U+="&styles="+p+"&style="+p),o.URLtemplateImage=function(){return U},o.imageSize=s}if(o.formatArray){var z=G+"&format="+o.formatArray.format+"&width="+o.heightMapWidth+"&height="+o.heightMapHeight;o.URLtemplateArray=function(){return z}}}return o},t.TMSParser.generate=function(n){var r;if(n=e.defaultValue(n,e.defaultValue.EMPTY_OBJECT),e.defined(n.url))r=e.loadXML(n.url).then((function(e){return t.TMSParser.parseXML(e,n)}));else{if(!e.defined(n.xml))throw new e.DeveloperError("either description.url or description.xml are required.");r=t.TMSParser.parseXML(n.xml,n)}return r},t.TMSParser.parseXML=function(n,r){if(!(n instanceof XMLDocument))throw new e.DeveloperError("xml must be a XMLDocument");var o;if(null!=n.querySelector("TileMapService")){if(!e.defined(r.layerName))throw new e.DeveloperError("layerName is required.");var i=[].slice.apply(n.querySelectorAll("TileMap[title='"+r.layerName+"']")).map((function(n){var o=n.getAttribute("href");return e.defined(r.proxy)&&(o=r.proxy.getURL(o)),e.when(e.loadXML(o),(function(e){return t.TMSParser.getMetaDatafromXML(e,r)}))}));o=e.when.all(i).then((function(t){for(var n,r=0;r<t.length&&!e.defined(n);r++)e.defined(t[r])&&(n=t[r]);return n})).then((function(e){return e}))}else o=t.TMSParser.getMetaDatafromXML(n,r);return o},t.TMSParser.getMetaDatafromXML=function(n,r){var o={ready:!1};o.heightMapWidth=e.defaultValue(r.heightMapWidth,65),o.heightMapHeight=e.defaultValue(r.heightMapHeight,o.heightMapWidth);var i=e.defaultValue(r.maxLevel,11),a=r.proxy;o.hasStyledImage=e.defaultValue(r.hasStyledImage,"string"==typeof r.styleName),o.waterMask=e.defaultValue(r.waterMask,!1),"boolean"!=typeof o.waterMask&&(o.waterMask=!1),o.offset=e.defaultValue(r.offset,0),o.highest=e.defaultValue(r.highest,12e3),o.lowest=e.defaultValue(r.lowest,-500);var s=n.querySelector("SRS").textContent,l=t.CRS.filter((function(e){return e.name===s}));l.length>0&&(o.tilingScheme=new l[0].tilingScheme({ellipsoid:l[0].ellipsoid}));var u=n.querySelector("TileFormat"),c=t.FormatImage.filter((function(e){return e.extension==u.getAttribute("extension")}));c.length>0&&(o.formatImage=c[0],o.imageSize={},o.imageSize.width=parseInt(u.getAttribute("width")),o.imageSize.height=parseInt(u.getAttribute("height")));var p=[].slice.call(n.querySelectorAll("TileSets>TileSet")),f=[];if(e.defined(o.formatImage)&&((f=p.map((function(t){var n=t.getAttribute("href")+"/{x}/{tmsY}."+o.formatImage.extension;return e.defined(a)&&(n=a.getURL(n)),{url:n,level:parseInt(t.getAttribute("order"))}}))).sort((function(e,t){return e.level-t.level})),f.length>0&&(o.tileSets=f)),e.defined(o.tileSets)&&e.defined(o.formatImage)&&e.defined(o.tilingScheme)){o.URLtemplateImage=function(e,t,n){var r="";return n<f.length&&(r=f[n].url),r};var d=n.querySelector("BoundingBox"),h=parseFloat(d.getAttribute("miny")),m=parseFloat(d.getAttribute("maxy")),y=parseFloat(d.getAttribute("minx")),g=parseFloat(d.getAttribute("maxx")),b=new e.Rectangle(y,h,g,m);o.getTileDataAvailable=function(t,n,r){var a,s,l,u,c,p,d=o.tilingScheme.tileXYToNativeRectangle(t,n,r),h=(a=b,s=d,l=Math.max(a.west,s.west),u=Math.min(a.east,s.east),c=Math.max(a.south,s.south),p=Math.min(a.north,s.north),u<=l||c>=p?void 0:new e.Rectangle(l,c,u,p));return e.defined(h)&&r<i&&r<f.length},o.ready=!0}else o=void 0;return o},t.WMTSParser.generate=function(n){var r;if(n=e.defaultValue(n,e.defaultValue.EMPTY_OBJECT),e.defined(n.url)){var o=n.url,i=o.lastIndexOf("?");i>-1&&(o=o.substring(0,i));var a=o+"?REQUEST=GetCapabilities";e.defined(n.proxy)&&(a=n.proxy.getURL(a)),r=e.loadXML(a).then((function(e){return t.WMTSParser.getMetaDatafromXML(e,n)}))}else{if(!e.defined(n.xml))throw new e.DeveloperError("either description.url or description.xml are required.");r=t.WMTSParser.getMetaDatafromXML(n.xml,n)}return r},t.WMTSParser.getMetaDatafromXML=function(n,r){if(!(n instanceof XMLDocument))throw new e.DeveloperError("xml must be a XMLDocument");var o={},i=r.layerName;o.ready=!1,o.heightMapWidth=e.defaultValue(r.heightMapWidth,65),o.heightMapHeight=e.defaultValue(r.heightMapHeight,o.heightMapWidth);var a,s=e.defaultValue(r.maxLevel,12),l=r.proxy,u=r.styleName;o.hasStyledImage=e.defaultValue(r.hasStyledImage,"string"==typeof r.styleName),o.waterMask=e.defaultValue(r.waterMask,!1),"boolean"!=typeof o.waterMask&&(o.waterMask=!1),o.offset=e.defaultValue(r.offset,0),o.highest=e.defaultValue(r.highest,12e3),o.lowest=e.defaultValue(r.lowest,-500);for(var c,p,f,d=[],h=[].slice.call(n.querySelectorAll('Operation[name="GetTile"] HTTP Get')).map((function(e){var t,n=e.querySelector("Value").textContent;return"KVP"===n&&(t={node:e,type:"KVP"}),"RESTful"===n&&(t={node:e,type:"RESTful"}),t})).filter((function(t){return e.defined(t)})),m=0;m<h.length;m++){var y=h[m];"RESTful"!==y.type||e.defined(p)||(p=y.node.getAttribute("xlink:href"),e.defined(l)&&(p=l.getURL(p))),"KVP"!==y.type||e.defined(c)||(c=y.node.getAttribute("xlink:href"),e.defined(l)&&(c=l.getURL(c)))}var g,b=n.querySelectorAll("Contents>Layer>Identifier");for(m=0;m<b.length&&!e.defined(g);m++)i===b[m].textContent&&(g=b[m].parentNode);if(e.defined(g)){var v,_,w=g.querySelectorAll("Style");for(m=0;m<w.length;m++){var O=w[m].querySelector("Identifier").textContent;null!=w[m].getAttribute("isDefault")&&(v=O),O===u&&(_=O)}e.defined(u)&&u==_||(u=e.defaultValue(v,""));for(var j=[].slice.call(g.querySelectorAll("Format")),S=0;S<t.FormatImage.length&&!e.defined(f);S++){j.filter((function(e){return e.textContent===t.FormatImage[S].format})).length>0&&(f=t.FormatImage[S])}d=g.querySelectorAll("TileMatrixSetLink")}for(var E=[].slice.call(n.querySelectorAll("TileMatrixSet>Identifier")),x=0;x<d.length&&!o.ready;x++){var P,M,L=d[x],T=L.querySelector("TileMatrixSet").textContent;for(m=0;m<E.length&&!e.defined(P);m++)E[m].textContent===T&&(P=E[m].parentNode);for(var C=P.querySelector("SupportedCRS").textContent,k=0;k<t.CRS.length&&!e.defined(M);k++)t.CRS[k].SupportedCRS===C&&(M=t.CRS[k]);if(e.defined(M)){var I,D=[].slice.call(P.querySelectorAll("TileMatrix"));(I=D.map((function(e){var t=e.querySelector("Identifier").textContent,n=parseInt(e.querySelector("MatrixWidth").textContent),r=parseInt(e.querySelector("MatrixHeight").textContent),o=parseInt(e.querySelector("TileWidth").textContent),i=parseInt(e.querySelector("TileHeight").textContent);return{id:t,maxWidth:n,maxHeight:r,scaleDenominator:parseFloat(e.querySelector("ScaleDenominator").textContent),complete:!1,tileWidth:o,tileHeight:i}}))).sort((function(e,t){return t.scaleDenominator-e.scaleDenominator})),listTileMatrixLimits=L.querySelectorAll("TileMatrixSetLimits>TileMatrixLimits");for(var A=0;A<I.length;A++)for(var R=I[A],F=0;F<listTileMatrixLimits.length;F++){var N=listTileMatrixLimits[F];R.id===N.querySelector("TileMatrix").textContent&&(R.minTileRow=parseInt(N.querySelector("MinTileRow").textContent),R.maxTileRow=parseInt(N.querySelector("MaxTileRow").textContent),R.minTileCol=parseInt(N.querySelector("MinTileCol").textContent),R.maxTileCol=parseInt(N.querySelector("MaxTileCol").textContent),R.complete=!0,I[A]=R)}if(I.length>0){o.tilingScheme=new M.tilingScheme({ellipsoid:M.ellipsoid,numberOfLevelZeroTilesX:I[0].maxWidth,numberOfLevelZeroTilesY:I[0].maxHeight});var G=g.querySelector("ResourceURL[format='"+f.format+"']");if(null!=G?a=G.getAttribute("template").replace("{TileRow}","{y}").replace("{TileCol}","{x}").replace("{Style}",u).replace("{TileMatrixSet}",T).replace("{layer}",i).replace("{infoFormatExtension}",f.extension):e.defined(c)&&(a=c+"service=WMTS&request=GetTile&version=1.0.0&layer="+i+"&style=&"+u+"format="+f.format+"&TileMatrixSet="+T+"&TileMatrix={TileMatrix}&TileRow={y}&TileCol={x}"),e.defined(a)){o.getTileDataAvailable=function(e,t,n){var r=!1;if(n<s&&n<I.length){var o=I[n];r=o.complete?t<=o.maxTileRow&&t>=o.minTileRow&&e<=o.maxTileCol&&e>=o.minTileCol:e<o.maxWidth&&t<o.maxHeight}return r},o.URLtemplateImage=function(e,t,n){var r="";if(o.getTileDataAvailable(e,t,n)){var i=I[n];r=a.replace("{TileMatrix}",i.id)}return r};var U={width:I[0].tileWidth,height:I[0].tileHeight};0==I.filter((function(e){return e.tileWidth!=U.width||e.tileHeight!=U.height})).length&&(o.imageSize=U),o.ready=!0}}}}return o};var n=function(n){if(!e.defined(n))throw new e.DeveloperError("description is required.");var o=new e.Event,i=n.credit;"string"==typeof i&&(i=new e.Credit(i)),this.ready=!1,e.defineProperties(this,{errorEvent:{get:function(){return o}},credit:{get:function(){return i}},hasVertexNormals:{get:function(){return!1}}}),r(t.parser(n),this)};function r(t,r){e.when(t,(function(t){e.defined(t)&&t.ready&&(t.levelZeroMaximumGeometricError=e.TerrainProvider.getEstimatedLevelZeroGeometricErrorForAHeightmap(t.tilingScheme.ellipsoid,t.heightMapWidth,t.tilingScheme.getNumberOfXTilesAtLevel(0)),e.defined(t.URLtemplateImage)&&(t.getHeightmapTerrainDataImage=function(a,s,l){var u;if(!isNaN(a+s+l)){var c=o(t.URLtemplateImage(a,s,l),a,s,l,r),p={highest:t.highest,lowest:t.lowest,offset:t.offset},f=i(a,s,l,r),d=e.throttleRequestByServer(c,e.loadImage);e.defined(d)&&(u=e.when(d,(function(e){return n.imageToHeightmapTerrainData(e,p,{width:t.heightMapWidth,height:t.heightMapHeight},t.waterMask,f,t.hasStyledImage)})).otherwise((function(){return new e.HeightmapTerrainData({buffer:new Uint16Array(t.heightMapWidth*t.heightMapHeight),width:t.heightMapWidth,height:t.heightMapHeight,childTileMask:f,waterMask:new Uint8Array(t.heightMapWidth*t.heightMapHeight),structure:t.formatImage.terrainDataStructure})})))}return u}),e.defined(t.URLtemplateArray)&&(t.getHeightmapTerrainDataArray=function(a,s,l){var u;if(!isNaN(a+s+l)){var c=o(t.URLtemplateArray(a,s,l),a,s,l,r),p={highest:t.highest,lowest:t.lowest,offset:t.offset},f=i(a,s,l,r),d=e.throttleRequestByServer(c,e.loadArrayBuffer);e.defined(d)&&(u=e.when(d,(function(e){return n.arrayToHeightmapTerrainData(e,p,{width:t.heightMapWidth,height:t.heightMapHeight},t.formatArray,t.waterMask,f)})).otherwise((function(){return e.defined(t.getHeightmapTerrainDataImage)?t.getHeightmapTerrainDataImage(a,s,l):new e.HeightmapTerrainData({buffer:new Uint16Array(t.heightMapWidth*t.heightMapHeight),width:t.heightMapWidth,height:t.heightMapHeight,childTileMask:f,waterMask:new Uint8Array(t.heightMapWidth*t.heightMapHeight),structure:t.formatImage.terrainDataStructure})})))}return u}),r.getLevelMaximumGeometricError=function(e){return t.levelZeroMaximumGeometricError/(1<<e)},r.requestTileGeometry=function(n,r,o){var i;return e.defined(t.getHeightmapTerrainDataArray)?i=t.getHeightmapTerrainDataArray(n,r,o):e.defined(t.getHeightmapTerrainDataImage)&&(i=t.getHeightmapTerrainDataImage(n,r,o)),i},e.defineProperties(r,{tilingScheme:{get:function(){return t.tilingScheme}},ready:{get:function(){return t.ready}},hasWaterMask:{get:function(){return t.waterMask}},heightMapHeight:{get:function(){return t.heightMapHeight}},heightMapWidth:{get:function(){return t.heightMapWidth}},getTileDataAvailable:{get:function(){return t.getTileDataAvailable}}}))}))}function o(e,t,n,r,o){var i=o.tilingScheme.tileXYToNativeRectangle(t,n,r),a=(i.east-i.west)/(o.heightMapWidth-1),s=(i.north-i.south)/(o.heightMapHeight-1);i.west-=.5*a,i.east+=.5*a,i.south-=.5*s,i.north+=.5*s;var l=o.tilingScheme.getNumberOfYTilesAtLevel(r)-n-1;return e.replace("{south}",i.south).replace("{north}",i.north).replace("{west}",i.west).replace("{east}",i.east).replace("{x}",t).replace("{y}",n).replace("{tmsY}",l)}function i(e,t,n,r){var o=0,i=n+1;return o|=r.getTileDataAvailable(2*e,2*t,i)?1:0,o|=r.getTileDataAvailable(2*e+1,2*t,i)?2:0,o|=r.getTileDataAvailable(2*e,2*t+1,i)?4:0,o|=r.getTileDataAvailable(2*e+1,2*t+1,i)?8:0}return n.arrayToHeightmapTerrainData=function(t,n,r,o,i,a){"number"==typeof r&&(r={width:r,height:r});var s=o.postProcessArray(t,r,n.highest,n.lowest,n.offset);if(!e.defined(s))throw new e.DeveloperError("no good size");var l={buffer:s,width:r.width,height:r.height,childTileMask:a,structure:o.terrainDataStructure};if(i){for(var u=new Uint8Array(s.length),c=0;c<s.length;c++)s[c]<=0&&(u[c]=255);l.waterMask=u}return new e.HeightmapTerrainData(l)},n.imageToHeightmapTerrainData=function(t,n,r,o,i,a){"number"==typeof r&&(r={width:r,height:r});for(var s=e.getImagePixels(t,r.width,r.height),l=new Uint8Array(s.length/4),u=new Int16Array(s.length/4),c=0,p=0,f=0;f<s.length;f+=4){var d=s[f],h=s[f+1],m=s[f+2]>128,y=(d<<8|h)-n.offset-32768;y>n.lowest&&y<n.highest&&(m||a)?(u[f/4]=y,p+=y,c++):u[f/4]=0==c?0:p/c}var g={buffer:u,width:r.width,height:r.height,childTileMask:i,structure:{heightScale:1,heightOffset:0,elementsPerHeight:1,stride:1,elementMultiplier:256,isBigEndian:!1}};if(o){for(l=new Uint8Array(heightBuffer.length),f=0;f<heightBuffer.length;f++)heightBuffer[f]<=0&&(l[f]=255);g.waterMask=l}return new e.HeightmapTerrainData(g)},n}},"./MapStore2/web/client/utils/cesium/ClickUtils.js":function(e,t,n){var r=n("./MapStore2/web/client/libs/cesium.js");e.exports={getMouseXYZ:function(e,t){var n=e.scene,o=t.position||t.endPosition;if(!o)return null;var i=e.camera.getPickRay(o),a=e.scene.globe.pick(i,e.scene),s=n._globe.ellipsoid;if(r.defined(a)){var l=s.cartesianToCartographic(a),u=function(e,t){if(null!==t.position){var n=e.scene,r=n._globe.ellipsoid;return n._camera.pickEllipsoid(t.position||t.endPosition,r)}return null}(e,t);return u&&(l.height=n._globe.getHeight(l),l.cartesian=u,l.position=a),l}return null},getMouseTile:function(e,t){var n=e.scene;if(!t.position)return null;var r=e.camera.getPickRay(t.position);return e.scene.globe.pickTile(r,n)}}},"./MapStore2/web/client/utils/cesium/WMSUtils.js":function(e,t){e.exports={PARAM_OPTIONS:["layers","styles","style","format","transparent","version","tiled","opacity","zindex","srs","singletile","_v_","filterobj"]}},"./MapStore2/web/client/utils/leaflet/DrawSupportUtils.js":function(e,t,n){"use strict";n.r(t),n.d(t,"boundsToOLExtent",(function(){return r})),n.d(t,"fromLeafletFeatureToQueryform",(function(){return o}));var r=function(e){return[e.getWest(),e.getSouth(),e.getEast(),e.getNorth()]},o=function(e){var t=e.toGeoJSON(),n=e.getBounds(),o=r(n),i=n.getCenter(),a=e.getRadius?e.getRadius():0,s=t.features[0].geometry.coordinates;return{type:t.features[0].geometry.type,extent:o,center:i,coordinates:s,radius:a,projection:"EPSG:4326"}}},"./MapStore2/web/client/utils/leaflet/Icons.js":function(e,t,n){var r=n("./MapStore2/web/client/libs/leaflet.js"),o=n("./MapStore2/node_modules/lodash/lodash.js").isFunction;n("./node_modules/leaflet-extra-markers/src/assets/js/leaflet.extra-markers.js"),n("./node_modules/leaflet-extra-markers/dist/css/leaflet.extra-markers.min.css"),e.exports={extra:{getIcon:function(e){var t=e.iconPrefix||"fa";return r.ExtraMarkers.icon({icon:t+"-"+e.iconGlyph,markerColor:e.iconColor||"blue",shape:e.iconShape||"square",prefix:t,extraClasses:e.highlight?"marker-selected":""})}},standard:{getIcon:function(e){return r.icon({iconUrl:e.iconUrl||e.symbolUrlCustomized||e.symbolUrl,shadowUrl:e.shadowUrl,iconSize:e.iconSize,shadowSize:e.shadowSize,iconAnchor:e.iconAnchor,shadowAnchor:e.shadowAnchor,popupAnchor:e.popupAnchor})}},html:{getIcon:function(e,t){return r.divIcon(o(e.html)?e.html(t):e.html)}}}},"./MapStore2/web/client/utils/leaflet/Vector.js":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n("./MapStore2/web/client/libs/leaflet.js"),s=n("./MapStore2/web/client/utils/leaflet/Icons.js"),l=n("./node_modules/object-assign/index.js"),u=n("./MapStore2/web/client/utils/VectorStyleUtils.js"),c=u.isMarkerStyle,p=u.isSymbolStyle,f=function e(t,n,r){for(var o,i=[],a=t.length,s=0;s<a;s++)o=n?e(t[s],n-1,r):(r||this.coordsToLatLng)(t[s]),i.push(o);return i},d=function(e){if("GeometryCollection"===e.geometry.type)return!1;var t=e.style;return t&&(c(t)||p(t)||t.iconUrl||t.iconGlyph)},h={coordsToLatLngF:function(e){return new a.LatLng(e[1],e[0],e[2])},coordsToLatLngs:f,isMarker:d,getPointLayer:function(e,t,n,r){return e?e(t,n):h.pointToLayer(n,t,o(o({},r.style),{},{styleName:r.styleName,highlight:r.highlight}))},pointToLayer:function(e,t,n){var r=n.Point||n.MultiPoint||n,o=function(e,t){if(e&&e.iconGlyph){var n=e.iconLibrary||"extra";if(s[n])return s[n].getIcon(e)}return e&&e.html&&t?s.html.getIcon(e,t):e&&e.iconUrl||e.symbolUrlCustomized||e.symbolUrl?s.standard.getIcon(e):null}(r,t);return o?a.marker(e,{icon:o,opacity:r&&r.opacity||1}):a.marker(e,{opacity:r&&r.opacity||1})},toValidGeoJSON:function(){},createTextPointMarkerLayer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pointToLayer,n=e.geojson,r=e.latlng,i=e.options,s=e.style,l=void 0===s?{}:s,u=e.highlight,c=void 0!==u&&u;if(n.properties&&n.properties.isText){var p=a.divIcon({html:'<span style="\n                font:'.concat(l.font,";\n                color:").concat(l.fillColor,";\n                -webkit-text-stroke-width:",1,"px;\n                -webkit-text-stroke-color:").concat(l.color,';">').concat(n.properties.valueText,"</span>"),className:""});return new a.Marker(r,{icon:p})}return h.getPointLayer(t,n,r,o(o({},i),{},{style:l,highlight:c}))},createPolygonCircleLayer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.geojson,n=e.style,r=void 0===n?{}:n,i=e.latlngs,s=void 0===i?[]:i,l=e.coordsToLatLng,u=void 0===l?function(){}:l;if(t.properties&&t.properties.isCircle){var c=u(t.properties.center);return a.circle(c,o(o({},r),{},{radius:t.properties.radius}))}return new a.Polygon(s,r)},geometryToLayer:function(e,t){var n,r="Feature"===e.type?e.geometry:e,i=r?r.coordinates:null,s=[],u=o({styleName:t.styleName,style:t.style&&t.style[0]||t.style},e),c=t&&!d(u)?function(e,t){return"marker"===u.styleName?a.marker(t,u.style):a.circleMarker(t,u.style&&u.style[0]||u.style)}:null,p=t&&t.coordsToLatLng||h.coordsToLatLngF;if(!i&&!r)return null;var m,y,g,b,v=u.style||l({},t.style&&t.style[r.type]||t.style,{highlight:t.style&&t.style.highlight});switch(r.type){case"Point":return m=p(i),n=h.createTextPointMarkerLayer({pointToLayer:c,geojson:e,latlng:m,options:t,style:v,highlight:v&&v.highlight});case"MultiPoint":for(g=0,b=i.length;g<b;g++)m=p(i[g]),(n=h.createTextPointMarkerLayer({pointToLayer:c,geojson:e,latlng:m,options:t,style:v,highlight:v&&v.highlight})).msId=e.id,s.push(n);return new a.FeatureGroup(s);case"LineString":return v=h.updateHighlightStyle(v),y=f(i,"LineString"===r.type?0:1,p),(n=new a.Polyline(y,v)).msId=e.id,n;case"MultiLineString":for(v=h.updateHighlightStyle(v),g=0,b=(y=f(i,"LineString"===r.type?0:1,p)).length;g<b;g++)(n=new a.Polyline(y[g],v)).msId=e.id,n&&s.push(n);return new a.FeatureGroup(s);case"Polygon":return v=h.updateHighlightStyle(v),y=f(i,"Polygon"===r.type?1:2,p),(n=h.createPolygonCircleLayer({geojson:e,style:v,latlngs:y,coordsToLatLng:p})).msId=e.id,n;case"MultiPolygon":for(v=h.updateHighlightStyle(v),g=0,b=(y=f(i,"Polygon"===r.type?1:2,p)).length;g<b;g++)(n=h.createPolygonCircleLayer({geojson:e,style:v,latlngs:y,coordsToLatLng:p})).msId=e.id,n&&s.push(n);return new a.FeatureGroup(s);case"GeometryCollection":for(g=0,b=r.geometries.length;g<b;g++)(n=h.geometryToLayer({geometry:r.geometries[g],type:"Feature",properties:e.properties},t))&&s.push(n);return new a.FeatureGroup(s);default:throw new Error("Invalid GeoJSON object.")}},updateHighlightStyle:function(e){var t=e.highlight;return t?l({},e,{dashArray:t?"10":null}):e}};e.exports=h},"./MapStore2/web/client/utils/leaflet/WMSUtils.js":function(e,t,n){var r=n("./node_modules/object-assign/index.js"),o={PARAM_OPTIONS:["layers","styles","format","transparent","version","tiled","zindex","_v_","cql_filter","sld"],wmsToLeafletOptions:function(e){var t=void 0!==e.opacity?e.opacity:1;return r({layers:e.name,styles:e.style||"",format:e.format||"image/png",transparent:void 0===e.transparent||e.transparent,tiled:void 0===e.tiled||e.tiled,opacity:t},e.params||{})},getWMSURL:function(e){return e.split("?")[0]},filterWMSParamOptions:function(e){var t={};return Object.keys(e).forEach((function(n){n&&n.toLowerCase&&o.PARAM_OPTIONS.indexOf(n.toLowerCase())>=0&&(t[n]=e[n])})),t}};e.exports=o},"./MapStore2/web/client/utils/leaflet/WMTS.js":function(e,t,n){function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var i=n("./MapStore2/web/client/libs/leaflet.js"),a=n("./MapStore2/web/client/utils/MapUtils.js").getScales,s=n("./MapStore2/web/client/utils/CoordinatesUtils.js").parseString,l=n("./MapStore2/node_modules/lodash/lodash.js"),u=l.head,c=l.isNumber,p=i.TileLayer.extend({defaultWmtsParams:{service:"WMTS",request:"GetTile",version:"1.3.0",layer:"",style:"",tileMatrixSet:"",format:"image/jpeg"},initialize:function(e,t,n){this._url=e[0],this._urls=e,this._urlsIndex=0;var r=i.extend({},this.defaultWmtsParams),o=t.tileSize||this.options.tileSize;for(var a in t.detectRetina&&i.Browser.retina?r.width=r.height=2*o:r.width=r.height=o,t)this.options.hasOwnProperty(a)||"crs"===a||(r[a]=t[a]);this.wmtsParams=r,this.matrixIds=n.matrixIds&&this.getMatrix(n.matrixIds,n)||this.getDefaultMatrix(n),this.matrixSet=n.matrixSet&&n.matrixSet.TileMatrix||[],this.ignoreErrors=n.ignoreErrors||!1,i.setOptions(this,t)},getWMTSParams:function(e,t,n,r,o){var i=a()[n],l=u(e.map((function(t,n){if(n===e.length-1)return null;var r=parseFloat(t.ScaleDenominator),o=parseFloat(e[n+1].ScaleDenominator);return r>=i&&o<i?i-o>(r-o)/2?{id:n,data:t}:{id:n+1,data:e[n+1]}:null})).filter((function(e){return e}))),p=l&&c(l.id)&&l.id+""||0===e.length&&n||null;if(!t[p])return null;var f=t[p].identifier,d=l.data&&l.data.TopLeftCorner&&s(l.data.TopLeftCorner)||t[p].topLeftCorner,h=d.lng||d.x,m=d.lat||d.y,y=Math.round((r.x-h)/o),g=-Math.round((r.y-m)/o),b=l.data&&l.data.MatrixWidth&&l.data.MatrixHeight&&{cols:{min:0,max:l.data.MatrixWidth-1},rows:{min:0,max:l.data.MatrixHeight-1}},v=t[p].ranges||b;return v&&!function(e,t,n){return!(e<n.cols.min||e>n.cols.max)&&!(t<n.rows.min||t>n.rows.max)}(y,g,v)?null:{ident:f,tilecol:y,tilerow:g}},getTileUrl:function(e){var t=this._map,n=t.options.crs,o=this.options.tileSize,a=e.multiplyBy(o);a.x+=1,a.y-=1;var s=a.add([o,o]),l=n.project(t.unproject(a,e.z)),u=n.project(t.unproject(s,e.z)).x-l.x,c=this.getWMTSParams(r(this.matrixSet),r(this.matrixIds),e.z,l,u);if(!c)return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";this._urlsIndex++,this._urlsIndex===this._urls.length&&(this._urlsIndex=0);var p=i.Util.template(this._urls[this._urlsIndex],{s:this._getSubdomain(e),TileRow:c.tilerow,TileCol:c.tilecol,TileMatrixSet:this.options.tileMatrixSet,TileMatrix:c.ident,Style:this.options.style});return"RESTful"===this.options.requestEncoding?p:p+i.Util.getParamString(this.wmtsParams,p,!0)+"&tilematrix="+c.ident+"&tilerow="+c.tilerow+"&tilecol="+c.tilecol},getMatrix:function(e,t){return e.map((function(e){return{identifier:e.identifier,topLeftCorner:new i.LatLng(t.originY,t.originX),ranges:e.ranges||null}}))},getDefaultMatrix:function(e){for(var t=new Array(22),n=0;n<22;n++)t[n]={identifier:e.tileMatrixPrefix+n,topLeftCorner:new i.LatLng(e.originY,e.originX)};return t},onError:function(){return!this.ignoreErrors}});e.exports=p},"./MapStore2/web/client/utils/mapinfo/vector.js":function(e,t,n){var r=n("./MapStore2/web/client/utils/MapUtils.js").getCurrentResolution;e.exports={buildRequest:function(e,t){var n,o;return{request:{lat:t.point.latlng.lat,lng:t.point.latlng.lng},metadata:{fields:(null===(n=e.features)||void 0===n||null===(o=n[0])||void 0===o?void 0:o.properties)&&Object.keys(e.features[0].properties)||[],title:e.name,resolution:t.map&&t.map&&t.map.zoom&&r(t.map.zoom,0,21,96),buffer:t.buffer||2,units:t.map&&t.map.units,rowViewer:e.rowViewer,viewer:e.viewer},url:""}}}},"./MapStore2/web/client/utils/mapinfo/wfs.js":function(e,t,n){function r(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n("./node_modules/rxjs/Rx.js").Observable,l=n("./MapStore2/web/client/utils/CoordinatesUtils.js").normalizeSRS,u=n("./MapStore2/web/client/utils/LayersUtils.js").getLayerUrl,c=n("./MapStore2/node_modules/lodash/lodash.js").isObject,p=n("./MapStore2/web/client/utils/VendorParamsUtils.js").optionsToVendorParams,f=n("./MapStore2/web/client/api/WFS.js"),d=f.describeFeatureType,h=f.getFeature,m=n("./MapStore2/web/client/utils/WFSLayerUtils.js").extractGeometryAttributeName,y=n("./MapStore2/web/client/utils/SecurityUtils.js").addAuthenticationToSLD,g=n("./node_modules/object-assign/index.js");e.exports={buildRequest:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.map,r=void 0===n?{}:n,o=t.point,a=t.currentLocale,s=t.params,p=t.maxItems,f=void 0===p?10:p,d=arguments.length>3?arguments[3]:void 0,h=arguments.length>4?arguments[4]:void 0;return{request:y(i({point:o,service:"WFS",version:"1.1.1",request:"GetFeature",outputFormat:"application/json",exceptions:"application/json",id:e.id,typeName:e.name,srs:l(r.projection)||"EPSG:4326",feature_count:f},g({params:s})),e),metadata:{title:c(e.title)?e.title[a]||e.title.default:e.title,regex:e.featureInfoRegex,viewer:d,featureInfo:h},url:u(e).replace(/[?].*$/g,"")}},getIdentifyFlow:function(e,t,n){var o=n.point,i=r(n,["point"]),a=function(e){var t,n,r=null==e||null===(t=e.geometricFilter)||void 0===t||null===(n=t.value)||void 0===n?void 0:n.geometry;if(r)return r;var o=e.latlng.lng;return{coordinates:[o-360*Math.floor(o/360+.5),e.latlng.lat],projection:"EPSG:4326",type:"Point"}}(o);return s.defer((function(){return d(e.url,e.name).then((function(n){var r=m(n),o=p({layerFilter:e.layerFilter,filterObj:{spatialField:{attribute:r,operation:"INTERSECTS",geometry:a}},params:g({},e.baseParams,e.params,i)});return h(t,e.name,o)}))}))}}},"./MapStore2/web/client/utils/mapinfo/wms.js":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n("./MapStore2/web/client/utils/MapUtils.js").getCurrentResolution,s=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),l=s.reproject,u=s.getProjectedBBox,c=s.normalizeSRS,p=n("./MapStore2/web/client/utils/LayersUtils.js").getLayerUrl,f=n("./MapStore2/node_modules/lodash/lodash.js").isObject,d=n("./MapStore2/web/client/utils/VendorParamsUtils.js").optionsToVendorParams,h=n("./MapStore2/web/client/utils/LayerLocalizationUtils.js").generateEnvString,m=n("./MapStore2/web/client/utils/SecurityUtils.js").addAuthenticationToSLD,y=n("./node_modules/object-assign/index.js");e.exports={buildRequest:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.sizeBBox,r=t.map,i=void 0===r?{}:r,s=t.point,g=t.currentLocale,b=t.params,v=t.maxItems,_=void 0===v?10:v,w=t.env,O=arguments.length>2?arguments[2]:void 0,j=arguments.length>3?arguments[3]:void 0,S=arguments.length>4?arguments[4]:void 0,E=n&&n.height||101,x=n&&n.width||101,P=[E,x],M=0,L=a(Math.ceil(i.zoom),0,21,96),T=s.latlng.lng,C=T-360*Math.floor(T/360+.5),k={x:C,y:s.latlng.lat},I=l(k,"EPSG:4326",i.projection),D=u(I,L,M,P,null),A=e.name;e.queryLayers&&(A=e.queryLayers.join(","));var R=h(w),F=d({layerFilter:e.layerFilter,filterObj:e.filterObj,params:y({},e.baseParams,e.params,b)});return{request:m(o({service:"WMS",version:"1.1.1",request:"GetFeatureInfo",exceptions:"application/json",id:e.id,layers:e.name,query_layers:A,styles:e.style,x:x%2==1?Math.ceil(x/2):x/2,y:x%2==1?Math.ceil(x/2):x/2,height:E,width:x,srs:c(i.projection)||"EPSG:4326",bbox:D.minx+","+D.miny+","+D.maxx+","+D.maxy,feature_count:_,info_format:O,ENV:R},y({},F)),e),metadata:{title:f(e.title)?e.title[g]||e.title.default:e.title,regex:e.featureInfoRegex,viewer:j,featureInfo:S},url:p(e).replace(/[?].*$/g,"")}}}},"./MapStore2/web/client/utils/mapinfo/wmts.js":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n("./MapStore2/web/client/utils/MapUtils.js"),s=a.getCurrentResolution,l=a.getResolutions,u=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),c=u.reproject,p=u.normalizeSRS,f=n("./MapStore2/web/client/utils/WMTSUtils.js"),d=f.getTileMatrixSet,h=f.limitMatrix,m=f.getMatrixIds,y=f.getDefaultMatrixId,g=n("./MapStore2/web/client/utils/LayersUtils.js").getLayerUrl,b=n("./MapStore2/web/client/utils/VendorParamsUtils.js").optionsToVendorParams,v=n("./MapStore2/node_modules/lodash/lodash.js").isObject,_=n("./node_modules/object-assign/index.js");e.exports={buildRequest:function(e,t){var n=s(Math.round(t.map.zoom),0,21,96),r=e.resolutions||l(),i=e.tileSize||256,a=[e.originX||-20037508.3428,e.originY||20037508.3428],u=t.point.latlng.lng,f={x:u-360*Math.floor(u/360+.5),y:t.point.latlng.lat},w=c(f,"EPSG:4326",t.map.projection),O=p(e.srs||t.map.projection||"EPSG:3857",e.allowedSRS),j=d(e.tileMatrixSet,O,e.allowedSRS,e.matrixIds),S=(w.x-a[0])/(n*i),E=(a[1]-w.y)/(n*i),x=Math.floor(S),P=Math.floor(E),M=Math.floor((S-x)*i),L=Math.floor((E-P)*i),T=h(e.matrixIds&&m(e.matrixIds,j||O)||y(e),r.length),C=b({layerFilter:e.layerFilter,filterObj:e.filterObj,params:_({},e.baseParams,e.params,t.params)});return{request:o(o({service:"WMTS",request:"GetFeatureInfo",layer:e.name,infoformat:t.format,style:e.style||""},_({},C)),{},{tilecol:x,tilerow:P,tilematrix:T[Math.round(t.map.zoom)],tilematrixset:j,i:M,j:L}),metadata:{title:v(e.title)?e.title[t.currentLocale]||e.title.default:e.title,regex:e.featureInfoRegex},url:g(e).replace(/[?].*$/g,"")}}}},"./MapStore2/web/client/utils/ogc/Filter/CQL/parser.js":function(e,t){var n="INTERSECTS",r="BBOX",o="CONTAINS",i="DWITHIN",a="WITHIN",s={PROPERTY:/^[_a-zA-Z]\w*/,COMPARISON:/^(=|<>|<=|<|>=|>|LIKE)/i,IS_NULL:/^IS NULL/i,COMMA:/^,/,LOGICAL:/^(AND|OR)/i,VALUE:/^('([^']|'')*'|-?\d+(\.\d*)?|\.\d+)/,LPAREN:/^\(/,RPAREN:/^\)/,SPATIAL:/^(BBOX|INTERSECTS|DWITHIN|WITHIN|CONTAINS)/i,NOT:/^NOT/i,BETWEEN:/^BETWEEN/i,GEOMETRY:function(e){var t=/^(POINT|LINESTRING|POLYGON|MULTIPOINT|MULTILINESTRING|MULTIPOLYGON|GEOMETRYCOLLECTION)/.exec(e);if(t){var n=e.length,r=e.indexOf("(",t[0].length);if(r>-1)for(var o=1;r<n&&o>0;)switch(r++,e.charAt(r)){case"(":o++;break;case")":o--}return[e.substr(0,r+1)]}return null},END:/^$/},l={LPAREN:["GEOMETRY","SPATIAL","PROPERTY","VALUE","LPAREN"],RPAREN:["NOT","LOGICAL","END","RPAREN"],PROPERTY:["COMPARISON","BETWEEN","COMMA","IS_NULL"],BETWEEN:["VALUE"],IS_NULL:["END"],COMPARISON:["VALUE"],COMMA:["GEOMETRY","VALUE","PROPERTY"],VALUE:["LOGICAL","COMMA","RPAREN","END"],SPATIAL:["LPAREN"],LOGICAL:["NOT","VALUE","SPATIAL","PROPERTY","LPAREN"],NOT:["PROPERTY","LPAREN"],GEOMETRY:["COMMA","RPAREN"]},u={"=":"=","<>":"<>","<":"<","<=":"<=",">":">",">=":">=",LIKE:"like",ILIKE:"ilike",BETWEEN:"><","IS NULL":"isNull"},c={AND:"and",OR:"or",NOT:"not"},p={RPAREN:3,LOGICAL:2,COMPARISON:1},f=function(e,t){return t instanceof RegExp?t.exec(e):t(e)},d=function(e,t){var n,r,o=t.length;for(n=0;n<o;n++){r=t[n];var i=f(e,s[r]);if(i){var a=i[0];return{type:r,text:a,remainder:e.substr(a.length).replace(/^\s*/,"")}}}var l="ERROR: In parsing: ["+e+"], expected one of: ";for(n=0;n<o;n++)l+="\n    "+(r=t[n])+": "+s[r];throw new Error(l)},h=function(e){for(var t=[],s=[];e.length;){var l=e.shift();switch(l.type){case"PROPERTY":case"GEOMETRY":case"VALUE":s.push(l);break;case"COMPARISON":case"BETWEEN":case"IS_NULL":case"LOGICAL":for(var f=p[l.type];t.length>0&&p[t[t.length-1].type]<=f;)s.push(t.pop());t.push(l);break;case"SPATIAL":case"NOT":case"LPAREN":t.push(l);break;case"RPAREN":for(;t.length>0&&"LPAREN"!==t[t.length-1].type;)s.push(t.pop());t.pop(),t.length>0&&"SPATIAL"===t[t.length-1].type&&s.push(t.pop());break;case"COMMA":case"END":break;default:throw new Error("Unknown token type "+l.type)}}for(;t.length>0;)s.push(t.pop());var d=function e(){var t=s.pop();switch(t.type){case"LOGICAL":var l=e();return{filters:[e(),l],type:c[t.text.toUpperCase()]};case"NOT":return{filters:[e()],type:c.NOT};case"BETWEEN":s.pop();var p=e(),f=e();return{property:e(),lowerBoundary:f,upperBoundary:p,type:u.BETWEEN};case"COMPARISON":var d=e();return{property:e(),value:d,type:u[t.text.toUpperCase()]};case"IS_NULL":return{property:e(),type:u[t.text.toUpperCase()]};case"VALUE":var h=t.text.match(/^'(.*)'$/);return h?h[1].replace(/''/g,"'"):Number(t.text);case"SPATIAL":switch(t.text.toUpperCase()){case"BBOX":var m=e(),y=e(),g=e(),b=e(),v=e();return{type:r,property:v,value:[b,g,y,m]};case"INTERSECTS":var _=e(),w=e();return{type:n,property:w,value:_};case"WITHIN":var O=e(),j=e();return{type:a,property:j,value:O};case"CONTAINS":var S=e(),E=e();return{type:o,property:E,value:S};case"DWITHIN":var x=e(),P=e(),M=e();return{type:i,value:P,property:M,distance:Number(x)};default:return null}case"GEOMETRY":return function(){throw new Error("WKT parsing for CQL filter not supported yet")}(t.text);default:return t.text}}();if(s.length>0){for(var h="Remaining tokens after building AST: \n",m=s.length-1;m>=0;m--)h+=s[m].type+": "+s[m].text+"\n";throw new Error(h)}return d};e.exports={read:function(e){return h(function(e){var t,n=[],r=e,o=["NOT","GEOMETRY","SPATIAL","PROPERTY","LPAREN"];do{if(r=(t=d(r,o)).remainder,o=l[t.type],"END"!==t.type&&!o)throw new Error("No follows list for "+t.type);n.push(t)}while("END"!==t.type);return n}(e))}}},"./MapStore2/web/client/utils/ogc/Filter/FilterBuilder.js":function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n("./MapStore2/web/client/utils/ogc/Filter/operators.js"),i=o.logical,a=o.spatial,s=o.comparison,l=o.literal,u=o.propertyName,c=o.valueReference,p=o.distance,f=o.lower,d=o.upper,h=n("./MapStore2/web/client/utils/ogc/Filter/filter.js"),m=h.filter,y=h.fidFilter,g=n("./MapStore2/web/client/utils/ogc/GML/index.js").processOGCGeometry;e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.filterNS,n=void 0===t?"ogc":t,o=e.gmlVersion,h=e.wfsVersion,b=void 0===h?"1.1.0":h,v=o||"3.1.1",_=function(e){return g(v,e)},w=function(e){return"object"===r(e)&&Date,l(n,e)},O=0===b.indexOf("2.")?c:u;return{filter:m.bind(null,n),fidFilter:y.bind(null,n),and:i.and.bind(null,n),or:i.or.bind(null,n),not:i.not.bind(null,n),property:function(e){return{equalTo:function(t){return s.equal(n,O(n,e),w(t))},greaterThen:function(t){return s.greater(n,O(n,e),w(t))},greaterThenOrEqualTo:function(t){return s.greaterOrEqual(n,O(n,e),w(t))},lessThen:function(t){return s.less(n,O(n,e),w(t))},lessThenOrEqualTo:function(t){return s.lessOrEqual(n,O(n,e),w(t))},notEqualTo:function(t){return s.notEqual(n,O(n,e),w(t))},between:function(t,r){return s.between(n,O(n,e),f(n,w(t)),d(n,w(r)))},like:function(t,r){return s.like(n,O(n,e),w(t),r)},ilike:function(t,r){return s.ilike(n,O(n,e),w(t),r)},isNull:function(){return s.isNull(n,O(n,e))},intersects:function(t){return a.intersects(n,O(n,e),_(t))},within:function(t){return a.within(n,O(n,e),_(t))},dwithin:function(t,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"m";return a.dwithin(n,O(n,e),_(t),p(n,r,o))},contains:function(t){return a.contains(n,O(n,e),_(t))}}}}}},"./MapStore2/web/client/utils/ogc/Filter/filter.js":function(e,t){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ogc",t=arguments.length>1?arguments[1]:void 0;return"<".concat(e,":Filter>").concat(Array.isArray(t)?t.join(""):t,"</").concat(e,":Filter>")};e.exports={fidFilter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ogc",t=arguments.length>1?arguments[1]:void 0;return n(e,"<".concat(e,':FeatureId fid="').concat(t,'"/>'))},filter:n}},"./MapStore2/web/client/utils/ogc/Filter/fromObject.js":function(e,t,n){function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var i=n("./MapStore2/node_modules/lodash/lodash.js"),a=i.includes,s=i.isNil,l=["and","or","not"],u={"=":"equalTo","<>":"notEqualTo","><":"between","<":"lessThen","<=":"lessThenOrEqualTo",">":"greaterThen",">=":"greaterThenOrEqualTo",like:"like",ilike:"ilike"};e.exports=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(n){var o=n.type,i=n.filters,c=void 0===i?[]:i,p=n.value,f=n.property,d=n.lowerBoundary,h=n.upperBoundary;return a(l,o)?t[o].apply(t,r(c.map(e(t)))):t.property(f)[u[o]](s(p)?d:p,h)}}},"./MapStore2/web/client/utils/ogc/Filter/operators.js":function(e,t){var n={"=":function(e,t){return"<".concat(e,":PropertyIsEqualTo>").concat(t,"</").concat(e,":PropertyIsEqualTo>")},">":function(e,t){return"<".concat(e,":PropertyIsGreaterThan>").concat(t,"</").concat(e,":PropertyIsGreaterThan>")},"<":function(e,t){return"<".concat(e,":PropertyIsLessThan>").concat(t,"</").concat(e,":PropertyIsLessThan>")},">=":function(e,t){return"<".concat(e,":PropertyIsGreaterThanOrEqualTo>").concat(t,"</").concat(e,":PropertyIsGreaterThanOrEqualTo>")},"<=":function(e,t){return"<".concat(e,":PropertyIsLessThanOrEqualTo>").concat(t,"</").concat(e,":PropertyIsLessThanOrEqualTo>")},"<>":function(e,t){return"<".concat(e,":PropertyIsNotEqualTo>").concat(t,"</").concat(e,":PropertyIsNotEqualTo>")},"><":function(e,t){return"<".concat(e,":PropertyIsBetween>").concat(t,"</").concat(e,":PropertyIsBetween>")},like:function(e,t){return"<".concat(e,':PropertyIsLike matchCase="true" wildCard="*" singleChar="." escapeChar="!">').concat(t,"</").concat(e,":PropertyIsLike>")},ilike:function(e,t){return"<".concat(e,':PropertyIsLike matchCase="false" wildCard="*" singleChar="." escapeChar="!">').concat(t,"</").concat(e,":PropertyIsLike>")},isNull:function(e,t){return"<".concat(e,":PropertyIsNull>").concat(t,"</").concat(e,":PropertyIsNull>")}},r={AND:function(e,t){return"<".concat(e,":And>").concat(t,"</").concat(e,":And>")},OR:function(e,t){return"<".concat(e,":Or>").concat(t,"</").concat(e,":Or>")},NOR:function(e,t){return"<".concat(e,":Not><").concat(e,":Or>").concat(t,"</").concat(e,":Or></").concat(e,":Not>")},NOT:function(e,t){return"<".concat(e,":Not>").concat(t,"</").concat(e,":Not>")}},o={INTERSECTS:function(e,t){return"<".concat(e,":Intersects>").concat(t,"</").concat(e,":Intersects>")},BBOX:function(e,t){return"<".concat(e,":BBOX>").concat(t,"</").concat(e,":BBOX>")},CONTAINS:function(e,t){return"<".concat(e,":Contains>").concat(t,"</").concat(e,":Contains>")},DWITHIN:function(e,t){return"<".concat(e,":DWithin>").concat(t,"</").concat(e,":DWithin>")},WITHIN:function(e,t){return"<".concat(e,":Within>").concat(t,"</").concat(e,":Within>")}},i=function(e,t,n){return t(e,Array.isArray(n)?n.join(""):n)},a={and:function(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];return o&&o.length>0?i(e,r.AND,[t].concat(o)):i(e,r.AND,t)},or:function(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];return o&&o.length>0?i(e,r.OR,[t].concat(o)):i(e,r.OR,t)},not:function(e,t){return i(e,r.NOT,t)},nor:function(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];return o&&o.length>0?i(e,r.NOR,[t].concat(o)):i(e,r.NOR,t)}},s={intersects:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return i(e,o.INTERSECTS,n)},within:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return i(e,o.WITHIN,n)},bbox:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return i(e,o.BBOX,n)},dwithin:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return i(e,o.DWITHIN,n)},contains:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return i(e,o.CONTAINS,n)}},l={equal:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return i(e,n["="],r)},greater:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return i(e,n[">"],r)},less:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return i(e,n["<"],r)},greaterOrEqual:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return i(e,n[">="],r)},lessOrEqual:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return i(e,n["<="],r)},notEqual:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return i(e,n["<>"],r)},between:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return i(e,n["><"],r)},like:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return i(e,n.like,r)},ilike:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return i(e,n.ilike,r)},isNull:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return i(e,n.isNull,r)}};e.exports={ogcComparisonOperators:n,ogcLogicalOperators:r,ogcSpatialOperators:o,propertyName:function(e,t){return"<".concat(e,":PropertyName>").concat(t,"</").concat(e,":PropertyName>")},valueReference:function(e,t){return"<".concat(e,":ValueReference>").concat(t,"</").concat(e,":ValueReference>")},distance:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"m";return"<".concat(e,':Distance units="').concat(n,'">').concat(t,"</").concat(e,":Distance>")},literal:function(e,t){return"<".concat(e,":Literal>").concat(t,"</").concat(e,":Literal>")},logical:a,spatial:s,comparison:l,lower:function(e,t){return"<".concat(e,":LowerBoundary>").concat(t,"</").concat(e,":LowerBoundary>")},upper:function(e,t){return"<".concat(e,":UpperBoundary>").concat(t,"</").concat(e,":UpperBoundary>")}}},"./MapStore2/web/client/utils/ogc/GML/index.js":function(e,t,n){var r=n("./MapStore2/node_modules/lodash/lodash.js").isArray,o=function(e){return 0===e.indexOf("2.")},i=function(e){if(e.length>=3){var t=e[0],n=e[e.length-1];if(t[0]!==n[0]||t[1]!==n[1])return e.concat([e[0]])}return e},a=function(e,t,n){var r='<gml:Point srsDimension="2"';return r+=t?' srsName="'+t+'">':">",r+=o(n)?"<gml:coord><X>"+e[0]+"</X><Y>"+e[1]+"</Y></gml:coord>":"<gml:pos>"+e.join(" ")+"</gml:pos>",r+="</gml:Point>"},s=function(e,t,n){var a=o(n),s="<gml:Polygon";return s+=t?' srsName="'+t+'">':">",(e.length&&r(e[0])&&e[0].length&&r(e[0][0])?e:[e]).forEach((function(e,t){var n=i(e).map((function(e){return e[0]+(a?",":" ")+e[1]})),r=a?"outerBoundaryIs":"exterior",o=a?"innerBoundaryIs":"exterior";s+=(t<1?"<gml:"+r+">":"<gml:"+o+">")+"<gml:LinearRing>"+(a?"<gml:coordinates>":"<gml:posList>")+n.join(" ")+(a?"</gml:coordinates>":"</gml:posList>")+"</gml:LinearRing>"+(t<1?"</gml:"+r+">":"</gml:"+o+">")})),s+="</gml:Polygon>"},l=function(e,t,n){var r=o(n),i="<gml:LineString";i+=t?' srsName="'+t+'">':">";var a=e.map((function(e){return e[0]+(r?",":" ")+e[1]}));return i+=(r?"<gml:coordinates>":"<gml:posList>")+a.join(" ")+(r?"</gml:coordinates>":"</gml:posList>"),i+="</gml:LineString>"};e.exports={closePolygon:i,pointElement:a,polygonElement:s,lineStringElement:l,processOGCGeometry:function(e,t){var n="",r=t.projection||"EPSG:4326";switch(t.type){case"Point":n+=a(t.coordinates,r,e);break;case"MultiPoint":n+='<gml:MultiPoint srsName="'+(t.projection||"EPSG:4326")+'">',t.coordinates.forEach((function(t){t&&(n+="<gml:pointMember>",n+=a(t,r,e),n+="</gml:pointMember>")})),n+="</gml:MultiPoint>";break;case"LineString":n+=l(t.coordinates,r,e);break;case"MultiLineString":var o="3.2"===e?"MultiCurve":"MultiLineString",i="3.2"===e?"curveMember":"lineStringMember";n+="<gml:".concat(o,' srsName="').concat(r,'">'),t.coordinates.forEach((function(t){t&&(n+="<gml:"+i+">",n+=l(t,r,e),n+="</gml:"+i+">")})),n+="</gml:"+o+">";break;case"Polygon":n+=s(t.coordinates,r,e);break;case"MultiPolygon":var u="3.2"===e?"MultiSurface":"MultiPolygon",c="3.2"===e?"surfaceMembers":"polygonMember";n+="<gml:".concat(u,' srsName="').concat(r,'">'),t.coordinates.forEach((function(t){t&&(n+="<gml:"+c+">",n+=s(t,r,e),n+="</gml:"+c+">")})),n+="</gml:"+u+">"}return n}}},"./MapStore2/web/client/utils/ogc/WFS/base.js":function(e,t,n){var r=n("./MapStore2/node_modules/lodash/lodash.js"),o=r.head,i=r.get,a=function(e){return/[<>&'"]/.test(e)?"<![CDATA[".concat(e,"]]>"):e},s=n("./MapStore2/web/client/utils/ogc/GML/index.js").processOGCGeometry,l={"1.0.0":"2.0","1.1.0":"3.1.1","2.0":"3.2","2.0.0":"3.2"},u=function(e){return i(e,"featureTypes[0].properties")},c=function(e,t){return o((u(t)||[]).filter((function(t){return t.name===e})))},p=function(e){return e.targetNamespace},f=function(e){return 0===e.type.indexOf("gml:")},d=function(e,t){return null==t||t&&!0===t.nillable||t&&!1===t.nillable&&null!=e},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.geom,n=e.properties,r=arguments.length>1?arguments[1]:void 0;return d(f(r)?t:n[r.name],r)};e.exports={schemaLocation:p,isGeometryType:f,featureTypeSchema:function(e){return"xmlns:".concat(e.targetPrefix,'="').concat(p(e),'"')},getValue:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"1.1.0",o=f(c(t,n));return o?e?s(r,{type:e.type,coordinates:e.coordinates}):"":null==e?"":"string"==typeof e?a(e):e},getPropertyDesciptor:c,findGeometryProperty:function(e){return o((u(e)||[]).filter((function(e){return 0===e.type.indexOf("gml:")})))},getFeatureTypeProperties:u,getTypeName:function(e){return e.targetPrefix?e.targetPrefix+":"+e.featureTypes[0].typeName:e.featureTypes[0].typeName},wfsToGmlVersion:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1.1.0";return l[e]},processOGCGeometry:s,isValid:function(e,t){return u(t).map((function(t){return h(e,t)}))},isValidProperty:h,isValidValueForPropertyName:function(e,t,n){return d(e,c(t,n))},isValidValue:d}},"./MapStore2/web/client/utils/openlayers/DrawSupportUtils.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("./MapStore2/node_modules/lodash/isArray.js"),o=n.n(r),i=n("./MapStore2/web/client/utils/CoordinatesUtils.js"),a=n("./node_modules/ol/extent.js"),s=n("./node_modules/ol/geom/Circle.js"),l=function(e,t,n,r){if(o()(t)&&o()(t[0])&&o()(t[0][0])){var a=Object(i.reproject)(t[0][0],r,n);return Math.sqrt(Math.pow(e[0]-a.x,2)+Math.pow(e[1]-a.y,2))}return 100},u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;if(!e.getGeometry()||"Polygon"!==e.getGeometry().getType()||e.getProperties().center&&0===e.getProperties().center.length)return e;if(e.getProperties()&&e.getProperties().isCircle&&e.getProperties().center&&e.getProperties().center[0]&&e.getProperties().center[1]){var r,o=e.getGeometry().getExtent();r=e.getProperties().center?[(r=Object(i.reproject)(e.getProperties().center,"EPSG:4326",t)).x,r.y]:Object(a.x)(o);var u=e.getProperties().crs===t?e.getProperties().radius:l(r,e.getGeometry().getCoordinates(),t,n);return e.setGeometry(new s.a(r,u)),e}return e}},"./MapStore2/web/client/utils/openlayers/DrawUtils.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return _})),n.d(t,"a",(function(){return w}));var r=n("./node_modules/ol/interaction/DragPan.js"),o=n("./node_modules/ol/interaction/KeyboardPan.js"),i=n("./node_modules/ol/interaction/MouseWheelZoom.js"),a=n("./node_modules/ol/interaction/DoubleClickZoom.js"),s=n("./node_modules/ol/interaction/DragZoom.js"),l=n("./node_modules/ol/interaction/KeyboardZoom.js"),u=n("./node_modules/ol/interaction/PinchZoom.js"),c=n("./node_modules/ol/interaction/PinchRotate.js"),p=n("./node_modules/ol/interaction/DragRotate.js"),f=n("./node_modules/ol/geom/Point.js"),d=n("./node_modules/ol/geom/LineString.js"),h=n("./node_modules/ol/geom/MultiPoint.js"),m=n("./node_modules/ol/geom/MultiLineString.js"),y=n("./node_modules/ol/geom/MultiPolygon.js"),g=n("./node_modules/ol/geom/Circle.js"),b=n("./node_modules/ol/geom/Polygon.js"),v=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.type,r=t.coordinates,o=t.radius,i=t.center;switch(n){case"Point":e=new f.a(r||[]);break;case"LineString":e=new d.a(r||[]);break;case"MultiPoint":e=new h.a(r||[]);break;case"MultiLineString":e=new m.a(r||[]);break;case"MultiPolygon":e=new y.a(r||[]);break;default:e=o&&i?Object(b.c)(new g.a([i.x,i.y],o),100):new b.b(r||[])}return e},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e&&e.geometry&&"Polygon"===e.geometry.type},w={dragPan:{options:{kinetic:!1},Instance:r.a},keyboardPan:{options:{kinetic:!1},Instance:o.a},mouseWheelZoom:{options:{duration:0},Instance:i.a},doubleClickZoom:{options:{duration:0},Instance:a.a},shiftDragZoom:{options:{duration:0},Instance:s.a},keyboardZoom:{options:{},Instance:l.a},pinchZoom:{options:{duration:0},Instance:u.a},pinchRotate:{options:{},Instance:c.a},altShiftDragRotate:{options:{},Instance:p.a}}},"./MapStore2/web/client/utils/openlayers/VectorTileUtils.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var r=n("./node_modules/ol/format/MVT.js"),o=n("./node_modules/ol/format/GeoJSON.js"),i=n("./node_modules/ol/format/TopoJSON.js"),a=n("./MapStore2/web/client/components/map/openlayers/VectorStyle.js"),s={"application/vnd.mapbox-vector-tile":r.a,"application/json;type=geojson":o.a,"application/json;type=topojson":i.a},l=function(e,t){Object(a.d)({asPromise:!0,style:e}).then((function(e){t.setStyle(e)})).catch((function(){}))}},"./MapStore2/web/client/utils/openlayers/highlight.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAXCAYAAABqBU3hAAABIUlEQVRIS+3UsYoCMRDG8f8q+EBid5WNnc019la2Vr6Ala1g4SvY+RTXiVdcJQgHV9jJIdhKZCNx2GwyibCNW4bd+X47k6Sg4adoOJ83wNcBsz4CvoGfF4zpEzgCO1mrCmDWpsAC+Af6wD4DMQGWwBUYAF9uLQlww1vli+cMhA1vl7UuEuECqsItNgUhw22tJ4QLGANrwP657LoG4Qt3EV3g4ALMfLZAp2beMYhQuCn/B/SAk9wDQ2CTgYgN/wB+jaTqFKQi1OE+gFnXIpLC6wAaxAqYAfaoVW0hM/NH2+vuAflxTCdCd5Q3PNQBWzgHURseC4gdh+xEMFwD0CKiwrWAWER0eAoghFCFpwJ8CHV4DkAiksJzARYxL2/O+92ufW42SVMYbhcsEwAAAABJRU5ErkJgggAA"},"./MapStore2/web/client/utils/openlayers/olPopUp.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/utils/openlayers/olPopUp.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./node_modules/@babel/runtime/helpers/assertThisInitialized.js":function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},"./node_modules/@babel/runtime/helpers/defineProperty.js":function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},"./node_modules/@babel/runtime/helpers/inheritsLoose.js":function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},"./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js":function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}},"./node_modules/@turf/bbox-polygon/main.es.js":function(e,t,n){"use strict";var r=n("./node_modules/@turf/helpers/main.es.js");t.a=function(e){Object(r.l)(e);var t=Number(e[0]),n=Number(e[1]),o=Number(e[2]),i=Number(e[3]);if(6===e.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var a=[t,n],s=[t,i],l=[o,i],u=[o,n];return Object(r.i)([[a,u,l,s,a]])}},"./node_modules/@turf/boolean-contains/main.es.js":function(e,t,n){"use strict";var r=n("./node_modules/@turf/invariant/main.es.js");function o(e,t,n){var r=!1;t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]&&(t=t.slice(0,t.length-1));for(var o=0,i=t.length-1;o<t.length;i=o++){var a=t[o][0],s=t[o][1],l=t[i][0],u=t[i][1];if(e[1]*(a-l)+s*(l-e[0])+u*(e[0]-a)==0&&(a-e[0])*(l-e[0])<=0&&(s-e[1])*(u-e[1])<=0)return!n;s>e[1]!=u>e[1]&&e[0]<(l-a)*(e[1]-s)/(u-s)+a&&(r=!r)}return r}var i=function(e,t,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var i=n.ignoreBoundary;if(!e)throw new Error("point is required");if(!t)throw new Error("polygon is required");var a=Object(r.a)(e),s=Object(r.b)(t),l=t.geometry?t.geometry.type:t.type,u=t.bbox;if(u&&!1===function(e,t){return t[0]<=e[0]&&t[1]<=e[1]&&t[2]>=e[0]&&t[3]>=e[1]}(a,u))return!1;"Polygon"===l&&(s=[s]);for(var c=0,p=!1;c<s.length&&!p;c++)if(o(a,s[c][0],i)){for(var f=!1,d=1;d<s[c].length&&!f;)o(a,s[c][d],!i)&&(f=!0),d++;f||(p=!0)}return p},a=n("./node_modules/@turf/meta/main.es.js");var s=function(e){var t=[1/0,1/0,-1/0,-1/0];return Object(a.b)(e,(function(e){t[0]>e[0]&&(t[0]=e[0]),t[1]>e[1]&&(t[1]=e[1]),t[2]<e[0]&&(t[2]=e[0]),t[3]<e[1]&&(t[3]=e[1])})),t},l=n("./node_modules/@turf/boolean-point-on-line/main.es.js");function u(e,t){return!(e[0]>t[0])&&(!(e[2]<t[2])&&(!(e[1]>t[1])&&!(e[3]<t[3])))}function c(e,t){return e[0]===t[0]&&e[1]===t[1]}t.a=function(e,t){var n=Object(r.d)(e),o=Object(r.d)(t),a=Object(r.c)(e),p=Object(r.c)(t),f=Object(r.b)(e),d=Object(r.b)(t);switch(n){case"Point":switch(o){case"Point":return c(f,d);default:throw new Error("feature2 "+o+" geometry not supported")}case"MultiPoint":switch(o){case"Point":return function(e,t){var n,r=!1;for(n=0;n<e.coordinates.length;n++)if(c(e.coordinates[n],t.coordinates)){r=!0;break}return r}(a,p);case"MultiPoint":return function(e,t){for(var n=0;n<t.coordinates.length;n++){for(var r=!1,o=0;o<e.coordinates.length;o++)if(c(t.coordinates[n],e.coordinates[o])){r=!0;break}if(!r)return!1}return!0}(a,p);default:throw new Error("feature2 "+o+" geometry not supported")}case"LineString":switch(o){case"Point":return Object(l.a)(p,a,{ignoreEndVertices:!0});case"LineString":return function(e,t){for(var n=!1,r=0;r<t.coordinates.length;r++)if(Object(l.a)({type:"Point",coordinates:t.coordinates[r]},e,{ignoreEndVertices:!0})&&(n=!0),!Object(l.a)({type:"Point",coordinates:t.coordinates[r]},e,{ignoreEndVertices:!1}))return!1;return n}(a,p);case"MultiPoint":return function(e,t){for(var n=!1,r=0;r<t.coordinates.length;r++)if(Object(l.a)(t.coordinates[r],e,{ignoreEndVertices:!0})&&(n=!0),!Object(l.a)(t.coordinates[r],e))return!1;if(n)return!0;return!1}(a,p);default:throw new Error("feature2 "+o+" geometry not supported")}case"Polygon":switch(o){case"Point":return i(p,a,{ignoreBoundary:!0});case"LineString":return function(e,t){var n=!1,r=0,o=s(e),a=s(t);if(!u(o,a))return!1;for(;r<t.coordinates.length-1;r++){var l=(c=t.coordinates[r],p=t.coordinates[r+1],[(c[0]+p[0])/2,(c[1]+p[1])/2]);if(i({type:"Point",coordinates:l},e,{ignoreBoundary:!0})){n=!0;break}}var c,p;return n}(a,p);case"Polygon":return function(e,t){var n=s(e),r=s(t);if(!u(n,r))return!1;for(var o=0;o<t.coordinates[0].length;o++)if(!i(t.coordinates[0][o],e))return!1;return!0}(a,p);case"MultiPoint":return function(e,t){for(var n=0;n<t.coordinates.length;n++)if(!i(t.coordinates[n],e,{ignoreBoundary:!0}))return!1;return!0}(a,p);default:throw new Error("feature2 "+o+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}}},"./node_modules/@turf/boolean-overlap/main.es.js":function(e,t,n){"use strict";var r=n("./node_modules/@turf/meta/main.es.js"),o=n("./node_modules/@turf/invariant/main.es.js");function i(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function a(e,t){return e<t?-1:e>t?1:0}var s=function(e,t,n,r,o){!function e(t,n,r,o,a){for(;o>r;){if(o-r>600){var s=o-r+1,l=n-r+1,u=Math.log(s),c=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*c*(s-c)/s)*(l-s/2<0?-1:1),f=Math.max(r,Math.floor(n-l*c/s+p)),d=Math.min(o,Math.floor(n+(s-l)*c/s+p));e(t,n,f,d,a)}var h=t[n],m=r,y=o;for(i(t,r,n),a(t[o],h)>0&&i(t,r,o);m<y;){for(i(t,m,y),m++,y--;a(t[m],h)<0;)m++;for(;a(t[y],h)>0;)y--}0===a(t[r],h)?i(t,r,y):(y++,i(t,y,o)),y<=n&&(r=y+1),n<=y&&(o=y-1)}}(e,t,n||0,r||e.length-1,o||a)};function l(e,t){if(!(this instanceof l))return new l(e,t);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&this._initFormat(t),this.clear()}function u(e,t,n){if(!n)return t.indexOf(e);for(var r=0;r<t.length;r++)if(n(e,t[r]))return r;return-1}function c(e,t){p(e,0,e.children.length,t,e)}function p(e,t,n,r,o){o||(o=v(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(var i,a=t;a<n;a++)i=e.children[a],f(o,e.leaf?r(i):i);return o}function f(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function d(e,t){return e.minX-t.minX}function h(e,t){return e.minY-t.minY}function m(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function y(e){return e.maxX-e.minX+(e.maxY-e.minY)}function g(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function b(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function v(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function _(e,t,n,r,o){for(var i,a=[t,n];a.length;)(n=a.pop())-(t=a.pop())<=r||(i=t+Math.ceil((n-t)/r/2)*r,s(e,i,t,n,o),a.push(t,i,i,n))}l.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,n=[],r=this.toBBox;if(!b(e,t))return n;for(var o,i,a,s,l=[];t;){for(o=0,i=t.children.length;o<i;o++)a=t.children[o],b(e,s=t.leaf?r(a):a)&&(t.leaf?n.push(a):g(e,s)?this._all(a,n):l.push(a));t=l.pop()}return n},collides:function(e){var t=this.data,n=this.toBBox;if(!b(e,t))return!1;for(var r,o,i,a,s=[];t;){for(r=0,o=t.children.length;r<o;r++)if(i=t.children[r],b(e,a=t.leaf?n(i):i)){if(t.leaf||g(e,a))return!0;s.push(i)}t=s.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,n=e.length;t<n;t++)this.insert(e[t]);return this}var r=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var o=this.data;this.data=r,r=o}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(e){return e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=v([]),this},remove:function(e,t){if(!e)return this;for(var n,r,o,i,a=this.data,s=this.toBBox(e),l=[],c=[];a||l.length;){if(a||(a=l.pop(),r=l[l.length-1],n=c.pop(),i=!0),a.leaf&&-1!==(o=u(e,a.children,t)))return a.children.splice(o,1),l.push(a),this._condense(l),this;i||a.leaf||!g(a,s)?r?(n++,a=r.children[n],i=!1):a=null:(l.push(a),c.push(n),n=0,r=a,a=a.children[0])}return this},toBBox:function(e){return e},compareMinX:d,compareMinY:h,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var n=[];e;)e.leaf?t.push.apply(t,e.children):n.push.apply(n,e.children),e=n.pop();return t},_build:function(e,t,n,r){var o,i=n-t+1,a=this._maxEntries;if(i<=a)return c(o=v(e.slice(t,n+1)),this.toBBox),o;r||(r=Math.ceil(Math.log(i)/Math.log(a)),a=Math.ceil(i/Math.pow(a,r-1))),(o=v([])).leaf=!1,o.height=r;var s,l,u,p,f=Math.ceil(i/a),d=f*Math.ceil(Math.sqrt(a));for(_(e,t,n,d,this.compareMinX),s=t;s<=n;s+=d)for(_(e,s,u=Math.min(s+d-1,n),f,this.compareMinY),l=s;l<=u;l+=f)p=Math.min(l+f-1,u),o.children.push(this._build(e,l,p,r-1));return c(o,this.toBBox),o},_chooseSubtree:function(e,t,n,r){for(var o,i,a,s,l,u,c,p,f,d;r.push(t),!t.leaf&&r.length-1!==n;){for(c=p=1/0,o=0,i=t.children.length;o<i;o++)l=m(a=t.children[o]),f=e,d=a,(u=(Math.max(d.maxX,f.maxX)-Math.min(d.minX,f.minX))*(Math.max(d.maxY,f.maxY)-Math.min(d.minY,f.minY))-l)<p?(p=u,c=l<c?l:c,s=a):u===p&&l<c&&(c=l,s=a);t=s||t.children[0]}return t},_insert:function(e,t,n){var r=this.toBBox,o=n?e:r(e),i=[],a=this._chooseSubtree(o,this.data,t,i);for(a.children.push(e),f(a,o);t>=0&&i[t].children.length>this._maxEntries;)this._split(i,t),t--;this._adjustParentBBoxes(o,i,t)},_split:function(e,t){var n=e[t],r=n.children.length,o=this._minEntries;this._chooseSplitAxis(n,o,r);var i=this._chooseSplitIndex(n,o,r),a=v(n.children.splice(i,n.children.length-i));a.height=n.height,a.leaf=n.leaf,c(n,this.toBBox),c(a,this.toBBox),t?e[t-1].children.push(a):this._splitRoot(n,a)},_splitRoot:function(e,t){this.data=v([e,t]),this.data.height=e.height+1,this.data.leaf=!1,c(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,n){var r,o,i,a,s,l,u,c,f,d,h,y,g,b;for(l=u=1/0,r=t;r<=n-t;r++)o=p(e,0,r,this.toBBox),i=p(e,r,n,this.toBBox),f=o,d=i,h=void 0,y=void 0,g=void 0,b=void 0,h=Math.max(f.minX,d.minX),y=Math.max(f.minY,d.minY),g=Math.min(f.maxX,d.maxX),b=Math.min(f.maxY,d.maxY),a=Math.max(0,g-h)*Math.max(0,b-y),s=m(o)+m(i),a<l?(l=a,c=r,u=s<u?s:u):a===l&&s<u&&(u=s,c=r);return c},_chooseSplitAxis:function(e,t,n){var r=e.leaf?this.compareMinX:d,o=e.leaf?this.compareMinY:h;this._allDistMargin(e,t,n,r)<this._allDistMargin(e,t,n,o)&&e.children.sort(r)},_allDistMargin:function(e,t,n,r){e.children.sort(r);var o,i,a=this.toBBox,s=p(e,0,t,a),l=p(e,n-t,n,a),u=y(s)+y(l);for(o=t;o<n-t;o++)i=e.children[o],f(s,e.leaf?a(i):i),u+=y(s);for(o=n-t-1;o>=t;o--)i=e.children[o],f(l,e.leaf?a(i):i),u+=y(l);return u},_adjustParentBBoxes:function(e,t,n){for(var r=n;r>=0;r--)f(t[r],e)},_condense:function(e){for(var t,n=e.length-1;n>=0;n--)0===e[n].children.length?n>0?(t=e[n-1].children).splice(t.indexOf(e[n]),1):this.clear():c(e[n],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}};var w=l;function O(e){var t=[e[0],e[1]],n=[e[0],e[3]],r=[e[2],e[3]];return{type:"Feature",bbox:e,properties:{},geometry:{type:"Polygon",coordinates:[[t,[e[2],e[1]],r,n,t]]}}}function j(e){var t=[1/0,1/0,-1/0,-1/0];return Object(r.b)(e,(function(e){t[0]>e[0]&&(t[0]=e[0]),t[1]>e[1]&&(t[1]=e[1]),t[2]<e[0]&&(t[2]=e[0]),t[3]<e[1]&&(t[3]=e[1])})),t}var S=function(e){var t=w(e);return t.insert=function(e){if(Array.isArray(e)){var t=e;(e=O(t)).bbox=t}else e.bbox=e.bbox?e.bbox:j(e);return w.prototype.insert.call(this,e)},t.load=function(e){var t=[];return Array.isArray(e)?e.forEach((function(e){var n=O(e);n.bbox=e,t.push(n)})):Object(r.c)(e,(function(e){e.bbox=e.bbox?e.bbox:j(e),t.push(e)})),w.prototype.load.call(this,t)},t.remove=function(e){if(Array.isArray(e)){var t=e;(e=O(t)).bbox=t}return w.prototype.remove.call(this,e)},t.clear=function(){return w.prototype.clear.call(this)},t.search=function(e){return{type:"FeatureCollection",features:w.prototype.search.call(this,this.toBBox(e))}},t.collides=function(e){return w.prototype.collides.call(this,this.toBBox(e))},t.all=function(){return{type:"FeatureCollection",features:w.prototype.all.call(this)}},t.toJSON=function(){return w.prototype.toJSON.call(this)},t.fromJSON=function(e){return w.prototype.fromJSON.call(this,e)},t.toBBox=function(e){var t;return{minX:(t=e.bbox?e.bbox:Array.isArray(e)&&4===e.length?e:j(e))[0],minY:t[1],maxX:t[2],maxY:t[3]}},t},E=n("./node_modules/@turf/helpers/main.es.js");var x=function(e){if(!e)throw new Error("geojson is required");var t=[];return Object(r.d)(e,(function(e){!function(e,t){var n=[],r=e.geometry;switch(r.type){case"Polygon":n=Object(o.b)(r);break;case"LineString":n=[Object(o.b)(r)]}n.forEach((function(n){(function(e,t){var n=[];return e.reduce((function(e,r){var o,i,a,s,l,u,c=Object(E.g)([e,r],t);return c.bbox=(i=r,a=(o=e)[0],s=o[1],l=i[0],u=i[1],[a<l?a:l,s<u?s:u,a>l?a:l,s>u?s:u]),n.push(c),r})),n})(n,e.properties).forEach((function(e){e.id=t.length,t.push(e)}))}))}(e,t)})),Object(E.c)(t)};function P(e,t,n){if(n=n||{},!Object(E.e)(n))throw new Error("options is invalid");if(!0===n.final)return function(e,t){var n=P(t,e);return n=(n+180)%360}(e,t);var r=Object(o.a)(e),i=Object(o.a)(t),a=Object(E.a)(r[0]),s=Object(E.a)(i[0]),l=Object(E.a)(r[1]),u=Object(E.a)(i[1]),c=Math.sin(s-a)*Math.cos(u),p=Math.cos(l)*Math.sin(u)-Math.sin(l)*Math.cos(u)*Math.cos(s-a);return Object(E.j)(Math.atan2(c,p))}var M=P;var L=function(e,t,n){if(n=n||{},!Object(E.e)(n))throw new Error("options is invalid");var r=n.units,i=Object(o.a)(e),a=Object(o.a)(t),s=Object(E.a)(a[1]-i[1]),l=Object(E.a)(a[0]-i[0]),u=Object(E.a)(i[1]),c=Object(E.a)(a[1]),p=Math.pow(Math.sin(s/2),2)+Math.pow(Math.sin(l/2),2)*Math.cos(u)*Math.cos(c);return Object(E.k)(2*Math.atan2(Math.sqrt(p),Math.sqrt(1-p)),r)};var T=function(e,t,n,r){if(r=r||{},!Object(E.e)(r))throw new Error("options is invalid");var i=r.units,a=r.properties,s=Object(o.a)(e),l=Object(E.a)(s[0]),u=Object(E.a)(s[1]),c=Object(E.a)(n),p=Object(E.f)(t,i),f=Math.asin(Math.sin(u)*Math.cos(p)+Math.cos(u)*Math.sin(p)*Math.cos(c)),d=l+Math.atan2(Math.sin(c)*Math.sin(p)*Math.cos(u),Math.cos(p)-Math.sin(u)*Math.sin(f)),h=Object(E.j)(d),m=Object(E.j)(f);return Object(E.h)([h,m],a)};function C(e,t){var n=Object(o.b)(e),r=Object(o.b)(t);if(2!==n.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==r.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var i=n[0][0],a=n[0][1],s=n[1][0],l=n[1][1],u=r[0][0],c=r[0][1],p=r[1][0],f=r[1][1],d=(f-c)*(s-i)-(p-u)*(l-a),h=(p-u)*(a-c)-(f-c)*(i-u),m=(s-i)*(a-c)-(l-a)*(i-u);if(0===d)return null;var y=h/d,g=m/d;if(y>=0&&y<=1&&g>=0&&g<=1){var b=i+y*(s-i),v=a+y*(l-a);return Object(E.h)([b,v])}return null}var k=function(e,t){var n={},i=[];if("LineString"===e.type&&(e=Object(E.b)(e)),"LineString"===t.type&&(t=Object(E.b)(t)),"Feature"===e.type&&"Feature"===t.type&&"LineString"===e.geometry.type&&"LineString"===t.geometry.type&&2===e.geometry.coordinates.length&&2===t.geometry.coordinates.length){var a=C(e,t);return a&&i.push(a),Object(E.c)(i)}var s=S();return s.load(x(t)),Object(r.c)(x(e),(function(e){Object(r.c)(s.search(e),(function(t){var r=C(e,t);if(r){var a=Object(o.b)(r).join(",");n[a]||(n[a]=!0,i.push(r))}}))})),Object(E.c)(i)};var I=function(e,t,n){if(n=n||{},!Object(E.e)(n))throw new Error("options is invalid");var i=e.geometry?e.geometry.type:e.type;if("LineString"!==i&&"MultiLineString"!==i)throw new Error("lines must be LineString or MultiLineString");var a=Object(E.h)([1/0,1/0],{dist:1/0}),s=0;return Object(r.d)(e,(function(e){for(var r=Object(o.b)(e),i=0;i<r.length-1;i++){var l=Object(E.h)(r[i]);l.properties.dist=L(t,l,n);var u=Object(E.h)(r[i+1]);u.properties.dist=L(t,u,n);var c=L(l,u,n),p=Math.max(l.properties.dist,u.properties.dist),f=M(l,u),d=T(t,p,f+90,n),h=T(t,p,f-90,n),m=k(Object(E.g)([d.geometry.coordinates,h.geometry.coordinates]),Object(E.g)([l.geometry.coordinates,u.geometry.coordinates])),y=null;m.features.length>0&&((y=m.features[0]).properties.dist=L(t,y,n),y.properties.location=s+L(l,y,n)),l.properties.dist<a.properties.dist&&((a=l).properties.index=i,a.properties.location=s),u.properties.dist<a.properties.dist&&((a=u).properties.index=i+1,a.properties.location=s+c),y&&y.properties.dist<a.properties.dist&&((a=y).properties.index=i),s+=c}})),a},D=n("./node_modules/@turf/boolean-point-on-line/main.es.js"),A=Array.prototype.slice;function R(e){return"[object Arguments]"===Object.prototype.toString.call(e)}function F(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?(n.strict,e===t):function(e,t,n){var r,o;if(N(e)||N(t))return!1;if(e.prototype!==t.prototype)return!1;if(R(e))return!!R(t)&&(e=A.call(e),t=A.call(t),F(e,t,n));if(G(e)){if(!G(t))return!1;if(e.length!==t.length)return!1;for(r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}try{var i=Object.keys(e),a=Object.keys(t)}catch(e){return!1}if(i.length!==a.length)return!1;for(i.sort(),a.sort(),r=i.length-1;r>=0;r--)if(i[r]!==a[r])return!1;for(r=i.length-1;r>=0;r--)if(o=i[r],!F(e[o],t[o],n))return!1;return typeof e==typeof t}(e,t,n))}function N(e){return null==e}function G(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}function U(e,t){var n=Object(o.b)(t),r=Object(o.b)(e),i=r[0],a=r[r.length-1],s=e.geometry.coordinates;return F(n[0],i)?s.unshift(n[1]):F(n[0],a)?s.push(n[1]):F(n[1],i)?s.unshift(n[0]):F(n[1],a)&&s.push(n[0]),e}var z=function(e,t,n){if(n=n||{},!Object(E.e)(n))throw new Error("options is invalid");var i,a=n.tolerance||0,s=[],l=S();return l.load(x(e)),Object(r.e)(t,(function(e){var t=!1;Object(r.c)(l.search(e),(function(n){if(!1===t){var r=Object(o.b)(e).sort(),s=Object(o.b)(n).sort();F(r,s)||(0===a?Object(D.a)(r[0],n)&&Object(D.a)(r[1],n):I(n,r[0]).properties.dist<=a&&I(n,r[1]).properties.dist<=a)?(t=!0,i=i?U(i,e):e):(0===a?Object(D.a)(s[0],e)&&Object(D.a)(s[1],e):I(e,s[0]).properties.dist<=a&&I(e,s[1]).properties.dist<=a)&&(i=i?U(i,n):n)}})),!1===t&&i&&(s.push(i),i=void 0)})),i&&s.push(i),Object(E.c)(s)};function B(e,t){var n=Object(o.b)(e),r=Object(o.b)(t);if(2!==n.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==r.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var i=n[0][0],a=n[0][1],s=n[1][0],l=n[1][1],u=r[0][0],c=r[0][1],p=r[1][0],f=r[1][1],d=(f-c)*(s-i)-(p-u)*(l-a),h=(p-u)*(a-c)-(f-c)*(i-u),m=(s-i)*(a-c)-(l-a)*(i-u);if(0===d)return null;var y=h/d,g=m/d;if(y>=0&&y<=1&&g>=0&&g<=1){var b=i+y*(s-i),v=a+y*(l-a);return Object(E.h)([b,v])}return null}var V=function(e,t){var n={},i=[];if("LineString"===e.type&&(e=Object(E.b)(e)),"LineString"===t.type&&(t=Object(E.b)(t)),"Feature"===e.type&&"Feature"===t.type&&"LineString"===e.geometry.type&&"LineString"===t.geometry.type&&2===e.geometry.coordinates.length&&2===t.geometry.coordinates.length){var a=B(e,t);return a&&i.push(a),Object(E.c)(i)}var s=S();return s.load(x(t)),Object(r.c)(x(e),(function(e){Object(r.c)(s.search(e),(function(t){var r=B(e,t);if(r){var a=Object(o.b)(r).join(",");n[a]||(n[a]=!0,i.push(r))}}))})),Object(E.c)(i)},q=n("./node_modules/geojson-equality/index.js"),W=n.n(q);t.a=function(e,t){if(!e)throw new Error("feature1 is required");if(!t)throw new Error("feature2 is required");var n=Object(o.d)(e);if(n!==Object(o.d)(t))throw new Error("features must be of the same type");if("Point"===n)throw new Error("Point geometry not supported");if(new W.a({precision:6}).compare(e,t))return!1;var i=0;switch(n){case"MultiPoint":var a=Object(r.a)(e),s=Object(r.a)(t);a.forEach((function(e){s.forEach((function(t){e[0]===t[0]&&e[1]===t[1]&&i++}))}));break;case"LineString":case"MultiLineString":Object(r.e)(e,(function(e){Object(r.e)(t,(function(t){z(e,t).features.length&&i++}))}));break;case"Polygon":case"MultiPolygon":Object(r.e)(e,(function(e){Object(r.e)(t,(function(t){V(e,t).features.length&&i++}))}))}return i>0}},"./node_modules/@turf/boolean-point-on-line/main.es.js":function(e,t,n){"use strict";var r=n("./node_modules/@turf/invariant/main.es.js"),o=n("./node_modules/@turf/helpers/main.es.js");function i(e,t,n,r){var o=n[0],i=n[1],a=e[0],s=e[1],l=t[0],u=t[1],c=l-a,p=u-s;return 0==(n[0]-a)*p-(n[1]-s)*c&&(r?"start"===r?Math.abs(c)>=Math.abs(p)?c>0?a<o&&o<=l:l<=o&&o<a:p>0?s<i&&i<=u:u<=i&&i<s:"end"===r?Math.abs(c)>=Math.abs(p)?c>0?a<=o&&o<l:l<o&&o<=a:p>0?s<=i&&i<u:u<i&&i<=s:"both"===r?Math.abs(c)>=Math.abs(p)?c>0?a<o&&o<l:l<o&&o<a:p>0?s<i&&i<u:u<i&&i<s:void 0:Math.abs(c)>=Math.abs(p)?c>0?a<=o&&o<=l:l<=o&&o<=a:p>0?s<=i&&i<=u:u<=i&&i<=s)}t.a=function(e,t,n){var a=(n=n||{}).ignoreEndVertices;if(!Object(o.e)(n))throw new Error("invalid options");if(!e)throw new Error("pt is required");if(!t)throw new Error("line is required");for(var s=Object(r.a)(e),l=Object(r.b)(t),u=0;u<l.length-1;u++){var c=!1;if(a&&(0===u&&(c="start"),u===l.length-2&&(c="end"),0===u&&u+1===l.length-1&&(c="both")),i(l[u],l[u+1],s,c))return!0}return!1}},"./node_modules/@turf/center/main.es.js":function(e,t,n){"use strict";var r=n("./node_modules/@turf/meta/main.es.js");var o=function(e){var t=[1/0,1/0,-1/0,-1/0];return Object(r.b)(e,(function(e){t[0]>e[0]&&(t[0]=e[0]),t[1]>e[1]&&(t[1]=e[1]),t[2]<e[0]&&(t[2]=e[0]),t[3]<e[1]&&(t[3]=e[1])})),t},i=n("./node_modules/@turf/helpers/main.es.js");t.a=function(e,t){if(t=t||{},!Object(i.e)(t))throw new Error("options is invalid");var n=t.properties;if(!e)throw new Error("geojson is required");var r=o(e),a=(r[0]+r[2])/2,s=(r[1]+r[3])/2;return Object(i.h)([a,s],n)}},"./node_modules/@turf/great-circle/main.es.js":function(e,t,n){"use strict";var r=n("./node_modules/@turf/invariant/main.es.js"),o=Math.PI/180,i=180/Math.PI,a=function(e,t){this.lon=e,this.lat=t,this.x=o*e,this.y=o*t};a.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},a.prototype.antipode=function(){var e=-1*this.lat,t=this.lon<0?180+this.lon:-1*(180-this.lon);return new a(t,e)};var s=function(){this.coords=[],this.length=0};s.prototype.move_to=function(e){this.length++,this.coords.push(e)};var l=function(e){this.properties=e||{},this.geometries=[]};l.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var e=[],t=0;t<this.geometries.length;t++)e.push(this.geometries[t].coords);return{geometry:{type:"MultiLineString",coordinates:e},type:"Feature",properties:this.properties}},l.prototype.wkt=function(){for(var e="",t="LINESTRING(",n=function(e){t+=e[0]+" "+e[1]+","},r=0;r<this.geometries.length;r++){if(0===this.geometries[r].coords.length)return"LINESTRING(empty)";this.geometries[r].coords.forEach(n),e+=t.substring(0,t.length-1)+")"}return e};var u=function(e,t,n){if(!e||void 0===e.x||void 0===e.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!t||void 0===t.x||void 0===t.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new a(e.x,e.y),this.end=new a(t.x,t.y),this.properties=n||{};var r=this.start.x-this.end.x,o=this.start.y-this.end.y,i=Math.pow(Math.sin(o/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(r/2),2);if(this.g=2*Math.asin(Math.sqrt(i)),this.g===Math.PI)throw new Error("it appears "+e.view()+" and "+t.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+e+" and "+t)};u.prototype.interpolate=function(e){var t=Math.sin((1-e)*this.g)/Math.sin(this.g),n=Math.sin(e*this.g)/Math.sin(this.g),r=t*Math.cos(this.start.y)*Math.cos(this.start.x)+n*Math.cos(this.end.y)*Math.cos(this.end.x),o=t*Math.cos(this.start.y)*Math.sin(this.start.x)+n*Math.cos(this.end.y)*Math.sin(this.end.x),a=t*Math.sin(this.start.y)+n*Math.sin(this.end.y),s=i*Math.atan2(a,Math.sqrt(Math.pow(r,2)+Math.pow(o,2)));return[i*Math.atan2(o,r),s]},u.prototype.Arc=function(e,t){var n=[];if(!e||e<=2)n.push([this.start.lon,this.start.lat]),n.push([this.end.lon,this.end.lat]);else for(var r=1/(e-1),o=0;o<e;++o){var i=r*o,a=this.interpolate(i);n.push(a)}for(var u=!1,c=0,p=t&&t.offset?t.offset:10,f=180-p,d=-180+p,h=360-p,m=1;m<n.length;++m){var y=n[m-1][0],g=n[m][0],b=Math.abs(g-y);b>h&&(g>f&&y<d||y>f&&g<d)?u=!0:b>c&&(c=b)}var v=[];if(u&&c<p){var _=[];v.push(_);for(var w=0;w<n.length;++w){var O=parseFloat(n[w][0]);if(w>0&&Math.abs(O-n[w-1][0])>h){var j=parseFloat(n[w-1][0]),S=parseFloat(n[w-1][1]),E=parseFloat(n[w][0]),x=parseFloat(n[w][1]);if(j>-180&&j<d&&180===E&&w+1<n.length&&n[w-1][0]>-180&&n[w-1][0]<d){_.push([-180,n[w][1]]),w++,_.push([n[w][0],n[w][1]]);continue}if(j>f&&j<180&&-180===E&&w+1<n.length&&n[w-1][0]>f&&n[w-1][0]<180){_.push([180,n[w][1]]),w++,_.push([n[w][0],n[w][1]]);continue}if(j<d&&E>f){var P=j;j=E,E=P;var M=S;S=x,x=M}if(j>f&&E<d&&(E+=360),j<=180&&E>=180&&j<E){var L=(180-j)/(E-j),T=L*x+(1-L)*S;_.push([n[w-1][0]>f?180:-180,T]),(_=[]).push([n[w-1][0]>f?-180:180,T]),v.push(_)}else _=[],v.push(_);_.push([O,n[w][1]])}else _.push([n[w][0],n[w][1]])}}else{var C=[];v.push(C);for(var k=0;k<n.length;++k)C.push([n[k][0],n[k][1]])}for(var I=new l(this.properties),D=0;D<v.length;++D){var A=new s;I.geometries.push(A);for(var R=v[D],F=0;F<R.length;++F)A.move_to(R[F])}return I},t.a=function(e,t,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var o=n.properties,i=n.npoints,a=n.offset;return e=Object(r.a)(e),t=Object(r.a)(t),o=o||{},i=i||100,a=a||10,new u({x:e[0],y:e[1]},{x:t[0],y:t[1]},o).Arc(i,{offset:a}).json()}},"./node_modules/@turf/helpers/main.es.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"h",(function(){return i})),n.d(t,"i",(function(){return a})),n.d(t,"g",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"k",(function(){return u})),n.d(t,"f",(function(){return c})),n.d(t,"j",(function(){return p})),n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return h})),n.d(t,"l",(function(){return m}));var r={meters:6371008.8,metres:6371008.8,millimeters:6371008800,millimetres:6371008800,centimeters:637100880,centimetres:637100880,kilometers:6371.0088,kilometres:6371.0088,miles:3958.761333810546,nauticalmiles:6371008.8/1852,inches:6371008.8*39.37,yards:6371008.8/1.0936,feet:20902260.511392,radians:1,degrees:6371008.8/111325};function o(e,t,n){if(!h(n=n||{}))throw new Error("options is invalid");var r=n.bbox,o=n.id;if(void 0===e)throw new Error("geometry is required");if(t&&t.constructor!==Object)throw new Error("properties must be an Object");r&&m(r),o&&y(o);var i={type:"Feature"};return o&&(i.id=o),r&&(i.bbox=r),i.properties=t||{},i.geometry=e,i}function i(e,t,n){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!d(e[0])||!d(e[1]))throw new Error("coordinates must contain numbers");return o({type:"Point",coordinates:e},t,n)}function a(e,t,n){if(!e)throw new Error("coordinates is required");for(var r=0;r<e.length;r++){var i=e[r];if(i.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<i[i.length-1].length;a++){if(0===r&&0===a&&!d(i[0][0])||!d(i[0][1]))throw new Error("coordinates must contain numbers");if(i[i.length-1][a]!==i[0][a])throw new Error("First and last Position are not equivalent.")}}return o({type:"Polygon",coordinates:e},t,n)}function s(e,t,n){if(!e)throw new Error("coordinates is required");if(e.length<2)throw new Error("coordinates must be an array of two or more positions");if(!d(e[0][1])||!d(e[0][1]))throw new Error("coordinates must contain numbers");return o({type:"LineString",coordinates:e},t,n)}function l(e,t){if(!h(t=t||{}))throw new Error("options is invalid");var n=t.bbox,r=t.id;if(!e)throw new Error("No features passed");if(!Array.isArray(e))throw new Error("features must be an Array");n&&m(n),r&&y(r);var o={type:"FeatureCollection"};return r&&(o.id=r),n&&(o.bbox=n),o.features=e,o}function u(e,t){if(null==e)throw new Error("radians is required");if(t&&"string"!=typeof t)throw new Error("units must be a string");var n=r[t||"kilometers"];if(!n)throw new Error(t+" units is invalid");return e*n}function c(e,t){if(null==e)throw new Error("distance is required");if(t&&"string"!=typeof t)throw new Error("units must be a string");var n=r[t||"kilometers"];if(!n)throw new Error(t+" units is invalid");return e/n}function p(e){if(null==e)throw new Error("radians is required");return 180*(e%(2*Math.PI))/Math.PI}function f(e){if(null==e)throw new Error("degrees is required");return e%360*Math.PI/180}function d(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function h(e){return!!e&&e.constructor===Object}function m(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((function(e){if(!d(e))throw new Error("bbox must only contain numbers")}))}function y(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}},"./node_modules/@turf/invariant/main.es.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s}));var r=n("./node_modules/@turf/helpers/main.es.js");function o(e){if(!e)throw new Error("obj is required");var t=i(e);if(t.length>1&&Object(r.d)(t[0])&&Object(r.d)(t[1]))return t;throw new Error("Coordinate is not a valid Point")}function i(e){if(!e)throw new Error("obj is required");var t;if(e.length?t=e:e.coordinates?t=e.coordinates:e.geometry&&e.geometry.coordinates&&(t=e.geometry.coordinates),t)return function e(t){if(t.length>1&&Object(r.d)(t[0])&&Object(r.d)(t[1]))return!0;if(Array.isArray(t[0])&&t[0].length)return e(t[0]);throw new Error("coordinates must only contain numbers")}(t),t;throw new Error("No valid coordinates")}function a(e){if(!e)throw new Error("geojson is required");if(void 0!==e.geometry)return e.geometry;if(e.coordinates||e.geometries)return e;throw new Error("geojson must be a valid Feature or Geometry Object")}function s(e,t){if(!e)throw new Error((t||"geojson")+" is required");if(e.geometry&&e.geometry.type)return e.geometry.type;if(e.type)return e.type;throw new Error((t||"geojson")+" is invalid")}},"./node_modules/@turf/line-intersect/index.js":function(e,t,n){var r=n("./node_modules/@turf/line-intersect/node_modules/@turf/helpers/index.js"),o=n("./node_modules/@turf/line-intersect/node_modules/@turf/meta/index.js"),i=n("./node_modules/@turf/line-intersect/node_modules/@turf/line-segment/index.js"),a=n("./node_modules/@turf/line-intersect/node_modules/@turf/invariant/index.js").getCoords,s=n("./node_modules/@turf/line-intersect/node_modules/geojson-rbush/index.js"),l=r.point,u=r.featureCollection,c=o.featureEach;function p(e,t){var n=a(e),r=a(t);if(2!==n.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==r.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var o=n[0][0],i=n[0][1],s=n[1][0],u=n[1][1],c=r[0][0],p=r[0][1],f=r[1][0],d=r[1][1],h=(d-p)*(s-o)-(f-c)*(u-i),m=(f-c)*(i-p)-(d-p)*(o-c),y=(s-o)*(i-p)-(u-i)*(o-c);if(0===h)return null;var g=m/h,b=y/h;return g>=0&&g<=1&&b>=0&&b<=1?l([o+g*(s-o),i+g*(u-i)]):null}e.exports=function(e,t){var n=[];if("LineString"===e.geometry.type&&"LineString"===t.geometry.type&&2===e.geometry.coordinates.length&&2===t.geometry.coordinates.length){var r=p(e,t);return r&&n.push(r),u(n)}var o=s();return o.load(i(t)),c(i(e),(function(e){c(o.search(e),(function(t){var r=p(e,t);r&&n.push(r)}))})),u(n)}},"./node_modules/@turf/line-intersect/node_modules/@turf/helpers/index.js":function(e,t){function n(e,t,n,r){if(void 0===e)throw new Error("geometry is required");if(t&&t.constructor!==Object)throw new Error("properties must be an Object");if(n&&4!==n.length)throw new Error("bbox must be an Array of 4 numbers");if(r&&-1===["string","number"].indexOf(typeof r))throw new Error("id must be a number or a string");var o={type:"Feature"};return r&&(o.id=r),n&&(o.bbox=n),o.properties=t||{},o.geometry=e,o}function r(e,t,r,o){if(!e)throw new Error("No coordinates passed");if(void 0===e.length)throw new Error("Coordinates must be an array");if(e.length<2)throw new Error("Coordinates must be at least 2 numbers long");if(!h(e[0])||!h(e[1]))throw new Error("Coordinates must contain numbers");return n({type:"Point",coordinates:e},t,r,o)}function o(e,t,r,o){if(!e)throw new Error("No coordinates passed");for(var i=0;i<e.length;i++){var a=e[i];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<a[a.length-1].length;s++){if(0===i&&0===s&&!h(a[0][0])||!h(a[0][1]))throw new Error("Coordinates must contain numbers");if(a[a.length-1][s]!==a[0][s])throw new Error("First and last Position are not equivalent.")}}return n({type:"Polygon",coordinates:e},t,r,o)}function i(e,t,r,o){if(!e)throw new Error("No coordinates passed");if(e.length<2)throw new Error("Coordinates must be an array of two or more positions");if(!h(e[0][1])||!h(e[0][1]))throw new Error("Coordinates must contain numbers");return n({type:"LineString",coordinates:e},t,r,o)}function a(e,t,r,o){if(!e)throw new Error("No coordinates passed");return n({type:"MultiLineString",coordinates:e},t,r,o)}function s(e,t,r,o){if(!e)throw new Error("No coordinates passed");return n({type:"MultiPoint",coordinates:e},t,r,o)}function l(e,t,r,o){if(!e)throw new Error("No coordinates passed");return n({type:"MultiPolygon",coordinates:e},t,r,o)}var u={miles:3960,nauticalmiles:3441.145,degrees:57.2957795,radians:1,inches:250905600,yards:6969600,meters:6373e3,metres:6373e3,centimeters:6373e5,centimetres:6373e5,kilometers:6373,kilometres:6373,feet:20908792.65},c={kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,centimetres:1e4,millimeter:1e6,acres:247105e-9,miles:386e-9,yards:1.195990046,feet:10.763910417,inches:1550.003100006};function p(e,t){if(null==e)throw new Error("radians is required");var n=u[t||"kilometers"];if(!n)throw new Error("units is invalid");return e*n}function f(e,t){if(null==e)throw new Error("distance is required");var n=u[t||"kilometers"];if(!n)throw new Error("units is invalid");return e/n}function d(e){if(null==e)throw new Error("radians is required");return 180*(e%(2*Math.PI))/Math.PI}function h(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}e.exports={feature:n,geometry:function(e,t,n){if(!e)throw new Error("type is required");if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(n&&4!==n.length)throw new Error("bbox must be an Array of 4 numbers");var u;switch(e){case"Point":u=r(t).geometry;break;case"LineString":u=i(t).geometry;break;case"Polygon":u=o(t).geometry;break;case"MultiPoint":u=s(t).geometry;break;case"MultiLineString":u=a(t).geometry;break;case"MultiPolygon":u=l(t).geometry;break;default:throw new Error(e+" is invalid")}return n&&(u.bbox=n),u},featureCollection:function(e,t,n){if(!e)throw new Error("No features passed");if(!Array.isArray(e))throw new Error("features must be an Array");if(t&&4!==t.length)throw new Error("bbox must be an Array of 4 numbers");if(n&&-1===["string","number"].indexOf(typeof n))throw new Error("id must be a number or a string");var r={type:"FeatureCollection"};return n&&(r.id=n),t&&(r.bbox=t),r.features=e,r},geometryCollection:function(e,t,r,o){if(!e)throw new Error("geometries is required");if(!Array.isArray(e))throw new Error("geometries must be an Array");return n({type:"GeometryCollection",geometries:e},t,r,o)},point:r,multiPoint:s,lineString:i,multiLineString:a,polygon:o,multiPolygon:l,radiansToDistance:p,distanceToRadians:f,distanceToDegrees:function(e,t){return d(f(e,t))},radians2degrees:d,degrees2radians:function(e){if(null==e)throw new Error("degrees is required");return e%360*Math.PI/180},bearingToAngle:function(e){if(null==e)throw new Error("bearing is required");var t=e%360;return t<0&&(t+=360),t},convertDistance:function(e,t,n){if(null==e)throw new Error("distance is required");if(!(e>=0))throw new Error("distance must be a positive number");return p(f(e,t),n||"kilometers")},convertArea:function(e,t,n){if(null==e)throw new Error("area is required");if(!(e>=0))throw new Error("area must be a positive number");var r=c[t||"meters"];if(!r)throw new Error("invalid original units");var o=c[n||"kilometers"];if(!o)throw new Error("invalid final units");return e/r*o},round:function(e,t){if(null==e||isNaN(e))throw new Error("num is required");if(t&&!(t>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,t||0);return Math.round(e*n)/n},isNumber:h}},"./node_modules/@turf/line-intersect/node_modules/@turf/invariant/index.js":function(e,t){function n(e){if(!e)throw new Error("obj is required");var t;if(e.length?t=e:e.coordinates?t=e.coordinates:e.geometry&&e.geometry.coordinates&&(t=e.geometry.coordinates),t)return r(t),t;throw new Error("No valid coordinates")}function r(e){if(e.length>1&&"number"==typeof e[0]&&"number"==typeof e[1])return!0;if(Array.isArray(e[0])&&e[0].length)return r(e[0]);throw new Error("coordinates must only contain numbers")}function o(e){if(!e)throw new Error("geojson is required");if(void 0!==e.geometry)return e.geometry;if(e.coordinates||e.geometries)return e;throw new Error("geojson must be a valid Feature or Geometry Object")}e.exports={geojsonType:function(e,t,n){if(!t||!n)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+n+": must be a "+t+", given "+e.type)},collectionOf:function(e,t,n){if(!e)throw new Error("No featureCollection passed");if(!n)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+n+", FeatureCollection required");for(var r=0;r<e.features.length;r++){var o=e.features[r];if(!o||"Feature"!==o.type||!o.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!o.geometry||o.geometry.type!==t)throw new Error("Invalid input to "+n+": must be a "+t+", given "+o.geometry.type)}},featureOf:function(e,t,n){if(!e)throw new Error("No feature passed");if(!n)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+n+": must be a "+t+", given "+e.geometry.type)},getCoord:function(e){if(!e)throw new Error("obj is required");var t=n(e);if(t.length>1&&"number"==typeof t[0]&&"number"==typeof t[1])return t;throw new Error("Coordinate is not a valid Point")},getCoords:n,containsNumber:r,getGeom:o,getGeomType:function(e){if(!e)throw new Error("geojson is required");var t=o(e);if(t)return t.type}}},"./node_modules/@turf/line-intersect/node_modules/@turf/line-segment/index.js":function(e,t,n){var r=n("./node_modules/@turf/line-intersect/node_modules/@turf/helpers/index.js"),o=n("./node_modules/@turf/line-intersect/node_modules/@turf/invariant/index.js").getCoords,i=n("./node_modules/@turf/line-intersect/node_modules/@turf/meta/index.js").flattenEach,a=r.lineString,s=r.featureCollection;e.exports=function(e){if(!e)throw new Error("geojson is required");var t=[];return i(e,(function(e){!function(e,t){var n=[],r=e.geometry;switch(r.type){case"Polygon":n=o(r);break;case"LineString":n=[o(r)]}n.forEach((function(n){(function(e,t){var n=[];return e.reduce((function(e,r){var o,i,s,l,u,c,p=a([e,r],t);return p.bbox=(i=r,s=(o=e)[0],l=o[1],u=i[0],c=i[1],[s<u?s:u,l<c?l:c,s>u?s:u,l>c?l:c]),n.push(p),r})),n})(n,e.properties).forEach((function(e){e.id=t.length,t.push(e)}))}))}(e,t)})),s(t)}},"./node_modules/@turf/line-intersect/node_modules/@turf/meta/index.js":function(e,t,n){"use strict";function r(e,t,n){if(null!==e){var o,i,a,s,l,u,c,p,f,d,h=0,m=0,y=e.type,g="FeatureCollection"===y,b="Feature"===y,v=g?e.features.length:1;for(o=0;o<v;o++)for(c=(d=!!(f=g?e.features[o].geometry:b?e.geometry:e)&&"GeometryCollection"===f.type)?f.geometries.length:1,i=0;i<c;i++){var _=0;if(null!==(u=d?f.geometries[i]:f)){p=u.coordinates;var w=u.type;switch(h=!n||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":t(p,m,o,_),m++,_++;break;case"LineString":case"MultiPoint":for(a=0;a<p.length;a++)t(p[a],m,o,_),m++,"MultiPoint"===w&&_++;"LineString"===w&&_++;break;case"Polygon":case"MultiLineString":for(a=0;a<p.length;a++){for(s=0;s<p[a].length-h;s++)t(p[a][s],m,o,_),m++;"MultiLineString"===w&&_++}"Polygon"===w&&_++;break;case"MultiPolygon":for(a=0;a<p.length;a++){for(s=0;s<p[a].length;s++)for(l=0;l<p[a][s].length-h;l++)t(p[a][s][l],m,o,_),m++;_++}break;case"GeometryCollection":for(a=0;a<u.geometries.length;a++)r(u.geometries[a],t,n);break;default:throw new Error("Unknown Geometry Type")}}}}}function o(e,t,n,o){var i=n;return r(e,(function(e,r,o,a){i=0===r&&void 0===n?e:t(i,e,r,o,a)}),o),i}function i(e,t){var n;switch(e.type){case"FeatureCollection":for(n=0;n<e.features.length;n++)t(e.features[n].properties,n);break;case"Feature":t(e.properties,0)}}function a(e,t,n){var r=n;return i(e,(function(e,o){r=0===o&&void 0===n?e:t(r,e,o)})),r}function s(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var n=0;n<e.features.length;n++)t(e.features[n],n)}function l(e,t,n){var r=n;return s(e,(function(e,o){r=0===o&&void 0===n?e:t(r,e,o)})),r}function u(e){var t=[];return r(e,(function(e){t.push(e)})),t}function c(e,t){var n,r,o,i,a,s,l,u,c=0,p="FeatureCollection"===e.type,f="Feature"===e.type,d=p?e.features.length:1;for(n=0;n<d;n++){for(s=p?e.features[n].geometry:f?e.geometry:e,u=p?e.features[n].properties:f?e.properties:{},a=(l=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=l?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":t(i,c,u);break;case"GeometryCollection":for(r=0;r<i.geometries.length;r++)t(i.geometries[r],c,u);break;default:throw new Error("Unknown Geometry Type")}else t(null,c,u);c++}}function p(e,t,n){var r=n;return c(e,(function(e,o,i){r=0===o&&void 0===n?e:t(r,e,o,i)})),r}function f(e,t){c(e,(function(e,n,r){var o,i=null===e?null:e.type;switch(i){case null:case"Point":case"LineString":case"Polygon":return void t(y(e,r),n,0)}switch(i){case"MultiPoint":o="Point";break;case"MultiLineString":o="LineString";break;case"MultiPolygon":o="Polygon"}e.coordinates.forEach((function(e,i){t(y({type:o,coordinates:e},r),n,i)}))}))}function d(e,t,n){var r=n;return f(e,(function(e,o,i){r=0===o&&0===i&&void 0===n?e:t(r,e,o,i)})),r}function h(e,t){f(e,(function(e,n,r){var i=0;if(e.geometry){var a=e.geometry.type;"Point"!==a&&"MultiPoint"!==a&&o(e,(function(o,a){var s=g([o,a],e.properties);return t(s,n,r,i),i++,a}))}}))}function m(e,t,n){var r=n,o=!1;return h(e,(function(e,i,a,s){r=!1===o&&void 0===n?e:t(r,e,i,a,s),o=!0})),r}function y(e,t){if(void 0===e)throw new Error("No geometry passed");return{type:"Feature",properties:t||{},geometry:e}}function g(e,t){if(!e)throw new Error("No coordinates passed");if(e.length<2)throw new Error("Coordinates must be an array of two or more positions");return{type:"Feature",properties:t||{},geometry:{type:"LineString",coordinates:e}}}function b(e,t){if(!e)throw new Error("geojson is required");var n=e.geometry?e.geometry.type:e.type;if(!n)throw new Error("invalid geojson");if("FeatureCollection"===n)throw new Error("FeatureCollection is not supported");if("GeometryCollection"===n)throw new Error("GeometryCollection is not supported");var r=e.geometry?e.geometry.coordinates:e.coordinates;if(!r)throw new Error("geojson must contain coordinates");switch(n){case"LineString":return void t(r,0,0);case"Polygon":case"MultiLineString":for(var o=0,i=0;i<r.length;i++)"MultiLineString"===n&&(o=i),t(r[i],i,o);return;case"MultiPolygon":for(var a=0;a<r.length;a++)for(var s=0;s<r[a].length;s++)t(r[a][s],s,a);return;default:throw new Error(n+" geometry not supported")}}function v(e,t,n){var r=n;return b(e,(function(e,o,i){r=0===o&&void 0===n?e:t(r,e,o,i)})),r}n.r(t),n.d(t,"coordEach",(function(){return r})),n.d(t,"coordReduce",(function(){return o})),n.d(t,"propEach",(function(){return i})),n.d(t,"propReduce",(function(){return a})),n.d(t,"featureEach",(function(){return s})),n.d(t,"featureReduce",(function(){return l})),n.d(t,"coordAll",(function(){return u})),n.d(t,"geomEach",(function(){return c})),n.d(t,"geomReduce",(function(){return p})),n.d(t,"flattenEach",(function(){return f})),n.d(t,"flattenReduce",(function(){return d})),n.d(t,"segmentEach",(function(){return h})),n.d(t,"segmentReduce",(function(){return m})),n.d(t,"feature",(function(){return y})),n.d(t,"lineString",(function(){return g})),n.d(t,"lineEach",(function(){return b})),n.d(t,"lineReduce",(function(){return v}))},"./node_modules/@turf/line-intersect/node_modules/geojson-rbush/index.js":function(e,t,n){var r=n("./node_modules/@turf/line-intersect/node_modules/rbush/index.js"),o=n("./node_modules/@turf/line-intersect/node_modules/@turf/meta/index.js"),i=o.featureEach,a=o.coordEach;function s(e){var t=[e[0],e[1]],n=[e[0],e[3]],r=[e[2],e[3]];return{type:"Feature",bbox:e,properties:{},geometry:{type:"Polygon",coordinates:[[t,[e[2],e[1]],r,n,t]]}}}function l(e){var t=[1/0,1/0,-1/0,-1/0];return a(e,(function(e){t[0]>e[0]&&(t[0]=e[0]),t[1]>e[1]&&(t[1]=e[1]),t[2]<e[0]&&(t[2]=e[0]),t[3]<e[1]&&(t[3]=e[1])})),t}e.exports=function(e){var t=r(e);return t.insert=function(e){if(Array.isArray(e)){var t=e;(e=s(t)).bbox=t}else e.bbox=e.bbox?e.bbox:l(e);return r.prototype.insert.call(this,e)},t.load=function(e){var t=[];return Array.isArray(e)?e.forEach((function(e){var n=s(e);n.bbox=e,t.push(n)})):i(e,(function(e){e.bbox=e.bbox?e.bbox:l(e),t.push(e)})),r.prototype.load.call(this,t)},t.remove=function(e){if(Array.isArray(e)){var t=e;(e=s(t)).bbox=t}return r.prototype.remove.call(this,e)},t.clear=function(){return r.prototype.clear.call(this)},t.search=function(e){return{type:"FeatureCollection",features:r.prototype.search.call(this,this.toBBox(e))}},t.collides=function(e){return r.prototype.collides.call(this,this.toBBox(e))},t.all=function(){return{type:"FeatureCollection",features:r.prototype.all.call(this)}},t.toJSON=function(){return r.prototype.toJSON.call(this)},t.fromJSON=function(e){return r.prototype.fromJSON.call(this,e)},t.toBBox=function(e){var t;return{minX:(t=e.bbox?e.bbox:Array.isArray(e)&&4===e.length?e:l(e))[0],minY:t[1],maxX:t[2],maxY:t[3]}},t}},"./node_modules/@turf/line-intersect/node_modules/quickselect/quickselect.js":function(e,t,n){e.exports=function(){"use strict";function e(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function t(e,t){return e<t?-1:e>t?1:0}return function(n,r,o,i,a){!function t(n,r,o,i,a){for(;i>o;){if(i-o>600){var s=i-o+1,l=r-o+1,u=Math.log(s),c=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*c*(s-c)/s)*(l-s/2<0?-1:1),f=Math.max(o,Math.floor(r-l*c/s+p)),d=Math.min(i,Math.floor(r+(s-l)*c/s+p));t(n,r,f,d,a)}var h=n[r],m=o,y=i;for(e(n,o,r),a(n[i],h)>0&&e(n,o,i);m<y;){for(e(n,m,y),m++,y--;a(n[m],h)<0;)m++;for(;a(n[y],h)>0;)y--}0===a(n[o],h)?e(n,o,y):(y++,e(n,y,i)),y<=r&&(o=y+1),r<=y&&(i=y-1)}}(n,r,o||0,i||n.length-1,a||t)}}()},"./node_modules/@turf/line-intersect/node_modules/rbush/index.js":function(e,t,n){"use strict";e.exports=o,e.exports.default=o;var r=n("./node_modules/@turf/line-intersect/node_modules/quickselect/quickselect.js");function o(e,t){if(!(this instanceof o))return new o(e,t);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&this._initFormat(t),this.clear()}function i(e,t,n){if(!n)return t.indexOf(e);for(var r=0;r<t.length;r++)if(n(e,t[r]))return r;return-1}function a(e,t){s(e,0,e.children.length,t,e)}function s(e,t,n,r,o){o||(o=m(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(var i,a=t;a<n;a++)i=e.children[a],l(o,e.leaf?r(i):i);return o}function l(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function u(e,t){return e.minX-t.minX}function c(e,t){return e.minY-t.minY}function p(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function f(e){return e.maxX-e.minX+(e.maxY-e.minY)}function d(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function h(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function m(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function y(e,t,n,o,i){for(var a,s=[t,n];s.length;)(n=s.pop())-(t=s.pop())<=o||(a=t+Math.ceil((n-t)/o/2)*o,r(e,a,t,n,i),s.push(t,a,a,n))}o.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,n=[],r=this.toBBox;if(!h(e,t))return n;for(var o,i,a,s,l=[];t;){for(o=0,i=t.children.length;o<i;o++)a=t.children[o],h(e,s=t.leaf?r(a):a)&&(t.leaf?n.push(a):d(e,s)?this._all(a,n):l.push(a));t=l.pop()}return n},collides:function(e){var t=this.data,n=this.toBBox;if(!h(e,t))return!1;for(var r,o,i,a,s=[];t;){for(r=0,o=t.children.length;r<o;r++)if(i=t.children[r],h(e,a=t.leaf?n(i):i)){if(t.leaf||d(e,a))return!0;s.push(i)}t=s.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,n=e.length;t<n;t++)this.insert(e[t]);return this}var r=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var o=this.data;this.data=r,r=o}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(e){return e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=m([]),this},remove:function(e,t){if(!e)return this;for(var n,r,o,a,s=this.data,l=this.toBBox(e),u=[],c=[];s||u.length;){if(s||(s=u.pop(),r=u[u.length-1],n=c.pop(),a=!0),s.leaf&&-1!==(o=i(e,s.children,t)))return s.children.splice(o,1),u.push(s),this._condense(u),this;a||s.leaf||!d(s,l)?r?(n++,s=r.children[n],a=!1):s=null:(u.push(s),c.push(n),n=0,r=s,s=s.children[0])}return this},toBBox:function(e){return e},compareMinX:u,compareMinY:c,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var n=[];e;)e.leaf?t.push.apply(t,e.children):n.push.apply(n,e.children),e=n.pop();return t},_build:function(e,t,n,r){var o,i=n-t+1,s=this._maxEntries;if(i<=s)return a(o=m(e.slice(t,n+1)),this.toBBox),o;r||(r=Math.ceil(Math.log(i)/Math.log(s)),s=Math.ceil(i/Math.pow(s,r-1))),(o=m([])).leaf=!1,o.height=r;var l,u,c,p,f=Math.ceil(i/s),d=f*Math.ceil(Math.sqrt(s));for(y(e,t,n,d,this.compareMinX),l=t;l<=n;l+=d)for(y(e,l,c=Math.min(l+d-1,n),f,this.compareMinY),u=l;u<=c;u+=f)p=Math.min(u+f-1,c),o.children.push(this._build(e,u,p,r-1));return a(o,this.toBBox),o},_chooseSubtree:function(e,t,n,r){for(var o,i,a,s,l,u,c,f,d,h;r.push(t),!t.leaf&&r.length-1!==n;){for(c=f=1/0,o=0,i=t.children.length;o<i;o++)l=p(a=t.children[o]),d=e,h=a,(u=(Math.max(h.maxX,d.maxX)-Math.min(h.minX,d.minX))*(Math.max(h.maxY,d.maxY)-Math.min(h.minY,d.minY))-l)<f?(f=u,c=l<c?l:c,s=a):u===f&&l<c&&(c=l,s=a);t=s||t.children[0]}return t},_insert:function(e,t,n){var r=this.toBBox,o=n?e:r(e),i=[],a=this._chooseSubtree(o,this.data,t,i);for(a.children.push(e),l(a,o);t>=0&&i[t].children.length>this._maxEntries;)this._split(i,t),t--;this._adjustParentBBoxes(o,i,t)},_split:function(e,t){var n=e[t],r=n.children.length,o=this._minEntries;this._chooseSplitAxis(n,o,r);var i=this._chooseSplitIndex(n,o,r),s=m(n.children.splice(i,n.children.length-i));s.height=n.height,s.leaf=n.leaf,a(n,this.toBBox),a(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(n,s)},_splitRoot:function(e,t){this.data=m([e,t]),this.data.height=e.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,n){var r,o,i,a,l,u,c,f,d,h,m,y,g,b;for(u=c=1/0,r=t;r<=n-t;r++)o=s(e,0,r,this.toBBox),i=s(e,r,n,this.toBBox),d=o,h=i,m=void 0,y=void 0,g=void 0,b=void 0,m=Math.max(d.minX,h.minX),y=Math.max(d.minY,h.minY),g=Math.min(d.maxX,h.maxX),b=Math.min(d.maxY,h.maxY),a=Math.max(0,g-m)*Math.max(0,b-y),l=p(o)+p(i),a<u?(u=a,f=r,c=l<c?l:c):a===u&&l<c&&(c=l,f=r);return f},_chooseSplitAxis:function(e,t,n){var r=e.leaf?this.compareMinX:u,o=e.leaf?this.compareMinY:c;this._allDistMargin(e,t,n,r)<this._allDistMargin(e,t,n,o)&&e.children.sort(r)},_allDistMargin:function(e,t,n,r){e.children.sort(r);var o,i,a=this.toBBox,u=s(e,0,t,a),c=s(e,n-t,n,a),p=f(u)+f(c);for(o=t;o<n-t;o++)i=e.children[o],l(u,e.leaf?a(i):i),p+=f(u);for(o=n-t-1;o>=t;o--)i=e.children[o],l(c,e.leaf?a(i):i),p+=f(c);return p},_adjustParentBBoxes:function(e,t,n){for(var r=n;r>=0;r--)l(t[r],e)},_condense:function(e){for(var t,n=e.length-1;n>=0;n--)0===e[n].children.length?n>0?(t=e[n-1].children).splice(t.indexOf(e[n]),1):this.clear():a(e[n],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}}},"./node_modules/@turf/meta/main.es.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return u}));var r=n("./node_modules/@turf/helpers/main.es.js");function o(e,t,n){if(null!==e)for(var r,i,a,s,l,u,c,p,f=0,d=0,h=e.type,m="FeatureCollection"===h,y="Feature"===h,g=m?e.features.length:1,b=0;b<g;b++){l=(p=!!(c=m?e.features[b].geometry:y?e.geometry:e)&&"GeometryCollection"===c.type)?c.geometries.length:1;for(var v=0;v<l;v++){var _=0,w=0;if(null!==(s=p?c.geometries[v]:c)){u=s.coordinates;var O=s.type;switch(f=!n||"Polygon"!==O&&"MultiPolygon"!==O?0:1,O){case null:break;case"Point":t(u,d,b,_,w),d++,_++;break;case"LineString":case"MultiPoint":for(r=0;r<u.length;r++)t(u[r],d,b,_,w),d++,"MultiPoint"===O&&_++;"LineString"===O&&_++;break;case"Polygon":case"MultiLineString":for(r=0;r<u.length;r++){for(i=0;i<u[r].length-f;i++)t(u[r][i],d,b,_,w),d++;"MultiLineString"===O&&_++,"Polygon"===O&&w++}"Polygon"===O&&_++;break;case"MultiPolygon":for(r=0;r<u.length;r++){for("MultiPolygon"===O&&(w=0),i=0;i<u[r].length;i++){for(a=0;a<u[r][i].length-f;a++)t(u[r][i][a],d,b,_,w),d++;w++}_++}break;case"GeometryCollection":for(r=0;r<s.geometries.length;r++)o(s.geometries[r],t,n);break;default:throw new Error("Unknown Geometry Type")}}}}}function i(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var n=0;n<e.features.length;n++)t(e.features[n],n)}function a(e){var t=[];return o(e,(function(e){t.push(e)})),t}function s(e,t){var n,r,o,i,a,s,l,u,c,p,f=0,d="FeatureCollection"===e.type,h="Feature"===e.type,m=d?e.features.length:1;for(n=0;n<m;n++){for(s=d?e.features[n].geometry:h?e.geometry:e,u=d?e.features[n].properties:h?e.properties:{},c=d?e.features[n].bbox:h?e.bbox:void 0,p=d?e.features[n].id:h?e.id:void 0,a=(l=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(i=l?s.geometries[o]:s))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":t(i,f,u,c,p);break;case"GeometryCollection":for(r=0;r<i.geometries.length;r++)t(i.geometries[r],f,u,c,p);break;default:throw new Error("Unknown Geometry Type")}else t(null,f,u,c,p);f++}}function l(e,t){s(e,(function(e,n,o,i,a){var s,l=null===e?null:e.type;switch(l){case null:case"Point":case"LineString":case"Polygon":return void t(Object(r.b)(e,o,{bbox:i,id:a}),n,0)}switch(l){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}e.coordinates.forEach((function(e,i){var a={type:s,coordinates:e};t(Object(r.b)(a,o),n,i)}))}))}function u(e,t){l(e,(function(e,n,i){var a=0;if(e.geometry){var s=e.geometry.type;"Point"!==s&&"MultiPoint"!==s&&function(e,t,n,r){var i=n;o(e,(function(e,r,o,a,s){i=0===r&&void 0===n?e:t(i,e,r,o,a,s)}),r)}(e,(function(o,s,l,u,c,p){var f=Object(r.g)([o,s],e.properties);return t(f,n,i,p,a),a++,s}))}}))}},"./node_modules/@turf/polygon-to-linestring/index.js":function(e,t,n){var r=n("./node_modules/@turf/polygon-to-linestring/node_modules/@turf/invariant/index.js").getCoords,o=n("./node_modules/@turf/polygon-to-linestring/node_modules/@turf/helpers/index.js"),i=o.lineString,a=o.multiLineString,s=o.featureCollection;function l(e,t){return e.length>1?a(e,t):i(e[0],t)}e.exports=function(e){var t,n=(t=e).geometry?t.geometry.type:t.type,o=r(e),i=e.properties;if(!o.length)throw new Error("polygon must contain coordinates");switch(n){case"Polygon":return s([l(o,i)]);case"MultiPolygon":var a=[];return o.forEach((function(e){a.push(l(e,i))})),s(a);default:throw new Error("geom "+n+" not supported")}}},"./node_modules/@turf/polygon-to-linestring/node_modules/@turf/helpers/index.js":function(e,t){function n(e,t,n,r){if(void 0===e)throw new Error("geometry is required");if(t&&t.constructor!==Object)throw new Error("properties must be an Object");if(n&&4!==n.length)throw new Error("bbox must be an Array of 4 numbers");if(r&&-1===["string","number"].indexOf(typeof r))throw new Error("id must be a number or a string");var o={type:"Feature"};return r&&(o.id=r),n&&(o.bbox=n),o.properties=t||{},o.geometry=e,o}function r(e,t,r,o){if(!e)throw new Error("No coordinates passed");if(void 0===e.length)throw new Error("Coordinates must be an array");if(e.length<2)throw new Error("Coordinates must be at least 2 numbers long");if(!h(e[0])||!h(e[1]))throw new Error("Coordinates must contain numbers");return n({type:"Point",coordinates:e},t,r,o)}function o(e,t,r,o){if(!e)throw new Error("No coordinates passed");for(var i=0;i<e.length;i++){var a=e[i];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<a[a.length-1].length;s++){if(0===i&&0===s&&!h(a[0][0])||!h(a[0][1]))throw new Error("Coordinates must contain numbers");if(a[a.length-1][s]!==a[0][s])throw new Error("First and last Position are not equivalent.")}}return n({type:"Polygon",coordinates:e},t,r,o)}function i(e,t,r,o){if(!e)throw new Error("No coordinates passed");if(e.length<2)throw new Error("Coordinates must be an array of two or more positions");if(!h(e[0][1])||!h(e[0][1]))throw new Error("Coordinates must contain numbers");return n({type:"LineString",coordinates:e},t,r,o)}function a(e,t,r,o){if(!e)throw new Error("No coordinates passed");return n({type:"MultiLineString",coordinates:e},t,r,o)}function s(e,t,r,o){if(!e)throw new Error("No coordinates passed");return n({type:"MultiPoint",coordinates:e},t,r,o)}function l(e,t,r,o){if(!e)throw new Error("No coordinates passed");return n({type:"MultiPolygon",coordinates:e},t,r,o)}var u={miles:3960,nauticalmiles:3441.145,degrees:57.2957795,radians:1,inches:250905600,yards:6969600,meters:6373e3,metres:6373e3,centimeters:6373e5,centimetres:6373e5,kilometers:6373,kilometres:6373,feet:20908792.65},c={kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,centimetres:1e4,millimeter:1e6,acres:247105e-9,miles:386e-9,yards:1.195990046,feet:10.763910417,inches:1550.003100006};function p(e,t){if(null==e)throw new Error("radians is required");var n=u[t||"kilometers"];if(!n)throw new Error("units is invalid");return e*n}function f(e,t){if(null==e)throw new Error("distance is required");var n=u[t||"kilometers"];if(!n)throw new Error("units is invalid");return e/n}function d(e){if(null==e)throw new Error("radians is required");return 180*(e%(2*Math.PI))/Math.PI}function h(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}e.exports={feature:n,geometry:function(e,t,n){if(!e)throw new Error("type is required");if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(n&&4!==n.length)throw new Error("bbox must be an Array of 4 numbers");var u;switch(e){case"Point":u=r(t).geometry;break;case"LineString":u=i(t).geometry;break;case"Polygon":u=o(t).geometry;break;case"MultiPoint":u=s(t).geometry;break;case"MultiLineString":u=a(t).geometry;break;case"MultiPolygon":u=l(t).geometry;break;default:throw new Error(e+" is invalid")}return n&&(u.bbox=n),u},featureCollection:function(e,t,n){if(!e)throw new Error("No features passed");if(!Array.isArray(e))throw new Error("features must be an Array");if(t&&4!==t.length)throw new Error("bbox must be an Array of 4 numbers");if(n&&-1===["string","number"].indexOf(typeof n))throw new Error("id must be a number or a string");var r={type:"FeatureCollection"};return n&&(r.id=n),t&&(r.bbox=t),r.features=e,r},geometryCollection:function(e,t,r,o){if(!e)throw new Error("geometries is required");if(!Array.isArray(e))throw new Error("geometries must be an Array");return n({type:"GeometryCollection",geometries:e},t,r,o)},point:r,multiPoint:s,lineString:i,multiLineString:a,polygon:o,multiPolygon:l,radiansToDistance:p,distanceToRadians:f,distanceToDegrees:function(e,t){return d(f(e,t))},radians2degrees:d,degrees2radians:function(e){if(null==e)throw new Error("degrees is required");return e%360*Math.PI/180},bearingToAngle:function(e){if(null==e)throw new Error("bearing is required");var t=e%360;return t<0&&(t+=360),t},convertDistance:function(e,t,n){if(null==e)throw new Error("distance is required");if(!(e>=0))throw new Error("distance must be a positive number");return p(f(e,t),n||"kilometers")},convertArea:function(e,t,n){if(null==e)throw new Error("area is required");if(!(e>=0))throw new Error("area must be a positive number");var r=c[t||"meters"];if(!r)throw new Error("invalid original units");var o=c[n||"kilometers"];if(!o)throw new Error("invalid final units");return e/r*o},round:function(e,t){if(null==e||isNaN(e))throw new Error("num is required");if(t&&!(t>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,t||0);return Math.round(e*n)/n},isNumber:h}},"./node_modules/@turf/polygon-to-linestring/node_modules/@turf/invariant/index.js":function(e,t){function n(e){if(!e)throw new Error("obj is required");var t;if(e.length?t=e:e.coordinates?t=e.coordinates:e.geometry&&e.geometry.coordinates&&(t=e.geometry.coordinates),t)return r(t),t;throw new Error("No valid coordinates")}function r(e){if(e.length>1&&"number"==typeof e[0]&&"number"==typeof e[1])return!0;if(Array.isArray(e[0])&&e[0].length)return r(e[0]);throw new Error("coordinates must only contain numbers")}function o(e){if(!e)throw new Error("geojson is required");if(void 0!==e.geometry)return e.geometry;if(e.coordinates||e.geometries)return e;throw new Error("geojson must be a valid Feature or Geometry Object")}e.exports={geojsonType:function(e,t,n){if(!t||!n)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+n+": must be a "+t+", given "+e.type)},collectionOf:function(e,t,n){if(!e)throw new Error("No featureCollection passed");if(!n)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+n+", FeatureCollection required");for(var r=0;r<e.features.length;r++){var o=e.features[r];if(!o||"Feature"!==o.type||!o.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!o.geometry||o.geometry.type!==t)throw new Error("Invalid input to "+n+": must be a "+t+", given "+o.geometry.type)}},featureOf:function(e,t,n){if(!e)throw new Error("No feature passed");if(!n)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+n+": must be a "+t+", given "+e.geometry.type)},getCoord:function(e){if(!e)throw new Error("obj is required");var t=n(e);if(t.length>1&&"number"==typeof t[0]&&"number"==typeof t[1])return t;throw new Error("Coordinate is not a valid Point")},getCoords:n,containsNumber:r,getGeom:o,getGeomType:function(e){if(!e)throw new Error("geojson is required");var t=o(e);if(t)return t.type}}},"./node_modules/batch-processor/src/batch-processor.js":function(e,t,n){"use strict";var r=n("./node_modules/batch-processor/src/utils.js");function o(){var e={},t=0,n=0,r=0;return{add:function(o,i){i||(i=o,o=0),o>n?n=o:o<r&&(r=o),e[o]||(e[o]=[]),e[o].push(i),t++},process:function(){for(var t=r;t<=n;t++)for(var o=e[t],i=0;i<o.length;i++){(0,o[i])()}},size:function(){return t}}}e.exports=function(e){var t=(e=e||{}).reporter,n=r.getOption(e,"async",!0),i=r.getOption(e,"auto",!0);i&&!n&&(t&&t.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),n=!0);var a,s=o(),l=!1;function u(){for(l=!0;s.size();){var e=s;s=o(),e.process()}l=!1}function c(){var e;e=u,a=setTimeout(e,0)}return{add:function(e,t){!l&&i&&n&&0===s.size()&&c(),s.add(e,t)},force:function(e){l||(void 0===e&&(e=n),a&&(clearTimeout(a),a=null),e?c():u())}}}},"./node_modules/batch-processor/src/utils.js":function(e,t,n){"use strict";(e.exports={}).getOption=function(e,t,n){var r=e[t];if(null==r&&void 0!==n)return n;return r}},"./node_modules/create-react-context/lib/implementation.js":function(e,t,n){"use strict";t.__esModule=!0;var r=n("./node_modules/react/index.js"),o=(a(r),a(n("./node_modules/prop-types/index.js"))),i=a(n("./node_modules/gud/index.js"));a(n("./node_modules/create-react-context/node_modules/warning/warning.js"));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}t.default=function(e,t){var n,a,p="__create-react-context-"+(0,i.default)()+"__",f=function(e){function n(){var t,r;s(this,n);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=r=l(this,e.call.apply(e,[this].concat(i))),r.emitter=c(r.props.value),l(r,t)}return u(n,e),n.prototype.getChildContext=function(){var e;return(e={})[p]=this.emitter,e},n.prototype.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n=this.props.value,r=e.value,o=void 0;((i=n)===(a=r)?0!==i||1/i==1/a:i!=i&&a!=a)?o=0:(o="function"==typeof t?t(n,r):1073741823,0!==(o|=0)&&this.emitter.set(e.value,o))}var i,a},n.prototype.render=function(){return this.props.children},n}(r.Component);f.childContextTypes=((n={})[p]=o.default.object.isRequired,n);var d=function(t){function n(){var e,r;s(this,n);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return e=r=l(this,t.call.apply(t,[this].concat(i))),r.state={value:r.getValue()},r.onUpdate=function(e,t){0!=((0|r.observedBits)&t)&&r.setState({value:r.getValue()})},l(r,e)}return u(n,t),n.prototype.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?1073741823:t},n.prototype.componentDidMount=function(){this.context[p]&&this.context[p].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?1073741823:e},n.prototype.componentWillUnmount=function(){this.context[p]&&this.context[p].off(this.onUpdate)},n.prototype.getValue=function(){return this.context[p]?this.context[p].get():e},n.prototype.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return d.contextTypes=((a={})[p]=o.default.object,a),{Provider:f,Consumer:d}},e.exports=t.default},"./node_modules/create-react-context/lib/index.js":function(e,t,n){"use strict";t.__esModule=!0;var r=i(n("./node_modules/react/index.js")),o=i(n("./node_modules/create-react-context/lib/implementation.js"));function i(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.createContext||o.default,e.exports=t.default},"./node_modules/create-react-context/node_modules/warning/warning.js":function(e,t,n){"use strict";var r=function(){};e.exports=r},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/map/leaflet/overview.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi .leaflet-control-minimap {\r\n    border:solid rgba(255, 255, 255, 1.0) 4px;\r\n    box-shadow: 0 1px 5px rgba(0,0,0,0.65);\r\n    border-radius: 3px;\r\n    background: #f8f8f9;\r\n    transition: all .2s;\r\n}\r\n.msgapi .leafletbottom.leafletright, .msgapi .leaflet-control-minimap{\r\n    position:relative;\r\n    bottom:5px;\r\n}\r\n.msgapi .leaflet-control-minimap a {\r\n    background-color: rgba(255, 255, 255, 1.0);\r\n    background-repeat: no-repeat;\r\n    z-index: 99999;\r\n    transition: all .2s;\r\n}\r\n\r\n.msgapi .leaflet-control-minimap a.minimized-bottomright {\r\n    -webkit-transform: rotate(180deg);\r\n    transform: rotate(180deg);\r\n    border-radius: 0px;\r\n    bottom: -3px;\r\n    right: -3px;\r\n}\r\n\r\n.msgapi .leaflet-control-minimap a.minimized-topleft {\r\n    -webkit-transform: rotate(0deg);\r\n    transform: rotate(0deg);\r\n    border-radius: 0px;\r\n}\r\n\r\n.msgapi .leaflet-control-minimap a.minimized-bottomleft {\r\n    -webkit-transform: rotate(270deg);\r\n    transform: rotate(270deg);\r\n    border-radius: 0px;\r\n}\r\n\r\n.msgapi .leaflet-control-minimap a.minimized-topright {\r\n    -webkit-transform: rotate(90deg);\r\n    transform: rotate(90deg);\r\n    border-radius: 0px;\r\n}\r\n\r\n.msgapi .leaflet-control-minimap-toggle-display{\r\n    background-image: url("+n("./MapStore2/web/client/components/map/leaflet/img/toggle.svg")+");\r\n    background-size: cover;\r\n    position: absolute;\r\n    border-radius: 3px 0px 0px 0px;\r\n}\r\n\r\n.msgapi .leaflet-oldie .leaflet-control-minimap-toggle-display{\r\n    background-image: url("+n("./MapStore2/web/client/components/map/leaflet/img/toggle.png")+");\r\n}\r\n\r\n.msgapi .leaflet-control-minimap-toggle-display-bottomright {\r\n    bottom: 0;\r\n    right: 0;\r\n}\r\n\r\n.msgapi .leaflet-control-minimap-toggle-display-topleft{\r\n    top: 0;\r\n    left: 0;\r\n    -webkit-transform: rotate(180deg);\r\n    transform: rotate(180deg);\r\n}\r\n\r\n.msgapi .leaflet-control-minimap-toggle-display-bottomleft{\r\n    bottom: 0;\r\n    left: 0;\r\n    -webkit-transform: rotate(90deg);\r\n    transform: rotate(90deg);\r\n}\r\n\r\n.msgapi .leaflet-control-minimap-toggle-display-topright{\r\n    top: 0;\r\n    right: 0;\r\n    -webkit-transform: rotate(270deg);\r\n    transform: rotate(270deg);\r\n}\r\n\r\n/* Old IE */\r\n.msgapi .leaflet-oldie .leaflet-control-minimap {\r\n    border: 1px solid #999;\r\n}\r\n\r\n.msgapi .leaflet-oldie .leaflet-control-minimap a {\r\n    background-color: #fff;\r\n}\r\n\r\n.msgapi .leaflet-oldie .leaflet-control-minimap a.minimized {\r\n    filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=2);\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/map/openlayers/mapstore-ol-overrides.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi .ol-control button:hover, .msgapi .ol-control button:focus {\r\n    background-color: #f4f4f4;\r\n}\r\n.msgapi .ol-zoom .ol-zoom-out, .msgapi .ol-zoom .ol-zoom-in{\r\n    width: 26px;\r\n    height: 26px;\r\n    line-height: 26px;\r\n    display: block;\r\n\r\n    color: black;\r\n    background-color: #fff;\r\n    border-width: 0;\r\n    margin:0;\r\n}\r\n.msgapi .ol-zoom.ol-unselectable.ol-control .ol-zoom-in, .msgapi .ol-zoom.ol-unselectable.ol-control .ol-zoom-out {\r\n    font-family: 'Lucida Console', Monaco, monospace;\r\n    text-align: center;\r\n    text-decoration: none;\r\n    font-weight: bold;\r\n}\r\n\r\n.msgapi .ol-zoom .ol-zoom-out{\r\n    font-size: 18px;\r\n    border-radius: 0 0 4px 4px;\r\n}\r\n.msgapi .ol-zoom .ol-zoom-in{\r\n    border-bottom: 1px solid #ccc;\r\n    border-radius: 4px 4px 0 0;\r\n    font-size: 20px;\r\n}\r\n.msgapi .ol-zoom.ol-unselectable.ol-control{\r\n    top:10px;\r\n    left:10px;\r\n    padding:0;\r\n    box-shadow: rgba(0, 0, 0, 0.65098) 0px 1px 5px 0px;\r\n    border-radius: 4px;\r\n}\r\n\r\n.msgapi .ol-scale-line.ol-unselectable{\r\n    background-color: rgba(255, 255, 255, 0.8);\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/map/openlayers/overview.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi .ol-custom-overviewmap,\r\n       .msgapi .ol-custom-overviewmap.ol-uncollapsible {\r\n          bottom: 20px;\r\n          left: auto;\r\n          right: 10px;\r\n          top: auto;\r\n\r\n      }\r\n      .msgapi .ol-custom-overviewmap:not(.ol-collapsed)  {\r\n\r\n           box-shadow: 0 1px 5px rgba(0,0,0,0.65);\r\n           border-radius: 1px;\r\n           transition: all .2s;\r\n      }\r\n      .msgapi .ol-custom-overviewmap .ol-overviewmap-map {\r\n          border: none;\r\n          width: 300px;\r\n          height: 150px;\r\n\r\n      }\r\n\r\n      .msgapi .ol-custom-overviewmap .ol-overviewmap-box {\r\n          border: 1px solid black;\r\n          cursor: pointer;\r\n          border-radius: 5px;\r\n      }\r\n\r\n      .msgapi .ol-custom-overviewmap:not(.ol-collapsed) button{\r\n          bottom: auto;\r\n          left: auto;\r\n          right: 2px;\r\n          bottom: 2px;\r\n      }\r\n\r\n      .msgapi .ol-rotate {\r\n          top: 170px;\r\n          right: 0;\r\n      }\r\n      .msgapi .ol-overview-dargbox{\r\n           border: 1px solid black;\r\n           background-color: rgba(125,125,0,.5);\r\n           border-radius: 5px;\r\n      }\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/components/misc/style/filter.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi .mapstore-filter input::-ms-clear,\r\n.msgapi .mapstore-filter input::-ms-reveal {\r\n  display: none;\r\n}\r\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./MapStore2/web/client/utils/openlayers/olPopUp.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,'.msgapi .ol-popup {\r\n    position: absolute;\r\n    text-align: center;\r\n    font: 12px/1.5 "Helvetica Neue", Arial, Helvetica, sans-serif;\r\n    -ms-transform: translate(-50%,-100%); /* IE 9 */\r\n    -webkit-transform: translate(-50%,-100%); /* Safari */\r\n    transform: translate(-50%,-100%);\r\n}\r\n.msgapi a.ol-popup-close-btn {\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  padding: 4px 4px 0 0;\r\n  text-align: center;\r\n  width: 18px;\r\n  height: 14px;\r\n  font: 16px/14px Tahoma, Verdana, sans-serif;\r\n  color: #c3c3c3;\r\n  text-decoration: none;\r\n  font-weight: bold;\r\n  background: transparent;\r\n}\r\n.msgapi .ol-popup-cnt-wrapper {\r\n  padding: 1px;\r\n  text-align: left;\r\n  border-radius: 12px;\r\n}\r\n.msgapi .ol-popup-cnt-wrapper, .msgapi .ol-popup-tip {\r\n  background: white;\r\n  box-shadow: 0 3px 14px rgba(0,0,0,0.4);\r\n}\r\n.msgapi .ol-popup-cnt {\r\n  margin: 13px 19px;\r\n  line-height: 1.4;\r\n   white-space: nowrap;\r\n\r\n}\r\n.msgapi .ol-popup-tip-wrapper {\r\n  margin: 0 auto;\r\n  width: 40px;\r\n  height: 20px;\r\n  position: relative;\r\n  overflow: hidden;\r\n\r\n}\r\n.msgapi .ol-popup-tip {\r\n  width: 17px;\r\n  height: 17px;\r\n  padding: 1px;\r\n  margin: -10px auto 0;\r\n  -webkit-transform: rotate(45deg);\r\n  -moz-transform: rotate(45deg);\r\n  -ms-transform: rotate(45deg);\r\n  -o-transform: rotate(45deg);\r\n  transform: rotate(45deg);\r\n}\r\n',""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./node_modules/leaflet-extra-markers/dist/css/leaflet.extra-markers.min.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi .extra-marker{background:url("+n("./node_modules/leaflet-extra-markers/dist/img/markers_default.png")+") no-repeat 0 0;width:35px;height:46px;position:absolute;left:0;top:0;display:block;text-align:center}.msgapi .extra-marker-shadow{background:url("+n("./node_modules/leaflet-extra-markers/dist/img/markers_shadow.png")+") no-repeat 0 0;width:36px;height:16px}@media (min--moz-device-pixel-ratio:1.5),(-webkit-min-device-pixel-ratio:1.5),(min-device-pixel-ratio:1.5),(min-resolution:1.5dppx){.msgapi .extra-marker{background-image:url("+n("./node_modules/leaflet-extra-markers/dist/img/markers_default@2x.png")+");background-size:540px 184px}.msgapi .extra-marker-shadow{background-image:url("+n("./node_modules/leaflet-extra-markers/dist/img/markers_shadow@2x.png")+");background-size:35px 16px}}.msgapi .extra-marker i{color:#fff;margin-top:10px;display:inline-block;font-size:14px}.msgapi .extra-marker i.icon{margin-right:0;opacity:1}.msgapi .extra-marker-circle-red{background-position:0 0}.msgapi .extra-marker-circle-orange-dark{background-position:-36px 0}.msgapi .extra-marker-circle-orange{background-position:-72px 0}.msgapi .extra-marker-circle-yellow{background-position:-108px 0}.msgapi .extra-marker-circle-blue-dark{background-position:-144px 0}.msgapi .extra-marker-circle-blue{background-position:-180px 0}.msgapi .extra-marker-circle-cyan{background-position:-216px 0}.msgapi .extra-marker-circle-purple{background-position:-252px 0}.msgapi .extra-marker-circle-violet{background-position:-288px 0}.msgapi .extra-marker-circle-pink{background-position:-324px 0}.msgapi .extra-marker-circle-green-dark{background-position:-360px 0}.msgapi .extra-marker-circle-green{background-position:-396px 0}.msgapi .extra-marker-circle-green-light{background-position:-432px 0}.msgapi .extra-marker-circle-black{background-position:-468px 0}.msgapi .extra-marker-circle-white{background-position:-504px 0}.msgapi .extra-marker-square-red{background-position:0 -46px}.msgapi .extra-marker-square-orange-dark{background-position:-36px -46px}.msgapi .extra-marker-square-orange{background-position:-72px -46px}.msgapi .extra-marker-square-yellow{background-position:-108px -46px}.msgapi .extra-marker-square-blue-dark{background-position:-144px -46px}.msgapi .extra-marker-square-blue{background-position:-180px -46px}.msgapi .extra-marker-square-cyan{background-position:-216px -46px}.msgapi .extra-marker-square-purple{background-position:-252px -46px}.msgapi .extra-marker-square-violet{background-position:-288px -46px}.msgapi .extra-marker-square-pink{background-position:-324px -46px}.msgapi .extra-marker-square-green-dark{background-position:-360px -46px}.msgapi .extra-marker-square-green{background-position:-396px -46px}.msgapi .extra-marker-square-green-light{background-position:-432px -46px}.msgapi .extra-marker-square-black{background-position:-468px -46px}.msgapi .extra-marker-square-white{background-position:-504px -46px}.msgapi .extra-marker-star-red{background-position:0 -92px}.msgapi .extra-marker-star-orange-dark{background-position:-36px -92px}.msgapi .extra-marker-star-orange{background-position:-72px -92px}.msgapi .extra-marker-star-yellow{background-position:-108px -92px}.msgapi .extra-marker-star-blue-dark{background-position:-144px -92px}.msgapi .extra-marker-star-blue{background-position:-180px -92px}.msgapi .extra-marker-star-cyan{background-position:-216px -92px}.msgapi .extra-marker-star-purple{background-position:-252px -92px}.msgapi .extra-marker-star-violet{background-position:-288px -92px}.msgapi .extra-marker-star-pink{background-position:-324px -92px}.msgapi .extra-marker-star-green-dark{background-position:-360px -92px}.msgapi .extra-marker-star-green{background-position:-396px -92px}.msgapi .extra-marker-star-green-light{background-position:-432px -92px}.msgapi .extra-marker-star-black{background-position:-468px -92px}.msgapi .extra-marker-star-white{background-position:-504px -92px}.msgapi .extra-marker-penta-red{background-position:0 -138px}.msgapi .extra-marker-penta-orange-dark{background-position:-36px -138px}.msgapi .extra-marker-penta-orange{background-position:-72px -138px}.msgapi .extra-marker-penta-yellow{background-position:-108px -138px}.msgapi .extra-marker-penta-blue-dark{background-position:-144px -138px}.msgapi .extra-marker-penta-blue{background-position:-180px -138px}.msgapi .extra-marker-penta-cyan{background-position:-216px -138px}.msgapi .extra-marker-penta-purple{background-position:-252px -138px}.msgapi .extra-marker-penta-violet{background-position:-288px -138px}.msgapi .extra-marker-penta-pink{background-position:-324px -138px}.msgapi .extra-marker-penta-green-dark{background-position:-360px -138px}.msgapi .extra-marker-penta-green{background-position:-396px -138px}.msgapi .extra-marker-penta-green-light{background-position:-432px -138px}.msgapi .extra-marker-penta-black{background-position:-468px -138px}.msgapi .extra-marker-penta-white{background-position:-504px -138px}.msgapi .extra-marker .fa-number:before{content:attr(number)}",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./node_modules/leaflet-simple-graticule/L.SimpleGraticule.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,".msgapi .leaflet-grid-label .gridlabel-vert {\n    margin-left: 8px;\n    -webkit-transform: rotate(90deg);\n    transform: rotate(90deg);\n}\n\n.msgapi .leaflet-grid-label .gridlabel-vert,\n.msgapi .leaflet-grid-label .gridlabel-horiz {\n    padding-left:2px;\n    text-shadow: -2px 0 #FFFFFF, 0 2px #FFFFFF, 2px 0 #FFFFFF, 0 -2px #FFFFFF;\n}\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./node_modules/leaflet.locatecontrol/dist/L.Control.Locate.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,"/* Compatible with Leaflet 0.7 */\n.msgapi .leaflet-control-locate a {\n  font-size: 1.4em;\n  color: #444;\n  cursor: pointer;\n}\n.msgapi .leaflet-control-locate.active a {\n  color: #2074B6;\n}\n.msgapi .leaflet-control-locate.active.following a {\n  color: #FC8428;\n}\n",""])},"./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./node_modules/ol/ol.css":function(e,t,n){(e.exports=n("./node_modules/css-loader/lib/css-base.js")()).push([e.i,'.msgapi .ol-box {\n  box-sizing: border-box;\n  border-radius: 2px;\n  border: 2px solid blue;\n}\n\n.msgapi .ol-mouse-position {\n  top: 8px;\n  right: 8px;\n  position: absolute;\n}\n\n.msgapi .ol-scale-line {\n  background: rgba(0,60,136,0.3);\n  border-radius: 4px;\n  bottom: 8px;\n  left: 8px;\n  padding: 2px;\n  position: absolute;\n}\n.msgapi .ol-scale-line-inner {\n  border: 1px solid #eee;\n  border-top: none;\n  color: #eee;\n  font-size: 10px;\n  text-align: center;\n  margin: 1px;\n  will-change: contents, width;\n}\n.msgapi .ol-overlay-container {\n  will-change: left,right,top,bottom;\n}\n\n.msgapi .ol-unsupported {\n  display: none;\n}\n.msgapi .ol-viewport, .msgapi .ol-unselectable {\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-tap-highlight-color: rgba(0,0,0,0);\n}\n.msgapi .ol-selectable {\n  -webkit-touch-callout: default;\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  -ms-user-select: text;\n  user-select: text;\n}\n.msgapi .ol-grabbing {\n  cursor: -webkit-grabbing;\n  cursor: -moz-grabbing;\n  cursor: grabbing;\n}\n.msgapi .ol-grab {\n  cursor: move;\n  cursor: -webkit-grab;\n  cursor: -moz-grab;\n  cursor: grab;\n}\n.msgapi .ol-control {\n  position: absolute;\n  background-color: rgba(255,255,255,0.4);\n  border-radius: 4px;\n  padding: 2px;\n}\n.msgapi .ol-control:hover {\n  background-color: rgba(255,255,255,0.6);\n}\n.msgapi .ol-zoom {\n  top: .5em;\n  left: .5em;\n}\n.msgapi .ol-rotate {\n  top: .5em;\n  right: .5em;\n  transition: opacity .25s linear, visibility 0s linear;\n}\n.msgapi .ol-rotate.ol-hidden {\n  opacity: 0;\n  visibility: hidden;\n  transition: opacity .25s linear, visibility 0s linear .25s;\n}\n.msgapi .ol-zoom-extent {\n  top: 4.643em;\n  left: .5em;\n}\n.msgapi .ol-full-screen {\n  right: .5em;\n  top: .5em;\n}\n@media print {\n  .msgapi .ol-control {\n    display: none;\n  }\n}\n\n.msgapi .ol-control button {\n  display: block;\n  margin: 1px;\n  padding: 0;\n  color: white;\n  font-size: 1.14em;\n  font-weight: bold;\n  text-decoration: none;\n  text-align: center;\n  height: 1.375em;\n  width: 1.375em;\n  line-height: .4em;\n  background-color: rgba(0,60,136,0.5);\n  border: none;\n  border-radius: 2px;\n}\n.msgapi .ol-control button::-moz-focus-inner {\n  border: none;\n  padding: 0;\n}\n.msgapi .ol-zoom-extent button {\n  line-height: 1.4em;\n}\n.msgapi .ol-compass {\n  display: block;\n  font-weight: normal;\n  font-size: 1.2em;\n  will-change: transform;\n}\n.msgapi .ol-touch .ol-control button {\n  font-size: 1.5em;\n}\n.msgapi .ol-touch .ol-zoom-extent {\n  top: 5.5em;\n}\n.msgapi .ol-control button:hover,\n.msgapi .ol-control button:focus {\n  text-decoration: none;\n  background-color: rgba(0,60,136,0.7);\n}\n.msgapi .ol-zoom .ol-zoom-in {\n  border-radius: 2px 2px 0 0;\n}\n.msgapi .ol-zoom .ol-zoom-out {\n  border-radius: 0 0 2px 2px;\n}\n\n\n.msgapi .ol-attribution {\n  text-align: right;\n  bottom: .5em;\n  right: .5em;\n  max-width: calc(100% - 1.3em);\n}\n\n.msgapi .ol-attribution ul {\n  margin: 0;\n  padding: 0 .5em;\n  font-size: .7rem;\n  line-height: 1.375em;\n  color: #000;\n  text-shadow: 0 0 2px #fff;\n}\n.msgapi .ol-attribution li {\n  display: inline;\n  list-style: none;\n  line-height: inherit;\n}\n.msgapi .ol-attribution li:not(:last-child):after {\n  content: " ";\n}\n.msgapi .ol-attribution img {\n  max-height: 2em;\n  max-width: inherit;\n  vertical-align: middle;\n}\n.msgapi .ol-attribution ul, .msgapi .ol-attribution button {\n  display: inline-block;\n}\n.msgapi .ol-attribution.ol-collapsed ul {\n  display: none;\n}\n.msgapi .ol-attribution:not(.ol-collapsed) {\n  background: rgba(255,255,255,0.8);\n}\n.msgapi .ol-attribution.ol-uncollapsible {\n  bottom: 0;\n  right: 0;\n  border-radius: 4px 0 0;\n  height: 1.1em;\n  line-height: 1em;\n}\n.msgapi .ol-attribution.ol-uncollapsible img {\n  margin-top: -.2em;\n  max-height: 1.6em;\n}\n.msgapi .ol-attribution.ol-uncollapsible button {\n  display: none;\n}\n\n.msgapi .ol-zoomslider {\n  top: 4.5em;\n  left: .5em;\n  height: 200px;\n}\n.msgapi .ol-zoomslider button {\n  position: relative;\n  height: 10px;\n}\n\n.msgapi .ol-touch .ol-zoomslider {\n  top: 5.5em;\n}\n\n.msgapi .ol-overviewmap {\n  left: 0.5em;\n  bottom: 0.5em;\n}\n.msgapi .ol-overviewmap.ol-uncollapsible {\n  bottom: 0;\n  left: 0;\n  border-radius: 0 4px 0 0;\n}\n.msgapi .ol-overviewmap .ol-overviewmap-map,\n.msgapi .ol-overviewmap button {\n  display: inline-block;\n}\n.msgapi .ol-overviewmap .ol-overviewmap-map {\n  border: 1px solid #7b98bc;\n  height: 150px;\n  margin: 2px;\n  width: 150px;\n}\n.msgapi .ol-overviewmap:not(.ol-collapsed) button{\n  bottom: 1px;\n  left: 2px;\n  position: absolute;\n}\n.msgapi .ol-overviewmap.ol-collapsed .ol-overviewmap-map,\n.msgapi .ol-overviewmap.ol-uncollapsible button {\n  display: none;\n}\n.msgapi .ol-overviewmap:not(.ol-collapsed) {\n  background: rgba(255,255,255,0.8);\n}\n.msgapi .ol-overviewmap-box {\n  border: 2px dotted rgba(0,60,136,0.7);\n}\n\n.msgapi .ol-overviewmap .ol-overviewmap-box:hover {\n  cursor: move;\n}\n',""])},"./node_modules/deepmerge/dist/cjs.js":function(e,t,n){"use strict";var r=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===o}(e)}(e)};var o="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function i(e,t){return!1!==t.clone&&t.isMergeableObject(e)?c((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function a(e,t,n){return e.concat(t).map((function(e){return i(e,n)}))}function s(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function l(e,t){try{return t in e}catch(e){return!1}}function u(e,t,n){var r={};return n.isMergeableObject(e)&&s(e).forEach((function(t){r[t]=i(e[t],n)})),s(t).forEach((function(o){(function(e,t){return l(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,o)||(l(e,o)&&n.isMergeableObject(t[o])?r[o]=function(e,t){if(!t.customMerge)return c;var n=t.customMerge(e);return"function"==typeof n?n:c}(o,n)(e[o],t[o],n):r[o]=i(t[o],n))})),r}function c(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||a,n.isMergeableObject=n.isMergeableObject||r,n.cloneUnlessOtherwiseSpecified=i;var o=Array.isArray(t);return o===Array.isArray(e)?o?n.arrayMerge(e,t,n):u(e,t,n):i(t,n)}c.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return c(e,n,t)}),{})};var p=c;e.exports=p},"./node_modules/dom-helpers/ownerWindow.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");t.__esModule=!0,t.default=function(e){var t=(0,o.default)(e);return t&&t.defaultView||t.parentWindow};var o=r(n("./node_modules/dom-helpers/ownerDocument.js"));e.exports=t.default},"./node_modules/dom-helpers/query/height.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");t.__esModule=!0,t.default=function(e,t){var n=(0,i.default)(e);return n?n.innerHeight:t?e.clientHeight:(0,o.default)(e).height};var o=r(n("./node_modules/dom-helpers/query/offset.js")),i=r(n("./node_modules/dom-helpers/query/isWindow.js"));e.exports=t.default},"./node_modules/dom-helpers/query/matches.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");t.__esModule=!0,t.default=function(e,t){if(!o&&i.default){var n=document.body,r=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;o=r?function(e,t){return r.call(e,t)}:s}return o?o(e,t):null};var o,i=r(n("./node_modules/dom-helpers/util/inDOM.js")),a=r(n("./node_modules/dom-helpers/query/querySelectorAll.js"));function s(e,t){for(var n=(0,a.default)(e.document||e.ownerDocument,t),r=0;n[r]&&n[r]!==e;)r++;return!!n[r]}e.exports=t.default},"./node_modules/element-resize-detector/src/browser-detector.js":function(e,t,n){"use strict";var r=e.exports={};r.isIE=function(e){return(-1!==(t=navigator.userAgent.toLowerCase()).indexOf("msie")||-1!==t.indexOf("trident")||-1!==t.indexOf(" edge/"))&&(!e||e===function(){var e=3,t=document.createElement("div"),n=t.getElementsByTagName("i");do{t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e"}while(n[0]);return e>4?e:void 0}());var t},r.isLegacyOpera=function(){return!!window.opera}},"./node_modules/element-resize-detector/src/collection-utils.js":function(e,t,n){"use strict";(e.exports={}).forEach=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n]);if(r)return r}}},"./node_modules/element-resize-detector/src/detection-strategy/object.js":function(e,t,n){"use strict";var r=n("./node_modules/element-resize-detector/src/browser-detector.js");e.exports=function(e){var t=(e=e||{}).reporter,n=e.batchProcessor,o=e.stateHandler.getState;if(!t)throw new Error("Missing required dependency: reporter.");function i(t){var n=e.important?" !important; ":"; ";return(t.join(n)+n).trim()}function a(e){return o(e).object}return{makeDetectable:function(e,a,s){s||(s=a,a=e,e=null),(e=e||{}).debug,r.isIE(8)?s(a):function(a,s){var l=i(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),u=!1,c=window.getComputedStyle(a),p=a.offsetWidth,f=a.offsetHeight;function d(){function n(){if("static"===c.position){a.style.setProperty("position","relative",e.important?"important":"");var n=function(t,n,r,o){var i=r[o];"auto"!==i&&"0"!==function(e){return e.replace(/[^-\d\.]/g,"")}(i)&&(t.warn("An element that is positioned static has style."+o+"="+i+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+o+" will be set to 0. Element: ",n),n.style.setProperty(o,"0",e.important?"important":""))};n(t,a,c,"top"),n(t,a,c,"right"),n(t,a,c,"bottom"),n(t,a,c,"left")}}""!==c.position&&(n(),u=!0);var i=document.createElement("object");i.style.cssText=l,i.tabIndex=-1,i.type="text/html",i.setAttribute("aria-hidden","true"),i.onload=function(){u||n(),function e(t,n){if(!t.contentDocument){var r=o(t);return r.checkForObjectDocumentTimeoutId&&window.clearTimeout(r.checkForObjectDocumentTimeoutId),void(r.checkForObjectDocumentTimeoutId=setTimeout((function(){r.checkForObjectDocumentTimeoutId=0,e(t,n)}),100))}n(t.contentDocument)}(this,(function(e){s(a)}))},r.isIE()||(i.data="about:blank"),o(a)&&(a.appendChild(i),o(a).object=i,r.isIE()&&(i.data="about:blank"))}o(a).startSize={width:p,height:f},n?n.add(d):d()}(a,s)},addListener:function(e,t){function n(){t(e)}if(r.isIE(8))o(e).object={proxy:n},e.attachEvent("onresize",n);else{var i=a(e);if(!i)throw new Error("Element is not detectable by this strategy.");i.contentDocument.defaultView.addEventListener("resize",n)}},uninstall:function(e){if(o(e)){var t=a(e);t&&(r.isIE(8)?e.detachEvent("onresize",t.proxy):e.removeChild(t),o(e).checkForObjectDocumentTimeoutId&&window.clearTimeout(o(e).checkForObjectDocumentTimeoutId),delete o(e).object)}}}}},"./node_modules/element-resize-detector/src/detection-strategy/scroll.js":function(e,t,n){"use strict";var r=n("./node_modules/element-resize-detector/src/collection-utils.js").forEach;e.exports=function(e){var t=(e=e||{}).reporter,n=e.batchProcessor,o=e.stateHandler.getState,i=(e.stateHandler.hasState,e.idHandler);if(!n)throw new Error("Missing required dependency: batchProcessor");if(!t)throw new Error("Missing required dependency: reporter.");var a=function(){var e=document.createElement("div");e.style.cssText=l(["position: absolute","width: 1000px","height: 1000px","visibility: hidden","margin: 0","padding: 0"]);var t=document.createElement("div");t.style.cssText=l(["position: absolute","width: 500px","height: 500px","overflow: scroll","visibility: none","top: -1500px","left: -1500px","visibility: hidden","margin: 0","padding: 0"]),t.appendChild(e),document.body.insertBefore(t,document.body.firstChild);var n=500-t.clientWidth,r=500-t.clientHeight;return document.body.removeChild(t),{width:n,height:r}}();function s(e){!function(e,t,n){if(!e.getElementById(t)){var r=n+"_animation",o=n+"_animation_active",i="/* Created by the element-resize-detector library. */\n";i+="."+n+" > div::-webkit-scrollbar { "+l(["display: none"])+" }\n\n",i+="."+o+" { "+l(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+r,"animation-name: "+r])+" }\n",i+="@-webkit-keyframes "+r+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }\n",function(n,r){r=r||function(t){e.head.appendChild(t)};var o=e.createElement("style");o.innerHTML=n,o.id=t,r(o)}(i+="@keyframes "+r+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }")}}(e,"erd_scroll_detection_scrollbar_style","erd_scroll_detection_container")}function l(t){var n=e.important?" !important; ":"; ";return(t.join(n)+n).trim()}function u(e,n,r){if(e.addEventListener)e.addEventListener(n,r);else{if(!e.attachEvent)return t.error("[scroll] Don't know how to add event listeners.");e.attachEvent("on"+n,r)}}function c(e,n,r){if(e.removeEventListener)e.removeEventListener(n,r);else{if(!e.detachEvent)return t.error("[scroll] Don't know how to remove event listeners.");e.detachEvent("on"+n,r)}}function p(e){return o(e).container.childNodes[0].childNodes[0].childNodes[0]}function f(e){return o(e).container.childNodes[0].childNodes[0].childNodes[1]}return s(window.document),{makeDetectable:function(e,s,c){function d(){if(e.debug){var n=Array.prototype.slice.call(arguments);if(n.unshift(i.get(s),"Scroll: "),t.log.apply)t.log.apply(null,n);else for(var r=0;r<n.length;r++)t.log(n[r])}}function h(e){var t=o(e).container.childNodes[0],n=window.getComputedStyle(t);return!n.width||-1===n.width.indexOf("px")}function m(){var e=window.getComputedStyle(s),t={};return t.position=e.position,t.width=s.offsetWidth,t.height=s.offsetHeight,t.top=e.top,t.right=e.right,t.bottom=e.bottom,t.left=e.left,t.widthCSS=e.width,t.heightCSS=e.height,t}function y(){if(d("storeStyle invoked."),o(s)){var e=m();o(s).style=e}else d("Aborting because element has been uninstalled")}function g(e,t,n){o(e).lastWidth=t,o(e).lastHeight=n}function b(){return 2*a.width+1}function v(){return 2*a.height+1}function _(e){return e+10+b()}function w(e){return e+10+v()}function O(e,t,n){var r=p(e),o=f(e),i=_(t),a=w(n),s=function(e){return 2*e+b()}(t),l=function(e){return 2*e+v()}(n);r.scrollLeft=i,r.scrollTop=a,o.scrollLeft=s,o.scrollTop=l}function j(){var e=o(s).container;if(!e){(e=document.createElement("div")).className="erd_scroll_detection_container",e.style.cssText=l(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),o(s).container=e,function(e){e.className+=" erd_scroll_detection_container_animation_active"}(e),s.appendChild(e);var t=function(){o(s).onRendered&&o(s).onRendered()};u(e,"animationstart",t),o(s).onAnimationStart=t}return e}function S(){if(d("Injecting elements"),o(s)){!function(){var n=o(s).style;if("static"===n.position){s.style.setProperty("position","relative",e.important?"important":"");var r=function(e,t,n,r){var o=n[r];"auto"!==o&&"0"!==function(e){return e.replace(/[^-\d\.]/g,"")}(o)&&(e.warn("An element that is positioned static has style."+r+"="+o+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+r+" will be set to 0. Element: ",t),t.style[r]=0)};r(t,s,n,"top"),r(t,s,n,"right"),r(t,s,n,"bottom"),r(t,s,n,"left")}}();var n=o(s).container;n||(n=j());var r,i,c,p,f=a.width,h=a.height,m=l(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),y=l(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(["left: "+(r=(r=-(1+f))?r+"px":"0"),"top: "+(i=(i=-(1+h))?i+"px":"0"),"right: "+(p=(p=-f)?p+"px":"0"),"bottom: "+(c=(c=-h)?c+"px":"0")])),g=l(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),b=l(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),v=l(["position: absolute","left: 0","top: 0"]),_=l(["position: absolute","width: 200%","height: 200%"]),w=document.createElement("div"),O=document.createElement("div"),S=document.createElement("div"),E=document.createElement("div"),x=document.createElement("div"),P=document.createElement("div");w.dir="ltr",w.style.cssText=m,w.className="erd_scroll_detection_container",O.className="erd_scroll_detection_container",O.style.cssText=y,S.style.cssText=g,E.style.cssText=v,x.style.cssText=b,P.style.cssText=_,S.appendChild(E),x.appendChild(P),O.appendChild(S),O.appendChild(x),w.appendChild(O),n.appendChild(w),u(S,"scroll",M),u(x,"scroll",L),o(s).onExpandScroll=M,o(s).onShrinkScroll=L}else d("Aborting because element has been uninstalled");function M(){o(s).onExpand&&o(s).onExpand()}function L(){o(s).onShrink&&o(s).onShrink()}}function E(){function a(t,n,r){var o=function(e){return p(e).childNodes[0]}(t),i=_(n),a=w(r);o.style.setProperty("width",i+"px",e.important?"important":""),o.style.setProperty("height",a+"px",e.important?"important":"")}function l(r){var l=s.offsetWidth,c=s.offsetHeight,p=l!==o(s).lastWidth||c!==o(s).lastHeight;d("Storing current size",l,c),g(s,l,c),n.add(0,(function(){if(p)if(o(s))if(u()){if(e.debug){var n=s.offsetWidth,r=s.offsetHeight;n===l&&r===c||t.warn(i.get(s),"Scroll: Size changed before updating detector elements.")}a(s,l,c)}else d("Aborting because element container has not been initialized");else d("Aborting because element has been uninstalled")})),n.add(1,(function(){o(s)?u()?O(s,l,c):d("Aborting because element container has not been initialized"):d("Aborting because element has been uninstalled")})),p&&r&&n.add(2,(function(){o(s)?u()?r():d("Aborting because element container has not been initialized"):d("Aborting because element has been uninstalled")}))}function u(){return!!o(s).container}function c(){d("notifyListenersIfNeeded invoked");var e=o(s);return void 0===o(s).lastNotifiedWidth&&e.lastWidth===e.startSize.width&&e.lastHeight===e.startSize.height?d("Not notifying: Size is the same as the start size, and there has been no notification yet."):e.lastWidth===e.lastNotifiedWidth&&e.lastHeight===e.lastNotifiedHeight?d("Not notifying: Size already notified"):(d("Current size not notified, notifying..."),e.lastNotifiedWidth=e.lastWidth,e.lastNotifiedHeight=e.lastHeight,void r(o(s).listeners,(function(e){e(s)})))}function m(){d("Scroll detected."),h(s)?d("Scroll event fired while unrendered. Ignoring..."):l(c)}if(d("registerListenersAndPositionElements invoked."),o(s)){o(s).onRendered=function(){if(d("startanimation triggered."),h(s))d("Ignoring since element is still unrendered...");else{d("Element rendered.");var e=p(s),t=f(s);0!==e.scrollLeft&&0!==e.scrollTop&&0!==t.scrollLeft&&0!==t.scrollTop||(d("Scrollbars out of sync. Updating detector elements..."),l(c))}},o(s).onExpand=m,o(s).onShrink=m;var y=o(s).style;a(s,y.width,y.height)}else d("Aborting because element has been uninstalled")}function x(){if(d("finalizeDomMutation invoked."),o(s)){var e=o(s).style;g(s,e.width,e.height),O(s,e.width,e.height)}else d("Aborting because element has been uninstalled")}function P(){c(s)}function M(){var e;d("Installing..."),o(s).listeners=[],e=m(),o(s).startSize={width:e.width,height:e.height},d("Element start size",o(s).startSize),n.add(0,y),n.add(1,S),n.add(2,E),n.add(3,x),n.add(4,P)}c||(c=s,s=e,e=null),e=e||{},d("Making detectable..."),!function(e){return!function(e){return e===e.ownerDocument.body||e.ownerDocument.body.contains(e)}(e)||null===window.getComputedStyle(e)}(s)?M():(d("Element is detached"),j(),d("Waiting until element is attached..."),o(s).onRendered=function(){d("Element is now attached"),M()})},addListener:function(e,t){if(!o(e).listeners.push)throw new Error("Cannot add listener to an element that is not detectable.");o(e).listeners.push(t)},uninstall:function(e){var t=o(e);t&&(t.onExpandScroll&&c(p(e),"scroll",t.onExpandScroll),t.onShrinkScroll&&c(f(e),"scroll",t.onShrinkScroll),t.onAnimationStart&&c(t.container,"animationstart",t.onAnimationStart),t.container&&e.removeChild(t.container))},initDocument:s}}},"./node_modules/element-resize-detector/src/element-resize-detector.js":function(e,t,n){"use strict";var r=n("./node_modules/element-resize-detector/src/collection-utils.js").forEach,o=n("./node_modules/element-resize-detector/src/element-utils.js"),i=n("./node_modules/element-resize-detector/src/listener-handler.js"),a=n("./node_modules/element-resize-detector/src/id-generator.js"),s=n("./node_modules/element-resize-detector/src/id-handler.js"),l=n("./node_modules/element-resize-detector/src/reporter.js"),u=n("./node_modules/element-resize-detector/src/browser-detector.js"),c=n("./node_modules/batch-processor/src/batch-processor.js"),p=n("./node_modules/element-resize-detector/src/state-handler.js"),f=n("./node_modules/element-resize-detector/src/detection-strategy/object.js"),d=n("./node_modules/element-resize-detector/src/detection-strategy/scroll.js");function h(e){return Array.isArray(e)||void 0!==e.length}function m(e){if(Array.isArray(e))return e;var t=[];return r(e,(function(e){t.push(e)})),t}function y(e){return e&&1===e.nodeType}function g(e,t,n){var r=e[t];return null==r&&void 0!==n?n:r}e.exports=function(e){var t;if((e=e||{}).idHandler)t={get:function(t){return e.idHandler.get(t,!0)},set:e.idHandler.set};else{var n=a(),b=s({idGenerator:n,stateHandler:p});t=b}var v=e.reporter;v||(v=l(!1===v));var _=g(e,"batchProcessor",c({reporter:v})),w={};w.callOnAdd=!!g(e,"callOnAdd",!0),w.debug=!!g(e,"debug",!1);var O,j=i(t),S=o({stateHandler:p}),E=g(e,"strategy","object"),x=g(e,"important",!1),P={reporter:v,batchProcessor:_,stateHandler:p,idHandler:t,important:x};if("scroll"===E&&(u.isLegacyOpera()?(v.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),E="object"):u.isIE(9)&&(v.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),E="object")),"scroll"===E)O=d(P);else{if("object"!==E)throw new Error("Invalid strategy name: "+E);O=f(P)}var M={};return{listenTo:function(e,n,o){function i(e){var t=j.get(e);r(t,(function(t){t(e)}))}function a(e,t,n){j.add(t,n),e&&n(t)}if(o||(o=n,n=e,e={}),!n)throw new Error("At least one element required.");if(!o)throw new Error("Listener required.");if(y(n))n=[n];else{if(!h(n))return v.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");n=m(n)}var s=0,l=g(e,"callOnAdd",w.callOnAdd),u=g(e,"onReady",(function(){})),c=g(e,"debug",w.debug);r(n,(function(e){p.getState(e)||(p.initState(e),t.set(e));var f=t.get(e);if(c&&v.log("Attaching listener to element",f,e),!S.isDetectable(e))return c&&v.log(f,"Not detectable."),S.isBusy(e)?(c&&v.log(f,"System busy making it detectable"),a(l,e,o),M[f]=M[f]||[],void M[f].push((function(){++s===n.length&&u()}))):(c&&v.log(f,"Making detectable..."),S.markBusy(e,!0),O.makeDetectable({debug:c,important:x},e,(function(e){if(c&&v.log(f,"onElementDetectable"),p.getState(e)){S.markAsDetectable(e),S.markBusy(e,!1),O.addListener(e,i),a(l,e,o);var t=p.getState(e);if(t&&t.startSize){var d=e.offsetWidth,h=e.offsetHeight;t.startSize.width===d&&t.startSize.height===h||i(e)}M[f]&&r(M[f],(function(e){e()}))}else c&&v.log(f,"Element uninstalled before being detectable.");delete M[f],++s===n.length&&u()})));c&&v.log(f,"Already detecable, adding listener."),a(l,e,o),s++})),s===n.length&&u()},removeListener:j.removeListener,removeAllListeners:j.removeAllListeners,uninstall:function(e){if(!e)return v.error("At least one element is required.");if(y(e))e=[e];else{if(!h(e))return v.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");e=m(e)}r(e,(function(e){j.removeAllListeners(e),O.uninstall(e),p.cleanState(e)}))},initDocument:function(e){O.initDocument&&O.initDocument(e)}}}},"./node_modules/element-resize-detector/src/element-utils.js":function(e,t,n){"use strict";e.exports=function(e){var t=e.stateHandler.getState;return{isDetectable:function(e){var n=t(e);return n&&!!n.isDetectable},markAsDetectable:function(e){t(e).isDetectable=!0},isBusy:function(e){return!!t(e).busy},markBusy:function(e,n){t(e).busy=!!n}}}},"./node_modules/element-resize-detector/src/id-generator.js":function(e,t,n){"use strict";e.exports=function(){var e=1;return{generate:function(){return e++}}}},"./node_modules/element-resize-detector/src/id-handler.js":function(e,t,n){"use strict";e.exports=function(e){var t=e.idGenerator,n=e.stateHandler.getState;return{get:function(e){var t=n(e);return t&&void 0!==t.id?t.id:null},set:function(e){var r=n(e);if(!r)throw new Error("setId required the element to have a resize detection state.");var o=t.generate();return r.id=o,o}}}},"./node_modules/element-resize-detector/src/listener-handler.js":function(e,t,n){"use strict";e.exports=function(e){var t={};function n(n){var r=e.get(n);return void 0===r?[]:t[r]||[]}return{get:n,add:function(n,r){var o=e.get(n);t[o]||(t[o]=[]),t[o].push(r)},removeListener:function(e,t){for(var r=n(e),o=0,i=r.length;o<i;++o)if(r[o]===t){r.splice(o,1);break}},removeAllListeners:function(e){var t=n(e);t&&(t.length=0)}}}},"./node_modules/element-resize-detector/src/reporter.js":function(e,t,n){"use strict";e.exports=function(e){function t(){}var n={log:t,warn:t,error:t};if(!e&&window.console){var r=function(e,t){e[t]=function(){var e=console[t];if(e.apply)e.apply(console,arguments);else for(var n=0;n<arguments.length;n++)e(arguments[n])}};r(n,"log"),r(n,"warn"),r(n,"error")}return n}},"./node_modules/element-resize-detector/src/state-handler.js":function(e,t,n){"use strict";function r(e){return e._erd}e.exports={initState:function(e){return e._erd={},r(e)},getState:r,cleanState:function(e){delete e._erd}}},"./node_modules/eventlistener/eventlistener.js":function(e,t,n){var r,o;void 0===(o="function"==typeof(r=function(){function e(e,t){return function(n,r,o,i){n[e]?n[e](r,o,i):n[t]&&n[t]("on"+r,o)}}return{add:e("addEventListener","attachEvent"),remove:e("removeEventListener","detachEvent")}})?r.call(t,n,t,e):r)||(e.exports=o)},"./node_modules/geojson-equality/index.js":function(e,t,n){var r=n("./node_modules/deep-equal/index.js"),o=function(e){this.precision=e&&e.precision?e.precision:17,this.direction=!(!e||!e.direction)&&e.direction,this.pseudoNode=!(!e||!e.pseudoNode)&&e.pseudoNode,this.objectComparator=e&&e.objectComparator?e.objectComparator:s};function i(e){return e.coordinates.map((function(t){return{type:e.type.replace("Multi",""),coordinates:t}}))}function a(e,t){return e.hasOwnProperty("coordinates")?e.coordinates.length===t.coordinates.length:e.length===t.length}function s(e,t){return r(e,t,{strict:!0})}o.prototype.compare=function(e,t){if(e.type!==t.type||!a(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates,0,!1);case"Polygon":return this.comparePolygon(e,t);case"Feature":return this.compareFeature(e,t);default:if(0===e.type.indexOf("Multi")){var n=this,r=i(e),o=i(t);return r.every((function(e){return this.some((function(t){return n.compare(e,t)}))}),o)}}return!1},o.prototype.compareCoord=function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n].toFixed(this.precision)!==t[n].toFixed(this.precision))return!1;return!0},o.prototype.compareLine=function(e,t,n,r){if(!a(e,t))return!1;var o=this.pseudoNode?e:this.removePseudo(e),i=this.pseudoNode?t:this.removePseudo(t);if(!r||this.compareCoord(o[0],i[0])||(i=this.fixStartIndex(i,o))){var s=this.compareCoord(o[n],i[n]);return this.direction||s?this.comparePath(o,i):!!this.compareCoord(o[n],i[i.length-(1+n)])&&this.comparePath(o.slice().reverse(),i)}},o.prototype.fixStartIndex=function(e,t){for(var n,r=-1,o=0;o<e.length;o++)if(this.compareCoord(e[o],t[0])){r=o;break}return r>=0&&(n=[].concat(e.slice(r,e.length),e.slice(1,r+1))),n},o.prototype.comparePath=function(e,t){var n=this;return e.every((function(e,t){return n.compareCoord(e,this[t])}),t)},o.prototype.comparePolygon=function(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){var n=e.coordinates.slice(1,e.coordinates.length),r=t.coordinates.slice(1,t.coordinates.length),o=this;return n.every((function(e){return this.some((function(t){return o.compareLine(e,t,1,!0)}))}),r)}return!1},o.prototype.compareFeature=function(e,t){return!(e.id!==t.id||!this.objectComparator(e.properties,t.properties)||!this.compareBBox(e,t))&&this.compare(e.geometry,t.geometry)},o.prototype.compareBBox=function(e,t){return!!(!e.bbox&&!t.bbox||e.bbox&&t.bbox&&this.compareCoord(e.bbox,t.bbox))},o.prototype.removePseudo=function(e){return e},e.exports=o},"./node_modules/gud/index.js":function(e,t,n){"use strict";(function(t){var n="__global_unique_id__";e.exports=function(){return t[n]=(t[n]||0)+1}}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/leaflet-draw/dist/leaflet.draw.js":function(e,t){var n,r;n=window,r=document,L.drawVersion="1.0.2",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker",circlemarker:"Draw a circlemarker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},circlemarker:{tooltip:{start:"Click map to place circle marker."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discards all changes",text:"Cancel"},clearAll:{title:"Clear all layers",text:"Clear All"}},buttons:{edit:"Edit layers",editDisabled:"No layers to edit",remove:"Delete layers",removeDisabled:"No layers to delete"}},handlers:{edit:{tooltip:{text:"Drag handles or markers to edit features.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove."}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Draw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITVERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw.Event.TOOLBAROPENED="draw:toolbaropened",L.Draw.Event.TOOLBARCLOSED="draw:toolbarclosed",L.Draw.Event.MARKERCONTEXT="draw:markercontext",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({initialize:function(e,t){this._map=e,this._container=e._container,this._overlayPane=e._panes.overlayPane,this._popupPane=e._panes.popupPane,t&&t.shapeOptions&&(t.shapeOptions=L.Util.extend({},this.options.shapeOptions,t.shapeOptions)),L.setOptions(this,t);var n=L.version.split(".");1===parseInt(n[0],10)&&parseInt(n[1],10)>=2?L.Draw.Feature.include(L.Evented.prototype):L.Draw.Feature.include(L.Mixin.Events)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var e=this._map;e&&(L.DomUtil.disableTextSelection(),e.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(e){L.setOptions(this,e)},_fireCreatedEvent:function(e){this._map.fire(L.Draw.Event.CREATED,{layer:e,layerType:this.type})},_cancelDrawing:function(e){27===e.keyCode&&(this._map.fire("draw:canceled",{layerType:this.type}),this.disable())}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2e3,factor:1,maxPoints:0},initialize:function(e,t){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,t&&t.drawError&&(t.drawError=L.Util.extend({},this.options.drawError,t.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,e,t)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var e=this._markers.pop(),t=this._poly,n=t.getLatLngs(),r=n.splice(-1,1)[0];this._poly.setLatLngs(n),this._markerGroup.removeLayer(e),t.getLatLngs().length<2&&this._map.removeLayer(t),this._vertexChanged(r,!1)}},addVertex:function(e){this._markers.length>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(e)?this._showErrorTooltip():(this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(e)),this._poly.addLatLng(e),2===this._poly.getLatLngs().length&&this._map.addLayer(this._poly),this._vertexChanged(e,!0))},completeShape:function(){this._markers.length<=1||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var e=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),t=this._poly.newLatLngIntersects(e[e.length-1]);!this.options.allowIntersection&&t||!this._shapeIsValid()?this._showErrorTooltip():(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_shapeIsValid:function(){return!0},_onZoomEnd:function(){null!==this._markers&&this._updateGuide()},_onMouseMove:function(e){var t=this._map.mouseEventToLayerPoint(e.originalEvent),n=this._map.layerPointToLatLng(t);this._currentLatLng=n,this._updateTooltip(n),this._updateGuide(t),this._mouseMarker.setLatLng(n),L.DomEvent.preventDefault(e.originalEvent)},_vertexChanged:function(e,t){this._map.fire(L.Draw.Event.DRAWVERTEX,{layers:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(e,t),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(e){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(e),this._clickHandled=!0,this._disableNewMarkers();var t=e.originalEvent,n=t.clientX,r=t.clientY;this._startPoint.call(this,n,r)}},_startPoint:function(e,t){this._mouseDownOrigin=L.point(e,t)},_onMouseUp:function(e){var t=e.originalEvent,n=t.clientX,r=t.clientY;this._endPoint.call(this,n,r,e),this._clickHandled=null},_endPoint:function(e,t,r){if(this._mouseDownOrigin){var o=L.point(e,t).distanceTo(this._mouseDownOrigin),i=this._calculateFinishDistance(r.latlng);this.options.maxPoints>1&&this.options.maxPoints==this._markers.length+1?(this.addVertex(r.latlng),this._finishShape()):i<10&&L.Browser.touch?this._finishShape():Math.abs(o)<9*(n.devicePixelRatio||1)&&this.addVertex(r.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(e){var t,n,r=e.originalEvent;!r.touches||!r.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(t=r.touches[0].clientX,n=r.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,t,n),this._endPoint.call(this,t,n,e),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(e){var t;if(this._markers.length>0){var n;if(this.type===L.Draw.Polyline.TYPE)n=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;n=this._markers[0]}var r=this._map.latLngToContainerPoint(n.getLatLng()),o=new L.Marker(e,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),i=this._map.latLngToContainerPoint(o.getLatLng());t=r.distanceTo(i)}else t=1/0;return t},_updateFinishHandler:function(){var e=this._markers.length;e>1&&this._markers[e-1].on("click",this._finishShape,this),e>2&&this._markers[e-2].off("click",this._finishShape,this)},_createMarker:function(e){var t=new L.Marker(e,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(t),t},_updateGuide:function(e){var t=this._markers?this._markers.length:0;t>0&&(e=e||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[t-1].getLatLng()),e))},_updateTooltip:function(e){var t=this._getTooltipText();e&&this._tooltip.updatePosition(e),this._errorShown||this._tooltip.updateContent(t)},_drawGuide:function(e,t){var n,r,o,i=Math.floor(Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))),a=this.options.guidelineDistance,s=this.options.maxGuideLineLength,l=i>s?i-s:a;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));l<i;l+=this.options.guidelineDistance)n=l/i,r={x:Math.floor(e.x*(1-n)+n*t.x),y:Math.floor(e.y*(1-n)+n*t.y)},(o=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer)).style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(o,r)},_updateGuideColor:function(e){if(this._guidesContainer)for(var t=0,n=this._guidesContainer.childNodes.length;t<n;t++)this._guidesContainer.childNodes[t].style.backgroundColor=e},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var e,t,n=this.options.showLength;return 0===this._markers.length?e={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(t=n?this._getMeasurementString():"",e=1===this._markers.length?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:t}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:t}),e},_updateRunningMeasure:function(e,t){var n,r,o=this._markers.length;1===this._markers.length?this._measurementRunningTotal=0:(n=o-(t?2:1),r=L.GeometryUtil.isVersion07x()?e.distanceTo(this._markers[n].getLatLng())*(this.options.factor||1):this._map.distance(e,this._markers[n].getLatLng())*(this.options.factor||1),this._measurementRunningTotal+=r*(t?1:-1))},_getMeasurementString:function(){var e,t=this._currentLatLng,n=this._markers[this._markers.length-1].getLatLng();return e=L.GeometryUtil.isVersion07x()?n&&t&&t.distanceTo?this._measurementRunningTotal+t.distanceTo(n)*(this.options.factor||1):this._measurementRunningTotal||0:n&&t?this._measurementRunningTotal+this._map.distance(t,n)*(this.options.factor||1):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(e,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout(function(){this._disableMarkers=!1}.bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var e=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,e)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(e,t){L.Draw.Polyline.prototype.initialize.call(this,e,t),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var e=this._markers.length;1===e&&this._markers[0].on("click",this._finishShape,this),e>2&&(this._markers[e-1].on("dblclick",this._finishShape,this),e>3&&this._markers[e-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var e,t;return 0===this._markers.length?e=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?(e=L.drawLocal.draw.handlers.polygon.tooltip.cont,t=this._getMeasurementString()):(e=L.drawLocal.draw.handlers.polygon.tooltip.end,t=this._getMeasurementString()),{text:e,subtext:t}},_getMeasurementString:function(){var e=this._area,t="";return e||this.options.showLength?(this.options.showLength&&(t=L.Draw.Polyline.prototype._getMeasurementString.call(this)),e&&(t+="<br>"+L.GeometryUtil.readableArea(e,this.options.metric,this.options.precision)),t):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(e,t){var n;!this.options.allowIntersection&&this.options.showArea&&(n=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(n)),L.Draw.Polyline.prototype._vertexChanged.call(this,e,t)},_cleanUpShape:function(){var e=this._markers.length;e>0&&(this._markers[0].off("click",this._finishShape,this),e>2&&this._markers[e-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(e,t){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,e,t)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this),r.addEventListener("touchstart",L.DomEvent.preventDefault,{passive:!1}))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(r,"mouseup",this._onMouseUp,this),L.DomEvent.off(r,"touchend",this._onMouseUp,this),r.removeEventListener("touchstart",L.DomEvent.preventDefault),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(e){this._isDrawing=!0,this._startLatLng=e.latlng,L.DomEvent.on(r,"mouseup",this._onMouseUp,this).on(r,"touchend",this._onMouseUp,this).preventDefault(e.originalEvent)},_onMouseMove:function(e){var t=e.latlng;this._tooltip.updatePosition(t),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(t))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,showArea:!0,clickable:!0},metric:!0},initialize:function(e,t){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,e,t)},disable:function(){this._enabled&&(this._isCurrentlyTwoClickDrawing=!1,L.Draw.SimpleShape.prototype.disable.call(this))},_onMouseUp:function(e){this._shape||this._isCurrentlyTwoClickDrawing?this._isCurrentlyTwoClickDrawing&&!function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e}(e.target,"leaflet-pane")||L.Draw.SimpleShape.prototype._onMouseUp.call(this):this._isCurrentlyTwoClickDrawing=!0},_drawShape:function(e){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,e)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,e),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var e=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,e)},_getTooltipText:function(){var e,t,n,r=L.Draw.SimpleShape.prototype._getTooltipText.call(this),o=this._shape,i=this.options.showArea;return o&&(e=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),t=L.GeometryUtil.geodesicArea(e),n=i?L.GeometryUtil.readableArea(t,this.options.metric):""),{text:r.text,subtext:n}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(e,t){this.type=L.Draw.Marker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.marker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,e,t)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:this._initialLabelText}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._map.off("click",this._onClick,this).off("click",this._onTouch,this),this._marker&&(this._marker.off("click",this._onClick,this),this._map.removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(e){var t=e.latlng;this._tooltip.updatePosition(t),this._mouseMarker.setLatLng(t),this._marker?(t=this._mouseMarker.getLatLng(),this._marker.setLatLng(t)):(this._marker=this._createMarker(t),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_createMarker:function(e){return new L.Marker(e,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset})},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_onTouch:function(e){this._onMouseMove(e),this._onClick()},_fireCreatedEvent:function(){var e=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,e)}}),L.Draw.CircleMarker=L.Draw.Marker.extend({statics:{TYPE:"circlemarker"},options:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0,zIndexOffset:2e3},initialize:function(e,t){this.type=L.Draw.CircleMarker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circlemarker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,e,t)},_fireCreatedEvent:function(){var e=new L.CircleMarker(this._marker.getLatLng(),this.options);L.Draw.Feature.prototype._fireCreatedEvent.call(this,e)},_createMarker:function(e){return new L.CircleMarker(e,this.options)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(e,t){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,e,t)},_drawShape:function(e){if(L.GeometryUtil.isVersion07x())var t=this._startLatLng.distanceTo(e);else t=this._map.distance(this._startLatLng,e);this._shape?this._shape.setRadius(t):(this._shape=new L.Circle(this._startLatLng,t,this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var e=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,e)},_onMouseMove:function(e){var t,n=e.latlng,r=this.options.showRadius,o=this.options.metric;if(this._tooltip.updatePosition(n),this._isDrawing){this._drawShape(n),t=this._shape.getRadius().toFixed(1);var i="";r&&(i=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(t,o,this.options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:i})}}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(e,t){this._marker=e,L.setOptions(this,t)},addHooks:function(){var e=this._marker;e.dragging.enable(),e.on("dragend",this._onDragEnd,e),this._toggleMarkerHighlight()},removeHooks:function(){var e=this._marker;e.dragging.disable(),e.off("dragend",this._onDragEnd,e),this._toggleMarkerHighlight()},_onDragEnd:function(e){var t=e.target;t.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:t})},_toggleMarkerHighlight:function(){var e=this._marker._icon;e&&(e.style.display="none",L.DomUtil.hasClass(e,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(e,"leaflet-edit-marker-selected"),this._offsetMarker(e,-4)):(L.DomUtil.addClass(e,"leaflet-edit-marker-selected"),this._offsetMarker(e,4)),e.style.display="")},_offsetMarker:function(e,t){var n=parseInt(e.style.marginTop,10)-t,r=parseInt(e.style.marginLeft,10)-t;e.style.marginTop=n+"px",e.style.marginLeft=r+"px"}}),L.Marker.addInitHook((function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())})),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({initialize:function(e){this.latlngs=[e._latlngs],e._holes&&(this.latlngs=this.latlngs.concat(e._holes)),this._poly=e,this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(e){for(var t=0;t<this._verticesHandlers.length;t++)e(this._verticesHandlers[t])},addHooks:function(){this._initHandlers(),this._eachVertexHandler((function(e){e.addHooks()}))},removeHooks:function(){this._eachVertexHandler((function(e){e.removeHooks()}))},updateMarkers:function(){this._eachVertexHandler((function(e){e.updateMarkers()}))},_initHandlers:function(){this._verticesHandlers=[];for(var e=0;e<this.latlngs.length;e++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[e],this._poly.options.poly))},_updateLatLngs:function(e){this.latlngs=[e.layer._latlngs],e.layer._holes&&(this.latlngs=this.latlngs.concat(e.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1e3}},initialize:function(e,t,n){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=e,n&&n.drawError&&(n.drawError=L.Util.extend({},this.options.drawError,n.drawError)),this._latlngs=t,L.setOptions(this,n)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var e=this._poly,t=e._path;e instanceof L.Polygon||(e.options.fill=!1,e.options.editing&&(e.options.editing.fill=!1)),t&&e.options.editing.className&&(e.options.original.className&&e.options.original.className.split(" ").forEach((function(e){L.DomUtil.removeClass(t,e)})),e.options.editing.className.split(" ").forEach((function(e){L.DomUtil.addClass(t,e)}))),e.setStyle(e.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var e=this._poly,t=e._path;t&&e.options.editing.className&&(e.options.editing.className.split(" ").forEach((function(e){L.DomUtil.removeClass(t,e)})),e.options.original.className&&e.options.original.className.split(" ").forEach((function(e){L.DomUtil.addClass(t,e)}))),e.setStyle(e.options.original),e._map&&(e._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var e,t,n,r,o,i,a=this._defaultShape();for(e=0,n=a.length;e<n;e++)(r=this._createMarker(a[e],e)).on("click",this._onMarkerClick,this),r.on("contextmenu",this._onContextMenu,this),this._markers.push(r);for(e=0,t=n-1;e<n;t=e++)(0!==e||L.Polygon&&this._poly instanceof L.Polygon)&&(o=this._markers[t],i=this._markers[e],this._createMiddleMarker(o,i),this._updatePrevNext(o,i))},_createMarker:function(e,t){var n=new L.Marker.Touch(e,{draggable:!0,icon:this.options.icon});return n._origLatLng=e,n._index=t,n.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(n),n},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var e=this._defaultShape(),t=[].splice.apply(e,arguments);return this._poly._convertLatLngs(e,!0),this._poly.redraw(),t},_removeMarker:function(e){var t=e._index;this._markerGroup.removeLayer(e),this._markers.splice(t,1),this._spliceLatLngs(t,1),this._updateIndexes(t,-1),e.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(e){var t=e.target,n=this._poly;if(L.extend(t._origLatLng,t._latlng),t._middleLeft&&t._middleLeft.setLatLng(this._getMiddleLatLng(t._prev,t)),t._middleRight&&t._middleRight.setLatLng(this._getMiddleLatLng(t,t._next)),n.options.poly){var r=n._map._editTooltip;if(!n.options.poly.allowIntersection&&n.intersects()){var o=n.options.color;n.setStyle({color:this.options.drawError.color}),0!==L.version.indexOf("0.7")&&t.dragging._draggable._onUp(e),this._onMarkerClick(e),r&&r.updateContent({text:L.drawLocal.draw.handlers.polyline.error}),setTimeout((function(){n.setStyle({color:o}),r&&r.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})}),1e3)}}this._poly._bounds._southWest=L.latLng(1/0,1/0),this._poly._bounds._northEast=L.latLng(-1/0,-1/0);var i=this._poly.getLatLngs();this._poly._convertLatLngs(i,!0),this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(e){var t=L.Polygon&&this._poly instanceof L.Polygon?4:3,n=e.target;this._defaultShape().length<t||(this._removeMarker(n),this._updatePrevNext(n._prev,n._next),n._middleLeft&&this._markerGroup.removeLayer(n._middleLeft),n._middleRight&&this._markerGroup.removeLayer(n._middleRight),n._prev&&n._next?this._createMiddleMarker(n._prev,n._next):n._prev?n._next||(n._prev._middleRight=null):n._next._middleLeft=null,this._fireEdit())},_onContextMenu:function(e){var t=e.target;this._poly,this._poly._map.fire(L.Draw.Event.MARKERCONTEXT,{marker:t,layers:this._markerGroup,poly:this._poly}),L.DomEvent.stopPropagation},_onTouchMove:function(e){var t=this._map.mouseEventToLayerPoint(e.originalEvent.touches[0]),n=this._map.layerPointToLatLng(t),r=e.target;L.extend(r._origLatLng,n),r._middleLeft&&r._middleLeft.setLatLng(this._getMiddleLatLng(r._prev,r)),r._middleRight&&r._middleRight.setLatLng(this._getMiddleLatLng(r,r._next)),this._poly.redraw(),this.updateMarkers()},_updateIndexes:function(e,t){this._markerGroup.eachLayer((function(n){n._index>e&&(n._index+=t)}))},_createMiddleMarker:function(e,t){var n,r,o,i=this._getMiddleLatLng(e,t),a=this._createMarker(i);a.setOpacity(.6),e._middleRight=t._middleLeft=a,r=function(){a.off("touchmove",r,this);var o=t._index;a._index=o,a.off("click",n,this).on("click",this._onMarkerClick,this),i.lat=a.getLatLng().lat,i.lng=a.getLatLng().lng,this._spliceLatLngs(o,0,i),this._markers.splice(o,0,a),a.setOpacity(1),this._updateIndexes(o,1),t._index++,this._updatePrevNext(e,a),this._updatePrevNext(a,t),this._poly.fire("editstart")},o=function(){a.off("dragstart",r,this),a.off("dragend",o,this),a.off("touchmove",r,this),this._createMiddleMarker(e,a),this._createMiddleMarker(a,t)},n=function(){r.call(this),o.call(this),this._fireEdit()},a.on("click",n,this).on("dragstart",r,this).on("dragend",o,this).on("touchmove",r,this),this._markerGroup.addLayer(a)},_updatePrevNext:function(e,t){e&&(e._next=t),t&&(t._prev=e)},_getMiddleLatLng:function(e,t){var n=this._poly._map,r=n.project(e.getLatLng()),o=n.project(t.getLatLng());return n.unproject(r._add(o)._divideBy(2))}}),L.Polyline.addInitHook((function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",(function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()})),this.on("remove",(function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})))})),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(e,t){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=e,L.Util.setOptions(this,t)},addHooks:function(){var e=this._shape;this._shape._map&&(this._map=this._shape._map,e.setStyle(e.options.editing),e._map&&(this._map=e._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var e=this._shape;if(e.setStyle(e.options.original),e._map){this._unbindMarker(this._moveMarker);for(var t=0,n=this._resizeMarkers.length;t<n;t++)this._unbindMarker(this._resizeMarkers[t]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(e,t){var n=new L.Marker.Touch(e,{draggable:!0,icon:t,zIndexOffset:10});return this._bindMarker(n),this._markerGroup.addLayer(n),n},_bindMarker:function(e){e.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(e){e.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(e){e.target.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(e){var t=e.target,n=t.getLatLng();t===this._moveMarker?this._move(n):this._resize(n),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(e){e.target.setOpacity(1),this._fireEdit()},_onTouchStart:function(e){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,e),"function"==typeof this._getCorners){var t=this._getCorners(),n=e.target,r=n._cornerIndex;n.setOpacity(0),this._oppositeCorner=t[(r+2)%4],this._toggleCornerMarkers(0,r)}this._shape.fire("editstart")},_onTouchMove:function(e){var t=this._map.mouseEventToLayerPoint(e.originalEvent.touches[0]),n=this._map.layerPointToLatLng(t);return e.target===this._moveMarker?this._move(n):this._resize(n),this._shape.redraw(),!1},_onTouchEnd:function(e){e.target.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var e=this._shape.getBounds().getCenter();this._moveMarker=this._createMarker(e,this.options.moveIcon)},_createResizeMarker:function(){var e=this._getCorners();this._resizeMarkers=[];for(var t=0,n=e.length;t<n;t++)this._resizeMarkers.push(this._createMarker(e[t],this.options.resizeIcon)),this._resizeMarkers[t]._cornerIndex=t},_onMarkerDragStart:function(e){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,e);var t=this._getCorners(),n=e.target._cornerIndex;this._oppositeCorner=t[(n+2)%4],this._toggleCornerMarkers(0,n)},_onMarkerDragEnd:function(e){var t,n=e.target;n===this._moveMarker&&(t=this._shape.getBounds().getCenter(),n.setLatLng(t)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,e)},_move:function(e){for(var t,n=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),r=this._shape.getBounds().getCenter(),o=[],i=0,a=n.length;i<a;i++)t=[n[i].lat-r.lat,n[i].lng-r.lng],o.push([e.lat+t[0],e.lng+t[1]]);this._shape.setLatLngs(o),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(e){var t;this._shape.setBounds(L.latLngBounds(e,this._oppositeCorner)),t=this._shape.getBounds(),this._moveMarker.setLatLng(t.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var e=this._shape.getBounds();return[e.getNorthWest(),e.getNorthEast(),e.getSouthEast(),e.getSouthWest()]},_toggleCornerMarkers:function(e){for(var t=0,n=this._resizeMarkers.length;t<n;t++)this._resizeMarkers[t].setOpacity(e)},_repositionCornerMarkers:function(){for(var e=this._getCorners(),t=0,n=this._resizeMarkers.length;t<n;t++)this._resizeMarkers[t].setLatLng(e[t])}}),L.Rectangle.addInitHook((function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())})),L.Edit=L.Edit||{},L.Edit.CircleMarker=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var e=this._shape.getLatLng();this._moveMarker=this._createMarker(e,this.options.moveIcon)},_createResizeMarker:function(){this._resizeMarkers=[]},_move:function(e){if(this._resizeMarkers.length){var t=this._getResizeMarkerPoint(e);this._resizeMarkers[0].setLatLng(t)}this._shape.setLatLng(e),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})}}),L.CircleMarker.addInitHook((function(){L.Edit.CircleMarker&&(this.editing=new L.Edit.CircleMarker(this),this.options.editable&&this.editing.enable()),this.on("add",(function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()})),this.on("remove",(function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))})),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.CircleMarker.extend({_createResizeMarker:function(){var e=this._shape.getLatLng(),t=this._getResizeMarkerPoint(e);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(t,this.options.resizeIcon))},_getResizeMarkerPoint:function(e){var t=this._shape._radius*Math.cos(Math.PI/4),n=this._map.project(e);return this._map.unproject([n.x+t,n.y-t])},_resize:function(e){var t=this._moveMarker.getLatLng();L.GeometryUtil.isVersion07x()?radius=t.distanceTo(e):radius=this._map.distance(t,e),this._shape.setRadius(radius),this._map.editTooltip&&this._map._editTooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.subtext+"<br />"+L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(radius,!0,this.options.feet,this.options.nautic)}),this._shape.setRadius(radius),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook((function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable()),this.on("add",(function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()})),this.on("remove",(function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))})),L.Map.mergeOptions({touchExtend:!0}),L.Map.TouchExtend=L.Handler.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart),L.DomEvent.off(this._container,"touchend",this._onTouchEnd),L.DomEvent.off(this._container,"touchmove",this._onTouchMove),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDowm",this._onTouchStart),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave))},_touchEvent:function(e,t){var n={};if(void 0!==e.touches){if(!e.touches.length)return;n=e.touches[0]}else{if("touch"!==e.pointerType)return;if(n=e,!this._filterClick(e))return}var r=this._map.mouseEventToContainerPoint(n),o=this._map.mouseEventToLayerPoint(n),i=this._map.layerPointToLatLng(o);this._map.fire(t,{latlng:i,layerPoint:o,containerPoint:r,pageX:n.pageX,pageY:n.pageY,originalEvent:e})},_filterClick:function(e){var t=e.timeStamp||e.originalEvent.timeStamp,n=L.DomEvent._lastClick&&t-L.DomEvent._lastClick;return n&&n>100&&n<500||e.target._simulatedClick&&!e._simulated?(L.DomEvent.stop(e),!1):(L.DomEvent._lastClick=t,!0)},_onTouchStart:function(e){this._map._loaded&&this._touchEvent(e,"touchstart")},_onTouchEnd:function(e){this._map._loaded&&this._touchEvent(e,"touchend")},_onTouchCancel:function(e){if(this._map._loaded){var t="touchcancel";this._detectIE()&&(t="pointercancel"),this._touchEvent(e,t)}},_onTouchLeave:function(e){this._map._loaded&&this._touchEvent(e,"touchleave")},_onTouchMove:function(e){this._map._loaded&&this._touchEvent(e,"touchmove")},_detectIE:function(){var e=n.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){var r=e.indexOf("rv:");return parseInt(e.substring(r+3,e.indexOf(".",r)),10)}var o=e.indexOf("Edge/");return o>0&&parseInt(e.substring(o+5,e.indexOf(".",o)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var e=this._icon,t=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];this._detectIE?t.concat(["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]):t.concat(["touchcancel"]),L.DomUtil.addClass(e,"leaflet-clickable"),L.DomEvent.on(e,"click",this._onMouseClick,this),L.DomEvent.on(e,"keypress",this._onKeyPress,this);for(var n=0;n<t.length;n++)L.DomEvent.on(e,t[n],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var e=n.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){var r=e.indexOf("rv:");return parseInt(e.substring(r+3,e.indexOf(".",r)),10)}var o=e.indexOf("Edge/");return o>0&&parseInt(e.substring(o+5,e.indexOf(".",o)),10)}}),L.LatLngUtil={cloneLatLngs:function(e){for(var t=[],n=0,r=e.length;n<r;n++)Array.isArray(e[n])?t.push(L.LatLngUtil.cloneLatLngs(e[n])):t.push(this.cloneLatLng(e[n]));return t},cloneLatLng:function(e){return L.latLng(e.lat,e.lng)}},function(){var e={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(e){var t,n,r=e.length,o=0,i=Math.PI/180;if(r>2){for(var a=0;a<r;a++)t=e[a],o+=((n=e[(a+1)%r]).lng-t.lng)*i*(2+Math.sin(t.lat*i)+Math.sin(n.lat*i));o=6378137*o*6378137/2}return Math.abs(o)},formattedNumber:function(e,t){var n=parseFloat(e).toFixed(t),r=L.drawLocal.format&&L.drawLocal.format.numeric,o=r&&r.delimiters,i=o&&o.thousands,a=o&&o.decimal;if(i||a){var s=n.split(".");n=i?s[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+i):s[0],a=a||".",s.length>1&&(n=n+a+s[1])}return n},readableArea:function(t,n,r){var o,i;return r=L.Util.extend({},e,r),n?(i=["ha","m"],type=typeof n,"string"===type?i=[n]:"boolean"!==type&&(i=n),o=t>=1e6&&-1!==i.indexOf("km")?L.GeometryUtil.formattedNumber(1e-6*t,r.km)+" km²":t>=1e4&&-1!==i.indexOf("ha")?L.GeometryUtil.formattedNumber(1e-4*t,r.ha)+" ha":L.GeometryUtil.formattedNumber(t,r.m)+" m²"):o=(t/=.836127)>=3097600?L.GeometryUtil.formattedNumber(t/3097600,r.mi)+" mi²":t>=4840?L.GeometryUtil.formattedNumber(t/4840,r.ac)+" acres":L.GeometryUtil.formattedNumber(t,r.yd)+" yd²",o},readableDistance:function(t,n,r,o,i){var a;switch(i=L.Util.extend({},e,i),n?"string"==typeof n?n:"metric":r?"feet":o?"nauticalMile":"yards"){case"metric":a=t>1e3?L.GeometryUtil.formattedNumber(t/1e3,i.km)+" km":L.GeometryUtil.formattedNumber(t,i.m)+" m";break;case"feet":t*=3.28083,a=L.GeometryUtil.formattedNumber(t,i.ft)+" ft";break;case"nauticalMile":t*=.53996,a=L.GeometryUtil.formattedNumber(t/1e3,i.nm)+" nm";break;case"yards":default:a=(t*=1.09361)>1760?L.GeometryUtil.formattedNumber(t/1760,i.mi)+" miles":L.GeometryUtil.formattedNumber(t,i.yd)+" yd"}return a},isVersion07x:function(){var e=L.version.split(".");return 0===parseInt(e[0],10)&&7===parseInt(e[1],10)}})}(),L.Util.extend(L.LineUtil,{segmentsIntersect:function(e,t,n,r){return this._checkCounterclockwise(e,n,r)!==this._checkCounterclockwise(t,n,r)&&this._checkCounterclockwise(e,t,n)!==this._checkCounterclockwise(e,t,r)},_checkCounterclockwise:function(e,t,n){return(n.y-e.y)*(t.x-e.x)>(t.y-e.y)*(n.x-e.x)}}),L.Polyline.include({intersects:function(){var e,t,n,r=this._getProjectedPoints(),o=r?r.length:0;if(this._tooFewPointsForIntersection())return!1;for(e=o-1;e>=3;e--)if(t=r[e-1],n=r[e],this._lineSegmentsIntersectsRange(t,n,e-2))return!0;return!1},newLatLngIntersects:function(e,t){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(e),t)},newPointIntersects:function(e,t){var n=this._getProjectedPoints(),r=n?n.length:0,o=n?n[r-1]:null,i=r-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(o,e,i,t?1:0)},_tooFewPointsForIntersection:function(e){var t=this._getProjectedPoints(),n=t?t.length:0;return!t||(n+=e||0)<=3},_lineSegmentsIntersectsRange:function(e,t,n,r){var o,i,a=this._getProjectedPoints();r=r||0;for(var s=n;s>r;s--)if(o=a[s-1],i=a[s],L.LineUtil.segmentsIntersect(e,t,o,i))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var e=[],t=this._defaultShape(),n=0;n<t.length;n++)e.push(this._map.latLngToLayerPoint(t[n]));return e}}),L.Polygon.include({intersects:function(){var e,t,n,r,o=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||(e=o.length,t=o[0],n=o[e-1],r=e-2,this._lineSegmentsIntersectsRange(n,t,r,1)))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(e){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");var t;L.Control.prototype.initialize.call(this,e),this._toolbars={},L.DrawToolbar&&this.options.draw&&(t=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=t,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(t=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=t,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.toolbar=this},onAdd:function(e){var t,n=L.DomUtil.create("div","leaflet-draw"),r=!1;for(var o in this._toolbars)this._toolbars.hasOwnProperty(o)&&(t=this._toolbars[o].addToolbar(e))&&(r||(L.DomUtil.hasClass(t,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(t.childNodes[0],"leaflet-draw-toolbar-top"),r=!0),n.appendChild(t));return n},onRemove:function(){for(var e in this._toolbars)this._toolbars.hasOwnProperty(e)&&this._toolbars[e].removeToolbar()},setDrawingOptions:function(e){for(var t in this._toolbars)this._toolbars[t]instanceof L.DrawToolbar&&this._toolbars[t].setOptions(e)},_toolbarEnabled:function(e){var t=e.target;for(var n in this._toolbars)this._toolbars[n]!==t&&this._toolbars[n].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook((function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))})),L.Toolbar=L.Class.extend({initialize:function(e){L.setOptions(this,e),this._modes={},this._actionButtons=[],this._activeMode=null;var t=L.version.split(".");1===parseInt(t[0],10)&&parseInt(t[1],10)>=2?L.Toolbar.include(L.Evented.prototype):L.Toolbar.include(L.Mixin.Events)},enabled:function(){return null!==this._activeMode},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(e){var t,n=L.DomUtil.create("div","leaflet-draw-section"),r=0,o=this._toolbarClass||"",i=this.getModeHandlers(e);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=e,t=0;t<i.length;t++)i[t].enabled&&this._initModeHandler(i[t].handler,this._toolbarContainer,r++,o,i[t].title);if(r)return this._lastButtonIndex=--r,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),n.appendChild(this._toolbarContainer),n.appendChild(this._actionsContainer),n},removeToolbar:function(){for(var e in this._modes)this._modes.hasOwnProperty(e)&&(this._disposeButton(this._modes[e].button,this._modes[e].handler.enable,this._modes[e].handler),this._modes[e].handler.disable(),this._modes[e].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var t=0,n=this._actionButtons.length;t<n;t++)this._disposeButton(this._actionButtons[t].button,this._actionButtons[t].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(e,t,n,r,o){var i=e.type;this._modes[i]={},this._modes[i].handler=e,this._modes[i].button=this._createButton({type:i,title:o,className:r+"-"+i,container:t,callback:this._modes[i].handler.enable,context:this._modes[i].handler}),this._modes[i].buttonIndex=n,this._modes[i].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_detectIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!n.MSStream},_createButton:function(e){var t=L.DomUtil.create("a",e.className||"",e.container),n=L.DomUtil.create("span","sr-only",e.container);t.href="#",t.appendChild(n),e.title&&(t.title=e.title,n.innerHTML=e.title),e.text&&(t.innerHTML=e.text,n.innerHTML=e.text);var r=this._detectIOS()?"touchstart":"click";return L.DomEvent.on(t,"click",L.DomEvent.stopPropagation).on(t,"mousedown",L.DomEvent.stopPropagation).on(t,"dblclick",L.DomEvent.stopPropagation).on(t,"touchstart",L.DomEvent.stopPropagation).on(t,"click",L.DomEvent.preventDefault).on(t,r,e.callback,e.context),t},_disposeButton:function(e,t){var n=this._detectIOS()?"touchstart":"click";L.DomEvent.off(e,"click",L.DomEvent.stopPropagation).off(e,"mousedown",L.DomEvent.stopPropagation).off(e,"dblclick",L.DomEvent.stopPropagation).off(e,"touchstart",L.DomEvent.stopPropagation).off(e,"click",L.DomEvent.preventDefault).off(e,n,t)},_handlerActivated:function(e){this.disable(),this._activeMode=this._modes[e.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(e){var t,n,r,o,i=this._actionsContainer,a=this.getActions(e),s=a.length;for(n=0,r=this._actionButtons.length;n<r;n++)this._disposeButton(this._actionButtons[n].button,this._actionButtons[n].callback);for(this._actionButtons=[];i.firstChild;)i.removeChild(i.firstChild);for(var l=0;l<s;l++)"enabled"in a[l]&&!a[l].enabled||(t=L.DomUtil.create("li","",i),o=this._createButton({title:a[l].title,text:a[l].text,container:t,callback:a[l].callback,context:a[l].context}),this._actionButtons.push({button:o,callback:a[l].callback}))},_showActionsToolbar:function(){var e=this._activeMode.buttonIndex,t=this._lastButtonIndex,n=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=n+"px",0===e&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),e===t&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block",this._map.fire(L.Draw.Event.TOOLBAROPENED)},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom"),this._map.fire(L.Draw.Event.TOOLBARCLOSED)}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(e){this._map=e,this._popupPane=e._panes.popupPane,this._visible=!1,this._container=e.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(e){return this._container?(e.subtext=e.subtext||"",0!==e.subtext.length||this._singleLineLabel?e.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(e.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+e.subtext+"</span><br />":"")+"<span>"+e.text+"</span>",e.text||e.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(e){var t=this._map.latLngToLayerPoint(e),n=this._container;return this._container&&(this._visible&&(n.style.visibility="inherit"),L.DomUtil.setPosition(n,t)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{},circlemarker:{}},initialize:function(e){for(var t in this.options)this.options.hasOwnProperty(t)&&e[t]&&(e[t]=L.extend({},this.options[t],e[t]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,e)},getModeHandlers:function(e){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(e,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(e,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(e,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(e,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(e,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker},{enabled:this.options.circlemarker,handler:new L.Draw.CircleMarker(e,this.options.circlemarker),title:L.drawLocal.draw.toolbar.buttons.circlemarker}]},getActions:function(e){return[{enabled:e.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:e.completeShape,context:e},{enabled:e.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:e.deleteLastVertex,context:e},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(e){for(var t in L.setOptions(this,e),this._modes)this._modes.hasOwnProperty(t)&&e.hasOwnProperty(t)&&this._modes[t].handler.setOptions(e[t])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(e){e.edit&&(void 0===e.edit.selectedPathOptions&&(e.edit.selectedPathOptions=this.options.edit.selectedPathOptions),e.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,e.edit.selectedPathOptions)),e.remove&&(e.remove=L.extend({},this.options.remove,e.remove)),e.poly&&(e.poly=L.extend({},this.options.poly,e.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,e),this._selectedFeatureCount=0},getModeHandlers:function(e){var t=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(e,{featureGroup:t,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(e,{featureGroup:t}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(e){var t=[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}];return e.removeAllLayers&&t.push({title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}),t},addToolbar:function(e){var t=L.Toolbar.prototype.addToolbar.call(this,e);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),t},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var e,t=0!==this.options.featureGroup.getLayers().length;this.options.edit&&(e=this._modes[L.EditToolbar.Edit.TYPE].button,t?L.DomUtil.removeClass(e,"leaflet-disabled"):L.DomUtil.addClass(e,"leaflet-disabled"),e.setAttribute("title",t?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(e=this._modes[L.EditToolbar.Delete.TYPE].button,t?L.DomUtil.removeClass(e,"leaflet-disabled"):L.DomUtil.addClass(e,"leaflet-disabled"),e.setAttribute("title",t?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},initialize:function(e,t){if(L.Handler.prototype.initialize.call(this,e),L.setOptions(this,t),this._featureGroup=t.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE;var n=L.version.split(".");1===parseInt(n[0],10)&&parseInt(n[1],10)>=2?L.EditToolbar.Edit.include(L.Evented.prototype):L.EditToolbar.Edit.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var e=this._map;e&&(e.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),e._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer((function(e){this._revertLayer(e)}),this)},save:function(){var e=new L.LayerGroup;this._featureGroup.eachLayer((function(t){t.edited&&(e.addLayer(t),t.edited=!1)})),this._map.fire(L.Draw.Event.EDITED,{layers:e})},_backupLayer:function(e){var t=L.Util.stamp(e);this._uneditedLayerProps[t]||(e instanceof L.Polyline||e instanceof L.Polygon||e instanceof L.Rectangle?this._uneditedLayerProps[t]={latlngs:L.LatLngUtil.cloneLatLngs(e.getLatLngs())}:e instanceof L.Circle?this._uneditedLayerProps[t]={latlng:L.LatLngUtil.cloneLatLng(e.getLatLng()),radius:e.getRadius()}:(e instanceof L.Marker||e instanceof L.CircleMarker)&&(this._uneditedLayerProps[t]={latlng:L.LatLngUtil.cloneLatLng(e.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(e){var t=L.Util.stamp(e);e.edited=!1,this._uneditedLayerProps.hasOwnProperty(t)&&(e instanceof L.Polyline||e instanceof L.Polygon||e instanceof L.Rectangle?e.setLatLngs(this._uneditedLayerProps[t].latlngs):e instanceof L.Circle?(e.setLatLng(this._uneditedLayerProps[t].latlng),e.setRadius(this._uneditedLayerProps[t].radius)):(e instanceof L.Marker||e instanceof L.CircleMarker)&&e.setLatLng(this._uneditedLayerProps[t].latlng),e.fire("revert-edited",{layer:e}))},_enableLayerEdit:function(e){var t,n,r=e.layer||e.target||e;this._backupLayer(r),this.options.poly&&(n=L.Util.extend({},this.options.poly),r.options.poly=n),this.options.selectedPathOptions&&((t=L.Util.extend({},this.options.selectedPathOptions)).maintainColor&&(t.color=r.options.color,t.fillColor=r.options.fillColor),r.options.original=L.extend({},r.options),r.options.editing=t),r instanceof L.Marker?(r.editing&&r.editing.enable(),r.dragging.enable(),r.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):r.editing.enable()},_disableLayerEdit:function(e){var t=e.layer||e.target||e;t.edited=!1,t.editing&&t.editing.disable(),delete t.options.editing,delete t.options.original,this._selectedPathOptions&&(t instanceof L.Marker?this._toggleMarkerHighlight(t):(t.setStyle(t.options.previousOptions),delete t.options.previousOptions)),t instanceof L.Marker?(t.dragging.disable(),t.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):t.editing.disable()},_onMouseMove:function(e){this._tooltip.updatePosition(e.latlng)},_onMarkerDragEnd:function(e){var t=e.target;t.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:t})},_onTouchMove:function(e){var t=e.originalEvent.changedTouches[0],n=this._map.mouseEventToLayerPoint(t),r=this._map.layerPointToLatLng(n);e.target.setLatLng(r)},_hasAvailableLayers:function(){return 0!==this._featureGroup.getLayers().length}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},initialize:function(e,t){if(L.Handler.prototype.initialize.call(this,e),L.Util.setOptions(this,t),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE;var n=L.version.split(".");1===parseInt(n[0],10)&&parseInt(n[1],10)>=2?L.EditToolbar.Delete.include(L.Evented.prototype):L.EditToolbar.Delete.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var e=this._map;e&&(e.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer((function(e){this._deletableLayers.addLayer(e),e.fire("revert-deleted",{layer:e})}),this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer((function(e){this._removeLayer({layer:e})}),this),this.save()},_enableLayerDelete:function(e){(e.layer||e.target||e).on("click",this._removeLayer,this)},_disableLayerDelete:function(e){var t=e.layer||e.target||e;t.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(t)},_removeLayer:function(e){var t=e.layer||e.target||e;this._deletableLayers.removeLayer(t),this._deletedLayers.addLayer(t),t.fire("deleted")},_onMouseMove:function(e){this._tooltip.updatePosition(e.latlng)},_hasAvailableLayers:function(){return 0!==this._deletableLayers.getLayers().length}})},"./node_modules/leaflet-extra-markers/dist/css/leaflet.extra-markers.min.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./node_modules/leaflet-extra-markers/dist/css/leaflet.extra-markers.min.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./node_modules/leaflet-extra-markers/dist/img/markers_default.png":function(e,t,n){e.exports=n.p+"node_modules/leaflet-extra-markers/dist/img/markers_default.png"},"./node_modules/leaflet-extra-markers/dist/img/markers_default@2x.png":function(e,t,n){e.exports=n.p+"node_modules/leaflet-extra-markers/dist/img/markers_default@2x.png"},"./node_modules/leaflet-extra-markers/dist/img/markers_shadow.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAQCAYAAACcN8ZaAAAB3klEQVR42s3U4UdDURzG8czMXJnJ1Vwzc6VJZjaZJdlMlpQsKdmUFNOUspRSSqUolfQfr+fF98Vx5mwv9qbDx7LdznnO7/7Omej3+/+Ga0QMUYkhbvBgmhzCQxwxibIGrGEF8CQhU+LLtKQkQNqScUgjxRxTBIxbgfgD/BgnhM8kM5KTeclLQYqGkkMRBckzR8ic/mAgd5BAZplsUaqyIg2sDtHg2brUZJk5SmwopErJUWE8SpmTMhNvya60Zd/SNrR4bkeaskG4uiwRZk6yrJEYFibGAxn+scECHTmTnuVCzvmty3PHciB7bGKN6lQkzysPqIrHmpFhYbKUtckC1/Ioz4ZHuZdbuSLYiRxRpSZVWXZVxAzC0R4Ik5SQsu6w8yd5l2/5kg95I9SdXMoZQfYIUjeqEUrgOkXGPeN4TYRhxy8E+ZUf+eS7B7miIoeybVSjKDnm8u3+gH3pDTYwu1igATvs/pXqvBKiR4i2bNJfi1ZfUAnjgrOG8wY2quNzBKuU/ZS+uSFEl5O0xRGuUIlZCcw7xG5QPkeHYUSNV5WXGou2sC3rBC0LjenqCXGO0WEiTJa0Lr4KixdHBrDGuGGiRqCUpFk8pGIpQtCU7p4YPwxYxEMCk1aAMQZh8Ac8PfbIzYPJOwAAAABJRU5ErkJggg=="},"./node_modules/leaflet-extra-markers/dist/img/markers_shadow@2x.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAAAgCAYAAACvgw7DAAAFhElEQVR42tWZ/0ubVxSHZZQxpJQRwoqEUkJQQhlBCcEiQRGJiKFEQqQ4lKFYLA5FsSjKioqipRutbLJ2f627g+dyDmfvqfetzlLh+aFpcr88+dxzb+7bdwt/33wG974g/rhu+pdzwt86fJdA/82w7Un/18m6kRBXgD+5+4YHDt/fEtImfRppVlJ+MY4QEWEmbyZZUBQVP2TwMJGBDMx7aFP6K4gwJBlBecVYISIDCSJAJm0mUIJH8NhQdqjkh8/SNv2VRB6SjCAtJ2dKMGuFIEIEMHGZ2CAMQdXwxPDjNdQ++f+0Q9tD9F1RkgYYLwlCDmIg19IhJQiRVJToFAlMViYxHBiBOjQyGP0ETzMw76Ed+qC/YSVrSAkqiRySo1IjAnwkKSKlQKMIQQYS4sQZ/Bg0A+MwYZg0TKViPjeh+mjS72iUhKCqyCE5pCZdDEmxUmjwURQSZSCiqSbXCkwHZmAW2g7PEmkbZml/mj6nlKgm42rE9DDushHzQGpNohjefB8pD2NK6GSEjscZ1AyD7QTmAt1AD+YVz/Mjn6e9LswB0pCEICVnhFQPIabEfAoiJj0xkhaWj5LSoNMW39ocA14I/BRYCvwMy58NbdDe4r9twwLCEIUcEoSYCbWkhqk1g0lLyTv92bTQUBkpdZWSDoNbZAKrgbXAy8B64JdE1jN4SVsvAquwokUhaJ70dNTyaiEmLqUaYiqUArZu0qLF+EdjOa/wwWKsK2r5tPiGFhjoGhPcCmwHdgKvEtlRbMNWYDOwQbtIEjlGDIlhKUmNqZOWKuOPW3bRSct1iUGMbM2PabxBp20GtMygt5jkfuAg8DpwaOF1y6+BA9iDXdpDEoKQQ79LLKv5mBZVX8ZZQiO66Nqt2jngISFNTJkoPqXjLoOKUvaY5HHgJHDmcAoncBw4UtIOkLtnxJAapEid6aqkTKliW2f5VOPysXUFjJQ0Mf1KTAXzTb6VeeK8wQQOmeibwNvA7xn8xv+95X3nyIqCDiU9iGFJUXPWkLKo6krbLJ2GpIQdiJoiy8dJyg3E1IjoDDvCCgPfZ3LnCHgf+MNwwevveE+UE1N0RGKilJ0MIUv021Vb86QIYefJJUSkXF1d4eS6rdoXM0uUV5nA6ygFCZeBDxpe+1MEkSBJzbESs6uWzwu+gEWzdFpIidtxzWzHck5h6fgpETHI8cWYGlOMW7VKzEKWGCb/V+Bj4G/4wGtRzDsSc07SjjKSsqaEPFdCpkWIpMQc9UmJCLEXVVaGFXPP4G/XUnybjpg3TPhSS4GPKjHvVVJOY10hJduxyKpa0gt01Nlk3JxkbXEt+j8OBREhpIgRORzw6LiqdqUexXeTb/qUFFzE1MAly4vaQkpYNrHAqh1nSS2Ztl0yJiFsvyYhbh0RHDH+UvJSw7cxqM4xc9SZdbUrnaniewEiRBJyoBKyniGk4y8ZOY+kLhn4z19+MYLcw8ghr0ZqppnEMpPbZUmcIOAMTA1hubDTILenziKT5nBmt92B9G1XhOQQk3iliRgGU+JbqzOBttqdNkUOp1451e5LUWXJSFHtaCHebxunqKZJ4d+3LEZ2JwZWYcCjLKlnTHCZFGwgIB7MYjFdUculJwczKaZquVT9c4gUVKeG9P3fYuS3VPaPyRrf7CQ7Ro/0yDWD+qHn7C5j5ug+aO9m7c2+FZLndv/2xPin4BLJqcZf2wiaMbdxs3KzJncjzlWjFFM5lJl0+A/I7lpMX+bdDHKIe1WlZ0zuddXVIjJMMsr21t6mI+8DsbsXQ2pEDqdhuf+tsHM8YfJgbujZZh0Z/W4xNX9fXoz/+8nKKdlnSYqKTYctplYIfC1i7KFPnhwwUXnMah+dioxCsgyEfD1iIPMxrVAQ0p8ZexLuWsw/8PFSG0HPbPgAAAAASUVORK5CYII="},"./node_modules/leaflet-extra-markers/src/assets/js/leaflet.extra-markers.js":function(e,t){!function(e,t,n){"use strict";L.ExtraMarkers={},L.ExtraMarkers.version="1.0.1",L.ExtraMarkers.Icon=L.Icon.extend({options:{iconSize:[35,45],iconAnchor:[17,42],popupAnchor:[1,-32],shadowAnchor:[10,12],shadowSize:[36,16],className:"extra-marker",prefix:"",extraClasses:"",shape:"circle",icon:"",innerHTML:"",markerColor:"red",svgBorderColor:"#fff",svgOpacity:1,iconColor:"#fff",number:"",svg:!1},initialize:function(e){e=L.Util.setOptions(this,e)},createIcon:function(){var e=t.createElement("div"),n=this.options;return n.icon&&(e.innerHTML=this._createInner()),n.innerHTML&&(e.innerHTML=n.innerHTML),n.bgPos&&(e.style.backgroundPosition=-n.bgPos.x+"px "+-n.bgPos.y+"px"),n.svg?this._setIconStyles(e,"svg"):this._setIconStyles(e,n.shape+"-"+n.markerColor),e},_createInner:function(){var e="",t="",n=this.options;if(n.iconColor&&(e="style='color: "+n.iconColor+"' "),n.number&&(t="number='"+n.number+"' "),n.svg){var r='<svg xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 69.529271 95.44922" style="fill:'+n.markerColor+";stroke:"+n.svgBorderColor+";fill-opacity:"+n.svgOpacity+';" height="100%" width="100%" version="1.1" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/"><g transform="translate(-139.52 -173.21)"><path d="m174.28 173.21c-19.199 0.00035-34.764 15.355-34.764 34.297 0.007 6.7035 1.5591 12.813 5.7461 18.854l0.0234 0.0371 28.979 42.262 28.754-42.107c3.1982-5.8558 5.9163-11.544 6.0275-19.045-0.0001-18.942-15.565-34.298-34.766-34.297z"/></g></svg>';return"square"==n.shape&&(r='<svg xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 69.457038 96.523441" style="fill:'+n.markerColor+";stroke:"+n.svgBorderColor+";fill-opacity:"+n.svgOpacity+';" height="100%" width="100%" version="1.1" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/"><g transform="translate(-545.27 -658.39)"><path d="m545.27 658.39v65.301h22.248l12.48 31.223 12.676-31.223h22.053v-65.301h-69.457z"/></g></svg>'),"star"==n.shape&&(r='<svg style="top:0; fill:'+n.markerColor+";stroke:"+n.svgBorderColor+";fill-opacity:"+n.svgOpacity+';" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns="http://www.w3.org/2000/svg" height="100%" width="100%" version="1.1" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/" viewBox="0 0 77.690999 101.4702"><g transform="translate(-101.15 -162.97)"><g transform="matrix(1 0 0 1.0165 -65.712 -150.28)"><path d="m205.97 308.16-11.561 11.561h-16.346v16.346l-11.197 11.197 11.197 11.197v15.83h15.744l11.615 33.693 11.467-33.568 0.125-0.125h16.346v-16.346l11.197-11.197-11.197-11.197v-15.83h-15.83l-11.561-11.561z"/></g></g></svg>'),"penta"==n.shape&&(r='<svg style="fill:'+n.markerColor+";stroke:"+n.svgBorderColor+";fill-opacity:"+n.svgOpacity+';"   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 71.550368 96.362438" height="100%" width="100%" version="1.1" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/"><g transform="translate(-367.08 -289.9)"><path d="m367.08 322.5 17.236-32.604h36.151l18.164 32.25-35.665 64.112z"/></g></svg>'),r+"<i "+t+e+"class='"+n.extraClasses+" "+n.prefix+" "+n.icon+"'></i>"}return"<i "+t+e+"class='"+n.extraClasses+" "+n.prefix+" "+n.icon+"'></i>"},_setIconStyles:function(e,t){var n,r,o=this.options,i=L.point(o["shadow"===t?"shadowSize":"iconSize"]);"shadow"===t?(n=L.point(o.shadowAnchor||o.iconAnchor),r="shadow"):(n=L.point(o.iconAnchor),r="icon"),!n&&i&&(n=i.divideBy(2,!0)),e.className="leaflet-marker-"+r+" extra-marker-"+t+" "+o.className,n&&(e.style.marginLeft=-n.x+"px",e.style.marginTop=-n.y+"px"),i&&(e.style.width=i.x+"px",e.style.height=i.y+"px")},createShadow:function(){var e=t.createElement("div");return this._setIconStyles(e,"shadow"),e}}),L.ExtraMarkers.icon=function(e){return new L.ExtraMarkers.Icon(e)}}(window,document)},"./node_modules/leaflet-minimap/dist/Control.MiniMap.min.js":function(e,t,n){var r,o,i;!function(a,s){o=[n("./MapStore2/web/client/libs/leaflet.js")],void 0===(i="function"==typeof(r=a)?r.apply(t,o):r)||(e.exports=i),void 0!==s&&s.L&&(s.L.Control.MiniMap=a(L),s.L.control.minimap=function(e,t){return new s.L.Control.MiniMap(e,t)})}((function(e){var t=e.Control.extend({includes:e.Evented?e.Evented.prototype:e.Mixin.Events,options:{position:"bottomright",toggleDisplay:!1,zoomLevelOffset:-5,zoomLevelFixed:!1,centerFixed:!1,zoomAnimation:!1,autoToggleDisplay:!1,minimized:!1,width:150,height:150,collapsedWidth:19,collapsedHeight:19,aimingRectOptions:{color:"#ff7800",weight:1,clickable:!1},shadowRectOptions:{color:"#000000",weight:1,clickable:!1,opacity:0,fillOpacity:0},strings:{hideText:"Hide MiniMap",showText:"Show MiniMap"},mapOptions:{}},initialize:function(t,n){e.Util.setOptions(this,n),this.options.aimingRectOptions.clickable=!1,this.options.shadowRectOptions.clickable=!1,this._layer=t},onAdd:function(t){this._mainMap=t,this._container=e.DomUtil.create("div","leaflet-control-minimap"),this._container.style.width=this.options.width+"px",this._container.style.height=this.options.height+"px",e.DomEvent.disableClickPropagation(this._container),e.DomEvent.on(this._container,"mousewheel",e.DomEvent.stopPropagation);var n={attributionControl:!1,dragging:!this.options.centerFixed,zoomControl:!1,zoomAnimation:this.options.zoomAnimation,autoToggleDisplay:this.options.autoToggleDisplay,touchZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),scrollWheelZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),doubleClickZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),boxZoom:!this._isZoomLevelFixed(),crs:t.options.crs};return n=e.Util.extend(this.options.mapOptions,n),this._miniMap=new e.Map(this._container,n),this._miniMap.addLayer(this._layer),this._mainMapMoving=!1,this._miniMapMoving=!1,this._userToggledDisplay=!1,this._minimized=!1,this.options.toggleDisplay&&this._addToggleButton(),this._miniMap.whenReady(e.Util.bind((function(){this._aimingRect=e.rectangle(this._mainMap.getBounds(),this.options.aimingRectOptions).addTo(this._miniMap),this._shadowRect=e.rectangle(this._mainMap.getBounds(),this.options.shadowRectOptions).addTo(this._miniMap),this._mainMap.on("moveend",this._onMainMapMoved,this),this._mainMap.on("move",this._onMainMapMoving,this),this._miniMap.on("movestart",this._onMiniMapMoveStarted,this),this._miniMap.on("move",this._onMiniMapMoving,this),this._miniMap.on("moveend",this._onMiniMapMoved,this)}),this)),this._container},addTo:function(t){e.Control.prototype.addTo.call(this,t);var n=this.options.centerFixed||this._mainMap.getCenter();return this._miniMap.setView(n,this._decideZoom(!0)),this._setDisplay(this.options.minimized),this},onRemove:function(e){this._mainMap.off("moveend",this._onMainMapMoved,this),this._mainMap.off("move",this._onMainMapMoving,this),this._miniMap.off("moveend",this._onMiniMapMoved,this),this._miniMap.removeLayer(this._layer)},changeLayer:function(e){this._miniMap.removeLayer(this._layer),this._layer=e,this._miniMap.addLayer(this._layer)},_addToggleButton:function(){this._toggleDisplayButton=this.options.toggleDisplay?this._createButton("",this._toggleButtonInitialTitleText(),"leaflet-control-minimap-toggle-display leaflet-control-minimap-toggle-display-"+this.options.position,this._container,this._toggleDisplayButtonClicked,this):void 0,this._toggleDisplayButton.style.width=this.options.collapsedWidth+"px",this._toggleDisplayButton.style.height=this.options.collapsedHeight+"px"},_toggleButtonInitialTitleText:function(){return this.options.minimized?this.options.strings.showText:this.options.strings.hideText},_createButton:function(t,n,r,o,i,a){var s=e.DomUtil.create("a",r,o);s.innerHTML=t,s.href="#",s.title=n;var l=e.DomEvent.stopPropagation;return e.DomEvent.on(s,"click",l).on(s,"mousedown",l).on(s,"dblclick",l).on(s,"click",e.DomEvent.preventDefault).on(s,"click",i,a),s},_toggleDisplayButtonClicked:function(){this._userToggledDisplay=!0,this._minimized?this._restore():this._minimize()},_setDisplay:function(e){e!==this._minimized&&(this._minimized?this._restore():this._minimize())},_minimize:function(){this.options.toggleDisplay?(this._container.style.width=this.options.collapsedWidth+"px",this._container.style.height=this.options.collapsedHeight+"px",this._toggleDisplayButton.className+=" minimized-"+this.options.position,this._toggleDisplayButton.title=this.options.strings.showText):this._container.style.display="none",this._minimized=!0,this._onToggle()},_restore:function(){this.options.toggleDisplay?(this._container.style.width=this.options.width+"px",this._container.style.height=this.options.height+"px",this._toggleDisplayButton.className=this._toggleDisplayButton.className.replace("minimized-"+this.options.position,""),this._toggleDisplayButton.title=this.options.strings.hideText):this._container.style.display="block",this._minimized=!1,this._onToggle()},_onMainMapMoved:function(e){if(this._miniMapMoving)this._miniMapMoving=!1;else{var t=this.options.centerFixed||this._mainMap.getCenter();this._mainMapMoving=!0,this._miniMap.setView(t,this._decideZoom(!0)),this._setDisplay(this._decideMinimized())}this._aimingRect.setBounds(this._mainMap.getBounds())},_onMainMapMoving:function(e){this._aimingRect.setBounds(this._mainMap.getBounds())},_onMiniMapMoveStarted:function(e){if(!this.options.centerFixed){var t=this._aimingRect.getBounds(),n=this._miniMap.latLngToContainerPoint(t.getSouthWest()),r=this._miniMap.latLngToContainerPoint(t.getNorthEast());this._lastAimingRectPosition={sw:n,ne:r}}},_onMiniMapMoving:function(t){this.options.centerFixed||!this._mainMapMoving&&this._lastAimingRectPosition&&(this._shadowRect.setBounds(new e.LatLngBounds(this._miniMap.containerPointToLatLng(this._lastAimingRectPosition.sw),this._miniMap.containerPointToLatLng(this._lastAimingRectPosition.ne))),this._shadowRect.setStyle({opacity:1,fillOpacity:.3}))},_onMiniMapMoved:function(e){this._mainMapMoving?this._mainMapMoving=!1:(this._miniMapMoving=!0,this._mainMap.setView(this._miniMap.getCenter(),this._decideZoom(!1)),this._shadowRect.setStyle({opacity:0,fillOpacity:0}))},_isZoomLevelFixed:function(){var e=this.options.zoomLevelFixed;return this._isDefined(e)&&this._isInteger(e)},_decideZoom:function(e){if(this._isZoomLevelFixed())return e?this.options.zoomLevelFixed:this._mainMap.getZoom();if(e)return this._mainMap.getZoom()+this.options.zoomLevelOffset;var t,n=this._miniMap.getZoom()-this._mainMap.getZoom(),r=this._miniMap.getZoom()-this.options.zoomLevelOffset;return n>this.options.zoomLevelOffset&&this._mainMap.getZoom()<this._miniMap.getMinZoom()-this.options.zoomLevelOffset?this._miniMap.getZoom()>this._lastMiniMapZoom?(t=this._mainMap.getZoom()+1,this._miniMap.setZoom(this._miniMap.getZoom()-1)):t=this._mainMap.getZoom():t=r,this._lastMiniMapZoom=this._miniMap.getZoom(),t},_decideMinimized:function(){return this._userToggledDisplay?this._minimized:this.options.autoToggleDisplay?!!this._mainMap.getBounds().contains(this._miniMap.getBounds()):this._minimized},_isInteger:function(e){return"number"==typeof e},_isDefined:function(e){return void 0!==e},_onToggle:function(){e.Util.requestAnimFrame((function(){e.DomEvent.on(this._container,"transitionend",this._fireToggleEvents,this),e.Browser.any3d||e.Util.requestAnimFrame(this._fireToggleEvents,this)}),this)},_fireToggleEvents:function(){e.DomEvent.off(this._container,"transitionend",this._fireToggleEvents,this);var t={minimized:this._minimized};this.fire(this._minimized?"minimize":"restore",t),this.fire("toggle",t)}});return e.Map.mergeOptions({miniMapControl:!1}),e.Map.addInitHook((function(){this.options.miniMapControl&&(this.miniMapControl=(new t).addTo(this))})),t}),window)},"./node_modules/leaflet-plugins/layer/tile/Bing.js":function(e,t){L.BingLayer=L.TileLayer.extend({options:{subdomains:[0,1,2,3],type:"Aerial",attribution:"Bing",culture:""},initialize:function(e,t){L.Util.setOptions(this,t),this._key=e,this._url=null,this._providers=[],this.metaRequested=!1},tile2quad:function(e,t,n){for(var r="",o=n;o>0;o--){var i=0,a=1<<o-1;0!=(e&a)&&(i+=1),0!=(t&a)&&(i+=2),r+=i}return r},getTileUrl:function(e){var t=this._getZoomForUrl(),n=this.options.subdomains,r=this.options.subdomains[Math.abs((e.x+e.y)%n.length)];return this._url.replace("{subdomain}",r).replace("{quadkey}",this.tile2quad(e.x,e.y,t)).replace("{culture}",this.options.culture)},loadMetadata:function(){if(!this.metaRequested){this.metaRequested=!0;var e=this,t="_bing_metadata_"+L.Util.stamp(this);window[t]=function(n){window[t]=void 0;var r=document.getElementById(t);if(r.parentNode.removeChild(r),n.errorDetails)throw new Error(n.errorDetails);e.initMetadata(n)};var n="file:"===document.location.protocol?"http":document.location.protocol.slice(0,-1),r=n+"://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.options.type+"?include=ImageryProviders&jsonp="+t+"&key="+this._key+"&UriScheme="+n,o=document.createElement("script");o.type="text/javascript",o.src=r,o.id=t,document.getElementsByTagName("head")[0].appendChild(o)}},initMetadata:function(e){var t=e.resourceSets[0].resources[0];if(this.options.subdomains=t.imageUrlSubdomains,this._url=t.imageUrl,t.imageryProviders)for(var n=0;n<t.imageryProviders.length;n++)for(var r=t.imageryProviders[n],o=0;o<r.coverageAreas.length;o++){var i=r.coverageAreas[o],a={zoomMin:i.zoomMin,zoomMax:i.zoomMax,active:!1},s=new L.LatLngBounds(new L.LatLng(i.bbox[0]+.01,i.bbox[1]+.01),new L.LatLng(i.bbox[2]-.01,i.bbox[3]-.01));a.bounds=s,a.attrib=r.attribution,this._providers.push(a)}this._update()},_update:function(){null!==this._url&&this._map&&(this._update_attribution(),L.TileLayer.prototype._update.apply(this,[]))},_update_attribution:function(){for(var e=L.latLngBounds(this._map.getBounds().getSouthWest().wrap(),this._map.getBounds().getNorthEast().wrap()),t=this._map.getZoom(),n=0;n<this._providers.length;n++){var r=this._providers[n];t<=r.zoomMax&&t>=r.zoomMin&&e.intersects(r.bounds)?(!r.active&&this._map.attributionControl&&this._map.attributionControl.addAttribution(r.attrib),r.active=!0):(r.active&&this._map.attributionControl&&this._map.attributionControl.removeAttribution(r.attrib),r.active=!1)}},onAdd:function(e){this.loadMetadata(),L.TileLayer.prototype.onAdd.apply(this,[e])},onRemove:function(e){for(var t=0;t<this._providers.length;t++){var n=this._providers[t];n.active&&this._map.attributionControl&&(this._map.attributionControl.removeAttribution(n.attrib),n.active=!1)}L.TileLayer.prototype.onRemove.apply(this,[e])}}),L.bingLayer=function(e,t){return new L.BingLayer(e,t)}},"./node_modules/leaflet-simple-graticule/L.SimpleGraticule.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./node_modules/leaflet-simple-graticule/L.SimpleGraticule.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./node_modules/leaflet-simple-graticule/L.SimpleGraticule.js":function(e,t,n){var r=n("./MapStore2/web/client/libs/leaflet.js"),o=r.LayerGroup.extend({options:{interval:20,showOriginLabel:!0,redraw:"move"},lineStyle:{stroke:!0,color:"#111",opacity:.6,weight:1},initialize:function(e){r.LayerGroup.prototype.initialize.call(this),r.Util.setOptions(this,e)},onAdd:function(e){this._map=e;var t=this.redraw();this._map.on("viewreset "+this.options.redraw,t.redraw,t),this.eachLayer(e.addLayer,e)},onRemove:function(e){e.off("viewreset "+this.options.redraw,this.map),this.eachLayer(this.removeLayer,this)},redraw:function(){return this._bounds=this._map.getBounds().pad(.5),this.clearLayers(),this.constructLines(this.getMins(),this.getLineCounts()),this.options.showOriginLabel&&this.addLayer(this.addOriginLabel()),this},getLineCounts:function(){return{x:Math.ceil((this._bounds.getEast()-this._bounds.getWest())/this.options.interval),y:Math.ceil((this._bounds.getNorth()-this._bounds.getSouth())/this.options.interval)}},getMins:function(){var e=this.options.interval;return{x:Math.floor(this._bounds.getWest()/e)*e,y:Math.floor(this._bounds.getSouth()/e)*e}},constructLines:function(e,t){for(var n=new Array(t.x+t.y),r=new Array(t.x+t.y),o=0;o<=t.x;o++){var i=e.x+o*this.options.interval;n[o]=this.buildXLine(i),r[o]=this.buildLabel("gridlabel-horiz",i)}for(var a=0;a<=t.y;a++){var s=e.y+a*this.options.interval;n[a+o]=this.buildYLine(s),r[a+o]=this.buildLabel("gridlabel-vert",s)}n.forEach(this.addLayer,this),r.forEach(this.addLayer,this)},buildXLine:function(e){var t=new r.LatLng(this._bounds.getSouth(),e),n=new r.LatLng(this._bounds.getNorth(),e);return new r.Polyline([t,n],this.lineStyle)},buildYLine:function(e){var t=new r.LatLng(e,this._bounds.getWest()),n=new r.LatLng(e,this._bounds.getEast());return new r.Polyline([t,n],this.lineStyle)},buildLabel:function(e,t){var n,o=this._map.getBounds().pad(-.003);return n="gridlabel-horiz"==e?new r.LatLng(o.getNorth(),t):new r.LatLng(t,o.getWest()),r.marker(n,{icon:r.divIcon({iconSize:[0,0],className:"leaflet-grid-label",html:'<div class="'+e+'">'+t+"</div>"})})},addOriginLabel:function(){return r.marker([0,0],{icon:r.divIcon({iconSize:[0,0],className:"leaflet-grid-label",html:'<div class="gridlabel-horiz">(0,0)</div>'})})}});e.exports=o},"./node_modules/leaflet.gridlayer.googlemutant/Leaflet.GoogleMutant.js":function(e,t){L.GridLayer.GoogleMutant=L.GridLayer.extend({options:{minZoom:0,maxZoom:23,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",opacity:1,continuousWorld:!1,noWrap:!1,type:"roadmap",maxNativeZoom:21},initialize:function(e){L.GridLayer.prototype.initialize.call(this,e),this._ready=!!window.google&&!!window.google.maps&&!!window.google.maps.Map,this._GAPIPromise=this._ready?Promise.resolve(window.google):new Promise((function(e,t){var n=0,r=null;r=setInterval((function(){return n>=10?(clearInterval(r),t(new Error("window.google not found after 10 attempts"))):window.google&&window.google.maps&&window.google.maps.Map?(clearInterval(r),e(window.google)):void n++}),500)})),this._tileCallbacks={},this._freshTiles={},this._imagesPerTile="hybrid"===this.options.type?2:1},onAdd:function(e){L.GridLayer.prototype.onAdd.call(this,e),this._initMutantContainer(),this._GAPIPromise.then(function(){if(this._ready=!0,this._map=e,this._initMutant(),e.on("viewreset",this._reset,this),e.on("move",this._update,this),e.on("zoomend",this._handleZoomAnim,this),e.on("resize",this._resize,this),google.maps.event.addListenerOnce(this._mutant,"idle",function(){this._checkZoomLevels(),this._mutantIsReady=!0}.bind(this)),e._controlCorners.bottomright.style.marginBottom="20px",e._controlCorners.bottomleft.style.marginBottom="20px",this._reset(),this._update(),this._subLayers)for(var t in this._subLayers)this._subLayers[t].setMap(this._mutant)}.bind(this))},onRemove:function(e){L.GridLayer.prototype.onRemove.call(this,e),e._container.removeChild(this._mutantContainer),this._mutantContainer=void 0,google.maps.event.clearListeners(e,"idle"),google.maps.event.clearListeners(this._mutant,"idle"),e.off("viewreset",this._reset,this),e.off("move",this._update,this),e.off("zoomend",this._handleZoomAnim,this),e.off("resize",this._resize,this),e._controlCorners&&(e._controlCorners.bottomright.style.marginBottom="0em",e._controlCorners.bottomleft.style.marginBottom="0em")},getAttribution:function(){return this.options.attribution},setOpacity:function(e){this.options.opacity=e,e<1&&L.DomUtil.setOpacity(this._mutantContainer,e)},setElementSize:function(e,t){e.style.width=t.x+"px",e.style.height=t.y+"px"},addGoogleLayer:function(e,t){return this._subLayers||(this._subLayers={}),this._GAPIPromise.then(function(){var n=new(0,google.maps[e])(t);return n.setMap(this._mutant),this._subLayers[e]=n,n}.bind(this))},removeGoogleLayer:function(e){var t=this._subLayers&&this._subLayers[e];t&&(t.setMap(null),delete this._subLayers[e])},_initMutantContainer:function(){this._mutantContainer||(this._mutantContainer=L.DomUtil.create("div","leaflet-google-mutant leaflet-top leaflet-left"),this._mutantContainer.id="_MutantContainer_"+L.Util.stamp(this._mutantContainer),this._mutantContainer.style.zIndex="800",this._mutantContainer.style.pointerEvents="none",this._map.getContainer().appendChild(this._mutantContainer)),this.setOpacity(this.options.opacity),this.setElementSize(this._mutantContainer,this._map.getSize()),this._attachObserver(this._mutantContainer)},_initMutant:function(){if(this._ready&&this._mutantContainer){this._mutantCenter=new google.maps.LatLng(0,0);var e=new google.maps.Map(this._mutantContainer,{center:this._mutantCenter,zoom:0,tilt:0,mapTypeId:this.options.type,disableDefaultUI:!0,keyboardShortcuts:!1,draggable:!1,disableDoubleClickZoom:!0,scrollwheel:!1,streetViewControl:!1,styles:this.options.styles||{},backgroundColor:"transparent"});this._mutant=e,google.maps.event.addListenerOnce(e,"idle",function(){for(var e=this._mutantContainer.querySelectorAll("a"),t=0;t<e.length;t++)e[t].style.pointerEvents="auto"}.bind(this)),this.fire("spawned",{mapObject:e})}},_attachObserver:function(e){new MutationObserver(this._onMutations.bind(this)).observe(e,{childList:!0,subtree:!0})},_onMutations:function(e){for(var t=0;t<e.length;++t)for(var n=e[t],r=0;r<n.addedNodes.length;++r){var o=n.addedNodes[r];o instanceof HTMLImageElement?this._onMutatedImage(o):o instanceof HTMLElement&&Array.prototype.forEach.call(o.querySelectorAll("img"),this._onMutatedImage.bind(this))}},_roadRegexp:/!1i(\d+)!2i(\d+)!3i(\d+)!/,_satRegexp:/x=(\d+)&y=(\d+)&z=(\d+)/,_staticRegExp:/StaticMapService\.GetMapImage/,_onMutatedImage:function(e){var t,n=e.src.match(this._roadRegexp),r=0;if(n?(t={z:n[1],x:n[2],y:n[3]},this._imagesPerTile>1&&(e.style.zIndex=1,r=1)):((n=e.src.match(this._satRegexp))&&(t={x:n[1],y:n[2],z:n[3]}),r=0),t){var o=this._tileCoordsToKey(t);e.style.position="absolute",e.style.visibility="hidden";var i=o+"/"+r;if(this._freshTiles[i]=e,i in this._tileCallbacks&&this._tileCallbacks[i])this._tileCallbacks[i].pop()(e),this._tileCallbacks[i].length||delete this._tileCallbacks[i];else if(this._tiles[o]){var a=this._tiles[o].el,s=0===r?a.firstChild:a.firstChild.nextSibling,l=this._clone(e);a.replaceChild(l,s)}}else e.src.match(this._staticRegExp)&&(e.style.visibility="hidden")},createTile:function(e,t){var n=this._tileCoordsToKey(e),r=L.DomUtil.create("div");r.dataset.pending=this._imagesPerTile,t=t.bind(this,null,r);for(var o=0;o<this._imagesPerTile;o++){var i=n+"/"+o;if(i in this._freshTiles){var a=this._freshTiles[i];r.appendChild(this._clone(a)),r.dataset.pending--}else this._tileCallbacks[i]=this._tileCallbacks[i]||[],this._tileCallbacks[i].push(function(e){return function(n){e.appendChild(this._clone(n)),e.dataset.pending--,parseInt(e.dataset.pending)||t()}.bind(this)}.bind(this)(r))}return parseInt(r.dataset.pending)||L.Util.requestAnimFrame(t),r},_clone:function(e){var t=e.cloneNode(!0);return t.style.visibility="visible",t},_checkZoomLevels:function(){var e=this._map.getZoom(),t=this._mutant.getZoom();e&&t&&(t!==e||t>this.options.maxNativeZoom)&&this._setMaxNativeZoom(t)},_setMaxNativeZoom:function(e){e!=this.options.maxNativeZoom&&(this.options.maxNativeZoom=e,this._resetView())},_reset:function(){this._initContainer()},_update:function(){if(this._mutant){var e=this._map.getCenter(),t=new google.maps.LatLng(e.lat,e.lng);this._mutant.setCenter(t);var n=this._map.getZoom(),r=n!==Math.round(n),o=this._mutant.getZoom();r||n==o||(this._mutant.setZoom(n),this._mutantIsReady&&this._checkZoomLevels())}L.GridLayer.prototype._update.call(this)},_resize:function(){var e=this._map.getSize();this._mutantContainer.style.width===e.x&&this._mutantContainer.style.height===e.y||(this.setElementSize(this._mutantContainer,e),this._mutant&&google.maps.event.trigger(this._mutant,"resize"))},_handleZoomAnim:function(){if(this._mutant){var e=this._map.getCenter(),t=new google.maps.LatLng(e.lat,e.lng);this._mutant.setCenter(t),this._mutant.setZoom(Math.round(this._map.getZoom()))}},_removeTile:function(e){if(this._mutant)return setTimeout(this._pruneTile.bind(this,e),1e3),L.GridLayer.prototype._removeTile.call(this,e)},_pruneTile:function(e){for(var t=this._mutant.getZoom(),n=e.split(":")[2],r=this._mutant.getBounds(),o=r.getSouthWest(),i=r.getNorthEast(),a=L.latLngBounds([[o.lat(),o.lng()],[i.lat(),i.lng()]]),s=0;s<this._imagesPerTile;s++){var l=e+"/"+s;if(l in this._freshTiles){var u=this._map&&this._keyToBounds(e);this._map&&u.overlaps(a)&&n==t||delete this._freshTiles[l]}}}}),L.gridLayer.googleMutant=function(e){return new L.GridLayer.GoogleMutant(e)}},"./node_modules/leaflet.locatecontrol/dist/L.Control.Locate.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./node_modules/leaflet.locatecontrol/dist/L.Control.Locate.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./node_modules/leaflet.locatecontrol/src/L.Control.Locate.js":function(e,t,n){var r,o,i;
/*!
Copyright (c) 2016 Dominik Moritz

This file is part of the leaflet locate control. It is licensed under the MIT license.
You can find the project at: https://github.com/domoritz/leaflet-locatecontrol
*/!function(a,s){o=[n("./MapStore2/web/client/libs/leaflet.js")],void 0===(i="function"==typeof(r=a)?r.apply(t,o):r)||(e.exports=i),void 0!==s&&s.L&&(s.L.Control.Locate=a(L))}((function(e){var t=function(t,n,r){(r=r.split(" ")).forEach((function(r){e.DomUtil[t].call(this,n,r)}))},n=function(e,n){t("addClass",e,n)},r=function(e,n){t("removeClass",e,n)},o=e.Control.extend({options:{position:"topleft",layer:void 0,setView:"untilPan",keepCurrentZoomLevel:!1,flyTo:!1,clickBehavior:{inView:"stop",outOfView:"setView"},returnToPrevBounds:!1,cacheLocation:!0,drawCircle:!0,drawMarker:!0,markerClass:e.CircleMarker,circleStyle:{color:"#136AEC",fillColor:"#136AEC",fillOpacity:.15,weight:2,opacity:.5},markerStyle:{color:"#136AEC",fillColor:"#2A93EE",fillOpacity:.7,weight:2,opacity:.9,radius:5},followCircleStyle:{},followMarkerStyle:{},icon:"fa fa-map-marker",iconLoading:"fa fa-spinner fa-spin",iconElementTag:"span",circlePadding:[0,0],metric:!0,createButtonCallback:function(t,n){var r=e.DomUtil.create("a","leaflet-bar-part leaflet-bar-part-single",t);return r.title=n.strings.title,{link:r,icon:e.DomUtil.create(n.iconElementTag,n.icon,r)}},onLocationError:function(e,t){alert(e.message)},onLocationOutsideMapBounds:function(e){e.stop(),alert(e.options.strings.outsideMapBoundsMsg)},showPopup:!0,strings:{title:"Show me where I am",metersUnit:"meters",feetUnit:"feet",popup:"You are within {distance} {unit} from this point",outsideMapBoundsMsg:"You seem located outside the boundaries of the map"},locateOptions:{maxZoom:1/0,watch:!0,setView:!1}},initialize:function(t){for(var n in t)"object"==typeof this.options[n]?e.extend(this.options[n],t[n]):this.options[n]=t[n];this.options.followMarkerStyle=e.extend({},this.options.markerStyle,this.options.followMarkerStyle),this.options.followCircleStyle=e.extend({},this.options.circleStyle,this.options.followCircleStyle)},onAdd:function(t){var n=e.DomUtil.create("div","leaflet-control-locate leaflet-bar leaflet-control");this._layer=this.options.layer||new e.LayerGroup,this._layer.addTo(t),this._event=void 0,this._prevBounds=null;var r=this.options.createButtonCallback(n,this.options);return this._link=r.link,this._icon=r.icon,e.DomEvent.on(this._link,"click",e.DomEvent.stopPropagation).on(this._link,"click",e.DomEvent.preventDefault).on(this._link,"click",this._onClick,this).on(this._link,"dblclick",e.DomEvent.stopPropagation),this._resetVariables(),this._map.on("unload",this._unload,this),n},_onClick:function(){if(this._justClicked=!0,this._userPanned=!1,this._active&&!this._event)this.stop();else if(this._active&&void 0!==this._event){switch(this._map.getBounds().contains(this._event.latlng)?this.options.clickBehavior.inView:this.options.clickBehavior.outOfView){case"setView":this.setView();break;case"stop":if(this.stop(),this.options.returnToPrevBounds)(this.options.flyTo?this._map.flyToBounds:this._map.fitBounds).bind(this._map)(this._prevBounds)}}else this.options.returnToPrevBounds&&(this._prevBounds=this._map.getBounds()),this.start();this._updateContainerStyle()},start:function(){this._activate(),this._event&&(this._drawMarker(this._map),this.options.setView&&this.setView()),this._updateContainerStyle()},stop:function(){this._deactivate(),this._cleanClasses(),this._resetVariables(),this._removeMarker()},_activate:function(){this._active||(this._map.locate(this.options.locateOptions),this._active=!0,this._map.on("locationfound",this._onLocationFound,this),this._map.on("locationerror",this._onLocationError,this),this._map.on("dragstart",this._onDrag,this))},_deactivate:function(){this._map.stopLocate(),this._active=!1,this.options.cacheLocation||(this._event=void 0),this._map.off("locationfound",this._onLocationFound,this),this._map.off("locationerror",this._onLocationError,this),this._map.off("dragstart",this._onDrag,this)},setView:function(){(this._drawMarker(),this._isOutsideMapBounds())?(this._event=void 0,this.options.onLocationOutsideMapBounds(this)):this.options.keepCurrentZoomLevel?(this.options.flyTo?this._map.flyTo:this._map.panTo).bind(this._map)([this._event.latitude,this._event.longitude]):(this.options.flyTo?this._map.flyToBounds:this._map.fitBounds).bind(this._map)(this._event.bounds,{padding:this.options.circlePadding,maxZoom:this.options.locateOptions.maxZoom})},_drawMarker:function(){void 0===this._event.accuracy&&(this._event.accuracy=0);var t,n,r=this._event.accuracy,o=this._event.latlng;if(this.options.drawCircle){var i=this._isFollowing()?this.options.followCircleStyle:this.options.circleStyle;this._circle?this._circle.setLatLng(o).setRadius(r).setStyle(i):this._circle=e.circle(o,r,i).addTo(this._layer)}if(this.options.metric?(t=r.toFixed(0),n=this.options.strings.metersUnit):(t=(3.2808399*r).toFixed(0),n=this.options.strings.feetUnit),this.options.drawMarker){var a=this._isFollowing()?this.options.followMarkerStyle:this.options.markerStyle;this._marker?(this._marker.setLatLng(o),this._marker.setStyle&&this._marker.setStyle(a)):this._marker=new this.options.markerClass(o,a).addTo(this._layer)}var s=this.options.strings.popup;this.options.showPopup&&s&&this._marker&&this._marker.bindPopup(e.Util.template(s,{distance:t,unit:n}))._popup.setLatLng(o)},_removeMarker:function(){this._layer.clearLayers(),this._marker=void 0,this._circle=void 0},_unload:function(){this.stop(),this._map.off("unload",this._unload,this)},_onLocationError:function(e){3==e.code&&this.options.locateOptions.watch||(this.stop(),this.options.onLocationError(e,this))},_onLocationFound:function(e){if((!this._event||this._event.latlng.lat!==e.latlng.lat||this._event.latlng.lng!==e.latlng.lng||this._event.accuracy!==e.accuracy)&&this._active){switch(this._event=e,this._drawMarker(),this._updateContainerStyle(),this.options.setView){case"once":this._justClicked&&this.setView();break;case"untilPan":this._userPanned||this.setView();break;case"always":this.setView()}this._justClicked=!1}},_onDrag:function(){this._event&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_isFollowing:function(){return!!this._active&&("always"===this.options.setView||("untilPan"===this.options.setView?!this._userPanned:void 0))},_isOutsideMapBounds:function(){return void 0!==this._event&&(this._map.options.maxBounds&&!this._map.options.maxBounds.contains(this._event.latlng))},_updateContainerStyle:function(){this._container&&(this._active&&!this._event?this._setClasses("requesting"):this._isFollowing()?this._setClasses("following"):this._active?this._setClasses("active"):this._cleanClasses())},_setClasses:function(e){"requesting"==e?(r(this._container,"active following"),n(this._container,"requesting"),r(this._icon,this.options.icon),n(this._icon,this.options.iconLoading)):"active"==e?(r(this._container,"requesting following"),n(this._container,"active"),r(this._icon,this.options.iconLoading),n(this._icon,this.options.icon)):"following"==e&&(r(this._container,"requesting"),n(this._container,"active following"),r(this._icon,this.options.iconLoading),n(this._icon,this.options.icon))},_cleanClasses:function(){e.DomUtil.removeClass(this._container,"requesting"),e.DomUtil.removeClass(this._container,"active"),e.DomUtil.removeClass(this._container,"following"),r(this._icon,this.options.iconLoading),n(this._icon,this.options.icon)},_resetVariables:function(){this._active=!1,this._justClicked=!1,this._userPanned=!1}});return e.control.locate=function(t){return new e.Control.Locate(t)},o}),window)},"./node_modules/leaflet.nontiledlayer/dist/NonTiledLayer-src.js":function(e,t,n){(function(t){e.exports=function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};t[a][0].call(u.exports,(function(e){var n=t[a][1][e];return o(n||e)}),u,u.exports,e,t,n,r)}return n[a].exports}for(var i=!1,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,n,r){(function(e){"use strict";var t="undefined"!=typeof window?window.L:void 0!==e?e.L:null;t.NonTiledLayer.WMS=t.NonTiledLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1},options:{crs:null,uppercase:!1},initialize:function(e,n){this._wmsUrl=e;var r=t.extend({},this.defaultWmsParams);for(var o in n)t.NonTiledLayer.prototype.options.hasOwnProperty(o)||t.Layer&&t.Layer.prototype.options.hasOwnProperty(o)||(r[o]=n[o]);this.wmsParams=r,t.setOptions(this,n)},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var n=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[n]=this._crs.code,t.NonTiledLayer.prototype.onAdd.call(this,e)},getImageUrl:function(e,n,r){var o=this.wmsParams;o.width=n,o.height=r;var i=this._crs.project(e.getNorthWest()),a=this._crs.project(e.getSouthEast()),s=this._wmsUrl,l=l=(this._wmsVersion>=1.3&&this._crs===t.CRS.EPSG4326?[a.y,i.x,i.y,a.x]:[i.x,a.y,a.x,i.y]).join(",");return s+t.Util.getParamString(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+l},setParams:function(e,n){return t.extend(this.wmsParams,e),n||this.redraw(),this}}),t.nonTiledLayer.wms=function(e,n){return new t.NonTiledLayer.WMS(e,n)},n.exports=t.NonTiledLayer.WMS}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,n,r){(function(e){"use strict";var t="undefined"!=typeof window?window.L:void 0!==e?e.L:null;t.NonTiledLayer=(t.Layer||t.Class).extend({includes:t.Evented||t.Mixin.Events,emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAHAAACH5BAUAAAAALAAAAAABAAEAAAICRAEAOw==",options:{attribution:"",opacity:1,zIndex:void 0,minZoom:0,maxZoom:18,pointerEvents:null,errorImageUrl:"data:image/gif;base64,R0lGODlhAQABAHAAACH5BAUAAAAALAAAAAABAAEAAAICRAEAOw==",bounds:t.latLngBounds([-85.05,-180],[85.05,180]),useCanvas:void 0},key:"",initialize:function(e){t.setOptions(this,e)},onAdd:function(e){this._map=e,void 0===this._zoomAnimated&&(this._zoomAnimated=t.DomUtil.TRANSITION&&t.Browser.any3d&&!t.Browser.mobileOpera&&this._map.options.zoomAnimation),t.version<"1.0"&&this._map.on(this.getEvents(),this),this._div||(this._div=t.DomUtil.create("div","leaflet-image-layer"),this.options.pointerEvents&&(this._div.style["pointer-events"]=this.options.pointerEvents),void 0!==this.options.zIndex&&(this._div.style.zIndex=this.options.zIndex),void 0!==this.options.opacity&&(this._div.style.opacity=this.options.opacity)),this.getPane().appendChild(this._div);var n=!!window.HTMLCanvasElement;void 0===this.options.useCanvas?this._useCanvas=n:this._useCanvas=this.options.useCanvas,this._useCanvas?(this._bufferCanvas=this._initCanvas(),this._currentCanvas=this._initCanvas()):(this._bufferImage=this._initImage(),this._currentImage=this._initImage()),this._update()},getPane:function(){return t.Layer?t.Layer.prototype.getPane.call(this):(this.options.pane?this._pane=this.options.pane:this._pane=this._map.getPanes().overlayPane,this._pane)},onRemove:function(e){t.version<"1.0"&&this._map.off(this.getEvents(),this),this.getPane().removeChild(this._div),this._useCanvas?(this._div.removeChild(this._bufferCanvas),this._div.removeChild(this._currentCanvas)):(this._div.removeChild(this._bufferImage),this._div.removeChild(this._currentImage))},addTo:function(e){return e.addLayer(this),this},_setZoom:function(){this._useCanvas?(this._currentCanvas._bounds&&this._resetImageScale(this._currentCanvas,!0),this._bufferCanvas._bounds&&this._resetImageScale(this._bufferCanvas)):(this._currentImage._bounds&&this._resetImageScale(this._currentImage,!0),this._bufferImage._bounds&&this._resetImageScale(this._bufferImage))},getEvents:function(){var e={moveend:this._update};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),t.version>="1.0"&&(e.zoom=this._setZoom),e},getElement:function(){return this._div},setOpacity:function(e){return this.options.opacity=e,this._div&&t.DomUtil.setOpacity(this._div,this.options.opacity),this},setZIndex:function(e){return e&&(this.options.zIndex=e,this._div&&(this._div.style.zIndex=e)),this},bringToFront:function(){return this._div&&this.getPane().appendChild(this._div),this},bringToBack:function(){return this._div&&this.getPane().insertBefore(this._div,this.getPane().firstChild),this},getAttribution:function(){return this.options.attribution},_initCanvas:function(){var e=t.DomUtil.create("canvas","leaflet-image-layer");return this._div.appendChild(e),e._image=new Image,this._ctx=e.getContext("2d"),this._map.options.zoomAnimation&&t.Browser.any3d?t.DomUtil.addClass(e,"leaflet-zoom-animated"):t.DomUtil.addClass(e,"leaflet-zoom-hide"),t.extend(e._image,{onload:t.bind(this._onImageLoad,this),onerror:t.bind(this._onImageError,this)}),e},_initImage:function(){var e=t.DomUtil.create("img","leaflet-image-layer");return this._div.appendChild(e),this._map.options.zoomAnimation&&t.Browser.any3d?t.DomUtil.addClass(e,"leaflet-zoom-animated"):t.DomUtil.addClass(e,"leaflet-zoom-hide"),t.extend(e,{galleryimg:"no",onselectstart:t.Util.falseFn,onmousemove:t.Util.falseFn,onload:t.bind(this._onImageLoad,this),onerror:t.bind(this._onImageError,this)}),e},redraw:function(){return this._map&&this._update(),this},_animateZoom:function(e){this._useCanvas?(this._currentCanvas._bounds&&this._animateImage(this._currentCanvas,e),this._bufferCanvas._bounds&&this._animateImage(this._bufferCanvas,e)):(this._currentImage._bounds&&this._animateImage(this._currentImage,e),this._bufferImage._bounds&&this._animateImage(this._bufferImage,e))},_animateImage:function(e,n){if(void 0===t.DomUtil.setTransform){var r=this._map,o=e._scale*r.getZoomScale(n.zoom),i=e._bounds.getNorthWest(),a=e._bounds.getSouthEast(),s=r._latLngToNewLayerPoint(i,n.zoom,n.center),l=r._latLngToNewLayerPoint(a,n.zoom,n.center)._subtract(s),u=s._add(l._multiplyBy(.5*(1-1/o)));e.style[t.DomUtil.TRANSFORM]=t.DomUtil.getTranslateString(u)+" scale("+o+") "}else r=this._map,o=e._scale*e._sscale*r.getZoomScale(n.zoom),i=e._bounds.getNorthWest(),a=e._bounds.getSouthEast(),s=r._latLngToNewLayerPoint(i,n.zoom,n.center),t.DomUtil.setTransform(e,s,o);e._lastScale=o},_resetImageScale:function(e,n){var r=new t.Bounds(this._map.latLngToLayerPoint(e._bounds.getNorthWest()),this._map.latLngToLayerPoint(e._bounds.getSouthEast())),o=e._orgBounds.getSize().y,i=r.getSize().y/o;e._sscale=i,t.DomUtil.setTransform(e,r.min,i)},_resetImage:function(e){var n=new t.Bounds(this._map.latLngToLayerPoint(e._bounds.getNorthWest()),this._map.latLngToLayerPoint(e._bounds.getSouthEast())),r=n.getSize();t.DomUtil.setPosition(e,n.min),e._orgBounds=n,e._sscale=1,this._useCanvas?(e.width=r.x,e.height=r.y):(e.style.width=r.x+"px",e.style.height=r.y+"px")},_getClippedBounds:function(){var e=this._map.getBounds(),n=e.getSouth(),r=e.getNorth(),o=e.getWest(),i=e.getEast(),a=this.options.bounds.getSouth(),s=this.options.bounds.getNorth(),l=this.options.bounds.getWest(),u=this.options.bounds.getEast();n<a&&(n=a),r>s&&(r=s),o<l&&(o=l),i>u&&(i=u);var c=new t.LatLng(r,o),p=new t.LatLng(n,i);return new t.LatLngBounds(c,p)},_update:function(){var e,n=this._getClippedBounds(),r=this._map.latLngToContainerPoint(n.getNorthWest()),o=this._map.latLngToContainerPoint(n.getSouthEast()),i=o.x-r.x,a=o.y-r.y;if(this._useCanvas?(this._bufferCanvas._scale=this._bufferCanvas._lastScale,this._currentCanvas._scale=this._currentCanvas._lastScale=1,this._bufferCanvas._sscale=1,this._currentCanvas._bounds=n,this._resetImage(this._currentCanvas),e=this._currentCanvas._image,t.DomUtil.setOpacity(e,0)):(this._bufferImage._scale=this._bufferImage._lastScale,this._currentImage._scale=this._currentImage._lastScale=1,this._bufferImage._sscale=1,this._currentImage._bounds=n,this._resetImage(this._currentImage),e=this._currentImage,t.DomUtil.setOpacity(e,0)),this._map.getZoom()<this.options.minZoom||this._map.getZoom()>this.options.maxZoom||i<32||a<32)return this._div.style.visibility="hidden",e.src=this.emptyImageUrl,this.key=e.key="<empty>",void(e.tag=null);this.fire("loading"),this.key=n.getNorthWest()+", "+n.getSouthEast()+", "+i+", "+a,this.getImageUrl?(e.src=this.getImageUrl(n,i,a),e.key=this.key):this.getImageUrlAsync(n,i,a,this.key,(function(t,n,r){e.key=t,e.src=n,e.tag=r}))},_onImageError:function(e){this.fire("error",e),t.DomUtil.addClass(e.target,"invalid"),e.target.src!==this.options.errorImageUrl&&(e.target.src=this.options.errorImageUrl)},_onImageLoad:function(e){(e.target.src===this.options.errorImageUrl||(t.DomUtil.removeClass(e.target,"invalid"),e.target.key&&e.target.key===this.key))&&(this._onImageDone(e),this.fire("load",e))},_onImageDone:function(e){if(this._useCanvas)this._renderCanvas(e);else{t.DomUtil.setOpacity(this._currentImage,1),t.DomUtil.setOpacity(this._bufferImage,0),this._addInteraction&&this._currentImage.tag&&this._addInteraction(this._currentImage.tag);var n=this._bufferImage;this._bufferImage=this._currentImage,this._currentImage=n}"<empty>"!==e.target.key&&(this._div.style.visibility="visible")},_renderCanvas:function(e){this._currentCanvas.getContext("2d").drawImage(this._currentCanvas._image,0,0),t.DomUtil.setOpacity(this._currentCanvas,1),t.DomUtil.setOpacity(this._bufferCanvas,0),this._addInteraction&&this._currentCanvas._image.tag&&this._addInteraction(this._currentCanvas._image.tag);var n=this._bufferCanvas;this._bufferCanvas=this._currentCanvas,this._currentCanvas=n}}),t.nonTiledLayer=function(){return new t.NonTiledLayer},n.exports=t.NonTiledLayer}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[2,1])(2)}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/load-script/index.js":function(e,t){function n(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function r(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,t,o){var i=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script");"function"==typeof t&&(o=t,t={}),t=t||{},o=o||function(){},a.type=t.type||"text/javascript",a.charset=t.charset||"utf8",a.async=!("async"in t)||!!t.async,a.src=e,t.attrs&&function(e,t){for(var n in t)e.setAttribute(n,t[n])}(a,t.attrs),t.text&&(a.text=""+t.text),("onload"in a?n:r)(a,o),a.onload||n(a,o),i.appendChild(a)}},"./node_modules/lrucache/index.js":function(e,t,n){var r,o,i;!function(n,a){"use strict";"object"==typeof e.exports?e.exports=a():(o=[],void 0===(i="function"==typeof(r=a)?r.apply(t,o):r)||(e.exports=i))}("object"==typeof window&&window,(function(){"use strict";function e(t){if(!(this instanceof e))return new e(t);this._LRUCacheState=new n(t)}var t=e.prototype;function n(e){this.capacity=e>0?+e:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE,this.data=Object.create?Object.create(null):{},this.hash=Object.create?Object.create(null):{},this.linkedList=new r}function r(){this.length=0,this.head=null,this.end=null}function o(e){this.key=e,this.p=null,this.n=null}function i(e,t){t!==e.head&&(e.end?e.end===t&&(e.end=t.n):e.end=t,a(t.n,t.p),a(t,e.head),e.head=t,e.head.n=null)}function a(e,t){e!==t&&(e&&(e.p=t),t&&(t.n=e))}return t.get=function(e){var t=this._LRUCacheState,n=t.hash[e];if(n)return i(t.linkedList,n),t.data[e]},t.set=function(e,t){var n=this._LRUCacheState,r=n.hash[e];return void 0===t||(r||(n.hash[e]=new o(e),n.linkedList.length+=1,r=n.hash[e]),i(n.linkedList,r),n.data[e]=t,n.linkedList.length>n.capacity&&this.remove(n.linkedList.end.key)),this},t.update=function(e,t){return this.has(e)&&this.set(e,t(this.get(e))),this},t.remove=function(e){var t=this._LRUCacheState,n=t.hash[e];return n?(n===t.linkedList.head&&(t.linkedList.head=n.p),n===t.linkedList.end&&(t.linkedList.end=n.n),a(n.n,n.p),delete t.hash[e],delete t.data[e],t.linkedList.length-=1,this):this},t.removeAll=function(){return this._LRUCacheState=new n(this._LRUCacheState.capacity),this},t.info=function(){var e=this._LRUCacheState;return{capacity:e.capacity,length:e.linkedList.length}},t.keys=function(){for(var e=[],t=this._LRUCacheState.linkedList.head;t;)e.push(t.key),t=t.p;return e},t.has=function(e){return!!this._LRUCacheState.hash[e]},t.staleKey=function(){return this._LRUCacheState.linkedList.end&&this._LRUCacheState.linkedList.end.key},t.popStale=function(){var e=this.staleKey();if(!e)return null;var t=[e,this._LRUCacheState.data[e]];return this.remove(e),t},e}))},"./node_modules/node-geo-distance/index.js":function(e,t){Number.prototype.toRad=function(){return this*Math.PI/180},t.vincenty=function(e,t,n){var r,o=6378137,i=6356752.314245,a=1/298.257223563,s=e.latitude,l=e.longitude,u=t.latitude,c=(t.longitude-l).toRad(),p=Math.atan((1-a)*Math.tan(s.toRad())),f=Math.atan((1-a)*Math.tan(u.toRad())),d=Math.sin(p),h=Math.cos(p),m=Math.sin(f),y=Math.cos(f),g=c,b=100;do{var v=Math.sin(g),_=Math.cos(g),w=Math.sqrt(y*v*(y*v)+(h*m-d*y*_)*(h*m-d*y*_));0==w&&n(0);var O=d*m+h*y*_,j=Math.atan2(w,O),S=h*y*v/w,E=1-S*S,x=O-2*d*m/E;isNaN(x)&&(x=0);var P=a/16*E*(4+a*(4-3*E));r=g,g=c+(1-P)*a*S*(j+P*w*(x+P*O*(2*x*x-1)))}while(Math.abs(g-r)>1e-12&&--b>0);0==b&&n(NaN);var M=E*(o*o-i*i)/(i*i),L=M/1024*(256+M*(M*(74-47*M)-128)),T=i*(1+M/16384*(4096+M*(M*(320-175*M)-768)))*(j-L*w*(x+L/4*(O*(2*x*x-1)-L/6*x*(4*w*w-3)*(4*x*x-3))));n(T=T.toFixed(3))},t.vincentySync=function(e,t){var n,r=6378137,o=6356752.314245,i=1/298.257223563,a=e.latitude,s=e.longitude,l=t.latitude,u=(t.longitude-s).toRad(),c=Math.atan((1-i)*Math.tan(a.toRad())),p=Math.atan((1-i)*Math.tan(l.toRad())),f=Math.sin(c),d=Math.cos(c),h=Math.sin(p),m=Math.cos(p),y=u,g=100;do{var b=Math.sin(y),v=Math.cos(y),_=Math.sqrt(m*b*(m*b)+(d*h-f*m*v)*(d*h-f*m*v));if(0==_)return 0;var w=f*h+d*m*v,O=Math.atan2(_,w),j=d*m*b/_,S=1-j*j,E=w-2*f*h/S;isNaN(E)&&(E=0);var x=i/16*S*(4+i*(4-3*S));n=y,y=u+(1-x)*i*j*(O+x*_*(E+x*w*(2*E*E-1)))}while(Math.abs(y-n)>1e-12&&--g>0);if(0==g)return NaN;var P=S*(r*r-o*o)/(o*o),M=P/1024*(256+P*(P*(74-47*P)-128)),L=o*(1+P/16384*(4096+P*(P*(320-175*P)-768)))*(O-M*_*(E+M/4*(w*(2*E*E-1)-M/6*E*(4*_*_-3)*(4*E*E-3))));return L=L.toFixed(3)},t.haversine=function(e,t,n){var r=e.latitude,o=e.longitude,i=t.latitude,a=t.longitude,s=(i-r).toRad(),l=(a-o).toRad(),u=Math.sin(s/2)*Math.sin(s/2)+Math.cos(r.toRad())*Math.cos(i.toRad())*Math.sin(l/2)*Math.sin(l/2);return n((1e3*(6371*(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))))).toFixed(3))},t.haversineSync=function(e,t){var n=e.latitude,r=e.longitude,o=t.latitude,i=t.longitude,a=(o-n).toRad(),s=(i-r).toRad(),l=Math.sin(a/2)*Math.sin(a/2)+Math.cos(n.toRad())*Math.cos(o.toRad())*Math.sin(s/2)*Math.sin(s/2);return(1e3*(6371*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))))).toFixed(3)}},"./node_modules/ol/AssertionError.js":function(e,t,n){"use strict";var r=n("./node_modules/ol/util.js"),o=function(e){function t(t){var n="Assertion failed. See https://openlayers.org/en/"+("latest"===r.a?r.a:"v"+r.a.split("-")[0])+"/doc/errors/#"+t+" for details.";e.call(this,n),this.code=t,this.name="AssertionError",this.message=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error);t.a=o},"./node_modules/ol/Disposable.js":function(e,t,n){"use strict";var r=function(){this.disposed_=!1};r.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},r.prototype.disposeInternal=function(){},t.a=r},"./node_modules/ol/Geolocation.js":function(e,t,n){"use strict";var r=n("./node_modules/ol/Object.js"),o=n("./node_modules/ol/events.js"),i=n("./node_modules/ol/events/Event.js"),a=n("./node_modules/ol/events/EventType.js"),s=n("./node_modules/ol/geom/Polygon.js"),l=n("./node_modules/ol/has.js"),u=n("./node_modules/ol/math.js"),c=n("./node_modules/ol/proj.js"),p="accuracy",f="accuracyGeometry",d="altitude",h="altitudeAccuracy",m="heading",y="position",g="projection",b="speed",v="tracking",_="trackingOptions",w=function(e){function t(t){e.call(this,a.a.ERROR),this.code=t.code,this.message=t.message}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(i.a),O=function(e){function t(t){e.call(this);var n=t||{};this.position_=null,this.transform_=c.j,this.watchId_=void 0,Object(o.a)(this,Object(r.b)(g),this.handleProjectionChanged_,this),Object(o.a)(this,Object(r.b)(v),this.handleTrackingChanged_,this),void 0!==n.projection&&this.setProjection(n.projection),void 0!==n.trackingOptions&&this.setTrackingOptions(n.trackingOptions),this.setTracking(void 0!==n.tracking&&n.tracking)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.disposeInternal=function(){this.setTracking(!1),e.prototype.disposeInternal.call(this)},t.prototype.handleProjectionChanged_=function(){var e=this.getProjection();e&&(this.transform_=Object(c.i)(Object(c.f)("EPSG:4326"),e),this.position_&&this.set(y,this.transform_(this.position_)))},t.prototype.handleTrackingChanged_=function(){if(l.d){var e=this.getTracking();e&&void 0===this.watchId_?this.watchId_=navigator.geolocation.watchPosition(this.positionChange_.bind(this),this.positionError_.bind(this),this.getTrackingOptions()):e||void 0===this.watchId_||(navigator.geolocation.clearWatch(this.watchId_),this.watchId_=void 0)}},t.prototype.positionChange_=function(e){var t=e.coords;this.set(p,t.accuracy),this.set(d,null===t.altitude?void 0:t.altitude),this.set(h,null===t.altitudeAccuracy?void 0:t.altitudeAccuracy),this.set(m,null===t.heading?void 0:Object(u.i)(t.heading)),this.position_?(this.position_[0]=t.longitude,this.position_[1]=t.latitude):this.position_=[t.longitude,t.latitude];var n=this.transform_(this.position_);this.set(y,n),this.set(b,null===t.speed?void 0:t.speed);var r=Object(s.a)(this.position_,t.accuracy);r.applyTransform(this.transform_),this.set(f,r),this.changed()},t.prototype.positionError_=function(e){this.setTracking(!1),this.dispatchEvent(new w(e))},t.prototype.getAccuracy=function(){return this.get(p)},t.prototype.getAccuracyGeometry=function(){return this.get(f)||null},t.prototype.getAltitude=function(){return this.get(d)},t.prototype.getAltitudeAccuracy=function(){return this.get(h)},t.prototype.getHeading=function(){return this.get(m)},t.prototype.getPosition=function(){return this.get(y)},t.prototype.getProjection=function(){return this.get(g)},t.prototype.getSpeed=function(){return this.get(b)},t.prototype.getTracking=function(){return this.get(v)},t.prototype.getTrackingOptions=function(){return this.get(_)},t.prototype.setProjection=function(e){this.set(g,Object(c.f)(e))},t.prototype.setTracking=function(e){this.set(v,e)},t.prototype.setTrackingOptions=function(e){this.set(_,e)},t}(r.a);t.a=O},"./node_modules/ol/Graticule.js":function(e,t,n){"use strict";var r=n("./node_modules/ol/coordinate.js"),o=n("./node_modules/ol/events.js"),i=n("./node_modules/ol/extent.js"),a=n("./node_modules/ol/geom/GeometryLayout.js"),s=n("./node_modules/ol/geom/LineString.js"),l=n("./node_modules/ol/geom/Point.js"),u=n("./node_modules/ol/math.js"),c=n("./node_modules/ol/proj.js");function p(e,t,n){for(var r,o,i,a,s,l,c=[],p=e(0),f=e(1),d=t(p),h=t(f),m=[f,p],y=[h,d],g=[1,0],b={},v=1e5;--v>0&&g.length>0;)i=g.pop(),p=m.pop(),d=y.pop(),(l=i.toString())in b||(c.push(d[0],d[1]),b[l]=!0),a=g.pop(),f=m.pop(),h=y.pop(),o=t(r=e(s=(i+a)/2)),Object(u.g)(o[0],o[1],d[0],d[1],h[0],h[1])<n?(c.push(h[0],h[1]),b[l=a.toString()]=!0):(g.push(a,s,s,i),y.push(h,o,o,d),m.push(f,r,r,p));return c}var f=n("./node_modules/ol/render/EventType.js"),d=n("./node_modules/ol/style/Fill.js"),h=n("./node_modules/ol/style/Stroke.js"),m=n("./node_modules/ol/style/Text.js"),y=new h.default({color:"rgba(0,0,0,0.2)"}),g=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001],b=function(e){var t=e||{};this.map_=null,this.postcomposeListenerKey_=null,this.projection_=null,this.maxLat_=1/0,this.maxLon_=1/0,this.minLat_=-1/0,this.minLon_=-1/0,this.maxLatP_=1/0,this.maxLonP_=1/0,this.minLatP_=-1/0,this.minLonP_=-1/0,this.targetSize_=void 0!==t.targetSize?t.targetSize:100,this.maxLines_=void 0!==t.maxLines?t.maxLines:100,this.meridians_=[],this.parallels_=[],this.strokeStyle_=void 0!==t.strokeStyle?t.strokeStyle:y,this.fromLonLatTransform_=void 0,this.toLonLatTransform_=void 0,this.projectionCenterLonLat_=null,this.meridiansLabels_=null,this.parallelsLabels_=null,1==t.showLabels&&(this.lonLabelFormatter_=null==t.lonLabelFormatter?r.c.bind(this,"EW"):t.lonLabelFormatter,this.latLabelFormatter_=null==t.latLabelFormatter?r.c.bind(this,"NS"):t.latLabelFormatter,this.lonLabelPosition_=null==t.lonLabelPosition?0:t.lonLabelPosition,this.latLabelPosition_=null==t.latLabelPosition?1:t.latLabelPosition,this.lonLabelStyle_=void 0!==t.lonLabelStyle?t.lonLabelStyle:new m.default({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new d.default({color:"rgba(0,0,0,1)"}),stroke:new h.default({color:"rgba(255,255,255,1)",width:3})}),this.latLabelStyle_=void 0!==t.latLabelStyle?t.latLabelStyle:new m.default({font:"12px Calibri,sans-serif",textAlign:"end",fill:new d.default({color:"rgba(0,0,0,1)"}),stroke:new h.default({color:"rgba(255,255,255,1)",width:3})}),this.meridiansLabels_=[],this.parallelsLabels_=[]),this.intervals_=void 0!==t.intervals?t.intervals:g,this.setMap(void 0!==t.map?t.map:null)};b.prototype.addMeridian_=function(e,t,n,r,o,a){var s=this.getMeridian_(e,t,n,r,a);if(Object(i.F)(s.getExtent(),o)){if(this.meridiansLabels_){var l=this.getMeridianPoint_(s,o,a);this.meridiansLabels_[a]={geom:l,text:this.lonLabelFormatter_(e)}}this.meridians_[a++]=s}return a},b.prototype.getMeridianPoint_=function(e,t,n){var r,o=e.getFlatCoordinates(),i=Math.max(t[1],o[1]),a=Math.min(t[3],o[o.length-1]),s=Object(u.a)(t[1]+Math.abs(t[1]-t[3])*this.lonLabelPosition_,i,a),c=[o[0],s];return n in this.meridiansLabels_?(r=this.meridiansLabels_[n].geom).setCoordinates(c):r=new l.a(c),r},b.prototype.addParallel_=function(e,t,n,r,o,a){var s=this.getParallel_(e,t,n,r,a);if(Object(i.F)(s.getExtent(),o)){if(this.parallelsLabels_){var l=this.getParallelPoint_(s,o,a);this.parallelsLabels_[a]={geom:l,text:this.latLabelFormatter_(e)}}this.parallels_[a++]=s}return a},b.prototype.getParallelPoint_=function(e,t,n){var r,o=e.getFlatCoordinates(),i=Math.max(t[0],o[0]),a=Math.min(t[2],o[o.length-2]),s=[Object(u.a)(t[0]+Math.abs(t[0]-t[2])*this.latLabelPosition_,i,a),o[1]];return n in this.parallelsLabels_?(r=this.parallelsLabels_[n].geom).setCoordinates(s):r=new l.a(s),r},b.prototype.createGraticule_=function(e,t,n,r){var o=this.getInterval_(n);if(-1==o)return this.meridians_.length=this.parallels_.length=0,this.meridiansLabels_&&(this.meridiansLabels_.length=0),void(this.parallelsLabels_&&(this.parallelsLabels_.length=0));var i,a,s,l,p=this.toLonLatTransform_(t),f=p[0],d=p[1],h=this.maxLines_,m=[Math.max(e[0],this.minLonP_),Math.max(e[1],this.minLatP_),Math.min(e[2],this.maxLonP_),Math.min(e[3],this.maxLatP_)],y=(m=Object(c.m)(m,this.projection_,"EPSG:4326"))[3],g=m[2],b=m[1],v=m[0];for(f=Math.floor(f/o)*o,l=Object(u.a)(f,this.minLon_,this.maxLon_),a=this.addMeridian_(l,b,y,r,e,0),i=0;l!=this.minLon_&&i++<h;)l=Math.max(l-o,this.minLon_),a=this.addMeridian_(l,b,y,r,e,a);for(l=Object(u.a)(f,this.minLon_,this.maxLon_),i=0;l!=this.maxLon_&&i++<h;)l=Math.min(l+o,this.maxLon_),a=this.addMeridian_(l,b,y,r,e,a);for(this.meridians_.length=a,this.meridiansLabels_&&(this.meridiansLabels_.length=a),d=Math.floor(d/o)*o,s=Object(u.a)(d,this.minLat_,this.maxLat_),a=this.addParallel_(s,v,g,r,e,0),i=0;s!=this.minLat_&&i++<h;)s=Math.max(s-o,this.minLat_),a=this.addParallel_(s,v,g,r,e,a);for(s=Object(u.a)(d,this.minLat_,this.maxLat_),i=0;s!=this.maxLat_&&i++<h;)s=Math.min(s+o,this.maxLat_),a=this.addParallel_(s,v,g,r,e,a);this.parallels_.length=a,this.parallelsLabels_&&(this.parallelsLabels_.length=a)},b.prototype.getInterval_=function(e){for(var t=this.projectionCenterLonLat_[0],n=this.projectionCenterLonLat_[1],r=-1,o=Math.pow(this.targetSize_*e,2),i=[],a=[],s=0,l=this.intervals_.length;s<l;++s){var u=this.intervals_[s]/2;if(i[0]=t-u,i[1]=n-u,a[0]=t+u,a[1]=n+u,this.fromLonLatTransform_(i,i),this.fromLonLatTransform_(a,a),Math.pow(a[0]-i[0],2)+Math.pow(a[1]-i[1],2)<=o)break;r=this.intervals_[s]}return r},b.prototype.getMap=function(){return this.map_},b.prototype.getMeridian_=function(e,t,n,r,o){var i=function(e,t,n,r,o){var i=Object(c.f)("EPSG:4326");return p((function(r){return[e,t+(n-t)*r]}),Object(c.h)(i,r),o)}(e,t,n,this.projection_,r),l=this.meridians_[o];return l?(l.setFlatCoordinates(a.a.XY,i),l.changed()):l=this.meridians_[o]=new s.a(i,a.a.XY),l},b.prototype.getMeridians=function(){return this.meridians_},b.prototype.getParallel_=function(e,t,n,r,o){var i=function(e,t,n,r,o){var i=Object(c.f)("EPSG:4326");return p((function(r){return[t+(n-t)*r,e]}),Object(c.h)(i,r),o)}(e,t,n,this.projection_,r),l=this.parallels_[o];return l?(l.setFlatCoordinates(a.a.XY,i),l.changed()):l=new s.a(i,a.a.XY),l},b.prototype.getParallels=function(){return this.parallels_},b.prototype.handlePostCompose_=function(e){var t,n,r,o,i=e.vectorContext,a=e.frameState,s=a.extent,l=a.viewState,u=l.center,p=l.projection,f=l.resolution,d=a.pixelRatio,h=f*f/(4*d*d);for((!this.projection_||!Object(c.e)(this.projection_,p))&&this.updateProjectionInfo_(p),this.createGraticule_(s,u,f,h),i.setFillStrokeStyle(null,this.strokeStyle_),t=0,n=this.meridians_.length;t<n;++t)r=this.meridians_[t],i.drawGeometry(r);for(t=0,n=this.parallels_.length;t<n;++t)r=this.parallels_[t],i.drawGeometry(r);if(this.meridiansLabels_)for(t=0,n=this.meridiansLabels_.length;t<n;++t)o=this.meridiansLabels_[t],this.lonLabelStyle_.setText(o.text),i.setTextStyle(this.lonLabelStyle_),i.drawGeometry(o.geom);if(this.parallelsLabels_)for(t=0,n=this.parallelsLabels_.length;t<n;++t)o=this.parallelsLabels_[t],this.latLabelStyle_.setText(o.text),i.setTextStyle(this.latLabelStyle_),i.drawGeometry(o.geom)},b.prototype.updateProjectionInfo_=function(e){var t=Object(c.f)("EPSG:4326"),n=e.getWorldExtent(),r=Object(c.m)(n,t,e);this.maxLat_=n[3],this.maxLon_=n[2],this.minLat_=n[1],this.minLon_=n[0],this.maxLatP_=r[3],this.maxLonP_=r[2],this.minLatP_=r[1],this.minLonP_=r[0],this.fromLonLatTransform_=Object(c.h)(t,e),this.toLonLatTransform_=Object(c.h)(e,t),this.projectionCenterLonLat_=this.toLonLatTransform_(Object(i.x)(e.getExtent())),this.projection_=e},b.prototype.setMap=function(e){this.map_&&(Object(o.e)(this.postcomposeListenerKey_),this.postcomposeListenerKey_=null,this.map_.render()),e&&(this.postcomposeListenerKey_=Object(o.a)(e,f.a.POSTCOMPOSE,this.handlePostCompose_,this),e.render()),this.map_=e};t.a=b},"./node_modules/ol/LayerType.js":function(e,t,n){"use strict";t.a={IMAGE:"IMAGE",TILE:"TILE",VECTOR_TILE:"VECTOR_TILE",VECTOR:"VECTOR"}},"./node_modules/ol/Object.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return p}));var r=n("./node_modules/ol/util.js"),o=n("./node_modules/ol/ObjectEventType.js"),i=n("./node_modules/ol/Observable.js"),a=n("./node_modules/ol/events/Event.js"),s=n("./node_modules/ol/obj.js"),l=function(e){function t(t,n,r){e.call(this,t),this.key=n,this.oldValue=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(a.a),u=function(e){function t(t){e.call(this),Object(r.c)(this),this.values_={},void 0!==t&&this.setProperties(t)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e){var t;return this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t},t.prototype.getKeys=function(){return Object.keys(this.values_)},t.prototype.getProperties=function(){return Object(s.a)({},this.values_)},t.prototype.notify=function(e,t){var n;n=p(e),this.dispatchEvent(new l(n,e,t)),n=o.a.PROPERTYCHANGE,this.dispatchEvent(new l(n,e,t))},t.prototype.set=function(e,t,n){if(n)this.values_[e]=t;else{var r=this.values_[e];this.values_[e]=t,r!==t&&this.notify(e,r)}},t.prototype.setProperties=function(e,t){for(var n in e)this.set(n,e[n],t)},t.prototype.unset=function(e,t){if(e in this.values_){var n=this.values_[e];delete this.values_[e],t||this.notify(e,n)}},t}(i.a),c={};function p(e){return c.hasOwnProperty(e)?c[e]:c[e]="change:"+e}t.a=u},"./node_modules/ol/ObjectEventType.js":function(e,t,n){"use strict";t.a={PROPERTYCHANGE:"propertychange"}},"./node_modules/ol/Observable.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var r=n("./node_modules/ol/events.js"),o=n("./node_modules/ol/events/Target.js"),i=n("./node_modules/ol/events/EventType.js"),a=function(e){function t(){e.call(this),this.revision_=0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.changed=function(){++this.revision_,this.dispatchEvent(i.a.CHANGE)},t.prototype.getRevision=function(){return this.revision_},t.prototype.on=function(e,t){if(Array.isArray(e)){for(var n=e.length,o=new Array(n),i=0;i<n;++i)o[i]=Object(r.a)(this,e[i],t);return o}return Object(r.a)(this,e,t)},t.prototype.once=function(e,t){if(Array.isArray(e)){for(var n=e.length,o=new Array(n),i=0;i<n;++i)o[i]=Object(r.b)(this,e[i],t);return o}return Object(r.b)(this,e,t)},t.prototype.un=function(e,t){if(Array.isArray(e))for(var n=0,o=e.length;n<o;++n)Object(r.c)(this,e[n],t);else Object(r.c)(this,e,t)},t}(o.a);function s(e){if(Array.isArray(e))for(var t=0,n=e.length;t<n;++t)Object(r.e)(e[t]);else Object(r.e)(e)}t.a=a},"./node_modules/ol/Tile.js":function(e,t,n){"use strict";var r=n("./node_modules/ol/TileState.js"),o=n("./node_modules/ol/easing.js"),i=n("./node_modules/ol/events/Target.js"),a=n("./node_modules/ol/events/EventType.js"),s=function(e){function t(t,n,r){e.call(this);var o=r||{};this.tileCoord=t,this.state=n,this.interimTile=null,this.key="",this.transition_=void 0===o.transition?250:o.transition,this.transitionStarts_={}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.changed=function(){this.dispatchEvent(a.a.CHANGE)},t.prototype.getKey=function(){return this.key+"/"+this.tileCoord},t.prototype.getInterimTile=function(){if(!this.interimTile)return this;var e=this.interimTile;do{if(e.getState()==r.a.LOADED)return e;e=e.interimTile}while(e);return this},t.prototype.refreshInterimChain=function(){if(this.interimTile){var e=this.interimTile,t=this;do{if(e.getState()==r.a.LOADED){e.interimTile=null;break}e.getState()==r.a.LOADING?t=e:e.getState()==r.a.IDLE?t.interimTile=e.interimTile:t=e,e=t.interimTile}while(e)}},t.prototype.getTileCoord=function(){return this.tileCoord},t.prototype.getState=function(){return this.state},t.prototype.setState=function(e){this.state=e,this.changed()},t.prototype.load=function(){},t.prototype.getAlpha=function(e,t){if(!this.transition_)return 1;var n=this.transitionStarts_[e];if(n){if(-1===n)return 1}else n=t,this.transitionStarts_[e]=n;var r=t-n+1e3/60;return r>=this.transition_?1:Object(o.a)(r/this.transition_)},t.prototype.inTransition=function(e){return!!this.transition_&&-1!==this.transitionStarts_[e]},t.prototype.endTransition=function(e){this.transition_&&(this.transitionStarts_[e]=-1)},t}(i.a);t.a=s},"./node_modules/ol/TileCache.js":function(e,t,n){"use strict";var r=n("./node_modules/ol/structs/LRUCache.js"),o=n("./node_modules/ol/tilecoord.js"),i=function(e){function t(t){e.call(this,t)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.expireCache=function(e){for(;this.canExpireCache();){var t=this.peekLast(),n=t.tileCoord[0].toString();if(n in e&&e[n].contains(t.tileCoord))break;this.pop().dispose()}},t.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var e=this.peekFirstKey(),t=Object(o.b)(e)[0];this.forEach((function(e){e.tileCoord[0]!==t&&(this.remove(Object(o.c)(e.tileCoord)),e.dispose())}),this)}},t}(r.a);t.a=i},"./node_modules/ol/TileRange.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=function(e,t,n,r){this.minX=e,this.maxX=t,this.minY=n,this.maxY=r};function o(e,t,n,o,i){return void 0!==i?(i.minX=e,i.maxX=t,i.minY=n,i.maxY=o,i):new r(e,t,n,o)}r.prototype.contains=function(e){return this.containsXY(e[1],e[2])},r.prototype.containsTileRange=function(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY},r.prototype.containsXY=function(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY},r.prototype.equals=function(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY},r.prototype.extend=function(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)},r.prototype.getHeight=function(){return this.maxY-this.minY+1},r.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},r.prototype.getWidth=function(){return this.maxX-this.minX+1},r.prototype.intersects=function(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY},t.b=r},"./node_modules/ol/TileState.js":function(e,t,n){"use strict";t.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5}},"./node_modules/ol/array.js":function(e,t,n){"use strict";function r(e,t,n){for(var r,i,a=n||o,s=0,l=e.length,u=!1;s<l;)(i=+a(e[r=s+(l-s>>1)],t))<0?s=r+1:(l=r,u=!i);return u?s:~s}function o(e,t){return e>t?1:e<t?-1:0}function i(e,t){return e.indexOf(t)>=0}function a(e,t,n){var r,o=e.length;if(e[0]<=t)return 0;if(t<=e[o-1])return o-1;if(n>0){for(r=1;r<o;++r)if(e[r]<t)return r-1}else if(n<0){for(r=1;r<o;++r)if(e[r]<=t)return r}else for(r=1;r<o;++r){if(e[r]==t)return r;if(e[r]<t)return e[r-1]-t<t-e[r]?r-1:r}return o-1}function s(e,t,n){for(;t<n;){var r=e[t];e[t]=e[n],e[n]=r,++t,--n}}function l(e,t){for(var n=Array.isArray(t)?t:[t],r=n.length,o=0;o<r;o++)e[e.length]=n[o]}function u(e,t){var n=e.indexOf(t),r=n>-1;return r&&e.splice(n,1),r}function c(e,t){for(var n,r=e.length>>>0,o=0;o<r;o++)if(t(n=e[o],o,e))return n;return null}function p(e,t){var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function f(e,t){var n,r=e.length,o=Array(e.length);for(n=0;n<r;n++)o[n]={index:n,value:e[n]};for(o.sort((function(e,n){return t(e.value,n.value)||e.index-n.index})),n=0;n<e.length;n++)e[n]=o[n].value}function d(e,t){var n;return!e.every((function(r,o){return n=o,!t(r,o,e)}))?n:-1}function h(e,t,n){var r=t||o;return e.every((function(t,o){if(0===o)return!0;var i=r(e[o-1],t);return!(i>0||n&&0===i)}))}n.d(t,"a",(function(){return r})),n.d(t,"i",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"h",(function(){return a})),n.d(t,"k",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"j",(function(){return u})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return p})),n.d(t,"l",(function(){return f})),n.d(t,"e",(function(){return d})),n.d(t,"g",(function(){return h}))},"./node_modules/ol/asserts.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("./node_modules/ol/AssertionError.js");function o(e,t){if(!e)throw new r.a(t)}},"./node_modules/ol/control/OverviewMap.js":function(e,t,n){"use strict";var r=n("./node_modules/ol/Collection.js"),o=n("./node_modules/ol/Map.js"),i=n("./node_modules/ol/MapEventType.js"),a=n("./node_modules/ol/MapProperty.js"),s=n("./node_modules/ol/Object.js"),l=n("./node_modules/ol/ObjectEventType.js"),u=n("./node_modules/ol/Overlay.js"),c=n("./node_modules/ol/OverlayPositioning.js"),p=n("./node_modules/ol/ViewProperty.js"),f=n("./node_modules/ol/control/Control.js"),d=n("./node_modules/ol/coordinate.js"),h=n("./node_modules/ol/css.js"),m=n("./node_modules/ol/dom.js"),y=n("./node_modules/ol/events.js"),g=n("./node_modules/ol/events/EventType.js"),b=n("./node_modules/ol/extent.js"),v=function(e){function t(t){var n=t||{};e.call(this,{element:document.createElement("div"),render:n.render||_,target:n.target}),this.collapsed_=void 0===n.collapsed||n.collapsed,this.collapsible_=void 0===n.collapsible||n.collapsible,this.collapsible_||(this.collapsed_=!1);var i=void 0!==n.className?n.className:"ol-overviewmap",a=void 0!==n.tipLabel?n.tipLabel:"Overview map",s=void 0!==n.collapseLabel?n.collapseLabel:"«";"string"==typeof s?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=s):this.collapseLabel_=s;var l=void 0!==n.label?n.label:"»";"string"==typeof l?(this.label_=document.createElement("span"),this.label_.textContent=l):this.label_=l;var p=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,f=document.createElement("button");f.setAttribute("type","button"),f.title=a,f.appendChild(p),Object(y.a)(f,g.a.CLICK,this.handleClick_,this),this.ovmapDiv_=document.createElement("div"),this.ovmapDiv_.className="ol-overviewmap-map",this.ovmap_=new o.default({controls:new r.a,interactions:new r.a,view:n.view});var d=this.ovmap_;n.layers&&n.layers.forEach(function(e){d.addLayer(e)}.bind(this));var m=document.createElement("div");m.className="ol-overviewmap-box",m.style.boxSizing="border-box",this.boxOverlay_=new u.a({position:[0,0],positioning:c.a.BOTTOM_LEFT,element:m}),this.ovmap_.addOverlay(this.boxOverlay_);var b=i+" "+h.e+" "+h.b+(this.collapsed_&&this.collapsible_?" "+h.a:"")+(this.collapsible_?"":" ol-uncollapsible"),v=this.element;v.className=b,v.appendChild(this.ovmapDiv_),v.appendChild(f);var w=this,O=this.boxOverlay_,j=this.boxOverlay_.getElement(),S=function(e){var t,n={clientX:(t=e).clientX-j.offsetWidth/2,clientY:t.clientY+j.offsetHeight/2},r=d.getEventCoordinate(n);O.setPosition(r)},E=function(e){var t=d.getEventCoordinate(e);w.getMap().getView().setCenter(t),window.removeEventListener("mousemove",S),window.removeEventListener("mouseup",E)};j.addEventListener("mousedown",(function(){window.addEventListener("mousemove",S),window.addEventListener("mouseup",E)}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setMap=function(t){var n=this.getMap();if(t!==n){if(n){var r=n.getView();r&&this.unbindView_(r),this.ovmap_.setTarget(null)}if(e.prototype.setMap.call(this,t),t){this.ovmap_.setTarget(this.ovmapDiv_),this.listenerKeys.push(Object(y.a)(t,l.a.PROPERTYCHANGE,this.handleMapPropertyChange_,this)),0===this.ovmap_.getLayers().getLength()&&this.ovmap_.setLayerGroup(t.getLayerGroup());var o=t.getView();o&&(this.bindView_(o),o.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_()))}}},t.prototype.handleMapPropertyChange_=function(e){if(e.key===a.a.VIEW){var t=e.oldValue;t&&this.unbindView_(t);var n=this.getMap().getView();this.bindView_(n)}},t.prototype.bindView_=function(e){Object(y.a)(e,Object(s.b)(p.a.ROTATION),this.handleRotationChanged_,this)},t.prototype.unbindView_=function(e){Object(y.c)(e,Object(s.b)(p.a.ROTATION),this.handleRotationChanged_,this)},t.prototype.handleRotationChanged_=function(){this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())},t.prototype.validateExtent_=function(){var e=this.getMap(),t=this.ovmap_;if(e.isRendered()&&t.isRendered()){var n=e.getSize(),r=e.getView().calculateExtent(n),o=t.getSize(),i=t.getView().calculateExtent(o),a=t.getPixelFromCoordinate(Object(b.C)(r)),s=t.getPixelFromCoordinate(Object(b.w)(r)),l=Math.abs(a[0]-s[0]),u=Math.abs(a[1]-s[1]),c=o[0],p=o[1];l<.1*c||u<.1*p||l>.75*c||u>.75*p?this.resetExtent_():Object(b.g)(i,r)||this.recenter_()}},t.prototype.resetExtent_=function(){var e=this.getMap(),t=this.ovmap_,n=e.getSize(),r=e.getView().calculateExtent(n),o=t.getView(),i=Math.log(7.5)/Math.LN2,a=1/(.1*Math.pow(2,i/2));Object(b.J)(r,a),o.fit(r)},t.prototype.recenter_=function(){var e=this.getMap(),t=this.ovmap_,n=e.getView();t.getView().setCenter(n.getCenter())},t.prototype.updateBox_=function(){var e=this.getMap(),t=this.ovmap_;if(e.isRendered()&&t.isRendered()){var n=e.getSize(),r=e.getView(),o=t.getView(),i=r.getRotation(),a=this.boxOverlay_,s=this.boxOverlay_.getElement(),l=r.calculateExtent(n),u=o.getResolution(),c=Object(b.v)(l),p=Object(b.D)(l),f=this.calculateCoordinateRotate_(i,c);a.setPosition(f),s&&(s.style.width=Math.abs((c[0]-p[0])/u)+"px",s.style.height=Math.abs((p[1]-c[1])/u)+"px")}},t.prototype.calculateCoordinateRotate_=function(e,t){var n,r=this.getMap().getView().getCenter();return r&&(n=[t[0]-r[0],t[1]-r[1]],Object(d.f)(n,e),Object(d.a)(n,r)),n},t.prototype.handleClick_=function(e){e.preventDefault(),this.handleToggle_()},t.prototype.handleToggle_=function(){this.element.classList.toggle(h.a),this.collapsed_?Object(m.f)(this.collapseLabel_,this.label_):Object(m.f)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_;var e=this.ovmap_;this.collapsed_||e.isRendered()||(e.updateSize(),this.resetExtent_(),Object(y.b)(e,i.a.POSTRENDER,(function(e){this.updateBox_()}),this))},t.prototype.getCollapsible=function(){return this.collapsible_},t.prototype.setCollapsible=function(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),!e&&this.collapsed_&&this.handleToggle_())},t.prototype.setCollapsed=function(e){this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()},t.prototype.getCollapsed=function(){return this.collapsed_},t.prototype.getOverviewMap=function(){return this.ovmap_},t}(f.a);function _(e){this.validateExtent_(),this.updateBox_()}t.a=v},"./node_modules/ol/control/ScaleLine.js":function(e,t,n){"use strict";var r=n("./node_modules/ol/Object.js"),o=n("./node_modules/ol/asserts.js"),i=n("./node_modules/ol/control/Control.js"),a=n("./node_modules/ol/css.js"),s=n("./node_modules/ol/events.js"),l=n("./node_modules/ol/proj.js"),u=n("./node_modules/ol/proj/Units.js"),c="degrees",p="imperial",f="nautical",d="metric",h="us",m=[1,2,5],y=function(e){function t(t){var n=t||{},o=void 0!==n.className?n.className:"ol-scale-line";e.call(this,{element:document.createElement("div"),render:n.render||g,target:n.target}),this.innerElement_=document.createElement("div"),this.innerElement_.className=o+"-inner",this.element.className=o+" "+a.e,this.element.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=void 0!==n.minWidth?n.minWidth:64,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",Object(s.a)(this,Object(r.b)("units"),this.handleUnitsChanged_,this),this.setUnits(n.units||d)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getUnits=function(){return this.get("units")},t.prototype.handleUnitsChanged_=function(){this.updateElement_()},t.prototype.setUnits=function(e){this.set("units",e)},t.prototype.updateElement_=function(){var e=this.viewState_;if(e){var t=e.center,n=e.projection,r=this.getUnits(),i=r==c?u.default.DEGREES:u.default.METERS,a=Object(l.g)(n,e.resolution,t,i);n.getUnits()!=u.default.DEGREES&&n.getMetersPerUnit()&&i==u.default.METERS&&(a*=n.getMetersPerUnit());var s=this.minWidth_*a,y="";if(r==c){var g=u.METERS_PER_UNIT[u.default.DEGREES];n.getUnits()==u.default.DEGREES?s*=g:a/=g,s<g/60?(y="″",a*=3600):s<g?(y="′",a*=60):y="°"}else r==p?s<.9144?(y="in",a/=.0254):s<1609.344?(y="ft",a/=.3048):(y="mi",a/=1609.344):r==f?(a/=1852,y="nm"):r==d?s<.001?(y="μm",a*=1e6):s<1?(y="mm",a*=1e3):s<1e3?y="m":(y="km",a/=1e3):r==h?s<.9144?(y="in",a*=39.37):s<1609.344?(y="ft",a/=.30480061):(y="mi",a/=1609.3472):Object(o.a)(!1,33);for(var b,v,_=3*Math.floor(Math.log(this.minWidth_*a)/Math.log(10));;){if(b=m[(_%3+3)%3]*Math.pow(10,Math.floor(_/3)),v=Math.round(b/a),isNaN(v))return this.element.style.display="none",void(this.renderedVisible_=!1);if(v>=this.minWidth_)break;++_}var w=b+" "+y;this.renderedHTML_!=w&&(this.innerElement_.innerHTML=w,this.renderedHTML_=w),this.renderedWidth_!=v&&(this.innerElement_.style.width=v+"px",this.renderedWidth_=v),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},t}(i.a);function g(e){var t=e.frameState;this.viewState_=t?t.viewState:null,this.updateElement_()}t.a=y},"./node_modules/ol/dom.js":function(e,t,n){"use strict";function r(e,t){var n=document.createElement("canvas");return e&&(n.width=e),t&&(n.height=t),n.getContext("2d")}function o(e){var t=e.offsetWidth,n=getComputedStyle(e);return t+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10)}function i(e){var t=e.offsetHeight,n=getComputedStyle(e);return t+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10)}function a(e,t){var n=t.parentNode;n&&n.replaceChild(e,t)}function s(e){return e&&e.parentNode?e.parentNode.removeChild(e):null}function l(e){for(;e.lastChild;)e.removeChild(e.lastChild)}n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return l}))},"./node_modules/ol/easing.js":function(e,t,n){"use strict";function r(e){return Math.pow(e,3)}function o(e){return 1-r(1-e)}function i(e){return 3*e*e-2*e*e*e}function a(e){return e}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return a}))},"./node_modules/ol/events.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return p})),n.d(t,"d",(function(){return f}));var r=n("./node_modules/ol/obj.js");function o(e,t,n,r){for(var o,i=0,a=e.length;i<a;++i)if((o=e[i]).listener===t&&o.bindTo===n)return r&&(o.deleteIndex=i),o}function i(e,t){var n=a(e);return n?n[t]:void 0}function a(e,t){var n=e.ol_lm;return!n&&t&&(n=e.ol_lm={}),n}function s(e,t){var n=i(e,t);if(n){for(var o=0,s=n.length;o<s;++o)e.removeEventListener(t,n[o].boundListener),Object(r.b)(n[o]);n.length=0;var l=a(e);l&&(delete l[t],0===Object.keys(l).length&&function(e){delete e.ol_lm}(e))}}function l(e,t,n,r,i){var s=a(e,!0),l=s[t];l||(l=s[t]=[]);var u=o(l,n,r,!1);return u?i||(u.callOnce=!1):(u={bindTo:r,callOnce:!!i,listener:n,target:e,type:t},e.addEventListener(t,function(e){var t=function(t){var n=e.listener,r=e.bindTo||e.target;return e.callOnce&&p(e),n.call(r,t)};return e.boundListener=t,t}(u)),l.push(u)),u}function u(e,t,n,r){return l(e,t,n,r,!0)}function c(e,t,n,r){var a=i(e,t);if(a){var s=o(a,n,r,!0);s&&p(s)}}function p(e){if(e&&e.target){e.target.removeEventListener(e.type,e.boundListener);var t=i(e.target,e.type);if(t){var n="deleteIndex"in e?e.deleteIndex:t.indexOf(e);-1!==n&&t.splice(n,1),0===t.length&&s(e.target,e.type)}Object(r.b)(e)}}function f(e){var t=a(e);if(t)for(var n in t)s(e,n)}},"./node_modules/ol/events/Event.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var r=function(e){this.propagationStopped,this.type=e,this.target=null};function o(e){e.stopPropagation()}r.prototype.preventDefault=function(){this.propagationStopped=!0},r.prototype.stopPropagation=function(){this.propagationStopped=!0},t.a=r},"./node_modules/ol/events/EventType.js":function(e,t,n){"use strict";t.a={CHANGE:"change",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",ERROR:"error",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",MOUSEDOWN:"mousedown",MOUSEMOVE:"mousemove",MOUSEOUT:"mouseout",MOUSEUP:"mouseup",MOUSEWHEEL:"mousewheel",MSPOINTERDOWN:"MSPointerDown",RESIZE:"resize",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",WHEEL:"wheel"}},"./node_modules/ol/events/Target.js":function(e,t,n){"use strict";var r=n("./node_modules/ol/Disposable.js"),o=n("./node_modules/ol/events.js"),i=n("./node_modules/ol/functions.js"),a=n("./node_modules/ol/events/Event.js"),s=function(e){function t(){e.call(this),this.pendingRemovals_={},this.dispatching_={},this.listeners_={}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.addEventListener=function(e,t){var n=this.listeners_[e];n||(n=this.listeners_[e]=[]),-1===n.indexOf(t)&&n.push(t)},t.prototype.dispatchEvent=function(e){var t="string"==typeof e?new a.a(e):e,n=t.type;t.target=this;var r,o=this.listeners_[n];if(o){n in this.dispatching_||(this.dispatching_[n]=0,this.pendingRemovals_[n]=0),++this.dispatching_[n];for(var s=0,l=o.length;s<l;++s)if(!1===o[s].call(this,t)||t.propagationStopped){r=!1;break}if(--this.dispatching_[n],0===this.dispatching_[n]){var u=this.pendingRemovals_[n];for(delete this.pendingRemovals_[n];u--;)this.removeEventListener(n,i.c);delete this.dispatching_[n]}return r}},t.prototype.disposeInternal=function(){Object(o.d)(this)},t.prototype.getListeners=function(e){return this.listeners_[e]},t.prototype.hasListener=function(e){return e?e in this.listeners_:Object.keys(this.listeners_).length>0},t.prototype.removeEventListener=function(e,t){var n=this.listeners_[e];if(n){var r=n.indexOf(t);e in this.pendingRemovals_?(n[r]=i.c,++this.pendingRemovals_[e]):(n.splice(r,1),0===n.length&&delete this.listeners_[e])}},t}(r.a);t.a=s},"./node_modules/ol/extent.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return p})),n.d(t,"h",(function(){return f})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return h})),n.d(t,"k",(function(){return m})),n.d(t,"l",(function(){return y})),n.d(t,"m",(function(){return g})),n.d(t,"n",(function(){return b})),n.d(t,"o",(function(){return v})),n.d(t,"p",(function(){return _})),n.d(t,"q",(function(){return w})),n.d(t,"r",(function(){return O})),n.d(t,"s",(function(){return S})),n.d(t,"t",(function(){return x})),n.d(t,"u",(function(){return P})),n.d(t,"v",(function(){return M})),n.d(t,"w",(function(){return L})),n.d(t,"x",(function(){return T})),n.d(t,"y",(function(){return C})),n.d(t,"z",(function(){return k})),n.d(t,"A",(function(){return I})),n.d(t,"B",(function(){return D})),n.d(t,"C",(function(){return A})),n.d(t,"D",(function(){return R})),n.d(t,"E",(function(){return F})),n.d(t,"F",(function(){return N})),n.d(t,"H",(function(){return G})),n.d(t,"I",(function(){return U})),n.d(t,"J",(function(){return z})),n.d(t,"G",(function(){return B})),n.d(t,"a",(function(){return V}));var r=n("./node_modules/ol/asserts.js"),o=n("./node_modules/ol/extent/Corner.js"),i=n("./node_modules/ol/extent/Relationship.js");function a(e){for(var t=h(),n=0,r=e.length;n<r;++n)O(t,e[n]);return t}function s(e,t,n){return n?(n[0]=e[0]-t,n[1]=e[1]-t,n[2]=e[2]+t,n[3]=e[3]+t,n):[e[0]-t,e[1]-t,e[2]+t,e[3]+t]}function l(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e.slice()}function u(e,t,n){var r,o;return(r=t<e[0]?e[0]-t:e[2]<t?t-e[2]:0)*r+(o=n<e[1]?e[1]-n:e[3]<n?n-e[3]:0)*o}function c(e,t){return f(e,t[0],t[1])}function p(e,t){return e[0]<=t[0]&&t[2]<=e[2]&&e[1]<=t[1]&&t[3]<=e[3]}function f(e,t,n){return e[0]<=t&&t<=e[2]&&e[1]<=n&&n<=e[3]}function d(e,t){var n=e[0],r=e[1],o=e[2],a=e[3],s=t[0],l=t[1],u=i.a.UNKNOWN;return s<n?u|=i.a.LEFT:s>o&&(u|=i.a.RIGHT),l<r?u|=i.a.BELOW:l>a&&(u|=i.a.ABOVE),u===i.a.UNKNOWN&&(u=i.a.INTERSECTING),u}function h(){return[1/0,1/0,-1/0,-1/0]}function m(e,t,n,r,o){return o?(o[0]=e,o[1]=t,o[2]=n,o[3]=r,o):[e,t,n,r]}function y(e){return m(1/0,1/0,-1/0,-1/0,e)}function g(e,t){var n=e[0],r=e[1];return m(n,r,n,r,t)}function b(e,t){return j(y(t),e)}function v(e,t,n,r,o){return S(y(o),e,t,n,r)}function _(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]}function w(e,t){return t[0]<e[0]&&(e[0]=t[0]),t[2]>e[2]&&(e[2]=t[2]),t[1]<e[1]&&(e[1]=t[1]),t[3]>e[3]&&(e[3]=t[3]),e}function O(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function j(e,t){for(var n=0,r=t.length;n<r;++n)O(e,t[n]);return e}function S(e,t,n,r,o){for(;n<r;n+=o)E(e,t[n],t[n+1]);return e}function E(e,t,n){e[0]=Math.min(e[0],t),e[1]=Math.min(e[1],n),e[2]=Math.max(e[2],t),e[3]=Math.max(e[3],n)}function x(e,t,n){var r;return(r=t.call(n,M(e)))||(r=t.call(n,L(e)))||(r=t.call(n,R(e)))?r:(r=t.call(n,A(e)))||!1}function P(e){var t=0;return G(e)||(t=F(e)*I(e)),t}function M(e){return[e[0],e[1]]}function L(e){return[e[2],e[1]]}function T(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]}function C(e,t){var n;return t===o.a.BOTTOM_LEFT?n=M(e):t===o.a.BOTTOM_RIGHT?n=L(e):t===o.a.TOP_LEFT?n=A(e):t===o.a.TOP_RIGHT?n=R(e):Object(r.a)(!1,13),n}function k(e,t,n,r,o){var i=t*r[0]/2,a=t*r[1]/2,s=Math.cos(n),l=Math.sin(n),u=i*s,c=i*l,p=a*s,f=a*l,d=e[0],h=e[1],y=d-u+f,g=d-u-f,b=d+u-f,v=d+u+f,_=h-c-p,w=h-c+p,O=h+c+p,j=h+c-p;return m(Math.min(y,g,b,v),Math.min(_,w,O,j),Math.max(y,g,b,v),Math.max(_,w,O,j),o)}function I(e){return e[3]-e[1]}function D(e,t,n){var r=n||[1/0,1/0,-1/0,-1/0];return N(e,t)?(e[0]>t[0]?r[0]=e[0]:r[0]=t[0],e[1]>t[1]?r[1]=e[1]:r[1]=t[1],e[2]<t[2]?r[2]=e[2]:r[2]=t[2],e[3]<t[3]?r[3]=e[3]:r[3]=t[3]):y(r),r}function A(e){return[e[0],e[3]]}function R(e){return[e[2],e[3]]}function F(e){return e[2]-e[0]}function N(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]}function G(e){return e[2]<e[0]||e[3]<e[1]}function U(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e}function z(e,t){var n=(e[2]-e[0])/2*(t-1),r=(e[3]-e[1])/2*(t-1);e[0]-=n,e[2]+=n,e[1]-=r,e[3]+=r}function B(e,t,n){var r=!1,o=d(e,t),a=d(e,n);if(o===i.a.INTERSECTING||a===i.a.INTERSECTING)r=!0;else{var s,l,u=e[0],c=e[1],p=e[2],f=e[3],h=t[0],m=t[1],y=n[0],g=n[1],b=(g-m)/(y-h);a&i.a.ABOVE&&!(o&i.a.ABOVE)&&(r=(s=y-(g-f)/b)>=u&&s<=p),r||!(a&i.a.RIGHT)||o&i.a.RIGHT||(r=(l=g-(y-p)*b)>=c&&l<=f),r||!(a&i.a.BELOW)||o&i.a.BELOW||(r=(s=y-(g-c)/b)>=u&&s<=p),r||!(a&i.a.LEFT)||o&i.a.LEFT||(r=(l=g-(y-u)*b)>=c&&l<=f)}return r}function V(e,t,n){var r=[e[0],e[1],e[0],e[3],e[2],e[1],e[2],e[3]];return t(r,r,2),function(e,t,n){return m(Math.min.apply(null,e),Math.min.apply(null,t),Math.max.apply(null,e),Math.max.apply(null,t),n)}([r[0],r[2],r[4],r[6]],[r[1],r[3],r[5],r[7]],n)}},"./node_modules/ol/extent/Corner.js":function(e,t,n){"use strict";t.a={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},"./node_modules/ol/extent/Relationship.js":function(e,t,n){"use strict";t.a={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},"./node_modules/ol/format/MVT.js":function(e,t,n){"use strict";var r=n("./node_modules/ol/asserts.js"),o=n("./node_modules/pbf/index.js"),i=n.n(o),a=n("./node_modules/ol/format/Feature.js"),s=n("./node_modules/ol/format/FormatType.js"),l=n("./node_modules/ol/geom/GeometryLayout.js"),u=n("./node_modules/ol/geom/GeometryType.js"),c=n("./node_modules/ol/geom/LineString.js"),p=n("./node_modules/ol/geom/MultiLineString.js"),f=n("./node_modules/ol/geom/MultiPoint.js"),d=n("./node_modules/ol/geom/MultiPolygon.js"),h=n("./node_modules/ol/geom/Point.js"),m=n("./node_modules/ol/geom/Polygon.js"),y=n("./node_modules/ol/geom/flat/orient.js"),g=n("./node_modules/ol/proj/Projection.js"),b=n("./node_modules/ol/proj/Units.js"),v=n("./node_modules/ol/array.js"),_=n("./node_modules/ol/extent.js"),w=n("./node_modules/ol/geom/flat/center.js"),O=n("./node_modules/ol/geom/flat/interiorpoint.js"),j=n("./node_modules/ol/geom/flat/interpolate.js"),S=n("./node_modules/ol/proj.js"),E=n("./node_modules/ol/geom/flat/transform.js"),x=n("./node_modules/ol/transform.js"),P=Object(x.c)(),M=function(e,t,n,r,o){this.extent_,this.id_=o,this.type_=e,this.flatCoordinates_=t,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=n,this.properties_=r};M.prototype.get=function(e){return this.properties_[e]},M.prototype.getExtent=function(){return this.extent_||(this.extent_=this.type_===u.a.POINT?Object(_.m)(this.flatCoordinates_):Object(_.o)(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_},M.prototype.getFlatInteriorPoint=function(){if(!this.flatInteriorPoints_){var e=Object(_.x)(this.getExtent());this.flatInteriorPoints_=Object(O.a)(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_},M.prototype.getFlatInteriorPoints=function(){if(!this.flatInteriorPoints_){var e=Object(w.a)(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=Object(O.b)(this.flatCoordinates_,0,this.ends_,2,e)}return this.flatInteriorPoints_},M.prototype.getFlatMidpoint=function(){return this.flatMidpoints_||(this.flatMidpoints_=Object(j.a)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_},M.prototype.getFlatMidpoints=function(){if(!this.flatMidpoints_){this.flatMidpoints_=[];for(var e=this.flatCoordinates_,t=0,n=this.ends_,r=0,o=n.length;r<o;++r){var i=n[r],a=Object(j.a)(e,t,i,2,.5);Object(v.c)(this.flatMidpoints_,a),t=i}}return this.flatMidpoints_},M.prototype.getId=function(){return this.id_},M.prototype.getOrientedFlatCoordinates=function(){return this.flatCoordinates_},M.prototype.getGeometry=function(){return this},M.prototype.getSimplifiedGeometry=function(e){return this},M.prototype.getProperties=function(){return this.properties_},M.prototype.getStride=function(){return 2},M.prototype.getStyleFunction=function(){},M.prototype.getType=function(){return this.type_},M.prototype.transform=function(e,t){var n=(e=Object(S.f)(e)).getExtent(),r=e.getWorldExtent(),o=Object(_.A)(r)/Object(_.A)(n);Object(x.b)(P,r[0],r[3],o,-o,0,0,0),Object(E.c)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,P,this.flatCoordinates_)},M.prototype.getEnds=M.prototype.getEndss=function(){return this.ends_},M.prototype.getFlatCoordinates=M.prototype.getOrientedFlatCoordinates;var L=M,T=function(e){function t(t){e.call(this);var n=t||{};this.dataProjection=new g.a({code:"",units:b.default.TILE_PIXELS}),this.featureClass_=n.featureClass?n.featureClass:L,this.geometryName_=n.geometryName,this.layerName_=n.layerName?n.layerName:"layer",this.layers_=n.layers?n.layers:null,this.extent_=null}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.readRawGeometry_=function(e,t,n,o){e.pos=t.geometry;for(var i=e.readVarint()+e.pos,a=1,s=0,l=0,u=0,c=0,p=0;e.pos<i;){if(!s){var f=e.readVarint();a=7&f,s=f>>3}s--,1===a||2===a?(l+=e.readSVarint(),u+=e.readSVarint(),1===a&&c>p&&(o.push(c),p=c),n.push(l,u),c+=2):7===a?c>p&&(n.push(n[p],n[p+1]),c+=2):Object(r.a)(!1,59)}c>p&&(o.push(c),p=c)},t.prototype.createFeature_=function(e,t,n){var r,o=t.type;if(0===o)return null;var i=t.id,s=t.properties;s[this.layerName_]=t.layer.name;var g=[],b=[];this.readRawGeometry_(e,t,g,b);var v=function(e,t){var n;1===e?n=1===t?u.a.POINT:u.a.MULTI_POINT:2===e?n=1===t?u.a.LINE_STRING:u.a.MULTI_LINE_STRING:3===e&&(n=u.a.POLYGON);return n}(o,b.length);if(this.featureClass_===L)r=new this.featureClass_(v,g,b,s,i);else{var _;if(v==u.a.POLYGON){for(var w=[],O=0,j=0,S=0,E=b.length;S<E;++S){var x=b[S];Object(y.a)(g,O,x,2)||(w.push(b.slice(j,S)),j=S),O=x}_=w.length>1?new d.a(g,l.a.XY,w):new m.b(g,l.a.XY,b)}else _=v===u.a.POINT?new h.a(g,l.a.XY):v===u.a.LINE_STRING?new c.a(g,l.a.XY):v===u.a.POLYGON?new m.b(g,l.a.XY,b):v===u.a.MULTI_POINT?new f.a(g,l.a.XY):v===u.a.MULTI_LINE_STRING?new p.a(g,l.a.XY,b):null;r=new(0,this.featureClass_),this.geometryName_&&r.setGeometryName(this.geometryName_);var P=Object(a.b)(_,!1,this.adaptOptions(n));r.setGeometry(P),r.setId(i),r.setProperties(s)}return r},t.prototype.getLastExtent=function(){return this.extent_},t.prototype.getType=function(){return s.a.ARRAY_BUFFER},t.prototype.readFeatures=function(e,t){var n=this.layers_,r=new i.a(e),o=r.readFields(C,{}),a=[];for(var s in o)if(!n||-1!=n.indexOf(s)){for(var l=o[s],u=0,c=l.length;u<c;++u){var p=D(r,l,u);a.push(this.createFeature_(r,p))}this.extent_=l?[0,0,l.extent,l.extent]:null}return a},t.prototype.readProjection=function(e){return this.dataProjection},t.prototype.setLayers=function(e){this.layers_=e},t}(a.a);function C(e,t,n){if(3===e){var r={keys:[],values:[],features:[]},o=n.readVarint()+n.pos;n.readFields(k,r,o),r.length=r.features.length,r.length&&(t[r.name]=r)}}function k(e,t,n){if(15===e)t.version=n.readVarint();else if(1===e)t.name=n.readString();else if(5===e)t.extent=n.readVarint();else if(2===e)t.features.push(n.pos);else if(3===e)t.keys.push(n.readString());else if(4===e){for(var r=null,o=n.readVarint()+n.pos;n.pos<o;)r=1===(e=n.readVarint()>>3)?n.readString():2===e?n.readFloat():3===e?n.readDouble():4===e?n.readVarint64():5===e?n.readVarint():6===e?n.readSVarint():7===e?n.readBoolean():null;t.values.push(r)}}function I(e,t,n){if(1==e)t.id=n.readVarint();else if(2==e)for(var r=n.readVarint()+n.pos;n.pos<r;){var o=t.layer.keys[n.readVarint()],i=t.layer.values[n.readVarint()];t.properties[o]=i}else 3==e?t.type=n.readVarint():4==e&&(t.geometry=n.pos)}function D(e,t,n){e.pos=t.features[n];var r=e.readVarint()+e.pos,o={layer:t,type:0,properties:{}};return e.readFields(I,o,r),o}t.a=T},"./node_modules/ol/format/TopoJSON.js":function(e,t,n){"use strict";var r=n("./node_modules/ol/Feature.js"),o=n("./node_modules/ol/format/Feature.js"),i=n("./node_modules/ol/format/JSONFeature.js"),a=n("./node_modules/ol/geom/LineString.js"),s=n("./node_modules/ol/geom/MultiLineString.js"),l=n("./node_modules/ol/geom/MultiPoint.js"),u=n("./node_modules/ol/geom/MultiPolygon.js"),c=n("./node_modules/ol/geom/Point.js"),p=n("./node_modules/ol/geom/Polygon.js"),f=n("./node_modules/ol/proj.js"),d=function(e){function t(t){e.call(this);var n=t||{};this.layerName_=n.layerName,this.layers_=n.layers?n.layers:null,this.dataProjection=Object(f.f)(n.dataProjection?n.dataProjection:"EPSG:4326")}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.readFeaturesFromObject=function(e,t){if("Topology"==e.type){var n,r=e,o=null,i=null;r.transform&&(o=(n=r.transform).scale,i=n.translate);var a=r.arcs;n&&function(e,t,n){for(var r=0,o=e.length;r<o;++r)b(e[r],t,n)}(a,o,i);var s,l=[],u=r.objects,c=this.layerName_;for(var p in u)this.layers_&&-1==this.layers_.indexOf(p)||("GeometryCollection"===u[p].type?(s=u[p],l.push.apply(l,y(s,a,o,i,c,p,t))):(s=u[p],l.push(g(s,a,o,i,c,p,t))));return l}return[]},t.prototype.readProjectionFromObject=function(e){return this.dataProjection},t}(i.a),h={Point:function(e,t,n){var r=e.coordinates;t&&n&&v(r,t,n);return new c.a(r)},LineString:function(e,t){var n=m(e.arcs,t);return new a.a(n)},Polygon:function(e,t){for(var n=[],r=0,o=e.arcs.length;r<o;++r)n[r]=m(e.arcs[r],t);return new p.b(n)},MultiPoint:function(e,t,n){var r=e.coordinates;if(t&&n)for(var o=0,i=r.length;o<i;++o)v(r[o],t,n);return new l.a(r)},MultiLineString:function(e,t){for(var n=[],r=0,o=e.arcs.length;r<o;++r)n[r]=m(e.arcs[r],t);return new s.a(n)},MultiPolygon:function(e,t){for(var n=[],r=0,o=e.arcs.length;r<o;++r){for(var i=e.arcs[r],a=[],s=0,l=i.length;s<l;++s)a[s]=m(i[s],t);n[r]=a}return new u.a(n)}};function m(e,t){for(var n,r,o=[],i=0,a=e.length;i<a;++i)n=e[i],i>0&&o.pop(),r=n>=0?t[n]:t[~n].slice().reverse(),o.push.apply(o,r);for(var s=0,l=o.length;s<l;++s)o[s]=o[s].slice();return o}function y(e,t,n,r,o,i,a){for(var s=e.geometries,l=[],u=0,c=s.length;u<c;++u)l[u]=g(s[u],t,n,r,o,i,a);return l}function g(e,t,n,i,a,s,l){var u,c=e.type,p=h[c];u="Point"===c||"MultiPoint"===c?p(e,n,i):p(e,t);var f=new r.a;f.setGeometry(Object(o.b)(u,!1,l)),void 0!==e.id&&f.setId(e.id);var d=e.properties;return a&&(d||(d={}),d[a]=s),d&&f.setProperties(d),f}function b(e,t,n){for(var r=0,o=0,i=0,a=e.length;i<a;++i){var s=e[i];r+=s[0],o+=s[1],s[0]=r,s[1]=o,v(s,t,n)}}function v(e,t,n){e[0]=e[0]*t[0]+n[0],e[1]=e[1]*t[1]+n[1]}t.a=d},"./node_modules/ol/functions.js":function(e,t,n){"use strict";function r(){return!0}function o(){return!1}function i(){}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i}))},"./node_modules/ol/geom/Circle.js":function(e,t,n){"use strict";var r=n("./node_modules/ol/extent.js"),o=n("./node_modules/ol/geom/GeometryType.js"),i=n("./node_modules/ol/geom/SimpleGeometry.js"),a=n("./node_modules/ol/geom/flat/deflate.js"),s=function(e){function t(t,n,r){if(e.call(this),void 0!==r&&void 0===n)this.setFlatCoordinates(r,t);else{var o=n||0;this.setCenterAndRadius(t,o,r)}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.clone=function(){return new t(this.flatCoordinates.slice(),void 0,this.layout)},t.prototype.closestPointXY=function(e,t,n,r){var o=this.flatCoordinates,i=e-o[0],a=t-o[1],s=i*i+a*a;if(s<r){if(0===s)for(var l=0;l<this.stride;++l)n[l]=o[l];else{var u=this.getRadius()/Math.sqrt(s);n[0]=o[0]+u*i,n[1]=o[1]+u*a;for(var c=2;c<this.stride;++c)n[c]=o[c]}return n.length=this.stride,s}return r},t.prototype.containsXY=function(e,t){var n=this.flatCoordinates,r=e-n[0],o=t-n[1];return r*r+o*o<=this.getRadiusSquared_()},t.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},t.prototype.computeExtent=function(e){var t=this.flatCoordinates,n=t[this.stride]-t[0];return Object(r.k)(t[0]-n,t[1]-n,t[0]+n,t[1]+n,e)},t.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},t.prototype.getRadiusSquared_=function(){var e=this.flatCoordinates[this.stride]-this.flatCoordinates[0],t=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return e*e+t*t},t.prototype.getType=function(){return o.a.CIRCLE},t.prototype.intersectsExtent=function(e){var t=this.getExtent();if(Object(r.F)(e,t)){var n=this.getCenter();return e[0]<=n[0]&&e[2]>=n[0]||(e[1]<=n[1]&&e[3]>=n[1]||Object(r.t)(e,this.intersectsCoordinate,this))}return!1},t.prototype.setCenter=function(e){var t=this.stride,n=this.flatCoordinates[t]-this.flatCoordinates[0],r=e.slice();r[t]=r[0]+n;for(var o=1;o<t;++o)r[t+o]=e[o];this.setFlatCoordinates(this.layout,r),this.changed()},t.prototype.setCenterAndRadius=function(e,t,n){this.setLayout(n,e,0),this.flatCoordinates||(this.flatCoordinates=[]);var r=this.flatCoordinates,o=Object(a.a)(r,0,e,this.stride);r[o++]=r[0]+t;for(var i=1,s=this.stride;i<s;++i)r[o++]=r[i];r.length=o,this.changed()},t.prototype.getCoordinates=function(){return null},t.prototype.setCoordinates=function(e,t){},t.prototype.setRadius=function(e){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+e,this.changed()},t}(i.a);s.prototype.transform,t.a=s},"./node_modules/ol/geom/GeometryType.js":function(e,t,n){"use strict";t.a={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"}},"./node_modules/ol/interaction/Draw.js":function(e,t,n){"use strict";var r=n("./node_modules/ol/events/EventType.js"),o=n("./node_modules/ol/Feature.js"),i=n("./node_modules/ol/MapBrowserEventType.js"),a=n("./node_modules/ol/MapBrowserPointerEvent.js"),s=n("./node_modules/ol/Object.js"),l=n("./node_modules/ol/coordinate.js"),u=n("./node_modules/ol/events.js"),c=n("./node_modules/ol/events/Event.js"),p=n("./node_modules/ol/events/condition.js"),f=(n("./node_modules/ol/extent.js"),n("./node_modules/ol/functions.js")),d=n("./node_modules/ol/geom/Circle.js"),h=n("./node_modules/ol/geom/GeometryType.js"),m=n("./node_modules/ol/geom/LineString.js"),y=n("./node_modules/ol/geom/MultiLineString.js"),g=n("./node_modules/ol/geom/MultiPoint.js"),b=n("./node_modules/ol/geom/MultiPolygon.js"),v=n("./node_modules/ol/pointer/MouseSource.js"),_=n("./node_modules/ol/geom/Point.js"),w=n("./node_modules/ol/geom/Polygon.js"),O=n("./node_modules/ol/interaction/Pointer.js"),j=n("./node_modules/ol/interaction/Property.js"),S=n("./node_modules/ol/layer/Vector.js"),E=n("./node_modules/ol/source/Vector.js"),x=n("./node_modules/ol/style/Style.js"),P="Point",M="LineString",L="Polygon",T="Circle",C="drawstart",k="drawend",I=function(e){function t(t,n){e.call(this,t),this.feature=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(c.a),D=function(e){function t(t){var n=t;n.stopDown||(n.stopDown=f.a),e.call(this,n),this.shouldHandle_=!1,this.downPx_=null,this.downTimeout_,this.lastDragTime_,this.freehand_=!1,this.source_=t.source?t.source:null,this.features_=t.features?t.features:null,this.snapTolerance_=t.snapTolerance?t.snapTolerance:12,this.type_=t.type,this.mode_=function(e){var t;e===h.a.POINT||e===h.a.MULTI_POINT?t=P:e===h.a.LINE_STRING||e===h.a.MULTI_LINE_STRING?t=M:e===h.a.POLYGON||e===h.a.MULTI_POLYGON?t=L:e===h.a.CIRCLE&&(t=T);return t}(this.type_),this.stopClick_=!!t.stopClick,this.minPoints_=t.minPoints?t.minPoints:this.mode_===L?3:2,this.maxPoints_=t.maxPoints?t.maxPoints:1/0,this.finishCondition_=t.finishCondition?t.finishCondition:f.b;var r,o=t.geometryFunction;if(!o)if(this.type_===h.a.CIRCLE)o=function(e,t){var n=t||new d.a([NaN,NaN]),r=Object(l.h)(e[0],e[1]);return n.setCenterAndRadius(e[0],Math.sqrt(r)),n};else{var i,a=this.mode_;a===P?i=_.a:a===M?i=m.a:a===L&&(i=w.b),o=function(e,t){var n=t;return n?a===L?e[0].length?n.setCoordinates([e[0].concat([e[0][0]])]):n.setCoordinates([]):n.setCoordinates(e):n=new i(e),n}}this.geometryFunction_=o,this.dragVertexDelay_=void 0!==t.dragVertexDelay?t.dragVertexDelay:500,this.finishCoordinate_=null,this.sketchFeature_=null,this.sketchPoint_=null,this.sketchCoords_=null,this.sketchLine_=null,this.sketchLineCoords_=null,this.squaredClickTolerance_=t.clickTolerance?t.clickTolerance*t.clickTolerance:36,this.overlay_=new S.a({source:new E.a({useSpatialIndex:!1,wrapX:!!t.wrapX&&t.wrapX}),style:t.style?t.style:(r=Object(x.createEditingStyle)(),function(e,t){return r[e.getGeometry().getType()]}),updateWhileInteracting:!0}),this.geometryName_=t.geometryName,this.condition_=t.condition?t.condition:p.h,this.freehandCondition_,t.freehand?this.freehandCondition_=p.c:this.freehandCondition_=t.freehandCondition?t.freehandCondition:p.l,Object(u.a)(this,Object(s.b)(j.a.ACTIVE),this.updateState_,this)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setMap=function(t){e.prototype.setMap.call(this,t),this.updateState_()},t.prototype.getOverlay=function(){return this.overlay_},t.prototype.handleEvent=function(t){t.originalEvent.type===r.a.CONTEXTMENU&&t.preventDefault(),this.freehand_=this.mode_!==P&&this.freehandCondition_(t);var n=t.type===i.a.POINTERMOVE,o=!0;!this.freehand_&&this.lastDragTime_&&t.type===i.a.POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=t.pixel,this.shouldHandle_=!this.freehand_,n=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0));return this.freehand_&&t.type===i.a.POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(t),o=!1):this.freehand_&&t.type===i.a.POINTERDOWN?o=!1:n?(o=t.type===i.a.POINTERMOVE)&&this.freehand_?o=this.handlePointerMove_(t):(t.pointerEvent.pointerType==v.b||t.type===i.a.POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(t):t.type===i.a.DBLCLICK&&(o=!1),e.prototype.handleEvent.call(this,t)&&o},t.prototype.handleDownEvent=function(e){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=e.pixel,this.finishCoordinate_||this.startDrawing_(e),!0):!!this.condition_(e)&&(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new a.a(i.a.POINTERMOVE,e.map,e.pointerEvent,!1,e.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=e.pixel,!0)},t.prototype.handleUpEvent=function(e){var t=!0;this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(e);var n=this.mode_===T;return this.shouldHandle_?(this.finishCoordinate_?this.freehand_||n?this.finishDrawing():this.atFinish_(e)?this.finishCondition_(e)&&this.finishDrawing():this.addToDrawing_(e):(this.startDrawing_(e),this.mode_===P&&this.finishDrawing()),t=!1):this.freehand_&&(this.finishCoordinate_=null,this.abortDrawing_()),!t&&this.stopClick_&&e.stopPropagation(),t},t.prototype.handlePointerMove_=function(e){if(this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var t=this.downPx_,n=e.pixel,r=t[0]-n[0],o=t[1]-n[1],i=r*r+o*o;if(this.shouldHandle_=this.freehand_?i>this.squaredClickTolerance_:i<=this.squaredClickTolerance_,!this.shouldHandle_)return!0}return this.finishCoordinate_?this.modifyDrawing_(e):this.createOrUpdateSketchPoint_(e),!0},t.prototype.atFinish_=function(e){var t=!1;if(this.sketchFeature_){var n=!1,r=[this.finishCoordinate_];if(this.mode_===M)n=this.sketchCoords_.length>this.minPoints_;else if(this.mode_===L){var o=this.sketchCoords_;n=o[0].length>this.minPoints_,r=[o[0][0],o[0][o[0].length-2]]}if(n)for(var i=e.map,a=0,s=r.length;a<s;a++){var l=r[a],u=i.getPixelFromCoordinate(l),c=e.pixel,p=c[0]-u[0],f=c[1]-u[1],d=this.freehand_?1:this.snapTolerance_;if(t=Math.sqrt(p*p+f*f)<=d){this.finishCoordinate_=l;break}}}return t},t.prototype.createOrUpdateSketchPoint_=function(e){var t=e.coordinate.slice();this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(t):(this.sketchPoint_=new o.a(new _.a(t)),this.updateSketchFeatures_())},t.prototype.startDrawing_=function(e){var t=e.coordinate;this.finishCoordinate_=t,this.mode_===P?this.sketchCoords_=t.slice():this.mode_===L?(this.sketchCoords_=[[t.slice(),t.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[t.slice(),t.slice()],this.sketchLineCoords_&&(this.sketchLine_=new o.a(new m.a(this.sketchLineCoords_)));var n=this.geometryFunction_(this.sketchCoords_);this.sketchFeature_=new o.a,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(n),this.updateSketchFeatures_(),this.dispatchEvent(new I(C,this.sketchFeature_))},t.prototype.modifyDrawing_=function(e){var t,n,r,i=e.coordinate,a=this.sketchFeature_.getGeometry();(this.mode_===P?n=this.sketchCoords_:this.mode_===L?(n=(t=this.sketchCoords_[0])[t.length-1],this.atFinish_(e)&&(i=this.finishCoordinate_.slice())):n=(t=this.sketchCoords_)[t.length-1],n[0]=i[0],n[1]=i[1],this.geometryFunction_(this.sketchCoords_,a),this.sketchPoint_)&&this.sketchPoint_.getGeometry().setCoordinates(i);if(a.getType()==h.a.POLYGON&&this.mode_!==L){this.sketchLine_||(this.sketchLine_=new o.a);var s=a.getLinearRing(0);(r=this.sketchLine_.getGeometry())?(r.setFlatCoordinates(s.getLayout(),s.getFlatCoordinates()),r.changed()):(r=new m.a(s.getFlatCoordinates(),s.getLayout()),this.sketchLine_.setGeometry(r))}else this.sketchLineCoords_&&(r=this.sketchLine_.getGeometry()).setCoordinates(this.sketchLineCoords_);this.updateSketchFeatures_()},t.prototype.addToDrawing_=function(e){var t,n,r=e.coordinate,o=this.sketchFeature_.getGeometry();this.mode_===M?(this.finishCoordinate_=r.slice(),(n=this.sketchCoords_).length>=this.maxPoints_&&(this.freehand_?n.pop():t=!0),n.push(r.slice()),this.geometryFunction_(n,o)):this.mode_===L&&((n=this.sketchCoords_[0]).length>=this.maxPoints_&&(this.freehand_?n.pop():t=!0),n.push(r.slice()),t&&(this.finishCoordinate_=n[0]),this.geometryFunction_(this.sketchCoords_,o)),this.updateSketchFeatures_(),t&&this.finishDrawing()},t.prototype.removeLastPoint=function(){if(this.sketchFeature_){var e,t=this.sketchFeature_.getGeometry();this.mode_===M?((e=this.sketchCoords_).splice(-2,1),this.geometryFunction_(e,t),e.length>=2&&(this.finishCoordinate_=e[e.length-2].slice())):this.mode_===L&&((e=this.sketchCoords_[0]).splice(-2,1),this.sketchLine_.getGeometry().setCoordinates(e),this.geometryFunction_(this.sketchCoords_,t)),0===e.length&&(this.finishCoordinate_=null),this.updateSketchFeatures_()}},t.prototype.finishDrawing=function(){var e=this.abortDrawing_();if(e){var t=this.sketchCoords_,n=e.getGeometry();this.mode_===M?(t.pop(),this.geometryFunction_(t,n)):this.mode_===L&&(t[0].pop(),this.geometryFunction_(t,n),t=n.getCoordinates()),this.type_===h.a.MULTI_POINT?e.setGeometry(new g.a([t])):this.type_===h.a.MULTI_LINE_STRING?e.setGeometry(new y.a([t])):this.type_===h.a.MULTI_POLYGON&&e.setGeometry(new b.a([t])),this.dispatchEvent(new I(k,e)),this.features_&&this.features_.push(e),this.source_&&this.source_.addFeature(e)}},t.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var e=this.sketchFeature_;return e&&(this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0)),e},t.prototype.extend=function(e){var t=e.getGeometry();this.sketchFeature_=e,this.sketchCoords_=t.getCoordinates();var n=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=n.slice(),this.sketchCoords_.push(n.slice()),this.updateSketchFeatures_(),this.dispatchEvent(new I(C,this.sketchFeature_))},t.prototype.updateSketchFeatures_=function(){var e=[];this.sketchFeature_&&e.push(this.sketchFeature_),this.sketchLine_&&e.push(this.sketchLine_),this.sketchPoint_&&e.push(this.sketchPoint_);var t=this.overlay_.getSource();t.clear(!0),t.addFeatures(e)},t.prototype.updateState_=function(){var e=this.getMap(),t=this.getActive();e&&t||this.abortDrawing_(),this.overlay_.setMap(t?e:null)},t}(O.b);t.a=D},"./node_modules/ol/interaction/Modify.js":function(e,t,n){"use strict";var r=n("./node_modules/ol/util.js"),o=n("./node_modules/ol/Collection.js"),i=n("./node_modules/ol/CollectionEventType.js"),a=n("./node_modules/ol/Feature.js"),s=n("./node_modules/ol/MapBrowserEventType.js"),l=n("./node_modules/ol/array.js"),u=n("./node_modules/ol/coordinate.js"),c=n("./node_modules/ol/events.js"),p=n("./node_modules/ol/events/Event.js"),f=n("./node_modules/ol/events/EventType.js"),d=n("./node_modules/ol/events/condition.js"),h=n("./node_modules/ol/extent.js"),m=n("./node_modules/ol/geom/GeometryType.js"),y=n("./node_modules/ol/geom/Point.js"),g=n("./node_modules/ol/interaction/Pointer.js"),b=n("./node_modules/ol/layer/Vector.js"),v=n("./node_modules/ol/source/Vector.js"),_=n("./node_modules/ol/source/VectorEventType.js"),w=n("./node_modules/ol/structs/RBush.js"),O=n("./node_modules/ol/style/Style.js"),j="modifystart",S="modifyend",E=function(e){function t(t,n,r){e.call(this,t),this.features=n,this.mapBrowserEvent=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(p.a),x=function(e){function t(t){var n,r;if(e.call(this,t),this.condition_=t.condition?t.condition:d.k,this.defaultDeleteCondition_=function(e){return Object(d.a)(e)&&Object(d.m)(e)},this.deleteCondition_=t.deleteCondition?t.deleteCondition:this.defaultDeleteCondition_,this.insertVertexCondition_=t.insertVertexCondition?t.insertVertexCondition:d.c,this.vertexFeature_=null,this.vertexSegments_=null,this.lastPixel_=[0,0],this.ignoreNextSingleClick_=!1,this.modified_=!1,this.rBush_=new w.a,this.pixelTolerance_=void 0!==t.pixelTolerance?t.pixelTolerance:10,this.snappedToVertex_=!1,this.changingFeature_=!1,this.dragSegments_=[],this.overlay_=new b.a({source:new v.a({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.style?t.style:(n=Object(O.createEditingStyle)(),function(e,t){return n[m.a.POINT]}),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.SEGMENT_WRITERS_={Point:this.writePointGeometry_,LineString:this.writeLineStringGeometry_,LinearRing:this.writeLineStringGeometry_,Polygon:this.writePolygonGeometry_,MultiPoint:this.writeMultiPointGeometry_,MultiLineString:this.writeMultiLineStringGeometry_,MultiPolygon:this.writeMultiPolygonGeometry_,Circle:this.writeCircleGeometry_,GeometryCollection:this.writeGeometryCollectionGeometry_},this.source_=null,t.source?(this.source_=t.source,r=new o.a(this.source_.getFeatures()),Object(c.a)(this.source_,_.a.ADDFEATURE,this.handleSourceAdd_,this),Object(c.a)(this.source_,_.a.REMOVEFEATURE,this.handleSourceRemove_,this)):r=t.features,!r)throw new Error("The modify interaction requires features or a source");this.features_=r,this.features_.forEach(this.addFeature_.bind(this)),Object(c.a)(this.features_,i.a.ADD,this.handleFeatureAdd_,this),Object(c.a)(this.features_,i.a.REMOVE,this.handleFeatureRemove_,this),this.lastPointerEvent_=null}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.addFeature_=function(e){var t=e.getGeometry();t&&t.getType()in this.SEGMENT_WRITERS_&&this.SEGMENT_WRITERS_[t.getType()].call(this,e,t);var n=this.getMap();n&&n.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,n),Object(c.a)(e,f.a.CHANGE,this.handleFeatureChange_,this)},t.prototype.willModifyFeatures_=function(e){this.modified_||(this.modified_=!0,this.dispatchEvent(new E(j,this.features_,e)))},t.prototype.removeFeature_=function(e){this.removeFeatureSegmentData_(e),this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),Object(c.c)(e,f.a.CHANGE,this.handleFeatureChange_,this)},t.prototype.removeFeatureSegmentData_=function(e){var t=this.rBush_,n=[];t.forEach((function(t){e===t.feature&&n.push(t)}));for(var r=n.length-1;r>=0;--r)t.remove(n[r])},t.prototype.setActive=function(t){this.vertexFeature_&&!t&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),e.prototype.setActive.call(this,t)},t.prototype.setMap=function(t){this.overlay_.setMap(t),e.prototype.setMap.call(this,t)},t.prototype.getOverlay=function(){return this.overlay_},t.prototype.handleSourceAdd_=function(e){e.feature&&this.features_.push(e.feature)},t.prototype.handleSourceRemove_=function(e){e.feature&&this.features_.remove(e.feature)},t.prototype.handleFeatureAdd_=function(e){this.addFeature_(e.element)},t.prototype.handleFeatureChange_=function(e){if(!this.changingFeature_){var t=e.target;this.removeFeature_(t),this.addFeature_(t)}},t.prototype.handleFeatureRemove_=function(e){var t=e.element;this.removeFeature_(t)},t.prototype.writePointGeometry_=function(e,t){var n=t.getCoordinates(),r={feature:e,geometry:t,segment:[n,n]};this.rBush_.insert(t.getExtent(),r)},t.prototype.writeMultiPointGeometry_=function(e,t){for(var n=t.getCoordinates(),r=0,o=n.length;r<o;++r){var i=n[r],a={feature:e,geometry:t,depth:[r],index:r,segment:[i,i]};this.rBush_.insert(t.getExtent(),a)}},t.prototype.writeLineStringGeometry_=function(e,t){for(var n=t.getCoordinates(),r=0,o=n.length-1;r<o;++r){var i=n.slice(r,r+2),a={feature:e,geometry:t,index:r,segment:i};this.rBush_.insert(Object(h.b)(i),a)}},t.prototype.writeMultiLineStringGeometry_=function(e,t){for(var n=t.getCoordinates(),r=0,o=n.length;r<o;++r)for(var i=n[r],a=0,s=i.length-1;a<s;++a){var l=i.slice(a,a+2),u={feature:e,geometry:t,depth:[r],index:a,segment:l};this.rBush_.insert(Object(h.b)(l),u)}},t.prototype.writePolygonGeometry_=function(e,t){for(var n=t.getCoordinates(),r=0,o=n.length;r<o;++r)for(var i=n[r],a=0,s=i.length-1;a<s;++a){var l=i.slice(a,a+2),u={feature:e,geometry:t,depth:[r],index:a,segment:l};this.rBush_.insert(Object(h.b)(l),u)}},t.prototype.writeMultiPolygonGeometry_=function(e,t){for(var n=t.getCoordinates(),r=0,o=n.length;r<o;++r)for(var i=n[r],a=0,s=i.length;a<s;++a)for(var l=i[a],u=0,c=l.length-1;u<c;++u){var p=l.slice(u,u+2),f={feature:e,geometry:t,depth:[a,r],index:u,segment:p};this.rBush_.insert(Object(h.b)(p),f)}},t.prototype.writeCircleGeometry_=function(e,t){var n=t.getCenter(),r={feature:e,geometry:t,index:0,segment:[n,n]},o={feature:e,geometry:t,index:1,segment:[n,n]},i=[r,o];r.featureSegments=o.featureSegments=i,this.rBush_.insert(Object(h.m)(n),r),this.rBush_.insert(t.getExtent(),o)},t.prototype.writeGeometryCollectionGeometry_=function(e,t){for(var n=t.getGeometriesArray(),r=0;r<n.length;++r)this.SEGMENT_WRITERS_[n[r].getType()].call(this,e,n[r])},t.prototype.createOrUpdateVertexFeature_=function(e){var t=this.vertexFeature_;t?t.getGeometry().setCoordinates(e):(t=new a.a(new y.a(e)),this.vertexFeature_=t,this.overlay_.getSource().addFeature(t));return t},t.prototype.handleEvent=function(t){return!t.pointerEvent||(this.lastPointerEvent_=t,t.map.getView().getInteracting()||t.type!=s.a.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(t),this.vertexFeature_&&this.deleteCondition_(t)&&(n=!(t.type!=s.a.SINGLECLICK||!this.ignoreNextSingleClick_)||this.removePoint()),t.type==s.a.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),e.prototype.handleEvent.call(this,t)&&!n);var n},t.prototype.handleDragEvent=function(e){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(e);for(var t=e.coordinate,n=0,r=this.dragSegments_.length;n<r;++n){for(var o=this.dragSegments_[n],i=o[0],a=i.depth,s=i.geometry,l=void 0,c=i.segment,p=o[1];t.length<s.getStride();)t.push(c[p][t.length]);switch(s.getType()){case m.a.POINT:l=t,c[0]=c[1]=t;break;case m.a.MULTI_POINT:(l=s.getCoordinates())[i.index]=t,c[0]=c[1]=t;break;case m.a.LINE_STRING:(l=s.getCoordinates())[i.index+p]=t,c[p]=t;break;case m.a.MULTI_LINE_STRING:case m.a.POLYGON:(l=s.getCoordinates())[a[0]][i.index+p]=t,c[p]=t;break;case m.a.MULTI_POLYGON:(l=s.getCoordinates())[a[1]][a[0]][i.index+p]=t,c[p]=t;break;case m.a.CIRCLE:c[0]=c[1]=t,0===i.index?(this.changingFeature_=!0,s.setCenter(t),this.changingFeature_=!1):(this.changingFeature_=!0,s.setRadius(Object(u.d)(s.getCenter(),t)),this.changingFeature_=!1)}l&&this.setGeometryCoordinates_(s,l)}this.createOrUpdateVertexFeature_(t)},t.prototype.handleDownEvent=function(e){if(!this.condition_(e))return!1;this.handlePointerAtPixel_(e.pixel,e.map);var t=e.map.getCoordinateFromPixel(e.pixel);this.dragSegments_.length=0,this.modified_=!1;var n=this.vertexFeature_;if(n){var o=[],i=n.getGeometry().getCoordinates(),a=Object(h.b)([i]),s=this.rBush_.getInExtent(a),l={};s.sort(P);for(var c=0,p=s.length;c<p;++c){var f=s[c],d=f.segment,y=Object(r.c)(f.feature),g=f.depth;if(g&&(y+="-"+g.join("-")),l[y]||(l[y]=new Array(2)),f.geometry.getType()===m.a.CIRCLE&&1===f.index){var b=L(t,f);Object(u.e)(b,i)&&!l[y][0]&&(this.dragSegments_.push([f,0]),l[y][0]=f)}else if(Object(u.e)(d[0],i)&&!l[y][0])this.dragSegments_.push([f,0]),l[y][0]=f;else if(Object(u.e)(d[1],i)&&!l[y][1]){if((f.geometry.getType()===m.a.LINE_STRING||f.geometry.getType()===m.a.MULTI_LINE_STRING)&&l[y][0]&&0===l[y][0].index)continue;this.dragSegments_.push([f,1]),l[y][1]=f}else this.insertVertexCondition_(e)&&Object(r.c)(d)in this.vertexSegments_&&!l[y][0]&&!l[y][1]&&o.push([f,i])}o.length&&this.willModifyFeatures_(e);for(var v=o.length-1;v>=0;--v)this.insertVertex_.apply(this,o[v])}return!!this.vertexFeature_},t.prototype.handleUpEvent=function(e){for(var t=this.dragSegments_.length-1;t>=0;--t){var n=this.dragSegments_[t][0],r=n.geometry;if(r.getType()===m.a.CIRCLE){var o=r.getCenter(),i=n.featureSegments[0],a=n.featureSegments[1];i.segment[0]=i.segment[1]=o,a.segment[0]=a.segment[1]=o,this.rBush_.update(Object(h.m)(o),i),this.rBush_.update(r.getExtent(),a)}else this.rBush_.update(Object(h.b)(n.segment),n)}return this.modified_&&(this.dispatchEvent(new E(S,this.features_,e)),this.modified_=!1),!1},t.prototype.handlePointerMove_=function(e){this.lastPixel_=e.pixel,this.handlePointerAtPixel_(e.pixel,e.map)},t.prototype.handlePointerAtPixel_=function(e,t){var n=t.getCoordinateFromPixel(e),o=Object(h.c)(Object(h.m)(n),t.getView().getResolution()*this.pixelTolerance_),i=this.rBush_.getInExtent(o);if(i.length>0){i.sort((function(e,t){return M(n,e)-M(n,t)}));var a=i[0],s=a.segment,l=L(n,a),c=t.getPixelFromCoordinate(l),p=Object(u.d)(e,c);if(p<=this.pixelTolerance_){var f={};if(a.geometry.getType()===m.a.CIRCLE&&1===a.index)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(l);else{var d=t.getPixelFromCoordinate(s[0]),y=t.getPixelFromCoordinate(s[1]),g=Object(u.h)(c,d),b=Object(u.h)(c,y);p=Math.sqrt(Math.min(g,b)),this.snappedToVertex_=p<=this.pixelTolerance_,this.snappedToVertex_&&(l=g>b?s[1]:s[0]),this.createOrUpdateVertexFeature_(l);for(var v=1,_=i.length;v<_;++v){var w=i[v].segment;if(!(Object(u.e)(s[0],w[0])&&Object(u.e)(s[1],w[1])||Object(u.e)(s[0],w[1])&&Object(u.e)(s[1],w[0])))break;f[Object(r.c)(w)]=!0}}return f[Object(r.c)(s)]=!0,void(this.vertexSegments_=f)}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)},t.prototype.insertVertex_=function(e,t){for(var n,r=e.segment,o=e.feature,i=e.geometry,a=e.depth,s=e.index;t.length<i.getStride();)t.push(0);switch(i.getType()){case m.a.MULTI_LINE_STRING:case m.a.POLYGON:(n=i.getCoordinates())[a[0]].splice(s+1,0,t);break;case m.a.MULTI_POLYGON:(n=i.getCoordinates())[a[1]][a[0]].splice(s+1,0,t);break;case m.a.LINE_STRING:(n=i.getCoordinates()).splice(s+1,0,t);break;default:return}this.setGeometryCoordinates_(i,n);var l=this.rBush_;l.remove(e),this.updateSegmentIndices_(i,s,a,1);var u={segment:[r[0],t],feature:o,geometry:i,depth:a,index:s};l.insert(Object(h.b)(u.segment),u),this.dragSegments_.push([u,1]);var c={segment:[t,r[1]],feature:o,geometry:i,depth:a,index:s+1};l.insert(Object(h.b)(c.segment),c),this.dragSegments_.push([c,0]),this.ignoreNextSingleClick_=!0},t.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=s.a.POINTERDRAG){var e=this.lastPointerEvent_;return this.willModifyFeatures_(e),this.removeVertex_(),this.dispatchEvent(new E(S,this.features_,e)),this.modified_=!1,!0}return!1},t.prototype.removeVertex_=function(){var e,t,n,o,i,a,s,l,u,c,p,f=this.dragSegments_,d={},y=!1;for(i=f.length-1;i>=0;--i)c=(n=f[i])[0],p=Object(r.c)(c.feature),c.depth&&(p+="-"+c.depth.join("-")),p in d||(d[p]={}),0===n[1]?(d[p].right=c,d[p].index=c.index):1==n[1]&&(d[p].left=c,d[p].index=c.index+1);for(p in d){switch(u=d[p].right,s=d[p].left,(l=(a=d[p].index)-1)<0&&(l=0),e=t=(o=(c=void 0!==s?s:u).geometry).getCoordinates(),y=!1,o.getType()){case m.a.MULTI_LINE_STRING:t[c.depth[0]].length>2&&(t[c.depth[0]].splice(a,1),y=!0);break;case m.a.LINE_STRING:t.length>2&&(t.splice(a,1),y=!0);break;case m.a.MULTI_POLYGON:e=e[c.depth[1]];case m.a.POLYGON:(e=e[c.depth[0]]).length>4&&(a==e.length-1&&(a=0),e.splice(a,1),y=!0,0===a&&(e.pop(),e.push(e[0]),l=e.length-1))}if(y){this.setGeometryCoordinates_(o,t);var g=[];if(void 0!==s&&(this.rBush_.remove(s),g.push(s.segment[0])),void 0!==u&&(this.rBush_.remove(u),g.push(u.segment[1])),void 0!==s&&void 0!==u){var b={depth:c.depth,feature:c.feature,geometry:c.geometry,index:l,segment:g};this.rBush_.insert(Object(h.b)(b.segment),b)}this.updateSegmentIndices_(o,a,c.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),f.length=0}}return y},t.prototype.setGeometryCoordinates_=function(e,t){this.changingFeature_=!0,e.setCoordinates(t),this.changingFeature_=!1},t.prototype.updateSegmentIndices_=function(e,t,n,r){this.rBush_.forEachInExtent(e.getExtent(),(function(o){o.geometry===e&&(void 0===n||void 0===o.depth||Object(l.b)(o.depth,n))&&o.index>t&&(o.index+=r)}))},t}(g.b);function P(e,t){return e.index-t.index}function M(e,t){var n=t.geometry;if(n.getType()===m.a.CIRCLE){var r=n;if(1===t.index){var o=Object(u.h)(r.getCenter(),e),i=Math.sqrt(o)-r.getRadius();return i*i}}return Object(u.i)(e,t.segment)}function L(e,t){var n=t.geometry;return n.getType()===m.a.CIRCLE&&1===t.index?n.getClosestPoint(e):Object(u.b)(e,t.segment)}t.a=x},"./node_modules/ol/interaction/Select.js":function(e,t,n){"use strict";var r=n("./node_modules/ol/util.js"),o=n("./node_modules/ol/CollectionEventType.js"),i=n("./node_modules/ol/array.js"),a=n("./node_modules/ol/events.js"),s=n("./node_modules/ol/events/Event.js"),l=n("./node_modules/ol/events/condition.js"),u=n("./node_modules/ol/functions.js"),c=n("./node_modules/ol/geom/GeometryType.js"),p=n("./node_modules/ol/interaction/Interaction.js"),f=n("./node_modules/ol/layer/Vector.js"),d=n("./node_modules/ol/obj.js"),h=n("./node_modules/ol/source/Vector.js"),m=n("./node_modules/ol/style/Style.js"),y="select",g=function(e){function t(t,n,r,o){e.call(this,t),this.selected=n,this.deselected=r,this.mapBrowserEvent=o}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(s.a),b=function(e){function t(t){e.call(this,{handleEvent:v});var n=t||{};this.condition_=n.condition?n.condition:l.m,this.addCondition_=n.addCondition?n.addCondition:l.g,this.removeCondition_=n.removeCondition?n.removeCondition:l.g,this.toggleCondition_=n.toggleCondition?n.toggleCondition:l.l,this.multi_=!!n.multi&&n.multi,this.filter_=n.filter?n.filter:u.b,this.hitTolerance_=n.hitTolerance?n.hitTolerance:0;var r,s=new f.a({source:new h.a({useSpatialIndex:!1,features:n.features,wrapX:n.wrapX}),style:n.style?n.style:_(),updateWhileAnimating:!0,updateWhileInteracting:!0});if(this.featureOverlay_=s,n.layers)if("function"==typeof n.layers)r=n.layers;else{var c=n.layers;r=function(e){return Object(i.f)(c,e)}}else r=u.b;this.layerFilter_=r,this.featureLayerAssociation_={};var p=this.getFeatures();Object(a.a)(p,o.a.ADD,this.addFeature_,this),Object(a.a)(p,o.a.REMOVE,this.removeFeature_,this)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.addFeatureLayerAssociation_=function(e,t){this.featureLayerAssociation_[Object(r.c)(e)]=t},t.prototype.getFeatures=function(){return this.featureOverlay_.getSource().getFeaturesCollection()},t.prototype.getHitTolerance=function(){return this.hitTolerance_},t.prototype.getLayer=function(e){return this.featureLayerAssociation_[Object(r.c)(e)]},t.prototype.getOverlay=function(){return this.featureOverlay_},t.prototype.setHitTolerance=function(e){this.hitTolerance_=e},t.prototype.setMap=function(t){var n=this.getMap(),r=this.getFeatures();n&&r.forEach(n.unskipFeature.bind(n)),e.prototype.setMap.call(this,t),this.featureOverlay_.setMap(t),t&&r.forEach(t.skipFeature.bind(t))},t.prototype.addFeature_=function(e){var t=this.getMap();t&&t.skipFeature(e.element)},t.prototype.removeFeature_=function(e){var t=this.getMap();t&&t.unskipFeature(e.element)},t.prototype.removeFeatureLayerAssociation_=function(e){delete this.featureLayerAssociation_[Object(r.c)(e)]},t}(p.a);function v(e){if(!this.condition_(e))return!0;var t=this.addCondition_(e),n=this.removeCondition_(e),r=this.toggleCondition_(e),o=!t&&!n&&!r,a=e.map,s=this.getFeatures(),u=[],c=[];if(o){Object(d.b)(this.featureLayerAssociation_),a.forEachFeatureAtPixel(e.pixel,function(e,t){if(this.filter_(e,t))return c.push(e),this.addFeatureLayerAssociation_(e,t),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var p=s.getLength()-1;p>=0;--p){var f=s.item(p),h=c.indexOf(f);h>-1?c.splice(h,1):(s.remove(f),u.push(f))}0!==c.length&&s.extend(c)}else{a.forEachFeatureAtPixel(e.pixel,function(e,o){if(this.filter_(e,o))return!t&&!r||Object(i.f)(s.getArray(),e)?(n||r)&&Object(i.f)(s.getArray(),e)&&(u.push(e),this.removeFeatureLayerAssociation_(e)):(c.push(e),this.addFeatureLayerAssociation_(e,o)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var m=u.length-1;m>=0;--m)s.remove(u[m]);s.extend(c)}return(c.length>0||u.length>0)&&this.dispatchEvent(new g(y,c,u,e)),Object(l.j)(e)}function _(){var e=Object(m.createEditingStyle)();return Object(i.c)(e[c.a.POLYGON],e[c.a.LINE_STRING]),Object(i.c)(e[c.a.GEOMETRY_COLLECTION],e[c.a.LINE_STRING]),function(t,n){return t.getGeometry()?e[t.getGeometry().getType()]:null}}t.a=b},"./node_modules/ol/interaction/Translate.js":function(e,t,n){"use strict";var r=n("./node_modules/ol/Collection.js"),o=n("./node_modules/ol/Object.js"),i=n("./node_modules/ol/events.js"),a=n("./node_modules/ol/events/Event.js"),s=n("./node_modules/ol/functions.js"),l=n("./node_modules/ol/array.js"),u=n("./node_modules/ol/interaction/Pointer.js"),c=n("./node_modules/ol/interaction/Property.js"),p="translatestart",f="translating",d="translateend",h=function(e){function t(t,n,r){e.call(this,t),this.features=n,this.coordinate=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(a.a),m=function(e){function t(t){var n,r=t||{};if(e.call(this,r),this.lastCoordinate_=null,this.features_=void 0!==r.features?r.features:null,r.layers)if("function"==typeof r.layers)n=r.layers;else{var a=r.layers;n=function(e){return Object(l.f)(a,e)}}else n=s.b;this.layerFilter_=n,this.hitTolerance_=r.hitTolerance?r.hitTolerance:0,this.lastFeature_=null,Object(i.a)(this,Object(o.b)(c.a.ACTIVE),this.handleActiveChanged_,this)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.handleDownEvent=function(e){if(this.lastFeature_=this.featuresAtPixel_(e.pixel,e.map),!this.lastCoordinate_&&this.lastFeature_){this.lastCoordinate_=e.coordinate,this.handleMoveEvent(e);var t=this.features_||new r.a([this.lastFeature_]);return this.dispatchEvent(new h(p,t,e.coordinate)),!0}return!1},t.prototype.handleUpEvent=function(e){if(this.lastCoordinate_){this.lastCoordinate_=null,this.handleMoveEvent(e);var t=this.features_||new r.a([this.lastFeature_]);return this.dispatchEvent(new h(d,t,e.coordinate)),!0}return!1},t.prototype.handleDragEvent=function(e){if(this.lastCoordinate_){var t=e.coordinate,n=t[0]-this.lastCoordinate_[0],o=t[1]-this.lastCoordinate_[1],i=this.features_||new r.a([this.lastFeature_]);i.forEach((function(e){var t=e.getGeometry();t.translate(n,o),e.setGeometry(t)})),this.lastCoordinate_=t,this.dispatchEvent(new h(f,i,t))}},t.prototype.handleMoveEvent=function(e){var t=e.map.getViewport();this.featuresAtPixel_(e.pixel,e.map)?(t.classList.remove(this.lastCoordinate_?"ol-grab":"ol-grabbing"),t.classList.add(this.lastCoordinate_?"ol-grabbing":"ol-grab")):t.classList.remove("ol-grab","ol-grabbing")},t.prototype.featuresAtPixel_=function(e,t){return t.forEachFeatureAtPixel(e,function(e){if(!this.features_||Object(l.f)(this.features_.getArray(),e))return e}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_})},t.prototype.getHitTolerance=function(){return this.hitTolerance_},t.prototype.setHitTolerance=function(e){this.hitTolerance_=e},t.prototype.setMap=function(t){var n=this.getMap();e.prototype.setMap.call(this,t),this.updateState_(n)},t.prototype.handleActiveChanged_=function(){this.updateState_(null)},t.prototype.updateState_=function(e){var t=this.getMap(),n=this.getActive();t&&n||(t=t||e)&&t.getViewport().classList.remove("ol-grab","ol-grabbing")},t}(u.b);t.a=m},"./node_modules/ol/layer/Base.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/ol/util.js"),o=n("./node_modules/ol/Object.js"),i=n("./node_modules/ol/layer/Property.js"),a=n("./node_modules/ol/math.js"),s=n("./node_modules/ol/obj.js"),l=function(e){function t(t){e.call(this);var n=Object(s.a)({},t);n[i.a.OPACITY]=void 0!==t.opacity?t.opacity:1,n[i.a.VISIBLE]=void 0===t.visible||t.visible,n[i.a.Z_INDEX]=t.zIndex,n[i.a.MAX_RESOLUTION]=void 0!==t.maxResolution?t.maxResolution:1/0,n[i.a.MIN_RESOLUTION]=void 0!==t.minResolution?t.minResolution:0,this.setProperties(n),this.state_=null,this.type}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getType=function(){return this.type},t.prototype.getLayerState=function(){var e=this.state_||{layer:this,managed:!0};return e.opacity=Object(a.a)(this.getOpacity(),0,1),e.sourceState=this.getSourceState(),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=this.getZIndex()||0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),this.state_=e,e},t.prototype.getLayersArray=function(e){return Object(r.b)()},t.prototype.getLayerStatesArray=function(e){return Object(r.b)()},t.prototype.getExtent=function(){return this.get(i.a.EXTENT)},t.prototype.getMaxResolution=function(){return this.get(i.a.MAX_RESOLUTION)},t.prototype.getMinResolution=function(){return this.get(i.a.MIN_RESOLUTION)},t.prototype.getOpacity=function(){return this.get(i.a.OPACITY)},t.prototype.getSourceState=function(){return Object(r.b)()},t.prototype.getVisible=function(){return this.get(i.a.VISIBLE)},t.prototype.getZIndex=function(){return this.get(i.a.Z_INDEX)},t.prototype.setExtent=function(e){this.set(i.a.EXTENT,e)},t.prototype.setMaxResolution=function(e){this.set(i.a.MAX_RESOLUTION,e)},t.prototype.setMinResolution=function(e){this.set(i.a.MIN_RESOLUTION,e)},t.prototype.setOpacity=function(e){this.set(i.a.OPACITY,e)},t.prototype.setVisible=function(e){this.set(i.a.VISIBLE,e)},t.prototype.setZIndex=function(e){this.set(i.a.Z_INDEX,e)},t}(o.a);t.default=l},"./node_modules/ol/layer/Image.js":function(e,t,n){"use strict";var r=n("./node_modules/ol/LayerType.js"),o=function(e){function t(t){var n=t||{};e.call(this,n),this.type=r.a.IMAGE}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(n("./node_modules/ol/layer/Layer.js").a);o.prototype.getSource,t.a=o},"./node_modules/ol/layer/Layer.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return d}));var r=n("./node_modules/ol/events.js"),o=n("./node_modules/ol/events/EventType.js"),i=n("./node_modules/ol/util.js"),a=n("./node_modules/ol/Object.js"),s=n("./node_modules/ol/layer/Base.js"),l=n("./node_modules/ol/layer/Property.js"),u=n("./node_modules/ol/obj.js"),c=n("./node_modules/ol/render/EventType.js"),p=n("./node_modules/ol/source/State.js"),f=function(e){function t(t){var n=Object(u.a)({},t);delete n.source,e.call(this,n),this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,t.map&&this.setMap(t.map),Object(r.a)(this,Object(a.b)(l.a.SOURCE),this.handleSourcePropertyChange_,this);var o=t.source?t.source:null;this.setSource(o)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getLayersArray=function(e){var t=e||[];return t.push(this),t},t.prototype.getLayerStatesArray=function(e){var t=e||[];return t.push(this.getLayerState()),t},t.prototype.getSource=function(){return this.get(l.a.SOURCE)||null},t.prototype.getSourceState=function(){var e=this.getSource();return e?e.getState():p.a.UNDEFINED},t.prototype.handleSourceChange_=function(){this.changed()},t.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Object(r.e)(this.sourceChangeKey_),this.sourceChangeKey_=null);var e=this.getSource();e&&(this.sourceChangeKey_=Object(r.a)(e,o.a.CHANGE,this.handleSourceChange_,this)),this.changed()},t.prototype.setMap=function(e){this.mapPrecomposeKey_&&(Object(r.e)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(Object(r.e)(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=Object(r.a)(e,c.a.PRECOMPOSE,(function(e){var t=e,n=this.getLayerState();n.managed=!1,void 0===this.getZIndex()&&(n.zIndex=1/0),t.frameState.layerStatesArray.push(n),t.frameState.layerStates[Object(i.c)(this)]=n}),this),this.mapRenderKey_=Object(r.a)(this,o.a.CHANGE,e.render,e),this.changed())},t.prototype.setSource=function(e){this.set(l.a.SOURCE,e)},t}(s.default);function d(e,t){return e.visible&&t>=e.minResolution&&t<e.maxResolution}t.a=f},"./node_modules/ol/layer/Property.js":function(e,t,n){"use strict";t.a={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",SOURCE:"source"}},"./node_modules/ol/layer/Tile.js":function(e,t,n){"use strict";var r=n("./node_modules/ol/LayerType.js"),o=n("./node_modules/ol/layer/Layer.js"),i=n("./node_modules/ol/layer/TileProperty.js"),a=n("./node_modules/ol/obj.js"),s=function(e){function t(t){var n=t||{},o=Object(a.a)({},n);delete o.preload,delete o.useInterimTilesOnError,e.call(this,o),this.setPreload(void 0!==n.preload?n.preload:0),this.setUseInterimTilesOnError(void 0===n.useInterimTilesOnError||n.useInterimTilesOnError),this.type=r.a.TILE}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getPreload=function(){return this.get(i.a.PRELOAD)},t.prototype.setPreload=function(e){this.set(i.a.PRELOAD,e)},t.prototype.getUseInterimTilesOnError=function(){return this.get(i.a.USE_INTERIM_TILES_ON_ERROR)},t.prototype.setUseInterimTilesOnError=function(e){this.set(i.a.USE_INTERIM_TILES_ON_ERROR,e)},t}(o.a);s.prototype.getSource,t.a=s},"./node_modules/ol/layer/TileProperty.js":function(e,t,n){"use strict";t.a={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"}},"./node_modules/ol/layer/VectorTile.js":function(e,t,n){"use strict";var r=n("./node_modules/ol/LayerType.js"),o=n("./node_modules/ol/asserts.js"),i=n("./node_modules/ol/layer/TileProperty.js"),a=n("./node_modules/ol/layer/Vector.js"),s=n("./node_modules/ol/layer/VectorTileRenderType.js"),l=n("./node_modules/ol/obj.js"),u=function(e){function t(t){var n=t||{},i=n.renderMode||s.a.HYBRID;Object(o.a)(null==i||i==s.a.IMAGE||i==s.a.HYBRID||i==s.a.VECTOR,28),n.declutter&&i==s.a.IMAGE&&(i=s.a.HYBRID),n.renderMode=i;var a=Object(l.a)({},n);delete a.preload,delete a.useInterimTilesOnError,e.call(this,a),this.setPreload(n.preload?n.preload:0),this.setUseInterimTilesOnError(void 0===n.useInterimTilesOnError||n.useInterimTilesOnError),this.type=r.a.VECTOR_TILE}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getPreload=function(){return this.get(i.a.PRELOAD)},t.prototype.getUseInterimTilesOnError=function(){return this.get(i.a.USE_INTERIM_TILES_ON_ERROR)},t.prototype.setPreload=function(e){this.set(i.a.PRELOAD,e)},t.prototype.setUseInterimTilesOnError=function(e){this.set(i.a.USE_INTERIM_TILES_ON_ERROR,e)},t}(a.a);u.prototype.getSource,t.a=u},"./node_modules/ol/math.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"h",(function(){return l})),n.d(t,"i",(function(){return u})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return p}));n("./node_modules/ol/asserts.js");function r(e,t,n){return Math.min(Math.max(e,t),n)}var o="cosh"in Math?Math.cosh:function(e){var t=Math.exp(e);return(t+1/t)/2};function i(e,t,n,r,o,i){var s=o-n,l=i-r;if(0!==s||0!==l){var u=((e-n)*s+(t-r)*l)/(s*s+l*l);u>1?(n=o,r=i):u>0&&(n+=s*u,r+=l*u)}return a(e,t,n,r)}function a(e,t,n,r){var o=n-e,i=r-t;return o*o+i*i}function s(e){for(var t=e.length,n=0;n<t;n++){for(var r=n,o=Math.abs(e[n][n]),i=n+1;i<t;i++){var a=Math.abs(e[i][n]);a>o&&(o=a,r=i)}if(0===o)return null;var s=e[r];e[r]=e[n],e[n]=s;for(var l=n+1;l<t;l++)for(var u=-e[l][n]/e[n][n],c=n;c<t+1;c++)n==c?e[l][c]=0:e[l][c]+=u*e[n][c]}for(var p=new Array(t),f=t-1;f>=0;f--){p[f]=e[f][t]/e[f][f];for(var d=f-1;d>=0;d--)e[d][t]-=e[d][f]*p[f]}return p}function l(e){return 180*e/Math.PI}function u(e){return e*Math.PI/180}function c(e,t){var n=e%t;return n*t<0?n+t:n}function p(e,t,n){return e+n*(t-e)}},"./node_modules/ol/obj.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return a}));var r="function"==typeof Object.assign?Object.assign:function(e,t){var n=arguments;if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),o=1,i=arguments.length;o<i;++o){var a=n[o];if(null!=a)for(var s in a)a.hasOwnProperty(s)&&(r[s]=a[s])}return r};function o(e){for(var t in e)delete e[t]}function i(e){var t=[];for(var n in e)t.push(e[n]);return t}function a(e){var t;for(t in e)return!1;return!t}},"./node_modules/ol/ol.css":function(e,t,n){var r=n("./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./node_modules/ol/ol.css");"string"==typeof r&&(r=[[e.i,r,""]]);n("./node_modules/style-loader/addStyles.js")(r,{});r.locals&&(e.exports=r.locals)},"./node_modules/ol/proj.js":function(e,t,n){"use strict";var r=n("./node_modules/ol/sphere.js"),o=n("./node_modules/ol/extent.js"),i=n("./node_modules/ol/math.js"),a=n("./node_modules/ol/proj/Projection.js"),s=n("./node_modules/ol/proj/Units.js"),l=6378137*Math.PI,u=[-l,-l,l,l],c=[-180,-85,180,85],p=function(e){function t(t){e.call(this,{code:t,units:s.default.METERS,extent:u,global:!0,worldExtent:c,getPointResolution:function(e,t){return e/Object(i.b)(t[1]/6378137)}})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(a.a),f=[new p("EPSG:3857"),new p("EPSG:102100"),new p("EPSG:102113"),new p("EPSG:900913"),new p("urn:ogc:def:crs:EPSG:6.18:3:3857"),new p("urn:ogc:def:crs:EPSG::3857"),new p("http://www.opengis.net/gml/srs/epsg.xml#3857")];function d(e,t,n){var r=e.length,o=n>1?n:2,i=t;void 0===i&&(i=o>2?e.slice():new Array(r));for(var a=l,s=0;s<r;s+=o){i[s]=a*e[s]/180;var u=6378137*Math.log(Math.tan(Math.PI*(e[s+1]+90)/360));u>a?u=a:u<-a&&(u=-a),i[s+1]=u}return i}function h(e,t,n){var r=e.length,o=n>1?n:2,i=t;void 0===i&&(i=o>2?e.slice():new Array(r));for(var a=0;a<r;a+=o)i[a]=180*e[a]/l,i[a+1]=360*Math.atan(Math.exp(e[a+1]/6378137))/Math.PI-90;return i}var m=[-180,-90,180,90],y=6378137*Math.PI/180,g=function(e){function t(t,n){e.call(this,{code:t,units:s.default.DEGREES,extent:m,axisOrientation:n,global:!0,metersPerUnit:y,worldExtent:m})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(a.a),b=[new g("CRS:84"),new g("EPSG:4326","neu"),new g("urn:ogc:def:crs:EPSG::4326","neu"),new g("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new g("urn:ogc:def:crs:OGC:1.3:CRS84"),new g("urn:ogc:def:crs:OGC:2:84"),new g("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new g("urn:x-ogc:def:crs:EPSG:4326","neu")],v={};var _,w,O,j=n("./node_modules/ol/proj/transforms.js");function S(e,t,n){var r;if(void 0!==t){for(var o=0,i=e.length;o<i;++o)t[o]=e[o];r=t}else r=e.slice();return r}function E(e,t,n){if(void 0!==t&&e!==t){for(var r=0,o=e.length;r<o;++r)t[r]=e[r];e=t}return e}function x(e){!function(e,t){v[e]=t}(e.getCode(),e),Object(j.a)(e,e,S)}function P(e){return"string"==typeof e?v[e]||null:e||null}function M(e,t,n,o){var i,a=(e=P(e)).getPointResolutionFunc();if(a)i=a(t,n);else if(e.getUnits()==s.default.DEGREES&&!o||o==s.default.DEGREES)i=t;else{var l=A(e,P("EPSG:4326")),u=[n[0]-t/2,n[1],n[0]+t/2,n[1],n[0],n[1]-t/2,n[0],n[1]+t/2];u=l(u,u,2),i=(Object(r.b)(u.slice(0,2),u.slice(2,4))+Object(r.b)(u.slice(4,6),u.slice(6,8)))/2;var c=o?s.METERS_PER_UNIT[o]:e.getMetersPerUnit();void 0!==c&&(i/=c)}return i}function L(e){!function(e){e.forEach(x)}(e),e.forEach((function(t){e.forEach((function(e){t!==e&&Object(j.a)(t,e,S)}))}))}function T(e,t){return e?"string"==typeof e?P(e):e:P(t)}function C(e){return function(t,n,r){for(var o=t.length,i=void 0!==r?r:2,a=void 0!==n?n:new Array(o),s=0;s<o;s+=i){var l=e([t[s],t[s+1]]);a[s]=l[0],a[s+1]=l[1];for(var u=i-1;u>=2;--u)a[s+u]=t[s+u]}return a}}function k(e,t,n,r){var o=P(e),i=P(t);Object(j.a)(o,i,C(n)),Object(j.a)(i,o,C(r))}function I(e,t){var n=F(e,void 0!==t?t:"EPSG:3857","EPSG:4326"),r=n[0];return(r<-180||r>180)&&(n[0]=Object(i.d)(r+180,360)-180),n}function D(e,t){if(e===t)return!0;var n=e.getUnits()===t.getUnits();return(e.getCode()===t.getCode()||A(e,t)===S)&&n}function A(e,t){var n=e.getCode(),r=t.getCode(),o=Object(j.c)(n,r);return o||(o=E),o}function R(e,t){return A(P(e),P(t))}function F(e,t,n){return R(t,n)(e,void 0,e.length)}function N(e,t,n){var r=R(t,n);return Object(o.a)(e,r)}n.d(t,"j",(function(){return E})),n.d(t,"c",(function(){return x})),n.d(t,"f",(function(){return P})),n.d(t,"g",(function(){return M})),n.d(t,"b",(function(){return L})),n.d(t,"d",(function(){return T})),n.d(t,"a",(function(){return k})),n.d(t,"k",(function(){return I})),n.d(t,"e",(function(){return D})),n.d(t,"i",(function(){return A})),n.d(t,"h",(function(){return R})),n.d(t,"l",(function(){return F})),n.d(t,"m",(function(){return N})),L(f),L(b),_=f,w=d,O=h,b.forEach((function(e){_.forEach((function(t){Object(j.a)(e,t,w),Object(j.a)(t,e,O)}))}))},"./node_modules/ol/proj/Projection.js":function(e,t,n){"use strict";var r=n("./node_modules/ol/proj/Units.js"),o=function(e){this.code_=e.code,this.units_=e.units,this.extent_=void 0!==e.extent?e.extent:null,this.worldExtent_=void 0!==e.worldExtent?e.worldExtent:null,this.axisOrientation_=void 0!==e.axisOrientation?e.axisOrientation:"enu",this.global_=void 0!==e.global&&e.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit};o.prototype.canWrapX=function(){return this.canWrapX_},o.prototype.getCode=function(){return this.code_},o.prototype.getExtent=function(){return this.extent_},o.prototype.getUnits=function(){return this.units_},o.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||r.METERS_PER_UNIT[this.units_]},o.prototype.getWorldExtent=function(){return this.worldExtent_},o.prototype.getAxisOrientation=function(){return this.axisOrientation_},o.prototype.isGlobal=function(){return this.global_},o.prototype.setGlobal=function(e){this.global_=e,this.canWrapX_=!(!e||!this.extent_)},o.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},o.prototype.setDefaultTileGrid=function(e){this.defaultTileGrid_=e},o.prototype.setExtent=function(e){this.extent_=e,this.canWrapX_=!(!this.global_||!e)},o.prototype.setWorldExtent=function(e){this.worldExtent_=e},o.prototype.setGetPointResolution=function(e){this.getPointResolutionFunc_=e},o.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},t.a=o},"./node_modules/ol/proj/Units.js":function(e,t,n){"use strict";n.r(t),n.d(t,"METERS_PER_UNIT",(function(){return o}));var r={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},o={};o[r.DEGREES]=2*Math.PI*6370997/360,o[r.FEET]=.3048,o[r.METERS]=1,o[r.USFEET]=1200/3937,t.default=r},"./node_modules/ol/proj/proj4.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("./node_modules/ol/proj.js"),o=n("./node_modules/ol/proj/transforms.js"),i=n("./node_modules/ol/proj/Projection.js");function a(e){var t,n,a=Object.keys(e.defs),s=a.length;for(t=0;t<s;++t){var l=a[t];if(!Object(r.f)(l)){var u=e.defs(l);Object(r.c)(new i.a({code:l,axisOrientation:u.axis,metersPerUnit:u.to_meter,units:u.units}))}}for(t=0;t<s;++t){var c=a[t],p=Object(r.f)(c);for(n=0;n<s;++n){var f=a[n],d=Object(r.f)(f);if(!Object(o.c)(c,f))if(e.defs[c]===e.defs[f])Object(r.b)([p,d]);else{var h=e(c,f);Object(r.a)(p,d,h.forward,h.inverse)}}}}},"./node_modules/ol/proj/transforms.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a}));n("./node_modules/ol/obj.js");var r={};function o(){r={}}function i(e,t,n){var o=e.getCode(),i=t.getCode();o in r||(r[o]={}),r[o][i]=n}function a(e,t){var n;return e in r&&t in r[e]&&(n=r[e][t]),n}},"./node_modules/ol/render/EventType.js":function(e,t,n){"use strict";t.a={POSTCOMPOSE:"postcompose",PRECOMPOSE:"precompose",RENDER:"render",RENDERCOMPLETE:"rendercomplete"}},"./node_modules/ol/reproj.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u}));var r=n("./node_modules/ol/dom.js"),o=n("./node_modules/ol/extent.js"),i=n("./node_modules/ol/math.js"),a=n("./node_modules/ol/proj.js");function s(e,t,n,r){var i=Object(a.l)(n,t,e),s=Object(a.g)(t,r,n),l=t.getMetersPerUnit();void 0!==l&&(s*=l);var u=e.getMetersPerUnit();void 0!==u&&(s/=u);var c=e.getExtent();if(!c||Object(o.f)(c,i)){var p=Object(a.g)(e,s,i)/s;isFinite(p)&&p>0&&(s/=p)}return s}function l(e,t,n,r){var o=n-e,i=r-t,a=Math.sqrt(o*o+i*i);return[Math.round(n+o/a),Math.round(r+i/a)]}function u(e,t,n,a,s,u,c,p,f,d,h){var m=Object(r.a)(Math.round(n*e),Math.round(n*t));if(0===f.length)return m.canvas;m.scale(n,n);var y=Object(o.j)();f.forEach((function(e,t,n){Object(o.q)(y,e.extent)}));var g=Object(o.E)(y),b=Object(o.A)(y),v=Object(r.a)(Math.round(n*g/a),Math.round(n*b/a)),_=n/a;f.forEach((function(e,t,n){var r=e.extent[0]-y[0],i=-(e.extent[3]-y[3]),a=Object(o.E)(e.extent),s=Object(o.A)(e.extent);v.drawImage(e.image,d,d,e.image.width-2*d,e.image.height-2*d,r*_,i*_,a*_,s*_)}));var w=Object(o.C)(c);return p.getTriangles().forEach((function(e,t,r){var o=e.source,s=e.target,c=o[0][0],p=o[0][1],f=o[1][0],d=o[1][1],h=o[2][0],g=o[2][1],b=(s[0][0]-w[0])/u,_=-(s[0][1]-w[1])/u,O=(s[1][0]-w[0])/u,j=-(s[1][1]-w[1])/u,S=(s[2][0]-w[0])/u,E=-(s[2][1]-w[1])/u,x=c,P=p;c=0,p=0;var M=[[f-=x,d-=P,0,0,O-b],[h-=x,g-=P,0,0,S-b],[0,0,f,d,j-_],[0,0,h,g,E-_]],L=Object(i.e)(M);if(L){m.save(),m.beginPath();var T=(b+O+S)/3,C=(_+j+E)/3,k=l(T,C,b,_),I=l(T,C,O,j),D=l(T,C,S,E);m.moveTo(I[0],I[1]),m.lineTo(k[0],k[1]),m.lineTo(D[0],D[1]),m.clip(),m.transform(L[0],L[2],L[1],L[3],b,_),m.translate(y[0]-x,y[3]-P),m.scale(a/n,-a/n),m.drawImage(v.canvas,0,0),m.restore()}})),h&&(m.save(),m.strokeStyle="black",m.lineWidth=1,p.getTriangles().forEach((function(e,t,n){var r=e.target,o=(r[0][0]-w[0])/u,i=-(r[0][1]-w[1])/u,a=(r[1][0]-w[0])/u,s=-(r[1][1]-w[1])/u,l=(r[2][0]-w[0])/u,c=-(r[2][1]-w[1])/u;m.beginPath(),m.moveTo(a,s),m.lineTo(o,i),m.lineTo(l,c),m.closePath(),m.stroke()})),m.restore()),m.canvas}},"./node_modules/ol/reproj/Triangulation.js":function(e,t,n){"use strict";var r=n("./node_modules/ol/extent.js"),o=n("./node_modules/ol/math.js"),i=n("./node_modules/ol/proj.js"),a=function(e,t,n,o,a){this.sourceProj_=e,this.targetProj_=t;var s={},l=Object(i.h)(this.targetProj_,this.sourceProj_);this.transformInv_=function(e){var t=e[0]+"/"+e[1];return s[t]||(s[t]=l(e)),s[t]},this.maxSourceExtent_=o,this.errorThresholdSquared_=a*a,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!o&&!!this.sourceProj_.getExtent()&&Object(r.E)(o)==Object(r.E)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Object(r.E)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Object(r.E)(this.targetProj_.getExtent()):null;var u=Object(r.C)(n),c=Object(r.D)(n),p=Object(r.w)(n),f=Object(r.v)(n),d=this.transformInv_(u),h=this.transformInv_(c),m=this.transformInv_(p),y=this.transformInv_(f);if(this.addQuad_(u,c,p,f,d,h,m,y,10),this.wrapsXInSource_){var g=1/0;this.triangles_.forEach((function(e,t,n){g=Math.min(g,e.source[0][0],e.source[1][0],e.source[2][0])})),this.triangles_.forEach(function(e){if(Math.max(e.source[0][0],e.source[1][0],e.source[2][0])-g>this.sourceWorldWidth_/2){var t=[[e.source[0][0],e.source[0][1]],[e.source[1][0],e.source[1][1]],[e.source[2][0],e.source[2][1]]];t[0][0]-g>this.sourceWorldWidth_/2&&(t[0][0]-=this.sourceWorldWidth_),t[1][0]-g>this.sourceWorldWidth_/2&&(t[1][0]-=this.sourceWorldWidth_),t[2][0]-g>this.sourceWorldWidth_/2&&(t[2][0]-=this.sourceWorldWidth_);var n=Math.min(t[0][0],t[1][0],t[2][0]);Math.max(t[0][0],t[1][0],t[2][0])-n<this.sourceWorldWidth_/2&&(e.source=t)}}.bind(this))}s={}};a.prototype.addTriangle_=function(e,t,n,r,o,i){this.triangles_.push({source:[r,o,i],target:[e,t,n]})},a.prototype.addQuad_=function(e,t,n,i,a,s,l,u,c){var p=Object(r.b)([a,s,l,u]),f=this.sourceWorldWidth_?Object(r.E)(p)/this.sourceWorldWidth_:null,d=this.sourceWorldWidth_,h=this.sourceProj_.canWrapX()&&f>.5&&f<1,m=!1;if(c>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var y=Object(r.b)([e,t,n,i]);m=Object(r.E)(y)/this.targetWorldWidth_>.25||m}!h&&this.sourceProj_.isGlobal()&&f&&(m=f>.25||m)}if(m||!this.maxSourceExtent_||Object(r.F)(p,this.maxSourceExtent_)){if(!(m||isFinite(a[0])&&isFinite(a[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(l[0])&&isFinite(l[1])&&isFinite(u[0])&&isFinite(u[1]))){if(!(c>0))return;m=!0}if(c>0){if(!m){var g,b=[(e[0]+n[0])/2,(e[1]+n[1])/2],v=this.transformInv_(b);if(h)g=(Object(o.d)(a[0],d)+Object(o.d)(l[0],d))/2-Object(o.d)(v[0],d);else g=(a[0]+l[0])/2-v[0];var _=(a[1]+l[1])/2-v[1];m=g*g+_*_>this.errorThresholdSquared_}if(m){if(Math.abs(e[0]-n[0])<=Math.abs(e[1]-n[1])){var w=[(t[0]+n[0])/2,(t[1]+n[1])/2],O=this.transformInv_(w),j=[(i[0]+e[0])/2,(i[1]+e[1])/2],S=this.transformInv_(j);this.addQuad_(e,t,w,j,a,s,O,S,c-1),this.addQuad_(j,w,n,i,S,O,l,u,c-1)}else{var E=[(e[0]+t[0])/2,(e[1]+t[1])/2],x=this.transformInv_(E),P=[(n[0]+i[0])/2,(n[1]+i[1])/2],M=this.transformInv_(P);this.addQuad_(e,E,P,i,a,x,M,u,c-1),this.addQuad_(E,t,n,P,x,s,l,M,c-1)}return}}if(h){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(e,n,i,a,l,u),this.addTriangle_(e,t,n,a,s,l)}},a.prototype.calculateSourceExtent=function(){var e=Object(r.j)();return this.triangles_.forEach((function(t,n,o){var i=t.source;Object(r.r)(e,i[0]),Object(r.r)(e,i[1]),Object(r.r)(e,i[2])})),e},a.prototype.getTriangles=function(){return this.triangles_},t.a=a},"./node_modules/ol/reproj/common.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var r=.5,o=!0},"./node_modules/ol/size.js":function(e,t,n){"use strict";function r(e,t,n){return void 0===n&&(n=[0,0]),n[0]=e[0]+2*t,n[1]=e[1]+2*t,n}function o(e){return e[0]>0&&e[1]>0}function i(e,t,n){return void 0===n&&(n=[0,0]),n[0]=e[0]*t+.5|0,n[1]=e[1]*t+.5|0,n}function a(e,t){return Array.isArray(e)?e:(void 0===t?t=[e,e]:t[0]=t[1]=e,t)}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return a}))},"./node_modules/ol/source/BingMaps.js":function(e,t,n){"use strict";var r=n("./node_modules/ol/tileurlfunction.js"),o=n("./node_modules/ol/extent.js"),i=n("./node_modules/ol/util.js");var a=n("./node_modules/ol/proj.js"),s=n("./node_modules/ol/source/State.js"),l=n("./node_modules/ol/source/TileImage.js"),u=n("./node_modules/ol/tilecoord.js"),c=n("./node_modules/ol/tilegrid.js"),p=function(e){function t(t){var n=void 0!==t.hidpi&&t.hidpi;e.call(this,{cacheSize:t.cacheSize,crossOrigin:"anonymous",opaque:!0,projection:Object(a.f)("EPSG:3857"),reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:s.a.LOADING,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:n?2:1,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition}),this.hidpi_=n,this.culture_=void 0!==t.culture?t.culture:"en-us",this.maxZoom_=void 0!==t.maxZoom?t.maxZoom:-1,this.apiKey_=t.key,this.imagerySet_=t.imagerySet,function(e,t,n,r){var o=document.createElement("script"),a="olc_"+Object(i.c)(t);function s(){delete window[a],o.parentNode.removeChild(o)}o.async=!0,o.src=e+(-1==e.indexOf("?")?"?":"&")+(r||"callback")+"="+a;var l=setTimeout((function(){s(),n&&n()}),1e4);window[a]=function(e){clearTimeout(l),s(),t(e)},document.getElementsByTagName("head")[0].appendChild(o)}("https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.imagerySet_+"?uriScheme=https&include=ImageryProviders&key="+this.apiKey_+"&c="+this.culture_,this.handleImageryMetadataResponse.bind(this),void 0,"jsonp")}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getApiKey=function(){return this.apiKey_},t.prototype.getImagerySet=function(){return this.imagerySet_},t.prototype.handleImageryMetadataResponse=function(e){if(200==e.statusCode&&"OK"==e.statusDescription&&"ValidCredentials"==e.authenticationResultCode&&1==e.resourceSets.length&&1==e.resourceSets[0].resources.length){var t=e.resourceSets[0].resources[0],n=-1==this.maxZoom_?t.zoomMax:this.maxZoom_,i=this.getProjection(),l=Object(c.c)(i),p=this.hidpi_?2:1,f=t.imageWidth==t.imageHeight?t.imageWidth/p:[t.imageWidth/p,t.imageHeight/p],d=Object(c.b)({extent:l,minZoom:t.zoomMin,maxZoom:n,tileSize:f});this.tileGrid=d;var h=this.culture_,m=this.hidpi_;if(this.tileUrlFunction=Object(r.b)(t.imageUrlSubdomains.map((function(e){var n=[0,0,0],r=t.imageUrl.replace("{subdomain}",e).replace("{culture}",h);return function(e,t,o){if(e){Object(u.a)(e[0],e[1],-e[2]-1,n);var i=r;return m&&(i+="&dpi=d1&device=mobile"),i.replace("{quadkey}",Object(u.f)(n))}}}))),t.imageryProviders){var y=Object(a.i)(Object(a.f)("EPSG:4326"),this.getProjection());this.setAttributions(function(e){var n=[],r=e.viewState,i=this.getTileGrid().getTileCoordForCoordAndResolution(r.center,r.resolution)[0];return t.imageryProviders.map((function(t){for(var r=!1,a=t.coverageAreas,s=0,l=a.length;s<l;++s){var u=a[s];if(i>=u.zoomMin&&i<=u.zoomMax){var c=u.bbox,p=[c[1],c[0],c[3],c[2]],f=Object(o.a)(p,y);if(Object(o.F)(f,e.extent)){r=!0;break}}}r&&n.push(t.attribution)})),n.push('<a class="ol-attribution-bing-tos" href="https://www.microsoft.com/maps/product/terms.html">Terms of Use</a>'),n}.bind(this))}this.setState(s.a.READY)}else this.setState(s.a.ERROR)},t}(l.a);t.a=p},"./node_modules/ol/source/OSM.js":function(e,t,n){"use strict";var r=n("./node_modules/ol/source/XYZ.js"),o=function(e){function t(t){var n,r=t||{};n=void 0!==r.attributions?r.attributions:['&#169; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.'];var o=void 0!==r.crossOrigin?r.crossOrigin:"anonymous",i=void 0!==r.url?r.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";e.call(this,{attributions:n,cacheSize:r.cacheSize,crossOrigin:o,opaque:void 0===r.opaque||r.opaque,maxZoom:void 0!==r.maxZoom?r.maxZoom:19,reprojectionErrorThreshold:r.reprojectionErrorThreshold,tileLoadFunction:r.tileLoadFunction,url:i,wrapX:r.wrapX,attributionsCollapsible:!1})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(r.a);t.a=o},"./node_modules/ol/source/Source.js":function(e,t,n){"use strict";var r=n("./node_modules/ol/util.js"),o=n("./node_modules/ol/Object.js"),i=n("./node_modules/ol/proj.js"),a=n("./node_modules/ol/source/State.js"),s=function(e){function t(t){e.call(this),this.projection_=Object(i.f)(t.projection),this.attributions_=l(t.attributions),this.attributionsCollapsible_=void 0===t.attributionsCollapsible||t.attributionsCollapsible,this.loading=!1,this.state_=void 0!==t.state?t.state:a.a.READY,this.wrapX_=void 0!==t.wrapX&&t.wrapX}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getAttributions=function(){return this.attributions_},t.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},t.prototype.getProjection=function(){return this.projection_},t.prototype.getResolutions=function(){return Object(r.b)()},t.prototype.getState=function(){return this.state_},t.prototype.getWrapX=function(){return this.wrapX_},t.prototype.refresh=function(){this.changed()},t.prototype.setAttributions=function(e){this.attributions_=l(e),this.changed()},t.prototype.setState=function(e){this.state_=e,this.changed()},t}(o.a);function l(e){return e?Array.isArray(e)?function(t){return e}:"function"==typeof e?e:function(t){return[e]}:null}t.a=s},"./node_modules/ol/source/State.js":function(e,t,n){"use strict";t.a={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"}},"./node_modules/ol/source/TileImage.js":function(e,t,n){"use strict";var r=n("./node_modules/ol/reproj/common.js"),o=n("./node_modules/ol/util.js"),i=n("./node_modules/ol/Tile.js"),a=n("./node_modules/ol/TileState.js"),s=n("./node_modules/ol/dom.js"),l=n("./node_modules/ol/events.js"),u=n("./node_modules/ol/events/EventType.js");function c(){var e=Object(s.a)(1,1);return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),e.canvas}var p=function(e){function t(t,n,r,o,i,a){e.call(this,t,n,a),this.crossOrigin_=o,this.src_=r,this.image_=new Image,null!==o&&(this.image_.crossOrigin=o),this.imageListenerKeys_=null,this.tileLoadFunction_=i}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.disposeInternal=function(){this.state==a.a.LOADING&&(this.unlistenImage_(),this.image_=c()),this.interimTile&&this.interimTile.dispose(),this.state=a.a.ABORT,this.changed(),e.prototype.disposeInternal.call(this)},t.prototype.getImage=function(){return this.image_},t.prototype.getKey=function(){return this.src_},t.prototype.handleImageError_=function(){this.state=a.a.ERROR,this.unlistenImage_(),this.image_=c(),this.changed()},t.prototype.handleImageLoad_=function(){var e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=a.a.LOADED:this.state=a.a.EMPTY,this.unlistenImage_(),this.changed()},t.prototype.load=function(){this.state==a.a.ERROR&&(this.state=a.a.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==a.a.IDLE&&(this.state=a.a.LOADING,this.changed(),this.imageListenerKeys_=[Object(l.b)(this.image_,u.a.ERROR,this.handleImageError_,this),Object(l.b)(this.image_,u.a.LOAD,this.handleImageLoad_,this)],this.tileLoadFunction_(this,this.src_))},t.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(l.e),this.imageListenerKeys_=null},t}(i.a),f=n("./node_modules/ol/TileCache.js"),d=n("./node_modules/ol/proj.js"),h=n("./node_modules/ol/extent.js"),m=n("./node_modules/ol/math.js"),y=n("./node_modules/ol/reproj.js"),g=n("./node_modules/ol/reproj/Triangulation.js"),b=function(e){function t(t,n,o,i,s,l,u,c,p,f,d){e.call(this,s,a.a.IDLE),this.renderEdges_=void 0!==d&&d,this.pixelRatio_=u,this.gutter_=c,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=i,this.wrappedTileCoord_=l||s,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;var b=i.getTileCoordExtent(this.wrappedTileCoord_),v=this.targetTileGrid_.getExtent(),_=this.sourceTileGrid_.getExtent(),w=v?Object(h.B)(b,v):b;if(0!==Object(h.u)(w)){var O=t.getExtent();O&&(_=_?Object(h.B)(_,O):O);var j=i.getResolution(this.wrappedTileCoord_[0]),S=Object(h.x)(w),E=Object(y.a)(t,o,S,j);if(!isFinite(E)||E<=0)this.state=a.a.EMPTY;else{var x=void 0!==f?f:r.b;if(this.triangulation_=new g.a(t,o,w,_,E*x),0!==this.triangulation_.getTriangles().length){this.sourceZ_=n.getZForResolution(E);var P=this.triangulation_.calculateSourceExtent();if(_&&(t.canWrapX()?(P[1]=Object(m.a)(P[1],_[1],_[3]),P[3]=Object(m.a)(P[3],_[1],_[3])):P=Object(h.B)(P,_)),Object(h.u)(P)){for(var M=n.getTileRangeForExtentAndZ(P,this.sourceZ_),L=M.minX;L<=M.maxX;L++)for(var T=M.minY;T<=M.maxY;T++){var C=p(this.sourceZ_,L,T,u);C&&this.sourceTiles_.push(C)}0===this.sourceTiles_.length&&(this.state=a.a.EMPTY)}else this.state=a.a.EMPTY}else this.state=a.a.EMPTY}}else this.state=a.a.EMPTY}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.disposeInternal=function(){this.state==a.a.LOADING&&this.unlistenSources_(),e.prototype.disposeInternal.call(this)},t.prototype.getImage=function(){return this.canvas_},t.prototype.reproject_=function(){var e=[];if(this.sourceTiles_.forEach(function(t,n,r){t&&t.getState()==a.a.LOADED&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(t.tileCoord),image:t.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===e.length)this.state=a.a.ERROR;else{var t=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(t),r="number"==typeof n?n:n[0],o="number"==typeof n?n:n[1],i=this.targetTileGrid_.getResolution(t),s=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=Object(y.b)(r,o,this.pixelRatio_,s,this.sourceTileGrid_.getExtent(),i,l,this.triangulation_,e,this.gutter_,this.renderEdges_),this.state=a.a.LOADED}this.changed()},t.prototype.load=function(){if(this.state==a.a.IDLE){this.state=a.a.LOADING,this.changed();var e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(t,n,r){var o=t.getState();if(o==a.a.IDLE||o==a.a.LOADING){e++;var i=Object(l.a)(t,u.a.CHANGE,(function(n){var r=t.getState();r!=a.a.LOADED&&r!=a.a.ERROR&&r!=a.a.EMPTY||(Object(l.e)(i),0===--e&&(this.unlistenSources_(),this.reproject_()))}),this);this.sourcesListenerKeys_.push(i)}}.bind(this)),this.sourceTiles_.forEach((function(e,t,n){e.getState()==a.a.IDLE&&e.load()})),0===e&&setTimeout(this.reproject_.bind(this),0)}},t.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(l.e),this.sourcesListenerKeys_=null},t}(i.a),v=n("./node_modules/ol/source/UrlTile.js"),_=n("./node_modules/ol/tilecoord.js"),w=n("./node_modules/ol/tilegrid.js"),O=function(e){function t(t){e.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:j,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,key:t.key,attributionsCollapsible:t.attributionsCollapsible}),this.crossOrigin=void 0!==t.crossOrigin?t.crossOrigin:null,this.tileClass=void 0!==t.tileClass?t.tileClass:p,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.canExpireCache=function(){if(!r.a)return e.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},t.prototype.expireCache=function(t,n){if(r.a){var o=this.getTileCacheForProjection(t);for(var i in this.tileCache.expireCache(this.tileCache==o?n:{}),this.tileCacheForProjection){var a=this.tileCacheForProjection[i];a.expireCache(a==o?n:{})}}else e.prototype.expireCache.call(this,t,n)},t.prototype.getGutterForProjection=function(e){return r.a&&this.getProjection()&&e&&!Object(d.e)(this.getProjection(),e)?0:this.getGutter()},t.prototype.getGutter=function(){return 0},t.prototype.getOpaque=function(t){return!(r.a&&this.getProjection()&&t&&!Object(d.e)(this.getProjection(),t))&&e.prototype.getOpaque.call(this,t)},t.prototype.getTileGridForProjection=function(t){if(!r.a)return e.prototype.getTileGridForProjection.call(this,t);var n=this.getProjection();if(!this.tileGrid||n&&!Object(d.e)(n,t)){var i=Object(o.c)(t);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=Object(w.d)(t)),this.tileGridForProjection[i]}return this.tileGrid},t.prototype.getTileCacheForProjection=function(t){if(!r.a)return e.prototype.getTileCacheForProjection.call(this,t);var n=this.getProjection();if(!n||Object(d.e)(n,t))return this.tileCache;var i=Object(o.c)(t);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new f.a(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]},t.prototype.createTile_=function(e,t,n,r,o,i){var s=[e,t,n],c=this.getTileCoordForTileUrlFunction(s,o),p=c?this.tileUrlFunction(c,r,o):void 0,f=new this.tileClass(s,void 0!==p?a.a.IDLE:a.a.EMPTY,void 0!==p?p:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return f.key=i,Object(l.a)(f,u.a.CHANGE,this.handleTileChange,this),f},t.prototype.getTile=function(e,t,n,o,i){var a=this.getProjection();if(r.a&&a&&i&&!Object(d.e)(a,i)){var s,l=this.getTileCacheForProjection(i),u=[e,t,n],c=Object(_.c)(u);l.containsKey(c)&&(s=l.get(c));var p=this.getKey();if(s&&s.key==p)return s;var f=this.getTileGridForProjection(a),h=this.getTileGridForProjection(i),m=this.getTileCoordForTileUrlFunction(u,i),y=new b(a,f,i,h,u,m,this.getTilePixelRatio(o),this.getGutter(),function(e,t,n,r){return this.getTileInternal(e,t,n,r,a)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);return y.key=p,s?(y.interimTile=s,y.refreshInterimChain(),l.replace(c,y)):l.set(c,y),y}return this.getTileInternal(e,t,n,o,a||i)},t.prototype.getTileInternal=function(e,t,n,r,o){var i=null,s=Object(_.d)(e,t,n),l=this.getKey();if(this.tileCache.containsKey(s)){if((i=this.tileCache.get(s)).key!=l){var u=i;i=this.createTile_(e,t,n,r,o,l),u.getState()==a.a.IDLE?i.interimTile=u.interimTile:i.interimTile=u,i.refreshInterimChain(),this.tileCache.replace(s,i)}}else i=this.createTile_(e,t,n,r,o,l),this.tileCache.set(s,i);return i},t.prototype.setRenderReprojectionEdges=function(e){if(r.a&&this.renderReprojectionEdges_!=e){for(var t in this.renderReprojectionEdges_=e,this.tileCacheForProjection)this.tileCacheForProjection[t].clear();this.changed()}},t.prototype.setTileGridForProjection=function(e,t){if(r.a){var n=Object(d.f)(e);if(n){var i=Object(o.c)(n);i in this.tileGridForProjection||(this.tileGridForProjection[i]=t)}}},t}(v.a);function j(e,t){e.getImage().src=t}t.a=O},"./node_modules/ol/source/UrlTile.js":function(e,t,n){"use strict";var r=n("./node_modules/ol/util.js"),o=n("./node_modules/ol/TileState.js"),i=n("./node_modules/ol/tileurlfunction.js"),a=n("./node_modules/ol/TileCache.js"),s=n("./node_modules/ol/events/Event.js"),l=n("./node_modules/ol/proj.js"),u=n("./node_modules/ol/size.js"),c=n("./node_modules/ol/source/Source.js"),p=n("./node_modules/ol/tilecoord.js"),f=n("./node_modules/ol/tilegrid.js"),d=function(e){function t(t){e.call(this,{attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX}),this.opaque_=void 0!==t.opaque&&t.opaque,this.tilePixelRatio_=void 0!==t.tilePixelRatio?t.tilePixelRatio:1,this.tileGrid=void 0!==t.tileGrid?t.tileGrid:null,this.tileCache=new a.a(t.cacheSize),this.tmpSize=[0,0],this.key_=t.key||"",this.tileOptions={transition:t.transition}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},t.prototype.expireCache=function(e,t){var n=this.getTileCacheForProjection(e);n&&n.expireCache(t)},t.prototype.forEachLoadedTile=function(e,t,n,r){var i=this.getTileCacheForProjection(e);if(!i)return!1;for(var a,s,l,u=!0,c=n.minX;c<=n.maxX;++c)for(var f=n.minY;f<=n.maxY;++f)s=Object(p.d)(t,c,f),l=!1,i.containsKey(s)&&(l=(a=i.get(s)).getState()===o.a.LOADED)&&(l=!1!==r(a)),l||(u=!1);return u},t.prototype.getGutterForProjection=function(e){return 0},t.prototype.getKey=function(){return this.key_},t.prototype.setKey=function(e){this.key_!==e&&(this.key_=e,this.changed())},t.prototype.getOpaque=function(e){return this.opaque_},t.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},t.prototype.getTile=function(e,t,n,o,i){return Object(r.b)()},t.prototype.getTileGrid=function(){return this.tileGrid},t.prototype.getTileGridForProjection=function(e){return this.tileGrid?this.tileGrid:Object(f.d)(e)},t.prototype.getTileCacheForProjection=function(e){var t=this.getProjection();return t&&!Object(l.e)(t,e)?null:this.tileCache},t.prototype.getTilePixelRatio=function(e){return this.tilePixelRatio_},t.prototype.getTilePixelSize=function(e,t,n){var r=this.getTileGridForProjection(n),o=this.getTilePixelRatio(t),i=Object(u.d)(r.getTileSize(e),this.tmpSize);return 1==o?i:Object(u.c)(i,o,this.tmpSize)},t.prototype.getTileCoordForTileUrlFunction=function(e,t){var n=void 0!==t?t:this.getProjection(),r=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(e=Object(f.e)(r,e,n)),Object(p.g)(e,r)?e:null},t.prototype.refresh=function(){this.tileCache.clear(),this.changed()},t.prototype.useTile=function(e,t,n,r){},t}(c.a),h=function(e){function t(t,n){e.call(this,t),this.tile=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(s.a),m="tileloadstart",y="tileloadend",g="tileloaderror",b=function(e){function t(t){e.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,key:t.key,attributionsCollapsible:t.attributionsCollapsible}),this.generateTileUrlFunction_=!t.tileUrlFunction,this.tileLoadFunction=t.tileLoadFunction,this.tileUrlFunction=t.tileUrlFunction?t.tileUrlFunction.bind(this):i.d,this.urls=null,t.urls?this.setUrls(t.urls):t.url&&this.setUrl(t.url),t.tileUrlFunction&&this.setTileUrlFunction(t.tileUrlFunction,this.key_),this.tileLoadingKeys_={}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},t.prototype.getTileUrlFunction=function(){return this.tileUrlFunction},t.prototype.getUrls=function(){return this.urls},t.prototype.handleTileChange=function(e){var t,n=e.target,i=Object(r.c)(n),a=n.getState();a==o.a.LOADING?(this.tileLoadingKeys_[i]=!0,t=m):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],t=a==o.a.ERROR?g:a==o.a.LOADED||a==o.a.ABORT?y:void 0),null!=t&&this.dispatchEvent(new h(t,n))},t.prototype.setTileLoadFunction=function(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()},t.prototype.setTileUrlFunction=function(e,t){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),void 0!==t?this.setKey(t):this.changed()},t.prototype.setUrl=function(e){var t=this.urls=Object(i.c)(e);this.setUrls(t)},t.prototype.setUrls=function(e){this.urls=e;var t=e.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(Object(i.a)(e,this.tileGrid),t):this.setKey(t)},t.prototype.useTile=function(e,t,n){var r=Object(p.d)(e,t,n);this.tileCache.containsKey(r)&&this.tileCache.get(r)},t}(d);t.a=b},"./node_modules/ol/source/VectorTile.js":function(e,t,n){"use strict";var r=n("./node_modules/ol/TileState.js"),o=n("./node_modules/ol/util.js"),i=n("./node_modules/ol/Tile.js"),a=n("./node_modules/ol/dom.js"),s=n("./node_modules/ol/events.js"),l=n("./node_modules/ol/extent.js"),u=n("./node_modules/ol/events/EventType.js"),c=n("./node_modules/ol/featureloader.js"),p=n("./node_modules/ol/functions.js"),f=function(e){function t(n,o,i,a,c,f,d,h,m,y,g,b,v,_,w){if(e.call(this,n,o,{transition:0}),this.context_={},this.loader_,this.replayState_={},this.sourceTiles_=y,this.tileKeys=[],this.extent=null,this.sourceRevision_=i,this.wrappedTileCoord=f,this.loadListenerKeys_=[],this.sourceTileListenerKeys_=[],f){var O=this.extent=m.getTileCoordExtent(f),j=m.getResolution(w),S=h.getZForResolution(j),E=w!=n[0],x=0;if(h.forEachTileCoord(O,S,function(e){var t=Object(l.B)(O,h.getTileCoordExtent(e)),n=h.getExtent();if(n&&(t=Object(l.B)(t,n,t)),Object(l.E)(t)/j>=.5&&Object(l.A)(t)/j>=.5){++x;var o=e.toString(),i=y[o];if(!i&&!E){var p=d(e,g,b);i=y[o]=new v(e,null==p?r.a.EMPTY:r.a.IDLE,null==p?"":p,a,c),this.sourceTileListenerKeys_.push(Object(s.a)(i,u.a.CHANGE,_))}!i||E&&i.getState()!=r.a.LOADED||(i.consumers++,this.tileKeys.push(o))}}.bind(this)),E&&x==this.tileKeys.length&&this.finishLoading_(),w<=n[0]&&this.state!=r.a.LOADED)for(;w>m.getMinZoom();){var P=new t(n,o,i,a,c,f,d,h,m,y,g,b,v,p.c,--w);if(P.state==r.a.LOADED){this.interimTile=P;break}}}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.disposeInternal=function(){this.state=r.a.ABORT,this.changed(),this.interimTile&&this.interimTile.dispose();for(var t=0,n=this.tileKeys.length;t<n;++t){var o=this.tileKeys[t],i=this.getTile(o);i.consumers--,0==i.consumers&&(delete this.sourceTiles_[o],i.dispose())}this.tileKeys.length=0,this.sourceTiles_=null,this.loadListenerKeys_.forEach(s.e),this.loadListenerKeys_.length=0,this.sourceTileListenerKeys_.forEach(s.e),this.sourceTileListenerKeys_.length=0,e.prototype.disposeInternal.call(this)},t.prototype.getContext=function(e){var t=Object(o.c)(e);return t in this.context_||(this.context_[t]=Object(a.a)()),this.context_[t]},t.prototype.getImage=function(e){return-1==this.getReplayState(e).renderedTileRevision?null:this.getContext(e).canvas},t.prototype.getReplayState=function(e){var t=Object(o.c)(e);return t in this.replayState_||(this.replayState_[t]={dirty:!1,renderedRenderOrder:null,renderedRevision:-1,renderedTileRevision:-1}),this.replayState_[t]},t.prototype.getKey=function(){return this.tileKeys.join("/")+"-"+this.sourceRevision_},t.prototype.getTile=function(e){return this.sourceTiles_[e]},t.prototype.load=function(){var e=0,t={};this.state==r.a.IDLE&&this.setState(r.a.LOADING),this.state==r.a.LOADING&&this.tileKeys.forEach(function(n){var i=this.getTile(n);if(i.state==r.a.IDLE&&(i.setLoader(this.loader_),i.load()),i.state==r.a.LOADING){var a=Object(s.a)(i,u.a.CHANGE,function(n){var a=i.getState();if(a==r.a.LOADED||a==r.a.ERROR){var s=Object(o.c)(i);a==r.a.ERROR?t[s]=!0:(--e,delete t[s]),e-Object.keys(t).length==0&&this.finishLoading_()}}.bind(this));this.loadListenerKeys_.push(a),++e}}.bind(this)),e-Object.keys(t).length==0&&setTimeout(this.finishLoading_.bind(this),0)},t.prototype.finishLoading_=function(){for(var e=this.tileKeys.length,t=0,n=e-1;n>=0;--n){var o=this.getTile(this.tileKeys[n]).getState();o!=r.a.LOADED&&--e,o==r.a.EMPTY&&++t}e==this.tileKeys.length?(this.loadListenerKeys_.forEach(s.e),this.loadListenerKeys_.length=0,this.setState(r.a.LOADED)):this.setState(t==this.tileKeys.length?r.a.EMPTY:r.a.ERROR)},t}(i.a);function d(e,t){var n=Object(c.a)(t,e.getFormat(),e.onLoad.bind(e),e.onError.bind(e));e.setLoader(n)}var h=[0,0,4096,4096],m=function(e){function t(t,n,r,o,i,a){e.call(this,t,n,a),this.consumers=0,this.extent_=null,this.format_=o,this.features_=null,this.loader_,this.projection_=null,this.replayGroups_={},this.tileLoadFunction_=i,this.url_=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.disposeInternal=function(){this.features_=null,this.replayGroups_={},this.state=r.a.ABORT,this.changed(),e.prototype.disposeInternal.call(this)},t.prototype.getExtent=function(){return this.extent_||h},t.prototype.getFormat=function(){return this.format_},t.prototype.getFeatures=function(){return this.features_},t.prototype.getKey=function(){return this.url_},t.prototype.getProjection=function(){return this.projection_},t.prototype.getReplayGroup=function(e,t){return this.replayGroups_[Object(o.c)(e)+","+t]},t.prototype.load=function(){this.state==r.a.IDLE&&(this.setState(r.a.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_(null,NaN,null))},t.prototype.onLoad=function(e,t,n){this.setProjection(t),this.setFeatures(e),this.setExtent(n)},t.prototype.onError=function(){this.setState(r.a.ERROR)},t.prototype.setExtent=function(e){this.extent_=e},t.prototype.setFeatures=function(e){this.features_=e,this.setState(r.a.LOADED)},t.prototype.setProjection=function(e){this.projection_=e},t.prototype.setReplayGroup=function(e,t,n){this.replayGroups_[Object(o.c)(e)+","+t]=n},t.prototype.setLoader=function(e){this.loader_=e},t}(i.a),y=n("./node_modules/ol/size.js"),g=n("./node_modules/ol/source/UrlTile.js"),b=n("./node_modules/ol/tilecoord.js"),v=n("./node_modules/ol/tilegrid.js"),_=function(e){function t(t){var n=t.projection||"EPSG:3857",r=t.extent||Object(v.c)(n),o=t.tileGrid||Object(v.b)({extent:r,maxZoom:t.maxZoom||22,minZoom:t.minZoom,tileSize:t.tileSize||512});e.call(this,{attributions:t.attributions,cacheSize:void 0!==t.cacheSize?t.cacheSize:128,opaque:!1,projection:n,state:t.state,tileGrid:o,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:d,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition}),this.format_=t.format?t.format:null,this.sourceTiles_={},this.overlaps_=null==t.overlaps||t.overlaps,this.tileClass=t.tileClass?t.tileClass:m,this.tileGrids_={}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getOverlaps=function(){return this.overlaps_},t.prototype.clear=function(){this.tileCache.clear(),this.sourceTiles_={}},t.prototype.getTile=function(e,t,n,o,i){var a=Object(b.d)(e,t,n);if(this.tileCache.containsKey(a))return this.tileCache.get(a);var s=[e,t,n],l=this.getTileCoordForTileUrlFunction(s,i),u=new f(s,null!==l?r.a.IDLE:r.a.EMPTY,this.getRevision(),this.format_,this.tileLoadFunction,l,this.tileUrlFunction,this.tileGrid,this.getTileGridForProjection(i),this.sourceTiles_,o,i,this.tileClass,this.handleTileChange.bind(this),s[0]);return this.tileCache.set(a,u),u},t.prototype.getTileGridForProjection=function(e){var t=e.getCode(),n=this.tileGrids_[t];if(!n){var r=this.tileGrid;n=this.tileGrids_[t]=Object(v.a)(e,void 0,r?r.getTileSize(r.getMinZoom()):void 0)}return n},t.prototype.getTilePixelRatio=function(e){return e},t.prototype.getTilePixelSize=function(e,t,n){var r=this.getTileGridForProjection(n),o=Object(y.d)(r.getTileSize(e),this.tmpSize);return[Math.round(o[0]*t),Math.round(o[1]*t)]},t}(g.a);t.a=_},"./node_modules/ol/source/WMTS.js":function(e,t,n){"use strict";var r=n("./node_modules/ol/tileurlfunction.js"),o=(n("./node_modules/ol/array.js"),n("./node_modules/ol/extent.js"),n("./node_modules/ol/obj.js")),i=(n("./node_modules/ol/proj.js"),n("./node_modules/ol/source/TileImage.js")),a="KVP",s=(n("./node_modules/ol/tilegrid/WMTS.js"),n("./node_modules/ol/uri.js")),l=function(e){function t(t){var n=void 0!==t.requestEncoding?t.requestEncoding:a,o=t.tileGrid,i=t.urls;void 0===i&&void 0!==t.url&&(i=Object(r.c)(t.url)),e.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:o,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:r.d,urls:i,wrapX:void 0!==t.wrapX&&t.wrapX,transition:t.transition}),this.version_=void 0!==t.version?t.version:"1.0.0",this.format_=void 0!==t.format?t.format:"image/jpeg",this.dimensions_=void 0!==t.dimensions?t.dimensions:{},this.layer_=t.layer,this.matrixSet_=t.matrixSet,this.style_=t.style,this.requestEncoding_=n,this.setKey(this.getKeyForDimensions_()),i&&i.length>0&&(this.tileUrlFunction=Object(r.b)(i.map(u.bind(this))))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setUrls=function(e){this.urls=e;var t=e.join("\n");this.setTileUrlFunction(Object(r.b)(e.map(u.bind(this))),t)},t.prototype.getDimensions=function(){return this.dimensions_},t.prototype.getFormat=function(){return this.format_},t.prototype.getLayer=function(){return this.layer_},t.prototype.getMatrixSet=function(){return this.matrixSet_},t.prototype.getRequestEncoding=function(){return this.requestEncoding_},t.prototype.getStyle=function(){return this.style_},t.prototype.getVersion=function(){return this.version_},t.prototype.getKeyForDimensions_=function(){var e=0,t=[];for(var n in this.dimensions_)t[e++]=n+"-"+this.dimensions_[n];return t.join("/")},t.prototype.updateDimensions=function(e){Object(o.a)(this.dimensions_,e),this.setKey(this.getKeyForDimensions_())},t}(i.a);t.a=l;function u(e){var t=this.requestEncoding_,n={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};t==a&&Object(o.a)(n,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),e=t==a?Object(s.a)(e,n):e.replace(/\{(\w+?)\}/g,(function(e,t){return t.toLowerCase()in n?n[t.toLowerCase()]:e}));var r=this.tileGrid,i=this.dimensions_;return function(n,l,u){if(n){var c={TileMatrix:r.getMatrixId(n[0]),TileCol:n[1],TileRow:-n[2]-1};Object(o.a)(c,i);var p=e;return p=t==a?Object(s.a)(p,c):p.replace(/\{(\w+?)\}/g,(function(e,t){return c[t]}))}}}},"./node_modules/ol/source/XYZ.js":function(e,t,n){"use strict";var r=n("./node_modules/ol/source/TileImage.js"),o=n("./node_modules/ol/tilegrid.js"),i=function(e){function t(t){var n=t||{},r=void 0!==n.projection?n.projection:"EPSG:3857",i=void 0!==n.tileGrid?n.tileGrid:Object(o.b)({extent:Object(o.c)(r),maxZoom:n.maxZoom,minZoom:n.minZoom,tileSize:n.tileSize});e.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,opaque:n.opaque,projection:r,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:n.tileLoadFunction,tilePixelRatio:n.tilePixelRatio,tileUrlFunction:n.tileUrlFunction,url:n.url,urls:n.urls,wrapX:void 0===n.wrapX||n.wrapX,transition:n.transition,attributionsCollapsible:n.attributionsCollapsible})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(r.a);t.a=i},"./node_modules/ol/sphere.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return l}));var r=n("./node_modules/ol/math.js"),o=n("./node_modules/ol/geom/GeometryType.js");function i(e,t,n){var o=n||6371008.8,i=Object(r.i)(e[1]),a=Object(r.i)(t[1]),s=(a-i)/2,l=Object(r.i)(t[0]-e[0])/2,u=Math.sin(s)*Math.sin(s)+Math.sin(l)*Math.sin(l)*Math.cos(i)*Math.cos(a);return 2*o*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))}function a(e,t){for(var n=0,o=e.length,i=e[o-1][0],a=e[o-1][1],s=0;s<o;s++){var l=e[s][0],u=e[s][1];n+=Object(r.i)(l-i)*(2+Math.sin(Object(r.i)(a))+Math.sin(Object(r.i)(u))),i=l,a=u}return n*t*t/2}function s(e,t){var n=t||{},r=n.radius||6371008.8,i=n.projection||"EPSG:3857",l=e.getType();l!==o.a.GEOMETRY_COLLECTION&&(e=e.clone().transform(i,"EPSG:4326"));var u,c,p,f,d,h,m=0;switch(l){case o.a.POINT:case o.a.MULTI_POINT:case o.a.LINE_STRING:case o.a.MULTI_LINE_STRING:case o.a.LINEAR_RING:break;case o.a.POLYGON:for(u=e.getCoordinates(),m=Math.abs(a(u[0],r)),p=1,f=u.length;p<f;++p)m-=Math.abs(a(u[p],r));break;case o.a.MULTI_POLYGON:for(p=0,f=(u=e.getCoordinates()).length;p<f;++p)for(c=u[p],m+=Math.abs(a(c[0],r)),d=1,h=c.length;d<h;++d)m-=Math.abs(a(c[d],r));break;case o.a.GEOMETRY_COLLECTION:var y=e.getGeometries();for(p=0,f=y.length;p<f;++p)m+=s(y[p],t);break;default:throw new Error("Unsupported geometry type: "+l)}return m}function l(e,t,n,o){var i=o||6371008.8,a=Object(r.i)(e[1]),s=Object(r.i)(e[0]),l=t/i,u=Math.asin(Math.sin(a)*Math.cos(l)+Math.cos(a)*Math.sin(l)*Math.cos(n)),c=s+Math.atan2(Math.sin(n)*Math.sin(l)*Math.cos(a),Math.cos(l)-Math.sin(a)*Math.sin(u));return[Object(r.h)(c),Object(r.h)(u)]}},"./node_modules/ol/structs/LRUCache.js":function(e,t,n){"use strict";var r=n("./node_modules/ol/asserts.js"),o=n("./node_modules/ol/events/Target.js"),i=n("./node_modules/ol/events/EventType.js"),a=function(e){function t(t){e.call(this),this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},t.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null,this.dispatchEvent(i.a.CLEAR)},t.prototype.containsKey=function(e){return this.entries_.hasOwnProperty(e)},t.prototype.forEach=function(e,t){for(var n=this.oldest_;n;)e.call(t,n.value_,n.key_,this),n=n.newer},t.prototype.get=function(e){var t=this.entries_[e];return Object(r.a)(void 0!==t,15),t===this.newest_||(t===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(t.newer.older=t.older,t.older.newer=t.newer),t.newer=null,t.older=this.newest_,this.newest_.newer=t,this.newest_=t),t.value_},t.prototype.remove=function(e){var t=this.entries_[e];return Object(r.a)(void 0!==t,15),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_},t.prototype.getCount=function(){return this.count_},t.prototype.getKeys=function(){var e,t=new Array(this.count_),n=0;for(e=this.newest_;e;e=e.older)t[n++]=e.key_;return t},t.prototype.getValues=function(){var e,t=new Array(this.count_),n=0;for(e=this.newest_;e;e=e.older)t[n++]=e.value_;return t},t.prototype.peekLast=function(){return this.oldest_.value_},t.prototype.peekLastKey=function(){return this.oldest_.key_},t.prototype.peekFirstKey=function(){return this.newest_.key_},t.prototype.pop=function(){var e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_},t.prototype.replace=function(e,t){this.get(e),this.entries_[e].value_=t},t.prototype.set=function(e,t){Object(r.a)(!(e in this.entries_),16);var n={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[e]=n,++this.count_},t.prototype.setSize=function(e){this.highWaterMark=e},t.prototype.prune=function(){for(;this.canExpireCache();)this.pop()},t}(o.a);t.a=a},"./node_modules/ol/tilecoord.js":function(e,t,n){"use strict";function r(e,t,n,r){return void 0!==r?(r[0]=e,r[1]=t,r[2]=n,r):[e,t,n]}function o(e,t,n){return e+"/"+t+"/"+n}function i(e){return o(e[0],e[1],e[2])}function a(e){return e.split("/").map(Number)}function s(e){return(e[1]<<e[0])+e[2]}function l(e){var t,n,r=e[0],o=new Array(r),i=1<<r-1;for(t=0;t<r;++t)n=48,e[1]&i&&(n+=1),e[2]&i&&(n+=2),o[t]=String.fromCharCode(n),i>>=1;return o.join("")}function u(e,t){var n=e[0],r=e[1],o=e[2];if(t.getMinZoom()>n||n>t.getMaxZoom())return!1;var i,a=t.getExtent();return!(i=a?t.getTileRangeForExtentAndZ(a,n):t.getFullTileRange(n))||i.containsXY(r,o)}n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return u}))},"./node_modules/ol/tilegrid.js":function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return m}));var r=n("./node_modules/ol/tilegrid/common.js"),o=n("./node_modules/ol/size.js"),i=n("./node_modules/ol/extent.js"),a=n("./node_modules/ol/extent/Corner.js"),s=n("./node_modules/ol/proj.js"),l=n("./node_modules/ol/proj/Units.js"),u=n("./node_modules/ol/tilegrid/TileGrid.js");function c(e){var t=e.getDefaultTileGrid();return t||(t=h(e),e.setDefaultTileGrid(t)),t}function p(e,t,n){var r=t[0],o=e.getTileCoordCenter(t),a=m(n);if(Object(i.f)(a,o))return t;var s=Object(i.E)(a),l=Math.ceil((a[0]-o[0])/s);return o[0]+=s*l,e.getTileCoordForCoordAndZ(o,r)}function f(e){var t=e||{},n=t.extent||Object(s.f)("EPSG:3857").getExtent(),r={extent:n,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:d(n,t.maxZoom,t.tileSize)};return new u.a(r)}function d(e,t,n){for(var a=void 0!==t?t:r.a,s=Object(i.A)(e),l=Object(i.E)(e),u=Object(o.d)(void 0!==n?n:r.b),c=Math.max(l/u[0],s/u[1]),p=a+1,f=new Array(p),d=0;d<p;++d)f[d]=c/Math.pow(2,d);return f}function h(e,t,n,r){return function(e,t,n,r){var o=void 0!==r?r:a.a.TOP_LEFT,s=d(e,t,n);return new u.a({extent:e,origin:Object(i.y)(e,o),resolutions:s,tileSize:n})}(m(e),t,n,r)}function m(e){var t=(e=Object(s.f)(e)).getExtent();if(!t){var n=180*l.METERS_PER_UNIT[l.default.DEGREES]/e.getMetersPerUnit();t=Object(i.k)(-n,-n,n,n)}return t}},"./node_modules/ol/tilegrid/TileGrid.js":function(e,t,n){"use strict";var r=n("./node_modules/ol/tilegrid/common.js"),o=n("./node_modules/ol/asserts.js"),i=n("./node_modules/ol/TileRange.js"),a=n("./node_modules/ol/array.js"),s=n("./node_modules/ol/extent.js"),l=n("./node_modules/ol/math.js"),u=n("./node_modules/ol/size.js"),c=n("./node_modules/ol/tilecoord.js"),p=[0,0,0],f=function(e){var t;if(this.minZoom=void 0!==e.minZoom?e.minZoom:0,this.resolutions_=e.resolutions,Object(o.a)(Object(a.g)(this.resolutions_,(function(e,t){return t-e}),!0),17),!e.origins)for(var n=0,l=this.resolutions_.length-1;n<l;++n)if(t){if(this.resolutions_[n]/this.resolutions_[n+1]!==t){t=void 0;break}}else t=this.resolutions_[n]/this.resolutions_[n+1];this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==e.origin?e.origin:null,this.origins_=null,void 0!==e.origins&&(this.origins_=e.origins,Object(o.a)(this.origins_.length==this.resolutions_.length,20));var u=e.extent;void 0===u||this.origin_||this.origins_||(this.origin_=Object(s.C)(u)),Object(o.a)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==e.tileSizes&&(this.tileSizes_=e.tileSizes,Object(o.a)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==e.tileSize?e.tileSize:this.tileSizes_?null:r.b,Object(o.a)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==u?u:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==e.sizes?this.fullTileRanges_=e.sizes.map((function(e,t){return new i.b(Math.min(0,e[0]),Math.max(e[0]-1,-1),Math.min(0,e[1]),Math.max(e[1]-1,-1))}),this):u&&this.calculateTileRanges_(u)};f.prototype.forEachTileCoord=function(e,t,n){for(var r=this.getTileRangeForExtentAndZ(e,t),o=r.minX,i=r.maxX;o<=i;++o)for(var a=r.minY,s=r.maxY;a<=s;++a)n([t,o,a])},f.prototype.forEachTileCoordParentTileRange=function(e,t,n,r,o){var a,s,l,u=null,c=e[0]-1;for(2===this.zoomFactor_?(s=e[1],l=e[2]):u=this.getTileCoordExtent(e,o);c>=this.minZoom;){if(2===this.zoomFactor_?(s=Math.floor(s/2),l=Math.floor(l/2),a=Object(i.a)(s,s,l,l,r)):a=this.getTileRangeForExtentAndZ(u,c,r),t.call(n,c,a))return!0;--c}return!1},f.prototype.getExtent=function(){return this.extent_},f.prototype.getMaxZoom=function(){return this.maxZoom},f.prototype.getMinZoom=function(){return this.minZoom},f.prototype.getOrigin=function(e){return this.origin_?this.origin_:this.origins_[e]},f.prototype.getResolution=function(e){return this.resolutions_[e]},f.prototype.getResolutions=function(){return this.resolutions_},f.prototype.getTileCoordChildTileRange=function(e,t,n){if(e[0]<this.maxZoom){if(2===this.zoomFactor_){var r=2*e[1],o=2*e[2];return Object(i.a)(r,r+1,o,o+1,t)}var a=this.getTileCoordExtent(e,n);return this.getTileRangeForExtentAndZ(a,e[0]+1,t)}return null},f.prototype.getTileRangeExtent=function(e,t,n){var r=this.getOrigin(e),o=this.getResolution(e),i=Object(u.d)(this.getTileSize(e),this.tmpSize_),a=r[0]+t.minX*i[0]*o,l=r[0]+(t.maxX+1)*i[0]*o,c=r[1]+t.minY*i[1]*o,p=r[1]+(t.maxY+1)*i[1]*o;return Object(s.k)(a,c,l,p,n)},f.prototype.getTileRangeForExtentAndZ=function(e,t,n){var r=p;this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,r);var o=r[1],a=r[2];return this.getTileCoordForXYAndZ_(e[2],e[3],t,!0,r),Object(i.a)(o,r[1],a,r[2],n)},f.prototype.getTileCoordCenter=function(e){var t=this.getOrigin(e[0]),n=this.getResolution(e[0]),r=Object(u.d)(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*r[0]*n,t[1]+(e[2]+.5)*r[1]*n]},f.prototype.getTileCoordExtent=function(e,t){var n=this.getOrigin(e[0]),r=this.getResolution(e[0]),o=Object(u.d)(this.getTileSize(e[0]),this.tmpSize_),i=n[0]+e[1]*o[0]*r,a=n[1]+e[2]*o[1]*r,l=i+o[0]*r,c=a+o[1]*r;return Object(s.k)(i,a,l,c,t)},f.prototype.getTileCoordForCoordAndResolution=function(e,t,n){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,n)},f.prototype.getTileCoordForXYAndResolution_=function(e,t,n,r,o){var i=this.getZForResolution(n),a=n/this.getResolution(i),s=this.getOrigin(i),l=Object(u.d)(this.getTileSize(i),this.tmpSize_),p=r?.5:0,f=r?0:.5,d=Math.floor((e-s[0])/n+p),h=Math.floor((t-s[1])/n+f),m=a*d/l[0],y=a*h/l[1];return r?(m=Math.ceil(m)-1,y=Math.ceil(y)-1):(m=Math.floor(m),y=Math.floor(y)),Object(c.a)(i,m,y,o)},f.prototype.getTileCoordForXYAndZ_=function(e,t,n,r,o){var i=this.getOrigin(n),a=this.getResolution(n),s=Object(u.d)(this.getTileSize(n),this.tmpSize_),l=r?.5:0,p=r?0:.5,f=Math.floor((e-i[0])/a+l),d=Math.floor((t-i[1])/a+p),h=f/s[0],m=d/s[1];return r?(h=Math.ceil(h)-1,m=Math.ceil(m)-1):(h=Math.floor(h),m=Math.floor(m)),Object(c.a)(n,h,m,o)},f.prototype.getTileCoordForCoordAndZ=function(e,t,n){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,n)},f.prototype.getTileCoordResolution=function(e){return this.resolutions_[e[0]]},f.prototype.getTileSize=function(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]},f.prototype.getFullTileRange=function(e){return this.fullTileRanges_?this.fullTileRanges_[e]:null},f.prototype.getZForResolution=function(e,t){var n=Object(a.h)(this.resolutions_,e,t||0);return Object(l.a)(n,this.minZoom,this.maxZoom)},f.prototype.calculateTileRanges_=function(e){for(var t=this.resolutions_.length,n=new Array(t),r=this.minZoom;r<t;++r)n[r]=this.getTileRangeForExtentAndZ(e,r);this.fullTileRanges_=n},t.a=f},"./node_modules/ol/tilegrid/WMTS.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("./node_modules/ol/array.js"),o=n("./node_modules/ol/proj.js"),i=function(e){function t(t){e.call(this,{extent:t.extent,origin:t.origin,origins:t.origins,resolutions:t.resolutions,tileSize:t.tileSize,tileSizes:t.tileSizes,sizes:t.sizes}),this.matrixIds_=t.matrixIds}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getMatrixId=function(e){return this.matrixIds_[e]},t.prototype.getMatrixIds=function(){return this.matrixIds_},t}(n("./node_modules/ol/tilegrid/TileGrid.js").a);function a(e,t,n){var a=[],s=[],l=[],u=[],c=[],p=void 0!==n?n:[],f=e.SupportedCRS,d=Object(o.f)(f.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||Object(o.f)(f),h=d.getMetersPerUnit(),m="ne"==d.getAxisOrientation().substr(0,2);return e.TileMatrix.sort((function(e,t){return t.ScaleDenominator-e.ScaleDenominator})),e.TileMatrix.forEach((function(t){if(!(p.length>0)||Object(r.d)(p,(function(n){return t.Identifier==n.TileMatrix||-1===t.Identifier.indexOf(":")&&e.Identifier+":"+t.Identifier===n.TileMatrix}))){s.push(t.Identifier);var n=28e-5*t.ScaleDenominator/h,o=t.TileWidth,i=t.TileHeight;m?l.push([t.TopLeftCorner[1],t.TopLeftCorner[0]]):l.push(t.TopLeftCorner),a.push(n),u.push(o==i?o:[o,i]),c.push([t.MatrixWidth,-t.MatrixHeight])}})),new i({extent:t,origins:l,resolutions:a,matrixIds:s,tileSizes:u,sizes:c})}t.b=i},"./node_modules/ol/tilegrid/common.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r=42,o=256},"./node_modules/ol/tileurlfunction.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return c}));var r=n("./node_modules/ol/asserts.js"),o=n("./node_modules/ol/math.js"),i=n("./node_modules/ol/tilecoord.js");function a(e,t){var n=/\{z\}/g,o=/\{x\}/g,i=/\{y\}/g,a=/\{-y\}/g;return function(s,l,u){return s?e.replace(n,s[0].toString()).replace(o,s[1].toString()).replace(i,(function(){return(-s[2]-1).toString()})).replace(a,(function(){var e=s[0],n=t.getFullTileRange(e);return Object(r.a)(n,55),(n.getHeight()+s[2]).toString()})):void 0}}function s(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;++o)r[o]=a(e[o],t);return l(r)}function l(e){return 1===e.length?e[0]:function(t,n,r){if(t){var a=Object(i.e)(t),s=Object(o.d)(a,e.length);return e[s](t,n,r)}}}function u(e,t,n){}function c(e){var t=[],n=/\{([a-z])-([a-z])\}/.exec(e);if(n){var r,o=n[1].charCodeAt(0),i=n[2].charCodeAt(0);for(r=o;r<=i;++r)t.push(e.replace(n[0],String.fromCharCode(r)));return t}if(n=n=/\{(\d+)-(\d+)\}/.exec(e)){for(var a=parseInt(n[2],10),s=parseInt(n[1],10);s<=a;s++)t.push(e.replace(n[0],s.toString()));return t}return t.push(e),t}},"./node_modules/ol/uri.js":function(e,t,n){"use strict";function r(e,t){var n=[];Object.keys(t).forEach((function(e){null!==t[e]&&void 0!==t[e]&&n.push(e+"="+encodeURIComponent(t[e]))}));var r=n.join("&");return(e=-1===(e=e.replace(/[?&]$/,"")).indexOf("?")?e+"?":e+"&")+r}n.d(t,"a",(function(){return r}))},"./node_modules/ol/util.js":function(e,t,n){"use strict";function r(){return function(){throw new Error("Unimplemented abstract method.")}()}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e}n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s}));var i=0;function a(e){return e.ol_uid||(e.ol_uid=String(++i))}var s="5.3.0"},"./node_modules/pbf/index.js":function(e,t,n){"use strict";e.exports=o;var r=n("./node_modules/ieee754/index.js");function o(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}o.Varint=0,o.Fixed64=1,o.Bytes=2,o.Fixed32=5;function i(e){return e.type===o.Bytes?e.readVarint()+e.pos:e.pos+1}function a(e,t,n){return n?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function s(e,t,n){var r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.ceil(Math.log(t)/(7*Math.LN2));n.realloc(r);for(var o=n.pos-1;o>=e;o--)n.buf[o+r]=n.buf[o]}function l(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function u(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function c(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function p(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function f(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function d(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function h(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function m(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function y(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function g(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function b(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function v(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}o.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),o=r>>3,i=this.pos;this.type=7&r,e(o,t,this),this.pos===i&&this.skip(r)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=g(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=v(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=g(this.buf,this.pos)+4294967296*g(this.buf,this.pos+4);return this.pos+=8,e},readSFixed64:function(){var e=g(this.buf,this.pos)+4294967296*v(this.buf,this.pos+4);return this.pos+=8,e},readFloat:function(){var e=r.read(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=r.read(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,n,r=this.buf;return t=127&(n=r[this.pos++]),n<128?t:(t|=(127&(n=r[this.pos++]))<<7,n<128?t:(t|=(127&(n=r[this.pos++]))<<14,n<128?t:(t|=(127&(n=r[this.pos++]))<<21,n<128?t:function(e,t,n){var r,o,i=n.buf;if(o=i[n.pos++],r=(112&o)>>4,o<128)return a(e,r,t);if(o=i[n.pos++],r|=(127&o)<<3,o<128)return a(e,r,t);if(o=i[n.pos++],r|=(127&o)<<10,o<128)return a(e,r,t);if(o=i[n.pos++],r|=(127&o)<<17,o<128)return a(e,r,t);if(o=i[n.pos++],r|=(127&o)<<24,o<128)return a(e,r,t);if(o=i[n.pos++],r|=(1&o)<<31,o<128)return a(e,r,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(n=r[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=function(e,t,n){var r="",o=t;for(;o<n;){var i,a,s,l=e[o],u=null,c=l>239?4:l>223?3:l>191?2:1;if(o+c>n)break;1===c?l<128&&(u=l):2===c?128==(192&(i=e[o+1]))&&(u=(31&l)<<6|63&i)<=127&&(u=null):3===c?(i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&((u=(15&l)<<12|(63&i)<<6|63&a)<=2047||u>=55296&&u<=57343)&&(u=null)):4===c&&(i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&((u=(15&l)<<18|(63&i)<<12|(63&a)<<6|63&s)<=65535||u>=1114112)&&(u=null)),null===u?(u=65533,c=1):u>65535&&(u-=65536,r+=String.fromCharCode(u>>>10&1023|55296),u=56320|1023&u),r+=String.fromCharCode(u),o+=c}return r}(this.buf,this.pos,e);return this.pos=e,t},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){var n=i(this);for(e=e||[];this.pos<n;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){var t=i(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){var t=i(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){var t=i(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){var t=i(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){var t=i(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){var t=i(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){var t=i(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){var t=i(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===o.Varint)for(;this.buf[this.pos++]>127;);else if(t===o.Bytes)this.pos=this.readVarint()+this.pos;else if(t===o.Fixed32)this.pos+=4;else{if(t!==o.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),b(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),b(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),b(this.buf,-1&e,this.pos),b(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),b(this.buf,-1&e,this.pos),b(this.buf,Math.floor(e*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var n,r;e>=0?(n=e%4294967296|0,r=e/4294967296|0):(r=~(-e/4294967296),4294967295^(n=~(-e%4294967296))?n=n+1|0:(n=0,r=r+1|0));if(e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,n){n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos]=127&e}(n,0,t),function(e,t){var n=(7&e)<<4;if(t.buf[t.pos++]|=n|((e>>>=3)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;t.buf[t.pos++]=127&e}(r,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,n){for(var r,o,i=0;i<t.length;i++){if((r=t.charCodeAt(i))>55295&&r<57344){if(!o){r>56319||i+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):o=r;continue}if(r<56320){e[n++]=239,e[n++]=191,e[n++]=189,o=r;continue}r=o-55296<<10|r-56320|65536,o=null}else o&&(e[n++]=239,e[n++]=191,e[n++]=189,o=null);r<128?e[n++]=r:(r<2048?e[n++]=r>>6|192:(r<65536?e[n++]=r>>12|224:(e[n++]=r>>18|240,e[n++]=r>>12&63|128),e[n++]=r>>6&63|128),e[n++]=63&r|128)}return n}(this.buf,e,this.pos);var n=this.pos-t;n>=128&&s(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),r.write(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),r.write(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var r=this.pos-n;r>=128&&s(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(e,t,n){this.writeTag(e,o.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){this.writeMessage(e,l,t)},writePackedSVarint:function(e,t){this.writeMessage(e,u,t)},writePackedBoolean:function(e,t){this.writeMessage(e,f,t)},writePackedFloat:function(e,t){this.writeMessage(e,c,t)},writePackedDouble:function(e,t){this.writeMessage(e,p,t)},writePackedFixed32:function(e,t){this.writeMessage(e,d,t)},writePackedSFixed32:function(e,t){this.writeMessage(e,h,t)},writePackedFixed64:function(e,t){this.writeMessage(e,m,t)},writePackedSFixed64:function(e,t){this.writeMessage(e,y,t)},writeBytesField:function(e,t){this.writeTag(e,o.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,o.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,o.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,o.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,o.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,o.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,o.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,o.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,o.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,o.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}}},"./node_modules/popper.js/dist/esm/popper.js":function(e,t,n){"use strict";(function(e){
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
var n="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,r=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(n&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var o=n&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),r))}};function i(e){return e&&"[object Function]"==={}.toString.call(e)}function a(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function s(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function l(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=a(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/(auto|scroll|overlay)/.test(n+o+r)?e:l(s(e))}function u(e){return e&&e.referenceNode?e.referenceNode:e}var c=n&&!(!window.MSInputMethodContext||!document.documentMode),p=n&&/MSIE 10/.test(navigator.userAgent);function f(e){return 11===e?c:10===e?p:c||p}function d(e){if(!e)return document.documentElement;for(var t=f(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===a(n,"position")?d(n):n:e?e.ownerDocument.documentElement:document.documentElement}function h(e){return null!==e.parentNode?h(e.parentNode):e}function m(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,o=n?t:e,i=document.createRange();i.setStart(r,0),i.setEnd(o,0);var a,s,l=i.commonAncestorContainer;if(e!==l&&t!==l||r.contains(o))return"BODY"===(s=(a=l).nodeName)||"HTML"!==s&&d(a.firstElementChild)!==a?d(l):l;var u=h(e);return u.host?m(u.host,t):m(e,h(t).host)}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",r=e.nodeName;if("BODY"===r||"HTML"===r){var o=e.ownerDocument.documentElement,i=e.ownerDocument.scrollingElement||o;return i[n]}return e[n]}function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=y(t,"top"),o=y(t,"left"),i=n?-1:1;return e.top+=r*i,e.bottom+=r*i,e.left+=o*i,e.right+=o*i,e}function b(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function v(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],f(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function _(e){var t=e.body,n=e.documentElement,r=f(10)&&getComputedStyle(n);return{height:v("Height",t,n,r),width:v("Width",t,n,r)}}var w=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},O=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),j=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function E(e){return S({},e,{right:e.left+e.width,bottom:e.top+e.height})}function x(e){var t={};try{if(f(10)){t=e.getBoundingClientRect();var n=y(e,"top"),r=y(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(e){}var o={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},i="HTML"===e.nodeName?_(e.ownerDocument):{},s=i.width||e.clientWidth||o.width,l=i.height||e.clientHeight||o.height,u=e.offsetWidth-s,c=e.offsetHeight-l;if(u||c){var p=a(e);u-=b(p,"x"),c-=b(p,"y"),o.width-=u,o.height-=c}return E(o)}function P(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=f(10),o="HTML"===t.nodeName,i=x(e),s=x(t),u=l(e),c=a(t),p=parseFloat(c.borderTopWidth),d=parseFloat(c.borderLeftWidth);n&&o&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var h=E({top:i.top-s.top-p,left:i.left-s.left-d,width:i.width,height:i.height});if(h.marginTop=0,h.marginLeft=0,!r&&o){var m=parseFloat(c.marginTop),y=parseFloat(c.marginLeft);h.top-=p-m,h.bottom-=p-m,h.left-=d-y,h.right-=d-y,h.marginTop=m,h.marginLeft=y}return(r&&!n?t.contains(u):t===u&&"BODY"!==u.nodeName)&&(h=g(h,t)),h}function M(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=P(e,n),o=Math.max(n.clientWidth,window.innerWidth||0),i=Math.max(n.clientHeight,window.innerHeight||0),a=t?0:y(n),s=t?0:y(n,"left"),l={top:a-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:o,height:i};return E(l)}function L(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===a(e,"position"))return!0;var n=s(e);return!!n&&L(n)}function T(e){if(!e||!e.parentElement||f())return document.documentElement;for(var t=e.parentElement;t&&"none"===a(t,"transform");)t=t.parentElement;return t||document.documentElement}function C(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i={top:0,left:0},a=o?T(e):m(e,u(t));if("viewport"===r)i=M(a,o);else{var c=void 0;"scrollParent"===r?"BODY"===(c=l(s(t))).nodeName&&(c=e.ownerDocument.documentElement):c="window"===r?e.ownerDocument.documentElement:r;var p=P(c,a,o);if("HTML"!==c.nodeName||L(a))i=p;else{var f=_(e.ownerDocument),d=f.height,h=f.width;i.top+=p.top-p.marginTop,i.bottom=d+p.top,i.left+=p.left-p.marginLeft,i.right=h+p.left}}var y="number"==typeof(n=n||0);return i.left+=y?n:n.left||0,i.top+=y?n:n.top||0,i.right-=y?n:n.right||0,i.bottom-=y?n:n.bottom||0,i}function k(e){return e.width*e.height}function I(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=C(n,r,i,o),s={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},l=Object.keys(s).map((function(e){return S({key:e},s[e],{area:k(s[e])})})).sort((function(e,t){return t.area-e.area})),u=l.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight})),c=u.length>0?u[0].key:l[0].key,p=e.split("-")[1];return c+(p?"-"+p:"")}function D(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=r?T(t):m(t,u(n));return P(n,o,r)}function A(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function R(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function F(e,t,n){n=n.split("-")[0];var r=A(e),o={width:r.width,height:r.height},i=-1!==["right","left"].indexOf(n),a=i?"top":"left",s=i?"left":"top",l=i?"height":"width",u=i?"width":"height";return o[a]=t[a]+t[l]/2-r[l]/2,o[s]=n===s?t[s]-r[u]:t[R(s)],o}function N(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function G(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var r=N(e,(function(e){return e[t]===n}));return e.indexOf(r)}(e,"name",n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&i(n)&&(t.offsets.popper=E(t.offsets.popper),t.offsets.reference=E(t.offsets.reference),t=n(t,e))})),t}function U(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=D(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=I(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=F(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=G(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function z(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function B(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var o=t[r],i=o?""+o+n:e;if(void 0!==document.body.style[i])return i}return null}function V(){return this.state.isDestroyed=!0,z(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[B("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function q(e){var t=e.ownerDocument;return t?t.defaultView:window}function W(e,t,n,r){n.updateBound=r,q(e).addEventListener("resize",n.updateBound,{passive:!0});var o=l(e);return function e(t,n,r,o){var i="BODY"===t.nodeName,a=i?t.ownerDocument.defaultView:t;a.addEventListener(n,r,{passive:!0}),i||e(l(a.parentNode),n,r,o),o.push(a)}(o,"scroll",n.updateBound,n.scrollParents),n.scrollElement=o,n.eventsEnabled=!0,n}function H(){this.state.eventsEnabled||(this.state=W(this.reference,this.options,this.state,this.scheduleUpdate))}function Z(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,q(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function Y(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function K(e,t){Object.keys(t).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&Y(t[n])&&(r="px"),e.style[n]=t[n]+r}))}var X=n&&/Firefox/i.test(navigator.userAgent);function J(e,t,n){var r=N(e,(function(e){return e.name===t})),o=!!r&&e.some((function(e){return e.name===n&&e.enabled&&e.order<r.order}));if(!o){var i="`"+t+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")}return o}var Q=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],$=Q.slice(3);function ee(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=$.indexOf(e),r=$.slice(n+1).concat($.slice(0,n));return t?r.reverse():r}var te="flip",ne="clockwise",re="counterclockwise";function oe(e,t,n,r){var o=[0,0],i=-1!==["right","left"].indexOf(r),a=e.split(/(\+|\-)/).map((function(e){return e.trim()})),s=a.indexOf(N(a,(function(e){return-1!==e.search(/,|\s/)})));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,u=-1!==s?[a.slice(0,s).concat([a[s].split(l)[0]]),[a[s].split(l)[1]].concat(a.slice(s+1))]:[a];return(u=u.map((function(e,r){var o=(1===r?!i:i)?"height":"width",a=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,r){var o=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+o[1],a=o[2];if(!i)return e;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=n;break;case"%":case"%r":default:s=r}return E(s)[t]/100*i}if("vh"===a||"vw"===a){return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*i}return i}(e,o,t,n)}))}))).forEach((function(e,t){e.forEach((function(n,r){Y(n)&&(o[t]+=n*("-"===e[r-1]?-1:1))}))})),o}var ie={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var o=e.offsets,i=o.reference,a=o.popper,s=-1!==["bottom","top"].indexOf(n),l=s?"left":"top",u=s?"width":"height",c={start:j({},l,i[l]),end:j({},l,i[l]+i[u]-a[u])};e.offsets.popper=S({},a,c[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,o=e.offsets,i=o.popper,a=o.reference,s=r.split("-")[0],l=void 0;return l=Y(+n)?[+n,0]:oe(n,i,a,s),"left"===s?(i.top+=l[0],i.left-=l[1]):"right"===s?(i.top+=l[0],i.left+=l[1]):"top"===s?(i.left+=l[0],i.top-=l[1]):"bottom"===s&&(i.left+=l[0],i.top+=l[1]),e.popper=i,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||d(e.instance.popper);e.instance.reference===n&&(n=d(n));var r=B("transform"),o=e.instance.popper.style,i=o.top,a=o.left,s=o[r];o.top="",o.left="",o[r]="";var l=C(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);o.top=i,o.left=a,o[r]=s,t.boundaries=l;var u=t.priority,c=e.offsets.popper,p={primary:function(e){var n=c[e];return c[e]<l[e]&&!t.escapeWithReference&&(n=Math.max(c[e],l[e])),j({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=c[n];return c[e]>l[e]&&!t.escapeWithReference&&(r=Math.min(c[n],l[e]-("right"===e?c.width:c.height))),j({},n,r)}};return u.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";c=S({},c,p[t](e))})),e.offsets.popper=c,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,o=e.placement.split("-")[0],i=Math.floor,a=-1!==["top","bottom"].indexOf(o),s=a?"right":"bottom",l=a?"left":"top",u=a?"width":"height";return n[s]<i(r[l])&&(e.offsets.popper[l]=i(r[l])-n[u]),n[l]>i(r[s])&&(e.offsets.popper[l]=i(r[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!J(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"==typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var o=e.placement.split("-")[0],i=e.offsets,s=i.popper,l=i.reference,u=-1!==["left","right"].indexOf(o),c=u?"height":"width",p=u?"Top":"Left",f=p.toLowerCase(),d=u?"left":"top",h=u?"bottom":"right",m=A(r)[c];l[h]-m<s[f]&&(e.offsets.popper[f]-=s[f]-(l[h]-m)),l[f]+m>s[h]&&(e.offsets.popper[f]+=l[f]+m-s[h]),e.offsets.popper=E(e.offsets.popper);var y=l[f]+l[c]/2-m/2,g=a(e.instance.popper),b=parseFloat(g["margin"+p]),v=parseFloat(g["border"+p+"Width"]),_=y-e.offsets.popper[f]-b-v;return _=Math.max(Math.min(s[c]-m,_),0),e.arrowElement=r,e.offsets.arrow=(j(n={},f,Math.round(_)),j(n,d,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(z(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=C(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],o=R(r),i=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case te:a=[r,o];break;case ne:a=ee(r);break;case re:a=ee(r,!0);break;default:a=t.behavior}return a.forEach((function(s,l){if(r!==s||a.length===l+1)return e;r=e.placement.split("-")[0],o=R(r);var u=e.offsets.popper,c=e.offsets.reference,p=Math.floor,f="left"===r&&p(u.right)>p(c.left)||"right"===r&&p(u.left)<p(c.right)||"top"===r&&p(u.bottom)>p(c.top)||"bottom"===r&&p(u.top)<p(c.bottom),d=p(u.left)<p(n.left),h=p(u.right)>p(n.right),m=p(u.top)<p(n.top),y=p(u.bottom)>p(n.bottom),g="left"===r&&d||"right"===r&&h||"top"===r&&m||"bottom"===r&&y,b=-1!==["top","bottom"].indexOf(r),v=!!t.flipVariations&&(b&&"start"===i&&d||b&&"end"===i&&h||!b&&"start"===i&&m||!b&&"end"===i&&y),_=!!t.flipVariationsByContent&&(b&&"start"===i&&h||b&&"end"===i&&d||!b&&"start"===i&&y||!b&&"end"===i&&m),w=v||_;(f||g||w)&&(e.flipped=!0,(f||g)&&(r=a[l+1]),w&&(i=function(e){return"end"===e?"start":"start"===e?"end":e}(i)),e.placement=r+(i?"-"+i:""),e.offsets.popper=S({},e.offsets.popper,F(e.instance.popper,e.offsets.reference,e.placement)),e=G(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,o=r.popper,i=r.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return o[a?"left":"top"]=i[n]-(s?o[a?"width":"height"]:0),e.placement=R(t),e.offsets.popper=E(o),e}},hide:{order:800,enabled:!0,fn:function(e){if(!J(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=N(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,o=e.offsets.popper,i=N(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==i&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==i?i:t.gpuAcceleration,s=d(e.instance.popper),l=x(s),u={position:o.position},c=function(e,t){var n=e.offsets,r=n.popper,o=n.reference,i=Math.round,a=Math.floor,s=function(e){return e},l=i(o.width),u=i(r.width),c=-1!==["left","right"].indexOf(e.placement),p=-1!==e.placement.indexOf("-"),f=t?c||p||l%2==u%2?i:a:s,d=t?i:s;return{left:f(l%2==1&&u%2==1&&!p&&t?r.left-1:r.left),top:d(r.top),bottom:d(r.bottom),right:f(r.right)}}(e,window.devicePixelRatio<2||!X),p="bottom"===n?"top":"bottom",f="right"===r?"left":"right",h=B("transform"),m=void 0,y=void 0;if(y="bottom"===p?"HTML"===s.nodeName?-s.clientHeight+c.bottom:-l.height+c.bottom:c.top,m="right"===f?"HTML"===s.nodeName?-s.clientWidth+c.right:-l.width+c.right:c.left,a&&h)u[h]="translate3d("+m+"px, "+y+"px, 0)",u[p]=0,u[f]=0,u.willChange="transform";else{var g="bottom"===p?-1:1,b="right"===f?-1:1;u[p]=y*g,u[f]=m*b,u.willChange=p+", "+f}var v={"x-placement":e.placement};return e.attributes=S({},v,e.attributes),e.styles=S({},u,e.styles),e.arrowStyles=S({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return K(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&K(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,o){var i=D(o,t,e,n.positionFixed),a=I(n.placement,i,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",a),K(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},ae=function(){function e(t,n){var r=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};w(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=o(this.update.bind(this)),this.options=S({},e.Defaults,a),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(S({},e.Defaults.modifiers,a.modifiers)).forEach((function(t){r.options.modifiers[t]=S({},e.Defaults.modifiers[t]||{},a.modifiers?a.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return S({name:e},r.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&i(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)})),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return O(e,[{key:"update",value:function(){return U.call(this)}},{key:"destroy",value:function(){return V.call(this)}},{key:"enableEventListeners",value:function(){return H.call(this)}},{key:"disableEventListeners",value:function(){return Z.call(this)}}]),e}();ae.Utils=("undefined"!=typeof window?window:e).PopperUtils,ae.placements=Q,ae.Defaults=ie,t.a=ae}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/raw-loader/index.js!./MapStore2/web/client/utils/font-awesome.txt":function(e,t){e.exports='.fa-glass:before {\r\n  content: "\\f000";\r\n}\r\n.fa-music:before {\r\n  content: "\\f001";\r\n}\r\n.fa-search:before {\r\n  content: "\\f002";\r\n}\r\n.fa-envelope-o:before {\r\n  content: "\\f003";\r\n}\r\n.fa-heart:before {\r\n  content: "\\f004";\r\n}\r\n.fa-star:before {\r\n  content: "\\f005";\r\n}\r\n.fa-star-o:before {\r\n  content: "\\f006";\r\n}\r\n.fa-user:before {\r\n  content: "\\f007";\r\n}\r\n.fa-film:before {\r\n  content: "\\f008";\r\n}\r\n.fa-th-large:before {\r\n  content: "\\f009";\r\n}\r\n.fa-th:before {\r\n  content: "\\f00a";\r\n}\r\n.fa-th-list:before {\r\n  content: "\\f00b";\r\n}\r\n.fa-check:before {\r\n  content: "\\f00c";\r\n}\r\n.fa-remove:before,\r\n.fa-close:before,\r\n.fa-times:before {\r\n  content: "\\f00d";\r\n}\r\n.fa-search-plus:before {\r\n  content: "\\f00e";\r\n}\r\n.fa-search-minus:before {\r\n  content: "\\f010";\r\n}\r\n.fa-power-off:before {\r\n  content: "\\f011";\r\n}\r\n.fa-signal:before {\r\n  content: "\\f012";\r\n}\r\n.fa-gear:before,\r\n.fa-cog:before {\r\n  content: "\\f013";\r\n}\r\n.fa-trash-o:before {\r\n  content: "\\f014";\r\n}\r\n.fa-home:before {\r\n  content: "\\f015";\r\n}\r\n.fa-file-o:before {\r\n  content: "\\f016";\r\n}\r\n.fa-clock-o:before {\r\n  content: "\\f017";\r\n}\r\n.fa-road:before {\r\n  content: "\\f018";\r\n}\r\n.fa-download:before {\r\n  content: "\\f019";\r\n}\r\n.fa-arrow-circle-o-down:before {\r\n  content: "\\f01a";\r\n}\r\n.fa-arrow-circle-o-up:before {\r\n  content: "\\f01b";\r\n}\r\n.fa-inbox:before {\r\n  content: "\\f01c";\r\n}\r\n.fa-play-circle-o:before {\r\n  content: "\\f01d";\r\n}\r\n.fa-rotate-right:before,\r\n.fa-repeat:before {\r\n  content: "\\f01e";\r\n}\r\n.fa-refresh:before {\r\n  content: "\\f021";\r\n}\r\n.fa-list-alt:before {\r\n  content: "\\f022";\r\n}\r\n.fa-lock:before {\r\n  content: "\\f023";\r\n}\r\n.fa-flag:before {\r\n  content: "\\f024";\r\n}\r\n.fa-headphones:before {\r\n  content: "\\f025";\r\n}\r\n.fa-volume-off:before {\r\n  content: "\\f026";\r\n}\r\n.fa-volume-down:before {\r\n  content: "\\f027";\r\n}\r\n.fa-volume-up:before {\r\n  content: "\\f028";\r\n}\r\n.fa-qrcode:before {\r\n  content: "\\f029";\r\n}\r\n.fa-barcode:before {\r\n  content: "\\f02a";\r\n}\r\n.fa-tag:before {\r\n  content: "\\f02b";\r\n}\r\n.fa-tags:before {\r\n  content: "\\f02c";\r\n}\r\n.fa-book:before {\r\n  content: "\\f02d";\r\n}\r\n.fa-bookmark:before {\r\n  content: "\\f02e";\r\n}\r\n.fa-print:before {\r\n  content: "\\f02f";\r\n}\r\n.fa-camera:before {\r\n  content: "\\f030";\r\n}\r\n.fa-font:before {\r\n  content: "\\f031";\r\n}\r\n.fa-bold:before {\r\n  content: "\\f032";\r\n}\r\n.fa-italic:before {\r\n  content: "\\f033";\r\n}\r\n.fa-text-height:before {\r\n  content: "\\f034";\r\n}\r\n.fa-text-width:before {\r\n  content: "\\f035";\r\n}\r\n.fa-align-left:before {\r\n  content: "\\f036";\r\n}\r\n.fa-align-center:before {\r\n  content: "\\f037";\r\n}\r\n.fa-align-right:before {\r\n  content: "\\f038";\r\n}\r\n.fa-align-justify:before {\r\n  content: "\\f039";\r\n}\r\n.fa-list:before {\r\n  content: "\\f03a";\r\n}\r\n.fa-dedent:before,\r\n.fa-outdent:before {\r\n  content: "\\f03b";\r\n}\r\n.fa-indent:before {\r\n  content: "\\f03c";\r\n}\r\n.fa-video-camera:before {\r\n  content: "\\f03d";\r\n}\r\n.fa-photo:before,\r\n.fa-image:before,\r\n.fa-picture-o:before {\r\n  content: "\\f03e";\r\n}\r\n.fa-pencil:before {\r\n  content: "\\f040";\r\n}\r\n.fa-map-marker:before {\r\n  content: "\\f041";\r\n}\r\n.fa-adjust:before {\r\n  content: "\\f042";\r\n}\r\n.fa-tint:before {\r\n  content: "\\f043";\r\n}\r\n.fa-edit:before,\r\n.fa-pencil-square-o:before {\r\n  content: "\\f044";\r\n}\r\n.fa-share-square-o:before {\r\n  content: "\\f045";\r\n}\r\n.fa-check-square-o:before {\r\n  content: "\\f046";\r\n}\r\n.fa-arrows:before {\r\n  content: "\\f047";\r\n}\r\n.fa-step-backward:before {\r\n  content: "\\f048";\r\n}\r\n.fa-fast-backward:before {\r\n  content: "\\f049";\r\n}\r\n.fa-backward:before {\r\n  content: "\\f04a";\r\n}\r\n.fa-play:before {\r\n  content: "\\f04b";\r\n}\r\n.fa-pause:before {\r\n  content: "\\f04c";\r\n}\r\n.fa-stop:before {\r\n  content: "\\f04d";\r\n}\r\n.fa-forward:before {\r\n  content: "\\f04e";\r\n}\r\n.fa-fast-forward:before {\r\n  content: "\\f050";\r\n}\r\n.fa-step-forward:before {\r\n  content: "\\f051";\r\n}\r\n.fa-eject:before {\r\n  content: "\\f052";\r\n}\r\n.fa-chevron-left:before {\r\n  content: "\\f053";\r\n}\r\n.fa-chevron-right:before {\r\n  content: "\\f054";\r\n}\r\n.fa-plus-circle:before {\r\n  content: "\\f055";\r\n}\r\n.fa-minus-circle:before {\r\n  content: "\\f056";\r\n}\r\n.fa-times-circle:before {\r\n  content: "\\f057";\r\n}\r\n.fa-check-circle:before {\r\n  content: "\\f058";\r\n}\r\n.fa-question-circle:before {\r\n  content: "\\f059";\r\n}\r\n.fa-info-circle:before {\r\n  content: "\\f05a";\r\n}\r\n.fa-crosshairs:before {\r\n  content: "\\f05b";\r\n}\r\n.fa-times-circle-o:before {\r\n  content: "\\f05c";\r\n}\r\n.fa-check-circle-o:before {\r\n  content: "\\f05d";\r\n}\r\n.fa-ban:before {\r\n  content: "\\f05e";\r\n}\r\n.fa-arrow-left:before {\r\n  content: "\\f060";\r\n}\r\n.fa-arrow-right:before {\r\n  content: "\\f061";\r\n}\r\n.fa-arrow-up:before {\r\n  content: "\\f062";\r\n}\r\n.fa-arrow-down:before {\r\n  content: "\\f063";\r\n}\r\n.fa-mail-forward:before,\r\n.fa-share:before {\r\n  content: "\\f064";\r\n}\r\n.fa-expand:before {\r\n  content: "\\f065";\r\n}\r\n.fa-compress:before {\r\n  content: "\\f066";\r\n}\r\n.fa-plus:before {\r\n  content: "\\f067";\r\n}\r\n.fa-minus:before {\r\n  content: "\\f068";\r\n}\r\n.fa-asterisk:before {\r\n  content: "\\f069";\r\n}\r\n.fa-exclamation-circle:before {\r\n  content: "\\f06a";\r\n}\r\n.fa-gift:before {\r\n  content: "\\f06b";\r\n}\r\n.fa-leaf:before {\r\n  content: "\\f06c";\r\n}\r\n.fa-fire:before {\r\n  content: "\\f06d";\r\n}\r\n.fa-eye:before {\r\n  content: "\\f06e";\r\n}\r\n.fa-eye-slash:before {\r\n  content: "\\f070";\r\n}\r\n.fa-warning:before,\r\n.fa-exclamation-triangle:before {\r\n  content: "\\f071";\r\n}\r\n.fa-plane:before {\r\n  content: "\\f072";\r\n}\r\n.fa-calendar:before {\r\n  content: "\\f073";\r\n}\r\n.fa-random:before {\r\n  content: "\\f074";\r\n}\r\n.fa-comment:before {\r\n  content: "\\f075";\r\n}\r\n.fa-magnet:before {\r\n  content: "\\f076";\r\n}\r\n.fa-chevron-up:before {\r\n  content: "\\f077";\r\n}\r\n.fa-chevron-down:before {\r\n  content: "\\f078";\r\n}\r\n.fa-retweet:before {\r\n  content: "\\f079";\r\n}\r\n.fa-shopping-cart:before {\r\n  content: "\\f07a";\r\n}\r\n.fa-folder:before {\r\n  content: "\\f07b";\r\n}\r\n.fa-folder-open:before {\r\n  content: "\\f07c";\r\n}\r\n.fa-arrows-v:before {\r\n  content: "\\f07d";\r\n}\r\n.fa-arrows-h:before {\r\n  content: "\\f07e";\r\n}\r\n.fa-bar-chart-o:before,\r\n.fa-bar-chart:before {\r\n  content: "\\f080";\r\n}\r\n.fa-twitter-square:before {\r\n  content: "\\f081";\r\n}\r\n.fa-facebook-square:before {\r\n  content: "\\f082";\r\n}\r\n.fa-camera-retro:before {\r\n  content: "\\f083";\r\n}\r\n.fa-key:before {\r\n  content: "\\f084";\r\n}\r\n.fa-gears:before,\r\n.fa-cogs:before {\r\n  content: "\\f085";\r\n}\r\n.fa-comments:before {\r\n  content: "\\f086";\r\n}\r\n.fa-thumbs-o-up:before {\r\n  content: "\\f087";\r\n}\r\n.fa-thumbs-o-down:before {\r\n  content: "\\f088";\r\n}\r\n.fa-star-half:before {\r\n  content: "\\f089";\r\n}\r\n.fa-heart-o:before {\r\n  content: "\\f08a";\r\n}\r\n.fa-sign-out:before {\r\n  content: "\\f08b";\r\n}\r\n.fa-linkedin-square:before {\r\n  content: "\\f08c";\r\n}\r\n.fa-thumb-tack:before {\r\n  content: "\\f08d";\r\n}\r\n.fa-external-link:before {\r\n  content: "\\f08e";\r\n}\r\n.fa-sign-in:before {\r\n  content: "\\f090";\r\n}\r\n.fa-trophy:before {\r\n  content: "\\f091";\r\n}\r\n.fa-github-square:before {\r\n  content: "\\f092";\r\n}\r\n.fa-upload:before {\r\n  content: "\\f093";\r\n}\r\n.fa-lemon-o:before {\r\n  content: "\\f094";\r\n}\r\n.fa-phone:before {\r\n  content: "\\f095";\r\n}\r\n.fa-square-o:before {\r\n  content: "\\f096";\r\n}\r\n.fa-bookmark-o:before {\r\n  content: "\\f097";\r\n}\r\n.fa-phone-square:before {\r\n  content: "\\f098";\r\n}\r\n.fa-twitter:before {\r\n  content: "\\f099";\r\n}\r\n.fa-facebook-f:before,\r\n.fa-facebook:before {\r\n  content: "\\f09a";\r\n}\r\n.fa-github:before {\r\n  content: "\\f09b";\r\n}\r\n.fa-unlock:before {\r\n  content: "\\f09c";\r\n}\r\n.fa-credit-card:before {\r\n  content: "\\f09d";\r\n}\r\n.fa-feed:before,\r\n.fa-rss:before {\r\n  content: "\\f09e";\r\n}\r\n.fa-hdd-o:before {\r\n  content: "\\f0a0";\r\n}\r\n.fa-bullhorn:before {\r\n  content: "\\f0a1";\r\n}\r\n.fa-bell:before {\r\n  content: "\\f0f3";\r\n}\r\n.fa-certificate:before {\r\n  content: "\\f0a3";\r\n}\r\n.fa-hand-o-right:before {\r\n  content: "\\f0a4";\r\n}\r\n.fa-hand-o-left:before {\r\n  content: "\\f0a5";\r\n}\r\n.fa-hand-o-up:before {\r\n  content: "\\f0a6";\r\n}\r\n.fa-hand-o-down:before {\r\n  content: "\\f0a7";\r\n}\r\n.fa-arrow-circle-left:before {\r\n  content: "\\f0a8";\r\n}\r\n.fa-arrow-circle-right:before {\r\n  content: "\\f0a9";\r\n}\r\n.fa-arrow-circle-up:before {\r\n  content: "\\f0aa";\r\n}\r\n.fa-arrow-circle-down:before {\r\n  content: "\\f0ab";\r\n}\r\n.fa-globe:before {\r\n  content: "\\f0ac";\r\n}\r\n.fa-wrench:before {\r\n  content: "\\f0ad";\r\n}\r\n.fa-tasks:before {\r\n  content: "\\f0ae";\r\n}\r\n.fa-filter:before {\r\n  content: "\\f0b0";\r\n}\r\n.fa-briefcase:before {\r\n  content: "\\f0b1";\r\n}\r\n.fa-arrows-alt:before {\r\n  content: "\\f0b2";\r\n}\r\n.fa-group:before,\r\n.fa-users:before {\r\n  content: "\\f0c0";\r\n}\r\n.fa-chain:before,\r\n.fa-link:before {\r\n  content: "\\f0c1";\r\n}\r\n.fa-cloud:before {\r\n  content: "\\f0c2";\r\n}\r\n.fa-flask:before {\r\n  content: "\\f0c3";\r\n}\r\n.fa-cut:before,\r\n.fa-scissors:before {\r\n  content: "\\f0c4";\r\n}\r\n.fa-copy:before,\r\n.fa-files-o:before {\r\n  content: "\\f0c5";\r\n}\r\n.fa-paperclip:before {\r\n  content: "\\f0c6";\r\n}\r\n.fa-save:before,\r\n.fa-floppy-o:before {\r\n  content: "\\f0c7";\r\n}\r\n.fa-square:before {\r\n  content: "\\f0c8";\r\n}\r\n.fa-navicon:before,\r\n.fa-reorder:before,\r\n.fa-bars:before {\r\n  content: "\\f0c9";\r\n}\r\n.fa-list-ul:before {\r\n  content: "\\f0ca";\r\n}\r\n.fa-list-ol:before {\r\n  content: "\\f0cb";\r\n}\r\n.fa-strikethrough:before {\r\n  content: "\\f0cc";\r\n}\r\n.fa-underline:before {\r\n  content: "\\f0cd";\r\n}\r\n.fa-table:before {\r\n  content: "\\f0ce";\r\n}\r\n.fa-magic:before {\r\n  content: "\\f0d0";\r\n}\r\n.fa-truck:before {\r\n  content: "\\f0d1";\r\n}\r\n.fa-pinterest:before {\r\n  content: "\\f0d2";\r\n}\r\n.fa-pinterest-square:before {\r\n  content: "\\f0d3";\r\n}\r\n.fa-google-plus-square:before {\r\n  content: "\\f0d4";\r\n}\r\n.fa-google-plus:before {\r\n  content: "\\f0d5";\r\n}\r\n.fa-money:before {\r\n  content: "\\f0d6";\r\n}\r\n.fa-caret-down:before {\r\n  content: "\\f0d7";\r\n}\r\n.fa-caret-up:before {\r\n  content: "\\f0d8";\r\n}\r\n.fa-caret-left:before {\r\n  content: "\\f0d9";\r\n}\r\n.fa-caret-right:before {\r\n  content: "\\f0da";\r\n}\r\n.fa-columns:before {\r\n  content: "\\f0db";\r\n}\r\n.fa-unsorted:before,\r\n.fa-sort:before {\r\n  content: "\\f0dc";\r\n}\r\n.fa-sort-down:before,\r\n.fa-sort-desc:before {\r\n  content: "\\f0dd";\r\n}\r\n.fa-sort-up:before,\r\n.fa-sort-asc:before {\r\n  content: "\\f0de";\r\n}\r\n.fa-envelope:before {\r\n  content: "\\f0e0";\r\n}\r\n.fa-linkedin:before {\r\n  content: "\\f0e1";\r\n}\r\n.fa-rotate-left:before,\r\n.fa-undo:before {\r\n  content: "\\f0e2";\r\n}\r\n.fa-legal:before,\r\n.fa-gavel:before {\r\n  content: "\\f0e3";\r\n}\r\n.fa-dashboard:before,\r\n.fa-tachometer:before {\r\n  content: "\\f0e4";\r\n}\r\n.fa-comment-o:before {\r\n  content: "\\f0e5";\r\n}\r\n.fa-comments-o:before {\r\n  content: "\\f0e6";\r\n}\r\n.fa-flash:before,\r\n.fa-bolt:before {\r\n  content: "\\f0e7";\r\n}\r\n.fa-sitemap:before {\r\n  content: "\\f0e8";\r\n}\r\n.fa-umbrella:before {\r\n  content: "\\f0e9";\r\n}\r\n.fa-paste:before,\r\n.fa-clipboard:before {\r\n  content: "\\f0ea";\r\n}\r\n.fa-lightbulb-o:before {\r\n  content: "\\f0eb";\r\n}\r\n.fa-exchange:before {\r\n  content: "\\f0ec";\r\n}\r\n.fa-cloud-download:before {\r\n  content: "\\f0ed";\r\n}\r\n.fa-cloud-upload:before {\r\n  content: "\\f0ee";\r\n}\r\n.fa-user-md:before {\r\n  content: "\\f0f0";\r\n}\r\n.fa-stethoscope:before {\r\n  content: "\\f0f1";\r\n}\r\n.fa-suitcase:before {\r\n  content: "\\f0f2";\r\n}\r\n.fa-bell-o:before {\r\n  content: "\\f0a2";\r\n}\r\n.fa-coffee:before {\r\n  content: "\\f0f4";\r\n}\r\n.fa-cutlery:before {\r\n  content: "\\f0f5";\r\n}\r\n.fa-file-text-o:before {\r\n  content: "\\f0f6";\r\n}\r\n.fa-building-o:before {\r\n  content: "\\f0f7";\r\n}\r\n.fa-hospital-o:before {\r\n  content: "\\f0f8";\r\n}\r\n.fa-ambulance:before {\r\n  content: "\\f0f9";\r\n}\r\n.fa-medkit:before {\r\n  content: "\\f0fa";\r\n}\r\n.fa-fighter-jet:before {\r\n  content: "\\f0fb";\r\n}\r\n.fa-beer:before {\r\n  content: "\\f0fc";\r\n}\r\n.fa-h-square:before {\r\n  content: "\\f0fd";\r\n}\r\n.fa-plus-square:before {\r\n  content: "\\f0fe";\r\n}\r\n.fa-angle-double-left:before {\r\n  content: "\\f100";\r\n}\r\n.fa-angle-double-right:before {\r\n  content: "\\f101";\r\n}\r\n.fa-angle-double-up:before {\r\n  content: "\\f102";\r\n}\r\n.fa-angle-double-down:before {\r\n  content: "\\f103";\r\n}\r\n.fa-angle-left:before {\r\n  content: "\\f104";\r\n}\r\n.fa-angle-right:before {\r\n  content: "\\f105";\r\n}\r\n.fa-angle-up:before {\r\n  content: "\\f106";\r\n}\r\n.fa-angle-down:before {\r\n  content: "\\f107";\r\n}\r\n.fa-desktop:before {\r\n  content: "\\f108";\r\n}\r\n.fa-laptop:before {\r\n  content: "\\f109";\r\n}\r\n.fa-tablet:before {\r\n  content: "\\f10a";\r\n}\r\n.fa-mobile-phone:before,\r\n.fa-mobile:before {\r\n  content: "\\f10b";\r\n}\r\n.fa-circle-o:before {\r\n  content: "\\f10c";\r\n}\r\n.fa-quote-left:before {\r\n  content: "\\f10d";\r\n}\r\n.fa-quote-right:before {\r\n  content: "\\f10e";\r\n}\r\n.fa-spinner:before {\r\n  content: "\\f110";\r\n}\r\n.fa-circle:before {\r\n  content: "\\f111";\r\n}\r\n.fa-mail-reply:before,\r\n.fa-reply:before {\r\n  content: "\\f112";\r\n}\r\n.fa-github-alt:before {\r\n  content: "\\f113";\r\n}\r\n.fa-folder-o:before {\r\n  content: "\\f114";\r\n}\r\n.fa-folder-open-o:before {\r\n  content: "\\f115";\r\n}\r\n.fa-smile-o:before {\r\n  content: "\\f118";\r\n}\r\n.fa-frown-o:before {\r\n  content: "\\f119";\r\n}\r\n.fa-meh-o:before {\r\n  content: "\\f11a";\r\n}\r\n.fa-gamepad:before {\r\n  content: "\\f11b";\r\n}\r\n.fa-keyboard-o:before {\r\n  content: "\\f11c";\r\n}\r\n.fa-flag-o:before {\r\n  content: "\\f11d";\r\n}\r\n.fa-flag-checkered:before {\r\n  content: "\\f11e";\r\n}\r\n.fa-terminal:before {\r\n  content: "\\f120";\r\n}\r\n.fa-code:before {\r\n  content: "\\f121";\r\n}\r\n.fa-mail-reply-all:before,\r\n.fa-reply-all:before {\r\n  content: "\\f122";\r\n}\r\n.fa-star-half-empty:before,\r\n.fa-star-half-full:before,\r\n.fa-star-half-o:before {\r\n  content: "\\f123";\r\n}\r\n.fa-location-arrow:before {\r\n  content: "\\f124";\r\n}\r\n.fa-crop:before {\r\n  content: "\\f125";\r\n}\r\n.fa-code-fork:before {\r\n  content: "\\f126";\r\n}\r\n.fa-unlink:before,\r\n.fa-chain-broken:before {\r\n  content: "\\f127";\r\n}\r\n.fa-question:before {\r\n  content: "\\f128";\r\n}\r\n.fa-info:before {\r\n  content: "\\f129";\r\n}\r\n.fa-exclamation:before {\r\n  content: "\\f12a";\r\n}\r\n.fa-superscript:before {\r\n  content: "\\f12b";\r\n}\r\n.fa-subscript:before {\r\n  content: "\\f12c";\r\n}\r\n.fa-eraser:before {\r\n  content: "\\f12d";\r\n}\r\n.fa-puzzle-piece:before {\r\n  content: "\\f12e";\r\n}\r\n.fa-microphone:before {\r\n  content: "\\f130";\r\n}\r\n.fa-microphone-slash:before {\r\n  content: "\\f131";\r\n}\r\n.fa-shield:before {\r\n  content: "\\f132";\r\n}\r\n.fa-calendar-o:before {\r\n  content: "\\f133";\r\n}\r\n.fa-fire-extinguisher:before {\r\n  content: "\\f134";\r\n}\r\n.fa-rocket:before {\r\n  content: "\\f135";\r\n}\r\n.fa-maxcdn:before {\r\n  content: "\\f136";\r\n}\r\n.fa-chevron-circle-left:before {\r\n  content: "\\f137";\r\n}\r\n.fa-chevron-circle-right:before {\r\n  content: "\\f138";\r\n}\r\n.fa-chevron-circle-up:before {\r\n  content: "\\f139";\r\n}\r\n.fa-chevron-circle-down:before {\r\n  content: "\\f13a";\r\n}\r\n.fa-html5:before {\r\n  content: "\\f13b";\r\n}\r\n.fa-css3:before {\r\n  content: "\\f13c";\r\n}\r\n.fa-anchor:before {\r\n  content: "\\f13d";\r\n}\r\n.fa-unlock-alt:before {\r\n  content: "\\f13e";\r\n}\r\n.fa-bullseye:before {\r\n  content: "\\f140";\r\n}\r\n.fa-ellipsis-h:before {\r\n  content: "\\f141";\r\n}\r\n.fa-ellipsis-v:before {\r\n  content: "\\f142";\r\n}\r\n.fa-rss-square:before {\r\n  content: "\\f143";\r\n}\r\n.fa-play-circle:before {\r\n  content: "\\f144";\r\n}\r\n.fa-ticket:before {\r\n  content: "\\f145";\r\n}\r\n.fa-minus-square:before {\r\n  content: "\\f146";\r\n}\r\n.fa-minus-square-o:before {\r\n  content: "\\f147";\r\n}\r\n.fa-level-up:before {\r\n  content: "\\f148";\r\n}\r\n.fa-level-down:before {\r\n  content: "\\f149";\r\n}\r\n.fa-check-square:before {\r\n  content: "\\f14a";\r\n}\r\n.fa-pencil-square:before {\r\n  content: "\\f14b";\r\n}\r\n.fa-external-link-square:before {\r\n  content: "\\f14c";\r\n}\r\n.fa-share-square:before {\r\n  content: "\\f14d";\r\n}\r\n.fa-compass:before {\r\n  content: "\\f14e";\r\n}\r\n.fa-toggle-down:before,\r\n.fa-caret-square-o-down:before {\r\n  content: "\\f150";\r\n}\r\n.fa-toggle-up:before,\r\n.fa-caret-square-o-up:before {\r\n  content: "\\f151";\r\n}\r\n.fa-toggle-right:before,\r\n.fa-caret-square-o-right:before {\r\n  content: "\\f152";\r\n}\r\n.fa-euro:before,\r\n.fa-eur:before {\r\n  content: "\\f153";\r\n}\r\n.fa-gbp:before {\r\n  content: "\\f154";\r\n}\r\n.fa-dollar:before,\r\n.fa-usd:before {\r\n  content: "\\f155";\r\n}\r\n.fa-rupee:before,\r\n.fa-inr:before {\r\n  content: "\\f156";\r\n}\r\n.fa-cny:before,\r\n.fa-rmb:before,\r\n.fa-yen:before,\r\n.fa-jpy:before {\r\n  content: "\\f157";\r\n}\r\n.fa-ruble:before,\r\n.fa-rouble:before,\r\n.fa-rub:before {\r\n  content: "\\f158";\r\n}\r\n.fa-won:before,\r\n.fa-krw:before {\r\n  content: "\\f159";\r\n}\r\n.fa-bitcoin:before,\r\n.fa-btc:before {\r\n  content: "\\f15a";\r\n}\r\n.fa-file:before {\r\n  content: "\\f15b";\r\n}\r\n.fa-file-text:before {\r\n  content: "\\f15c";\r\n}\r\n.fa-sort-alpha-asc:before {\r\n  content: "\\f15d";\r\n}\r\n.fa-sort-alpha-desc:before {\r\n  content: "\\f15e";\r\n}\r\n.fa-sort-amount-asc:before {\r\n  content: "\\f160";\r\n}\r\n.fa-sort-amount-desc:before {\r\n  content: "\\f161";\r\n}\r\n.fa-sort-numeric-asc:before {\r\n  content: "\\f162";\r\n}\r\n.fa-sort-numeric-desc:before {\r\n  content: "\\f163";\r\n}\r\n.fa-thumbs-up:before {\r\n  content: "\\f164";\r\n}\r\n.fa-thumbs-down:before {\r\n  content: "\\f165";\r\n}\r\n.fa-youtube-square:before {\r\n  content: "\\f166";\r\n}\r\n.fa-youtube:before {\r\n  content: "\\f167";\r\n}\r\n.fa-xing:before {\r\n  content: "\\f168";\r\n}\r\n.fa-xing-square:before {\r\n  content: "\\f169";\r\n}\r\n.fa-youtube-play:before {\r\n  content: "\\f16a";\r\n}\r\n.fa-dropbox:before {\r\n  content: "\\f16b";\r\n}\r\n.fa-stack-overflow:before {\r\n  content: "\\f16c";\r\n}\r\n.fa-instagram:before {\r\n  content: "\\f16d";\r\n}\r\n.fa-flickr:before {\r\n  content: "\\f16e";\r\n}\r\n.fa-adn:before {\r\n  content: "\\f170";\r\n}\r\n.fa-bitbucket:before {\r\n  content: "\\f171";\r\n}\r\n.fa-bitbucket-square:before {\r\n  content: "\\f172";\r\n}\r\n.fa-tumblr:before {\r\n  content: "\\f173";\r\n}\r\n.fa-tumblr-square:before {\r\n  content: "\\f174";\r\n}\r\n.fa-long-arrow-down:before {\r\n  content: "\\f175";\r\n}\r\n.fa-long-arrow-up:before {\r\n  content: "\\f176";\r\n}\r\n.fa-long-arrow-left:before {\r\n  content: "\\f177";\r\n}\r\n.fa-long-arrow-right:before {\r\n  content: "\\f178";\r\n}\r\n.fa-apple:before {\r\n  content: "\\f179";\r\n}\r\n.fa-windows:before {\r\n  content: "\\f17a";\r\n}\r\n.fa-android:before {\r\n  content: "\\f17b";\r\n}\r\n.fa-linux:before {\r\n  content: "\\f17c";\r\n}\r\n.fa-dribbble:before {\r\n  content: "\\f17d";\r\n}\r\n.fa-skype:before {\r\n  content: "\\f17e";\r\n}\r\n.fa-foursquare:before {\r\n  content: "\\f180";\r\n}\r\n.fa-trello:before {\r\n  content: "\\f181";\r\n}\r\n.fa-female:before {\r\n  content: "\\f182";\r\n}\r\n.fa-male:before {\r\n  content: "\\f183";\r\n}\r\n.fa-gittip:before,\r\n.fa-gratipay:before {\r\n  content: "\\f184";\r\n}\r\n.fa-sun-o:before {\r\n  content: "\\f185";\r\n}\r\n.fa-moon-o:before {\r\n  content: "\\f186";\r\n}\r\n.fa-archive:before {\r\n  content: "\\f187";\r\n}\r\n.fa-bug:before {\r\n  content: "\\f188";\r\n}\r\n.fa-vk:before {\r\n  content: "\\f189";\r\n}\r\n.fa-weibo:before {\r\n  content: "\\f18a";\r\n}\r\n.fa-renren:before {\r\n  content: "\\f18b";\r\n}\r\n.fa-pagelines:before {\r\n  content: "\\f18c";\r\n}\r\n.fa-stack-exchange:before {\r\n  content: "\\f18d";\r\n}\r\n.fa-arrow-circle-o-right:before {\r\n  content: "\\f18e";\r\n}\r\n.fa-arrow-circle-o-left:before {\r\n  content: "\\f190";\r\n}\r\n.fa-toggle-left:before,\r\n.fa-caret-square-o-left:before {\r\n  content: "\\f191";\r\n}\r\n.fa-dot-circle-o:before {\r\n  content: "\\f192";\r\n}\r\n.fa-wheelchair:before {\r\n  content: "\\f193";\r\n}\r\n.fa-vimeo-square:before {\r\n  content: "\\f194";\r\n}\r\n.fa-turkish-lira:before,\r\n.fa-try:before {\r\n  content: "\\f195";\r\n}\r\n.fa-plus-square-o:before {\r\n  content: "\\f196";\r\n}\r\n.fa-space-shuttle:before {\r\n  content: "\\f197";\r\n}\r\n.fa-slack:before {\r\n  content: "\\f198";\r\n}\r\n.fa-envelope-square:before {\r\n  content: "\\f199";\r\n}\r\n.fa-wordpress:before {\r\n  content: "\\f19a";\r\n}\r\n.fa-openid:before {\r\n  content: "\\f19b";\r\n}\r\n.fa-institution:before,\r\n.fa-bank:before,\r\n.fa-university:before {\r\n  content: "\\f19c";\r\n}\r\n.fa-mortar-board:before,\r\n.fa-graduation-cap:before {\r\n  content: "\\f19d";\r\n}\r\n.fa-yahoo:before {\r\n  content: "\\f19e";\r\n}\r\n.fa-google:before {\r\n  content: "\\f1a0";\r\n}\r\n.fa-reddit:before {\r\n  content: "\\f1a1";\r\n}\r\n.fa-reddit-square:before {\r\n  content: "\\f1a2";\r\n}\r\n.fa-stumbleupon-circle:before {\r\n  content: "\\f1a3";\r\n}\r\n.fa-stumbleupon:before {\r\n  content: "\\f1a4";\r\n}\r\n.fa-delicious:before {\r\n  content: "\\f1a5";\r\n}\r\n.fa-digg:before {\r\n  content: "\\f1a6";\r\n}\r\n.fa-pied-piper-pp:before {\r\n  content: "\\f1a7";\r\n}\r\n.fa-pied-piper-alt:before {\r\n  content: "\\f1a8";\r\n}\r\n.fa-drupal:before {\r\n  content: "\\f1a9";\r\n}\r\n.fa-joomla:before {\r\n  content: "\\f1aa";\r\n}\r\n.fa-language:before {\r\n  content: "\\f1ab";\r\n}\r\n.fa-fax:before {\r\n  content: "\\f1ac";\r\n}\r\n.fa-building:before {\r\n  content: "\\f1ad";\r\n}\r\n.fa-child:before {\r\n  content: "\\f1ae";\r\n}\r\n.fa-paw:before {\r\n  content: "\\f1b0";\r\n}\r\n.fa-spoon:before {\r\n  content: "\\f1b1";\r\n}\r\n.fa-cube:before {\r\n  content: "\\f1b2";\r\n}\r\n.fa-cubes:before {\r\n  content: "\\f1b3";\r\n}\r\n.fa-behance:before {\r\n  content: "\\f1b4";\r\n}\r\n.fa-behance-square:before {\r\n  content: "\\f1b5";\r\n}\r\n.fa-steam:before {\r\n  content: "\\f1b6";\r\n}\r\n.fa-steam-square:before {\r\n  content: "\\f1b7";\r\n}\r\n.fa-recycle:before {\r\n  content: "\\f1b8";\r\n}\r\n.fa-automobile:before,\r\n.fa-car:before {\r\n  content: "\\f1b9";\r\n}\r\n.fa-cab:before,\r\n.fa-taxi:before {\r\n  content: "\\f1ba";\r\n}\r\n.fa-tree:before {\r\n  content: "\\f1bb";\r\n}\r\n.fa-spotify:before {\r\n  content: "\\f1bc";\r\n}\r\n.fa-deviantart:before {\r\n  content: "\\f1bd";\r\n}\r\n.fa-soundcloud:before {\r\n  content: "\\f1be";\r\n}\r\n.fa-database:before {\r\n  content: "\\f1c0";\r\n}\r\n.fa-file-pdf-o:before {\r\n  content: "\\f1c1";\r\n}\r\n.fa-file-word-o:before {\r\n  content: "\\f1c2";\r\n}\r\n.fa-file-excel-o:before {\r\n  content: "\\f1c3";\r\n}\r\n.fa-file-powerpoint-o:before {\r\n  content: "\\f1c4";\r\n}\r\n.fa-file-photo-o:before,\r\n.fa-file-picture-o:before,\r\n.fa-file-image-o:before {\r\n  content: "\\f1c5";\r\n}\r\n.fa-file-zip-o:before,\r\n.fa-file-archive-o:before {\r\n  content: "\\f1c6";\r\n}\r\n.fa-file-sound-o:before,\r\n.fa-file-audio-o:before {\r\n  content: "\\f1c7";\r\n}\r\n.fa-file-movie-o:before,\r\n.fa-file-video-o:before {\r\n  content: "\\f1c8";\r\n}\r\n.fa-file-code-o:before {\r\n  content: "\\f1c9";\r\n}\r\n.fa-vine:before {\r\n  content: "\\f1ca";\r\n}\r\n.fa-codepen:before {\r\n  content: "\\f1cb";\r\n}\r\n.fa-jsfiddle:before {\r\n  content: "\\f1cc";\r\n}\r\n.fa-life-bouy:before,\r\n.fa-life-buoy:before,\r\n.fa-life-saver:before,\r\n.fa-support:before,\r\n.fa-life-ring:before {\r\n  content: "\\f1cd";\r\n}\r\n.fa-circle-o-notch:before {\r\n  content: "\\f1ce";\r\n}\r\n.fa-ra:before,\r\n.fa-resistance:before,\r\n.fa-rebel:before {\r\n  content: "\\f1d0";\r\n}\r\n.fa-ge:before,\r\n.fa-empire:before {\r\n  content: "\\f1d1";\r\n}\r\n.fa-git-square:before {\r\n  content: "\\f1d2";\r\n}\r\n.fa-git:before {\r\n  content: "\\f1d3";\r\n}\r\n.fa-y-combinator-square:before,\r\n.fa-yc-square:before,\r\n.fa-hacker-news:before {\r\n  content: "\\f1d4";\r\n}\r\n.fa-tencent-weibo:before {\r\n  content: "\\f1d5";\r\n}\r\n.fa-qq:before {\r\n  content: "\\f1d6";\r\n}\r\n.fa-wechat:before,\r\n.fa-weixin:before {\r\n  content: "\\f1d7";\r\n}\r\n.fa-send:before,\r\n.fa-paper-plane:before {\r\n  content: "\\f1d8";\r\n}\r\n.fa-send-o:before,\r\n.fa-paper-plane-o:before {\r\n  content: "\\f1d9";\r\n}\r\n.fa-history:before {\r\n  content: "\\f1da";\r\n}\r\n.fa-circle-thin:before {\r\n  content: "\\f1db";\r\n}\r\n.fa-header:before {\r\n  content: "\\f1dc";\r\n}\r\n.fa-paragraph:before {\r\n  content: "\\f1dd";\r\n}\r\n.fa-sliders:before {\r\n  content: "\\f1de";\r\n}\r\n.fa-share-alt:before {\r\n  content: "\\f1e0";\r\n}\r\n.fa-share-alt-square:before {\r\n  content: "\\f1e1";\r\n}\r\n.fa-bomb:before {\r\n  content: "\\f1e2";\r\n}\r\n.fa-soccer-ball-o:before,\r\n.fa-futbol-o:before {\r\n  content: "\\f1e3";\r\n}\r\n.fa-tty:before {\r\n  content: "\\f1e4";\r\n}\r\n.fa-binoculars:before {\r\n  content: "\\f1e5";\r\n}\r\n.fa-plug:before {\r\n  content: "\\f1e6";\r\n}\r\n.fa-slideshare:before {\r\n  content: "\\f1e7";\r\n}\r\n.fa-twitch:before {\r\n  content: "\\f1e8";\r\n}\r\n.fa-yelp:before {\r\n  content: "\\f1e9";\r\n}\r\n.fa-newspaper-o:before {\r\n  content: "\\f1ea";\r\n}\r\n.fa-wifi:before {\r\n  content: "\\f1eb";\r\n}\r\n.fa-calculator:before {\r\n  content: "\\f1ec";\r\n}\r\n.fa-paypal:before {\r\n  content: "\\f1ed";\r\n}\r\n.fa-google-wallet:before {\r\n  content: "\\f1ee";\r\n}\r\n.fa-cc-visa:before {\r\n  content: "\\f1f0";\r\n}\r\n.fa-cc-mastercard:before {\r\n  content: "\\f1f1";\r\n}\r\n.fa-cc-discover:before {\r\n  content: "\\f1f2";\r\n}\r\n.fa-cc-amex:before {\r\n  content: "\\f1f3";\r\n}\r\n.fa-cc-paypal:before {\r\n  content: "\\f1f4";\r\n}\r\n.fa-cc-stripe:before {\r\n  content: "\\f1f5";\r\n}\r\n.fa-bell-slash:before {\r\n  content: "\\f1f6";\r\n}\r\n.fa-bell-slash-o:before {\r\n  content: "\\f1f7";\r\n}\r\n.fa-trash:before {\r\n  content: "\\f1f8";\r\n}\r\n.fa-copyright:before {\r\n  content: "\\f1f9";\r\n}\r\n.fa-at:before {\r\n  content: "\\f1fa";\r\n}\r\n.fa-eyedropper:before {\r\n  content: "\\f1fb";\r\n}\r\n.fa-paint-brush:before {\r\n  content: "\\f1fc";\r\n}\r\n.fa-birthday-cake:before {\r\n  content: "\\f1fd";\r\n}\r\n.fa-area-chart:before {\r\n  content: "\\f1fe";\r\n}\r\n.fa-pie-chart:before {\r\n  content: "\\f200";\r\n}\r\n.fa-line-chart:before {\r\n  content: "\\f201";\r\n}\r\n.fa-lastfm:before {\r\n  content: "\\f202";\r\n}\r\n.fa-lastfm-square:before {\r\n  content: "\\f203";\r\n}\r\n.fa-toggle-off:before {\r\n  content: "\\f204";\r\n}\r\n.fa-toggle-on:before {\r\n  content: "\\f205";\r\n}\r\n.fa-bicycle:before {\r\n  content: "\\f206";\r\n}\r\n.fa-bus:before {\r\n  content: "\\f207";\r\n}\r\n.fa-ioxhost:before {\r\n  content: "\\f208";\r\n}\r\n.fa-angellist:before {\r\n  content: "\\f209";\r\n}\r\n.fa-cc:before {\r\n  content: "\\f20a";\r\n}\r\n.fa-shekel:before,\r\n.fa-sheqel:before,\r\n.fa-ils:before {\r\n  content: "\\f20b";\r\n}\r\n.fa-meanpath:before {\r\n  content: "\\f20c";\r\n}\r\n.fa-buysellads:before {\r\n  content: "\\f20d";\r\n}\r\n.fa-connectdevelop:before {\r\n  content: "\\f20e";\r\n}\r\n.fa-dashcube:before {\r\n  content: "\\f210";\r\n}\r\n.fa-forumbee:before {\r\n  content: "\\f211";\r\n}\r\n.fa-leanpub:before {\r\n  content: "\\f212";\r\n}\r\n.fa-sellsy:before {\r\n  content: "\\f213";\r\n}\r\n.fa-shirtsinbulk:before {\r\n  content: "\\f214";\r\n}\r\n.fa-simplybuilt:before {\r\n  content: "\\f215";\r\n}\r\n.fa-skyatlas:before {\r\n  content: "\\f216";\r\n}\r\n.fa-cart-plus:before {\r\n  content: "\\f217";\r\n}\r\n.fa-cart-arrow-down:before {\r\n  content: "\\f218";\r\n}\r\n.fa-diamond:before {\r\n  content: "\\f219";\r\n}\r\n.fa-ship:before {\r\n  content: "\\f21a";\r\n}\r\n.fa-user-secret:before {\r\n  content: "\\f21b";\r\n}\r\n.fa-motorcycle:before {\r\n  content: "\\f21c";\r\n}\r\n.fa-street-view:before {\r\n  content: "\\f21d";\r\n}\r\n.fa-heartbeat:before {\r\n  content: "\\f21e";\r\n}\r\n.fa-venus:before {\r\n  content: "\\f221";\r\n}\r\n.fa-mars:before {\r\n  content: "\\f222";\r\n}\r\n.fa-mercury:before {\r\n  content: "\\f223";\r\n}\r\n.fa-intersex:before,\r\n.fa-transgender:before {\r\n  content: "\\f224";\r\n}\r\n.fa-transgender-alt:before {\r\n  content: "\\f225";\r\n}\r\n.fa-venus-double:before {\r\n  content: "\\f226";\r\n}\r\n.fa-mars-double:before {\r\n  content: "\\f227";\r\n}\r\n.fa-venus-mars:before {\r\n  content: "\\f228";\r\n}\r\n.fa-mars-stroke:before {\r\n  content: "\\f229";\r\n}\r\n.fa-mars-stroke-v:before {\r\n  content: "\\f22a";\r\n}\r\n.fa-mars-stroke-h:before {\r\n  content: "\\f22b";\r\n}\r\n.fa-neuter:before {\r\n  content: "\\f22c";\r\n}\r\n.fa-genderless:before {\r\n  content: "\\f22d";\r\n}\r\n.fa-facebook-official:before {\r\n  content: "\\f230";\r\n}\r\n.fa-pinterest-p:before {\r\n  content: "\\f231";\r\n}\r\n.fa-whatsapp:before {\r\n  content: "\\f232";\r\n}\r\n.fa-server:before {\r\n  content: "\\f233";\r\n}\r\n.fa-user-plus:before {\r\n  content: "\\f234";\r\n}\r\n.fa-user-times:before {\r\n  content: "\\f235";\r\n}\r\n.fa-hotel:before,\r\n.fa-bed:before {\r\n  content: "\\f236";\r\n}\r\n.fa-viacoin:before {\r\n  content: "\\f237";\r\n}\r\n.fa-train:before {\r\n  content: "\\f238";\r\n}\r\n.fa-subway:before {\r\n  content: "\\f239";\r\n}\r\n.fa-medium:before {\r\n  content: "\\f23a";\r\n}\r\n.fa-yc:before,\r\n.fa-y-combinator:before {\r\n  content: "\\f23b";\r\n}\r\n.fa-optin-monster:before {\r\n  content: "\\f23c";\r\n}\r\n.fa-opencart:before {\r\n  content: "\\f23d";\r\n}\r\n.fa-expeditedssl:before {\r\n  content: "\\f23e";\r\n}\r\n.fa-battery-4:before,\r\n.fa-battery:before,\r\n.fa-battery-full:before {\r\n  content: "\\f240";\r\n}\r\n.fa-battery-3:before,\r\n.fa-battery-three-quarters:before {\r\n  content: "\\f241";\r\n}\r\n.fa-battery-2:before,\r\n.fa-battery-half:before {\r\n  content: "\\f242";\r\n}\r\n.fa-battery-1:before,\r\n.fa-battery-quarter:before {\r\n  content: "\\f243";\r\n}\r\n.fa-battery-0:before,\r\n.fa-battery-empty:before {\r\n  content: "\\f244";\r\n}\r\n.fa-mouse-pointer:before {\r\n  content: "\\f245";\r\n}\r\n.fa-i-cursor:before {\r\n  content: "\\f246";\r\n}\r\n.fa-object-group:before {\r\n  content: "\\f247";\r\n}\r\n.fa-object-ungroup:before {\r\n  content: "\\f248";\r\n}\r\n.fa-sticky-note:before {\r\n  content: "\\f249";\r\n}\r\n.fa-sticky-note-o:before {\r\n  content: "\\f24a";\r\n}\r\n.fa-cc-jcb:before {\r\n  content: "\\f24b";\r\n}\r\n.fa-cc-diners-club:before {\r\n  content: "\\f24c";\r\n}\r\n.fa-clone:before {\r\n  content: "\\f24d";\r\n}\r\n.fa-balance-scale:before {\r\n  content: "\\f24e";\r\n}\r\n.fa-hourglass-o:before {\r\n  content: "\\f250";\r\n}\r\n.fa-hourglass-1:before,\r\n.fa-hourglass-start:before {\r\n  content: "\\f251";\r\n}\r\n.fa-hourglass-2:before,\r\n.fa-hourglass-half:before {\r\n  content: "\\f252";\r\n}\r\n.fa-hourglass-3:before,\r\n.fa-hourglass-end:before {\r\n  content: "\\f253";\r\n}\r\n.fa-hourglass:before {\r\n  content: "\\f254";\r\n}\r\n.fa-hand-grab-o:before,\r\n.fa-hand-rock-o:before {\r\n  content: "\\f255";\r\n}\r\n.fa-hand-stop-o:before,\r\n.fa-hand-paper-o:before {\r\n  content: "\\f256";\r\n}\r\n.fa-hand-scissors-o:before {\r\n  content: "\\f257";\r\n}\r\n.fa-hand-lizard-o:before {\r\n  content: "\\f258";\r\n}\r\n.fa-hand-spock-o:before {\r\n  content: "\\f259";\r\n}\r\n.fa-hand-pointer-o:before {\r\n  content: "\\f25a";\r\n}\r\n.fa-hand-peace-o:before {\r\n  content: "\\f25b";\r\n}\r\n.fa-trademark:before {\r\n  content: "\\f25c";\r\n}\r\n.fa-registered:before {\r\n  content: "\\f25d";\r\n}\r\n.fa-creative-commons:before {\r\n  content: "\\f25e";\r\n}\r\n.fa-gg:before {\r\n  content: "\\f260";\r\n}\r\n.fa-gg-circle:before {\r\n  content: "\\f261";\r\n}\r\n.fa-tripadvisor:before {\r\n  content: "\\f262";\r\n}\r\n.fa-odnoklassniki:before {\r\n  content: "\\f263";\r\n}\r\n.fa-odnoklassniki-square:before {\r\n  content: "\\f264";\r\n}\r\n.fa-get-pocket:before {\r\n  content: "\\f265";\r\n}\r\n.fa-wikipedia-w:before {\r\n  content: "\\f266";\r\n}\r\n.fa-safari:before {\r\n  content: "\\f267";\r\n}\r\n.fa-chrome:before {\r\n  content: "\\f268";\r\n}\r\n.fa-firefox:before {\r\n  content: "\\f269";\r\n}\r\n.fa-opera:before {\r\n  content: "\\f26a";\r\n}\r\n.fa-internet-explorer:before {\r\n  content: "\\f26b";\r\n}\r\n.fa-tv:before,\r\n.fa-television:before {\r\n  content: "\\f26c";\r\n}\r\n.fa-contao:before {\r\n  content: "\\f26d";\r\n}\r\n.fa-500px:before {\r\n  content: "\\f26e";\r\n}\r\n.fa-amazon:before {\r\n  content: "\\f270";\r\n}\r\n.fa-calendar-plus-o:before {\r\n  content: "\\f271";\r\n}\r\n.fa-calendar-minus-o:before {\r\n  content: "\\f272";\r\n}\r\n.fa-calendar-times-o:before {\r\n  content: "\\f273";\r\n}\r\n.fa-calendar-check-o:before {\r\n  content: "\\f274";\r\n}\r\n.fa-industry:before {\r\n  content: "\\f275";\r\n}\r\n.fa-map-pin:before {\r\n  content: "\\f276";\r\n}\r\n.fa-map-signs:before {\r\n  content: "\\f277";\r\n}\r\n.fa-map-o:before {\r\n  content: "\\f278";\r\n}\r\n.fa-map:before {\r\n  content: "\\f279";\r\n}\r\n.fa-commenting:before {\r\n  content: "\\f27a";\r\n}\r\n.fa-commenting-o:before {\r\n  content: "\\f27b";\r\n}\r\n.fa-houzz:before {\r\n  content: "\\f27c";\r\n}\r\n.fa-vimeo:before {\r\n  content: "\\f27d";\r\n}\r\n.fa-black-tie:before {\r\n  content: "\\f27e";\r\n}\r\n.fa-fonticons:before {\r\n  content: "\\f280";\r\n}\r\n.fa-reddit-alien:before {\r\n  content: "\\f281";\r\n}\r\n.fa-edge:before {\r\n  content: "\\f282";\r\n}\r\n.fa-credit-card-alt:before {\r\n  content: "\\f283";\r\n}\r\n.fa-codiepie:before {\r\n  content: "\\f284";\r\n}\r\n.fa-modx:before {\r\n  content: "\\f285";\r\n}\r\n.fa-fort-awesome:before {\r\n  content: "\\f286";\r\n}\r\n.fa-usb:before {\r\n  content: "\\f287";\r\n}\r\n.fa-product-hunt:before {\r\n  content: "\\f288";\r\n}\r\n.fa-mixcloud:before {\r\n  content: "\\f289";\r\n}\r\n.fa-scribd:before {\r\n  content: "\\f28a";\r\n}\r\n.fa-pause-circle:before {\r\n  content: "\\f28b";\r\n}\r\n.fa-pause-circle-o:before {\r\n  content: "\\f28c";\r\n}\r\n.fa-stop-circle:before {\r\n  content: "\\f28d";\r\n}\r\n.fa-stop-circle-o:before {\r\n  content: "\\f28e";\r\n}\r\n.fa-shopping-bag:before {\r\n  content: "\\f290";\r\n}\r\n.fa-shopping-basket:before {\r\n  content: "\\f291";\r\n}\r\n.fa-hashtag:before {\r\n  content: "\\f292";\r\n}\r\n.fa-bluetooth:before {\r\n  content: "\\f293";\r\n}\r\n.fa-bluetooth-b:before {\r\n  content: "\\f294";\r\n}\r\n.fa-percent:before {\r\n  content: "\\f295";\r\n}\r\n.fa-gitlab:before {\r\n  content: "\\f296";\r\n}\r\n.fa-wpbeginner:before {\r\n  content: "\\f297";\r\n}\r\n.fa-wpforms:before {\r\n  content: "\\f298";\r\n}\r\n.fa-envira:before {\r\n  content: "\\f299";\r\n}\r\n.fa-universal-access:before {\r\n  content: "\\f29a";\r\n}\r\n.fa-wheelchair-alt:before {\r\n  content: "\\f29b";\r\n}\r\n.fa-question-circle-o:before {\r\n  content: "\\f29c";\r\n}\r\n.fa-blind:before {\r\n  content: "\\f29d";\r\n}\r\n.fa-audio-description:before {\r\n  content: "\\f29e";\r\n}\r\n.fa-volume-control-phone:before {\r\n  content: "\\f2a0";\r\n}\r\n.fa-braille:before {\r\n  content: "\\f2a1";\r\n}\r\n.fa-assistive-listening-systems:before {\r\n  content: "\\f2a2";\r\n}\r\n.fa-asl-interpreting:before,\r\n.fa-american-sign-language-interpreting:before {\r\n  content: "\\f2a3";\r\n}\r\n.fa-deafness:before,\r\n.fa-hard-of-hearing:before,\r\n.fa-deaf:before {\r\n  content: "\\f2a4";\r\n}\r\n.fa-glide:before {\r\n  content: "\\f2a5";\r\n}\r\n.fa-glide-g:before {\r\n  content: "\\f2a6";\r\n}\r\n.fa-signing:before,\r\n.fa-sign-language:before {\r\n  content: "\\f2a7";\r\n}\r\n.fa-low-vision:before {\r\n  content: "\\f2a8";\r\n}\r\n.fa-viadeo:before {\r\n  content: "\\f2a9";\r\n}\r\n.fa-viadeo-square:before {\r\n  content: "\\f2aa";\r\n}\r\n.fa-snapchat:before {\r\n  content: "\\f2ab";\r\n}\r\n.fa-snapchat-ghost:before {\r\n  content: "\\f2ac";\r\n}\r\n.fa-snapchat-square:before {\r\n  content: "\\f2ad";\r\n}\r\n.fa-pied-piper:before {\r\n  content: "\\f2ae";\r\n}\r\n.fa-first-order:before {\r\n  content: "\\f2b0";\r\n}\r\n.fa-yoast:before {\r\n  content: "\\f2b1";\r\n}\r\n.fa-themeisle:before {\r\n  content: "\\f2b2";\r\n}\r\n.fa-google-plus-circle:before,\r\n.fa-google-plus-official:before {\r\n  content: "\\f2b3";\r\n}\r\n.fa-fa:before,\r\n.fa-font-awesome:before {\r\n  content: "\\f2b4";\r\n}\r\n.fa-handshake-o:before {\r\n  content: "\\f2b5";\r\n}\r\n.fa-envelope-open:before {\r\n  content: "\\f2b6";\r\n}\r\n.fa-envelope-open-o:before {\r\n  content: "\\f2b7";\r\n}\r\n.fa-linode:before {\r\n  content: "\\f2b8";\r\n}\r\n.fa-address-book:before {\r\n  content: "\\f2b9";\r\n}\r\n.fa-address-book-o:before {\r\n  content: "\\f2ba";\r\n}\r\n.fa-vcard:before,\r\n.fa-address-card:before {\r\n  content: "\\f2bb";\r\n}\r\n.fa-vcard-o:before,\r\n.fa-address-card-o:before {\r\n  content: "\\f2bc";\r\n}\r\n.fa-user-circle:before {\r\n  content: "\\f2bd";\r\n}\r\n.fa-user-circle-o:before {\r\n  content: "\\f2be";\r\n}\r\n.fa-user-o:before {\r\n  content: "\\f2c0";\r\n}\r\n.fa-id-badge:before {\r\n  content: "\\f2c1";\r\n}\r\n.fa-drivers-license:before,\r\n.fa-id-card:before {\r\n  content: "\\f2c2";\r\n}\r\n.fa-drivers-license-o:before,\r\n.fa-id-card-o:before {\r\n  content: "\\f2c3";\r\n}\r\n.fa-quora:before {\r\n  content: "\\f2c4";\r\n}\r\n.fa-free-code-camp:before {\r\n  content: "\\f2c5";\r\n}\r\n.fa-telegram:before {\r\n  content: "\\f2c6";\r\n}\r\n.fa-thermometer-4:before,\r\n.fa-thermometer:before,\r\n.fa-thermometer-full:before {\r\n  content: "\\f2c7";\r\n}\r\n.fa-thermometer-3:before,\r\n.fa-thermometer-three-quarters:before {\r\n  content: "\\f2c8";\r\n}\r\n.fa-thermometer-2:before,\r\n.fa-thermometer-half:before {\r\n  content: "\\f2c9";\r\n}\r\n.fa-thermometer-1:before,\r\n.fa-thermometer-quarter:before {\r\n  content: "\\f2ca";\r\n}\r\n.fa-thermometer-0:before,\r\n.fa-thermometer-empty:before {\r\n  content: "\\f2cb";\r\n}\r\n.fa-shower:before {\r\n  content: "\\f2cc";\r\n}\r\n.fa-bathtub:before,\r\n.fa-s15:before,\r\n.fa-bath:before {\r\n  content: "\\f2cd";\r\n}\r\n.fa-podcast:before {\r\n  content: "\\f2ce";\r\n}\r\n.fa-window-maximize:before {\r\n  content: "\\f2d0";\r\n}\r\n.fa-window-minimize:before {\r\n  content: "\\f2d1";\r\n}\r\n.fa-window-restore:before {\r\n  content: "\\f2d2";\r\n}\r\n.fa-times-rectangle:before,\r\n.fa-window-close:before {\r\n  content: "\\f2d3";\r\n}\r\n.fa-times-rectangle-o:before,\r\n.fa-window-close-o:before {\r\n  content: "\\f2d4";\r\n}\r\n.fa-bandcamp:before {\r\n  content: "\\f2d5";\r\n}\r\n.fa-grav:before {\r\n  content: "\\f2d6";\r\n}\r\n.fa-etsy:before {\r\n  content: "\\f2d7";\r\n}\r\n.fa-imdb:before {\r\n  content: "\\f2d8";\r\n}\r\n.fa-ravelry:before {\r\n  content: "\\f2d9";\r\n}\r\n.fa-eercast:before {\r\n  content: "\\f2da";\r\n}\r\n.fa-microchip:before {\r\n  content: "\\f2db";\r\n}\r\n.fa-snowflake-o:before {\r\n  content: "\\f2dc";\r\n}\r\n.fa-superpowers:before {\r\n  content: "\\f2dd";\r\n}\r\n.fa-wpexplorer:before {\r\n  content: "\\f2de";\r\n}\r\n.fa-meetup:before {\r\n  content: "\\f2e0";\r\n}\r\n'},"./node_modules/react-container-dimensions/lib/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("./node_modules/react/index.js"),a=p(i),s=p(n("./node_modules/prop-types/index.js")),l=p(n("./node_modules/react-dom/index.js")),u=p(n("./node_modules/element-resize-detector/src/element-resize-detector.js")),c=p(n("./node_modules/invariant/browser.js"));function p(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={initiated:!1},e.onResize=e.onResize.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,null,[{key:"getDomNodeDimensions",value:function(e){var t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}}}]),o(t,[{key:"componentDidMount",value:function(){this.parentNode=l.default.findDOMNode(this).parentNode,this.elementResizeDetector=(0,u.default)({strategy:"scroll",callOnAdd:!1}),this.elementResizeDetector.listenTo(this.parentNode,this.onResize),this.onResize()}},{key:"componentWillUnmount",value:function(){this.elementResizeDetector.uninstall(this.parentNode)}},{key:"onResize",value:function(){var e=t.getDomNodeDimensions(this.parentNode);this.setState(r({initiated:!0},e))}},{key:"render",value:function(){if((0,c.default)(this.props.children,"Expected children to be one of function or React.Element"),!this.state.initiated)return a.default.createElement("div",null);if("function"==typeof this.props.children){var e=this.props.children(this.state);return e&&i.Children.only(e)}return i.Children.only(a.default.cloneElement(this.props.children,this.state))}}]),t}(i.Component);f.propTypes={children:s.default.oneOfType([s.default.element,s.default.func]).isRequired},t.default=f},"./node_modules/react-context-toolbox/forwardRef.js":function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n=t.displayName,r=t.propTypes,i=t.defaultProps,a=t.allowFallback,s=void 0!==a&&a,l=function(t,n){return e(t,n)};return Object.assign(l,{displayName:n}),o.default.forwardRef||!s?Object.assign(o.default.forwardRef(l),{propTypes:r,defaultProps:i}):Object.assign((function(e){return l(e,null)}),{displayName:n,propTypes:r,defaultProps:i})};var r,o=(r=n("./node_modules/react/index.js"))&&r.__esModule?r:{default:r}},"./node_modules/react-context-toolbox/mapContextToProps.js":function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n){return 2===arguments.length?u(e,t):u({consumers:e,mapToProps:t},n)};var r=i(n("./node_modules/react/index.js")),o=i(n("./node_modules/react-context-toolbox/forwardRef.js"));function i(e){return e&&e.__esModule?e:{default:e}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){var t="string"==typeof e?e:e.name||e.displayName;return t?"ContextTransform("+t+")":"ContextTransform"},l=function(e){return e.Consumer||e};function u(e,t){var n=e.consumers,i=e.mapToProps,u=e.displayName,c=e.forwardRefAs,p=void 0===c?"ref":c,f=n;Array.isArray(n)||(f=[n]);var d=l(f[0]);var h=1===f.length?function(e,n){var o,s=a(((o={})[p]=n,o),e);return r.default.createElement(d,null,(function(n){return r.default.createElement(t,a({},s,i(n,e)))}))}:function(e,n){var o,s=a(((o={})[p]=n,o),e);return f.reduceRight((function(e,t){return function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];var a=l(t);return r.default.createElement(a,null,(function(t){return e.apply(void 0,o.concat([t]))}))}}),(function(){for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return r.default.createElement(t,a({},s,i.apply(void 0,o.concat([e]))))}))()};return(0,o.default)(h,{displayName:u||s(t)})}},"./node_modules/react-dropzone/dist/index.js":function(e,t,n){var r;r=function(e,t){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){(function(r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=c(n(2)),s=c(n(3)),l=c(n(4)),u=c(n(5));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var f="undefined"==typeof document||!document||!document.createElement||"multiple"in document.createElement("input"),d=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.renderChildren=function(e){return"function"==typeof e?e(r.state):e},r.onClick=r.onClick.bind(r),r.onDocumentDrop=r.onDocumentDrop.bind(r),r.onDragStart=r.onDragStart.bind(r),r.onDragEnter=r.onDragEnter.bind(r),r.onDragLeave=r.onDragLeave.bind(r),r.onDragOver=r.onDragOver.bind(r),r.onDrop=r.onDrop.bind(r),r.onFileDialogCancel=r.onFileDialogCancel.bind(r),r.fileAccepted=r.fileAccepted.bind(r),r.setRef=r.setRef.bind(r),r.isFileDialogActive=!1,r.state={isDragActive:!1,acceptedFiles:[],rejectedFiles:[]},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"onDocumentDragOver",value:function(e){e.preventDefault()}}]),i(t,[{key:"componentDidMount",value:function(){var e=this.props.preventDropOnDocument;this.dragTargets=[],e&&(document.addEventListener("dragover",t.onDocumentDragOver,!1),document.addEventListener("drop",this.onDocumentDrop,!1)),document.body.onfocus=this.onFileDialogCancel}},{key:"componentWillUnmount",value:function(){this.props.preventDropOnDocument&&(document.removeEventListener("dragover",t.onDocumentDragOver),document.removeEventListener("drop",this.onDocumentDrop)),document.body.onfocus=null}},{key:"onDocumentDrop",value:function(e){this.node.contains(e.target)||(e.preventDefault(),this.dragTargets=[])}},{key:"onDragStart",value:function(e){this.props.onDragStart&&this.props.onDragStart.call(this,e)}},{key:"onDragEnter",value:function(e){e.preventDefault(),-1===this.dragTargets.indexOf(e.target)&&this.dragTargets.push(e.target);var t=(0,u.default)(e),n=this.allFilesAccepted(t),r=this.props.multiple||t.length<=1;this.setState({isDragActive:n,isDragReject:!n||!r}),this.props.onDragEnter&&this.props.onDragEnter.call(this,e)}},{key:"onDragOver",value:function(e){e.preventDefault(),e.stopPropagation();try{e.dataTransfer.dropEffect="copy"}catch(e){}return this.props.onDragOver&&this.props.onDragOver.call(this,e),!1}},{key:"onDragLeave",value:function(e){var t=this;e.preventDefault(),this.dragTargets=this.dragTargets.filter((function(n){return n!==e.target&&t.node.contains(n)})),this.dragTargets.length>0||(this.setState({isDragActive:!1,isDragReject:!1}),this.props.onDragLeave&&this.props.onDragLeave.call(this,e))}},{key:"onDrop",value:function(e){var t=this,n=this.props,o=n.onDrop,i=n.onDropAccepted,a=n.onDropRejected,s=n.multiple,l=n.disablePreview,c=(0,u.default)(e),p=[],f=[];e.preventDefault(),this.dragTargets=[],this.isFileDialogActive=!1,c.forEach((function(e){if(!l)try{e.preview=window.URL.createObjectURL(e)}catch(t){"production"!==r.env.NODE_ENV&&console.error("Failed to generate preview for file",e,t)}t.fileAccepted(e)&&t.fileMatchSize(e)?p.push(e):f.push(e)})),s||f.push.apply(f,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(p.splice(1))),o&&o.call(this,p,f,e),f.length>0&&a&&a.call(this,f,e),p.length>0&&i&&i.call(this,p,e),this.setState({isDragActive:!1,isDragReject:!1,acceptedFiles:p,rejectedFiles:f})}},{key:"onClick",value:function(e){var t=this.props,n=t.onClick;t.disableClick||(e.stopPropagation(),this.open(),n&&n.call(this,e))}},{key:"onFileDialogCancel",value:function(){var e=this.props.onFileDialogCancel,t=this.fileInputEl,n=this.isFileDialogActive;e&&n&&setTimeout((function(){t.files.length||(n=!1,e())}),300)}},{key:"setRef",value:function(e){this.node=e}},{key:"fileAccepted",value:function(e){return"application/x-moz-file"===e.type||(0,l.default)(e,this.props.accept)}},{key:"fileMatchSize",value:function(e){return e.size<=this.props.maxSize&&e.size>=this.props.minSize}},{key:"allFilesAccepted",value:function(e){return e.every(this.fileAccepted)}},{key:"open",value:function(){this.isFileDialogActive=!0,this.fileInputEl.value=null,this.fileInputEl.click()}},{key:"render",value:function(){var e=this,t=this.props,n=t.accept,r=t.activeClassName,i=t.inputProps,s=t.multiple,l=t.name,u=t.rejectClassName,c=t.children,d=p(t,["accept","activeClassName","inputProps","multiple","name","rejectClassName","children"]),h=d.activeStyle,m=d.className,y=d.rejectStyle,g=d.style,b=p(d,["activeStyle","className","rejectStyle","style"]),v=this.state,_=v.isDragActive,w=v.isDragReject;m=m||"",_&&r&&(m+=" "+r),w&&u&&(m+=" "+u),m||g||h||y||(g={width:200,height:200,borderWidth:2,borderColor:"#666",borderStyle:"dashed",borderRadius:5},h={borderStyle:"solid",borderColor:"#6c6",backgroundColor:"#eee"},y={borderStyle:"solid",borderColor:"#c66",backgroundColor:"#eee"});var O=void 0;O=h&&_?o({},g,h):y&&w?o({},g,y):o({},g);var j={accept:n,type:"file",style:{display:"none"},multiple:f&&s,ref:function(t){return e.fileInputEl=t},onChange:this.onDrop};l&&l.length&&(j.name=l);var S=o({},b);return["acceptedFiles","preventDropOnDocument","disablePreview","disableClick","onDropAccepted","onDropRejected","onFileDialogCancel","maxSize","minSize"].forEach((function(e){return delete S[e]})),a.default.createElement("div",o({className:m,style:O},S,{onClick:this.onClick,onDragStart:this.onDragStart,onDragEnter:this.onDragEnter,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop,ref:this.setRef}),this.renderChildren(c),a.default.createElement("input",o({},i,j)))}}]),t}(a.default.Component);d.propTypes={accept:s.default.string,children:s.default.oneOfType([s.default.node,s.default.func]),disableClick:s.default.bool,disablePreview:s.default.bool,preventDropOnDocument:s.default.bool,inputProps:s.default.object,multiple:s.default.bool,name:s.default.string,maxSize:s.default.number,minSize:s.default.number,className:s.default.string,activeClassName:s.default.string,rejectClassName:s.default.string,style:s.default.object,activeStyle:s.default.object,rejectStyle:s.default.object,onClick:s.default.func,onDrop:s.default.func,onDropAccepted:s.default.func,onDropRejected:s.default.func,onDragStart:s.default.func,onDragEnter:s.default.func,onDragOver:s.default.func,onDragLeave:s.default.func,onFileDialogCancel:s.default.func},d.defaultProps={preventDropOnDocument:!0,disablePreview:!1,disableClick:!1,multiple:!0,maxSize:1/0,minSize:0},t.default=d,e.exports=t.default}).call(t,n(1))},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,u=[],c=!1,p=-1;function f(){c&&l&&(c=!1,l.length?u=l.concat(u):p=-1,u.length&&d())}function d(){if(!c){var e=s(f);c=!0;for(var t=u.length;t;){for(l=u,u=[];++p<t;)l&&l[p].run();p=-1,t=u.length}l=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||c||s(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";t.__esModule=!0,n(8),n(9),t.default=function(e,t){if(e&&t){var n=function(){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",o=e.type||"",i=o.replace(/\/.*$/,"");return{v:n.some((function(e){var t=e.trim();return"."===t.charAt(0)?r.toLowerCase().endsWith(t.toLowerCase()):/\/\*$/.test(t)?i===t.replace(/\/.*$/,""):o===t}))}}();if("object"==typeof n)return n.v}return!0},e.exports=t.default},function(e,t){var n=e.exports={version:"1.2.2"};"number"==typeof __e&&(__e=n)},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(2),o=n(1),i=n(4),a=n(19),s="prototype",l=function(e,t){return function(){return e.apply(t,arguments)}},u=function(e,t,n){var c,p,f,d,h=e&u.G,m=e&u.P,y=h?r:e&u.S?r[t]||(r[t]={}):(r[t]||{})[s],g=h?o:o[t]||(o[t]={});for(c in h&&(n=t),n)f=((p=!(e&u.F)&&y&&c in y)?y:n)[c],d=e&u.B&&p?l(f,r):m&&"function"==typeof f?l(Function.call,f):f,y&&!p&&a(y,c,f),g[c]!=f&&i(g,c,d),m&&((g[s]||(g[s]={}))[c]=f)};r.core=o,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,e.exports=u},function(e,t,n){var r=n(5),o=n(18);e.exports=n(22)?function(e,t,n){return r.setDesc(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){var n=Object;e.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(20)("wks"),o=n(2).Symbol;e.exports=function(e){return r[e]||(r[e]=o&&o[e]||(o||n(6))("Symbol."+e))}},function(e,t,n){n(26),e.exports=n(1).Array.some},function(e,t,n){n(25),e.exports=n(1).String.endsWith},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(10);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[n(7)("match")]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(16),o=n(11),i=n(7)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(2),o=n(4),i=n(6)("src"),a="toString",s=Function[a],l=(""+s).split(a);n(1).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,a){"function"==typeof n&&(o(n,i,e[t]?""+e[t]:l.join(String(t))),"name"in n||(n.name=t)),e===r?e[t]=n:(a||delete e[t],o(e,t,n))})(Function.prototype,a,(function(){return"function"==typeof this&&this[i]||s.call(this)}))},function(e,t,n){var r=n(2),o="__core-js_shared__",i=r[o]||(r[o]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t,n){var r=n(17),o=n(13);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(e))}},function(e,t,n){e.exports=!n(15)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(23),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){"use strict";var r=n(3),o=n(24),i=n(21),a="endsWith",s=""[a];r(r.P+r.F*n(14)(a),"String",{endsWith:function(e){var t=i(this,e,a),n=arguments,r=n.length>1?n[1]:void 0,l=o(t.length),u=void 0===r?l:Math.min(o(r),l),c=String(e);return s?s.call(t,c,u):t.slice(u-c.length,u)===c}})},function(e,t,n){var r=n(5),o=n(3),i=n(1).Array||Array,a={},s=function(e,t){r.each.call(e.split(","),(function(e){null==t&&e in i?a[e]=i[e]:e in[]&&(a[e]=n(12)(Function.call,[][e],t))}))};s("pop,reverse,shift,keys,values,entries",1),s("indexOf,every,some,forEach,map,filter,find,findIndex,includes",3),s("join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill"),o(o.S,"Array",a)}])},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[];if(e.dataTransfer){var n=e.dataTransfer;n.files&&n.files.length?t=n.files:n.items&&n.items.length&&(t=n.items)}else e.target&&e.target.files&&(t=e.target.files);return Array.prototype.slice.call(t)},e.exports=t.default}])},e.exports=r(n("./node_modules/react/index.js"),n("./node_modules/prop-types/index.js"))},"./node_modules/react-overlays/es/index.js":function(e,t,n){"use strict";var r=n("./node_modules/react-overlays/node_modules/classnames/index.js"),o=n.n(r),i=n("./node_modules/dom-helpers/query/height.js"),a=n.n(i),s=n("./node_modules/dom-helpers/query/offset.js"),l=n.n(s),u=n("./node_modules/dom-helpers/events/listen.js"),c=n.n(u),p=n("./node_modules/dom-helpers/query/offsetParent.js"),f=n.n(p),d=n("./node_modules/dom-helpers/query/scrollTop.js"),h=n.n(d),m=n("./node_modules/dom-helpers/util/requestAnimationFrame.js"),y=n.n(m),g=n("./node_modules/prop-types/index.js"),b=n.n(g),v=n("./node_modules/react/index.js"),_=n.n(v),w=n("./node_modules/react-dom/index.js"),O=n.n(w),j=function(e){return Math.max(e.documentElement.offsetHeight||0,e.height||0,e.body.scrollHeight||0,e.body.offsetHeight||0)},S=n("./node_modules/dom-helpers/ownerDocument.js"),E=n.n(S),x=function(e){return E()(O.a.findDOMNode(e))},P=n("./node_modules/dom-helpers/ownerWindow.js"),M=n.n(P),L=function(e){return M()(O.a.findDOMNode(e))};function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var k=function(e){var t,n;function r(t,n){var r;return(r=e.call(this,t,n)||this).onWindowScroll=function(){r.onUpdate()},r.onDocumentClick=function(){y()((function(){return r.onUpdate()}))},r.onUpdate=function(){if(r._isMounted){var e=r.props,t=e.offsetTop,n=e.viewportOffsetTop,o=h()(L(C(C(r))))+(n||0);o<=t?r.updateState("top",null,null):o>r.getPositionTopMax()?"bottom"===r.state.affixed?r.updateStateAtBottom():r.setState({affixed:"bottom",position:"absolute",top:null},(function(){r._isMounted&&r.updateStateAtBottom()})):r.updateState("affix","fixed",n)}},r.getPositionTopMax=function(){return j(x(C(C(r))))-a()(O.a.findDOMNode(C(C(r))))-r.props.offsetBottom},r.updateState=function(e,t,n){if(e!==r.state.affixed||t!==r.state.position||n!==r.state.top){var o="affix"===e?"":e.charAt(0).toUpperCase()+e.substr(1);r.props["onAffix"+o]&&r.props["onAffix"+o](),r.setState({affixed:e,position:t,top:n},(function(){r.props["onAffixed"+o]&&r.props["onAffixed"+o]()}))}},r.updateStateAtBottom=function(){var e=r.getPositionTopMax(),t=f()(O.a.findDOMNode(C(C(r)))),n=l()(t).top;r.updateState("bottom","absolute",e-n)},r.state={affixed:"top",position:null,top:null},r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.componentDidMount=function(){var e=this;this._isMounted=!0,this.removeScrollListener=c()(L(this),"scroll",(function(){return e.onWindowScroll()})),this.removeClickListener=c()(x(this),"click",(function(){return e.onDocumentClick()})),this.onUpdate()},i.componentDidUpdate=function(e){e!==this.props&&this.onUpdate()},i.componentWillUnmount=function(){this._isMounted=!1,this.removeClickListener&&this.removeClickListener(),this.removeScrollListener&&this.removeScrollListener()},i.render=function(){var e,t,n=_.a.Children.only(this.props.children),r=n.props,i=r.className,a=r.style,s=this.state,l=s.affixed,u={position:s.position,top:s.top};return"top"===l?(e=this.props.topClassName,t=this.props.topStyle):"bottom"===l?(e=this.props.bottomClassName,t=this.props.bottomStyle):(e=this.props.affixClassName,t=this.props.affixStyle),_.a.cloneElement(n,{className:o()(e,i),style:T({},u,t,a)})},r}(_.a.Component);k.propTypes={offsetTop:b.a.number,viewportOffsetTop:b.a.number,offsetBottom:b.a.number,topClassName:b.a.string,topStyle:b.a.object,affixClassName:b.a.string,affixStyle:b.a.object,bottomClassName:b.a.string,bottomStyle:b.a.object,onAffix:b.a.func,onAffixed:b.a.func,onAffixTop:b.a.func,onAffixedTop:b.a.func,onAffixBottom:b.a.func,onAffixedBottom:b.a.func},k.defaultProps={offsetTop:0,viewportOffsetTop:null,offsetBottom:0};var I=k,D=n("./node_modules/prop-types-extra/lib/componentOrElement.js"),A=n.n(D);function R(e,t){return null==e?t:(e="function"==typeof e?e():e,O.a.findDOMNode(e)||null)}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var G=N({},I.propTypes,{container:b.a.oneOfType([A.a,b.a.func]),autoWidth:b.a.bool}),U=function(e){var t,n;function r(t,n){var r;return(r=e.call(this,t,n)||this).onWindowScroll=function(){r.onUpdate()},r.onWindowResize=function(){r.props.autoWidth&&y()((function(){return r.onUpdate()}))},r.onDocumentClick=function(){y()((function(){return r.onUpdate()}))},r.onUpdate=function(){if(r._isMounted){var e,t=l()(r.positioner),n=t.top,o=t.width,i=R(r.props.container);if(i){var a=j(x(F(F(r)))),s=l()(i);e=a-s.top-s.height}else e=null;r.updateState(n,e,o)}},r.updateState=function(e,t,n){e===r.state.offsetTop&&t===r.state.offsetBottom&&n===r.state.width||r.setState({offsetTop:e,offsetBottom:t,width:n})},r.state={offsetTop:null,offsetBottom:null,width:null},r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.componentDidMount=function(){var e=this;this._isMounted=!0,this.removeScrollListener=c()(L(this),"scroll",(function(){return e.onWindowScroll()})),this.removeResizeListener=c()(L(this),"resize",(function(){return e.onWindowResize()})),this.removeClickListener=c()(x(this),"click",(function(){return e.onDocumentClick()})),this.onUpdate()},o.componentDidUpdate=function(e){e!==this.props&&this.onUpdate()},o.componentWillUnmount=function(){this._isMounted=!1,this.removeScrollListener&&this.removeScrollListener(),this.removeClickListener&&this.removeClickListener(),this.removeResizeListener&&this.removeResizeListener()},o.render=function(){var e=this,t=this.props,n=t.autoWidth,r=t.viewportOffsetTop,o=t.children,i=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(t,["autoWidth","viewportOffsetTop","children"]),a=this.state,s=a.offsetTop,l=a.offsetBottom,u=a.width;delete i.container;var c=Math.max(s,r||0),p=this.props,f=p.affixStyle,d=p.bottomStyle;return n&&(f=N({width:u},f),d=N({width:u},d)),_.a.createElement("div",null,_.a.createElement("div",{ref:function(t){e.positioner=t}}),_.a.createElement(I,N({},i,{offsetTop:c,viewportOffsetTop:r,offsetBottom:l,affixStyle:f,bottomStyle:d}),o))},r}(_.a.Component);U.displayName="AutoAffix",U.propTypes=G,U.defaultProps={viewportOffsetTop:0,autoWidth:!0};var z=n("./node_modules/dom-helpers/activeElement.js"),B=n.n(z),V=n("./node_modules/dom-helpers/query/contains.js"),q=n.n(V),W=n("./node_modules/dom-helpers/util/inDOM.js"),H=n.n(W),Z=n("./node_modules/prop-types-extra/lib/elementType.js"),Y=n.n(Z),K=n("./node_modules/dom-helpers/class/index.js"),X=n.n(K),J=n("./node_modules/dom-helpers/style/index.js"),Q=n.n(J),$=n("./node_modules/dom-helpers/util/scrollbarSize.js"),ee=n.n($),te=n("./node_modules/dom-helpers/query/isWindow.js"),ne=n.n(te);function re(e){var t;return ne()(e)||(t=e)&&"body"===t.tagName.toLowerCase()?function(e){var t=E()(e),n=ne()(t);return t.body.clientWidth<n.innerWidth}(e):e.scrollHeight>e.clientHeight}var oe=["template","script","style"],ie=function(e,t,n){t=[].concat(t),[].forEach.call(e.children,(function(e){var r,o,i;-1===t.indexOf(e)&&(o=(r=e).nodeType,i=r.tagName,1===o&&-1===oe.indexOf(i.toLowerCase()))&&n(e)}))};function ae(e,t){t&&(e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))}var se=function(){function e(e){var t=void 0===e?{}:e,n=t.hideSiblingNodes,r=void 0===n||n,o=t.handleContainerOverflow,i=void 0===o||o;this.hideSiblingNodes=r,this.handleContainerOverflow=i,this.modals=[],this.containers=[],this.data=[],this.scrollbarSize=ee()()}var t=e.prototype;return t.isContainerOverflowing=function(e){var t=this.data[this.containerIndexFromModal(e)];return t&&t.overflowing},t.containerIndexFromModal=function(e){return t=this.data,n=function(t){return-1!==t.modals.indexOf(e)},r=-1,t.some((function(e,t){if(n(e,t))return r=t,!0})),r;var t,n,r},t.setContainerStyle=function(e,t){var n={overflow:"hidden"};e.style={overflow:t.style.overflow,paddingRight:t.style.paddingRight},e.overflowing&&(n.paddingRight=parseInt(Q()(t,"paddingRight")||0,10)+this.scrollbarSize+"px"),Q()(t,n)},t.removeContainerStyle=function(e,t){var n=e.style;Object.keys(n).forEach((function(e){t.style[e]=n[e]}))},t.add=function(e,t,n){var r=this.modals.indexOf(e),o=this.containers.indexOf(t);if(-1!==r)return r;if(r=this.modals.length,this.modals.push(e),this.hideSiblingNodes&&function(e,t){var n=t.root,r=t.backdrop;ie(e,[n,r],(function(e){return ae(!0,e)}))}(t,e),-1!==o)return this.data[o].modals.push(e),r;var i={modals:[e],classes:n?n.split(/\s+/):[],overflowing:re(t)};return this.handleContainerOverflow&&this.setContainerStyle(i,t),i.classes.forEach(X.a.addClass.bind(null,t)),this.containers.push(t),this.data.push(i),r},t.remove=function(e){var t=this.modals.indexOf(e);if(-1!==t){var n=this.containerIndexFromModal(e),r=this.data[n],o=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.classes.forEach(X.a.removeClass.bind(null,o)),this.handleContainerOverflow&&this.removeContainerStyle(r,o),this.hideSiblingNodes&&function(e,t){var n=t.root,r=t.backdrop;ie(e,[n,r],(function(e){return ae(!1,e)}))}(o,e),this.containers.splice(n,1),this.data.splice(n,1);else if(this.hideSiblingNodes){var i=r.modals[r.modals.length-1],a=i.backdrop;ae(!1,i.dialog),ae(!1,a)}}},t.isTopModal=function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e},e}();function le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var ue={container:b.a.oneOfType([A.a,b.a.func]),onContainerResolved:b.a.func},ce=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];if(t=e.call.apply(e,[this].concat(r))||this,!H.a)return le(t);var i=t.props.container;return"function"==typeof i&&(i=i()),i&&!O.a.findDOMNode(i)?le(t):(t.setContainer(i),t)}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.UNSAFE_componentWillReceiveProps=function(e){e.container!==this.props.container&&this.setContainer(e.container)},o.componentDidMount=function(){this._container?this.props.onContainerResolved&&this.props.onContainerResolved():(this.setContainer(this.props.container),this.forceUpdate(this.props.onContainerResolved))},o.componentWillUnmount=function(){this._container=null},o.setContainer=function(e){this._container=R(e,E()().body)},o.render=function(){return this._container?this.props.children(this._container):null},r}(_.a.Component);ce.propTypes=ue;var pe=ce;var fe=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this;return this.props.children?_.a.createElement(pe,{container:this.props.container,onContainerResolved:this.props.onRendered},(function(t){return O.a.createPortal(e.props.children,t)})):null},r}(_.a.Component);fe.displayName="Portal",fe.propTypes={container:b.a.oneOfType([A.a,b.a.func]),onRendered:b.a.func};var de=fe;function he(){return(he=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var ye=new se;var ge=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={exited:!t.props.show},t.onPortalRendered=function(){t.props.onShow&&t.props.onShow(),t.autoFocus()},t.onShow=function(){var e=x(me(me(t))),n=R(t.props.container,e.body);t.props.manager.add(me(me(t)),n,t.props.containerClassName),t.removeKeydownListener=c()(e,"keydown",t.handleDocumentKeyDown),t.removeFocusListener=c()(e,"focus",(function(){return setTimeout(t.enforceFocus)}),!0)},t.onHide=function(){t.props.manager.remove(me(me(t))),t.removeKeydownListener(),t.removeFocusListener(),t.props.restoreFocus&&t.restoreLastFocus()},t.setDialogRef=function(e){t.dialog=e},t.setBackdropRef=function(e){t.backdrop=e&&O.a.findDOMNode(e)},t.handleHidden=function(){var e;(t.setState({exited:!0}),t.onHide(),t.props.onExited)&&(e=t.props).onExited.apply(e,arguments)},t.handleBackdropClick=function(e){e.target===e.currentTarget&&(t.props.onBackdropClick&&t.props.onBackdropClick(e),!0===t.props.backdrop&&t.props.onHide())},t.handleDocumentKeyDown=function(e){t.props.keyboard&&27===e.keyCode&&t.isTopModal()&&(t.props.onEscapeKeyDown&&t.props.onEscapeKeyDown(e),t.props.onHide())},t.enforceFocus=function(){if(t.props.enforceFocus&&t._isMounted&&t.isTopModal()){var e=B()(x(me(me(t))));t.dialog&&!q()(t.dialog,e)&&t.dialog.focus()}},t.renderBackdrop=function(){var e=t.props,n=e.renderBackdrop,r=e.backdropTransition,o=n({ref:t.setBackdropRef,onClick:t.handleBackdropClick});return r&&(o=_.a.createElement(r,{appear:!0,in:t.props.show},o)),o},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.getDerivedStateFromProps=function(e){return e.show?{exited:!1}:e.transition?null:{exited:!0}};var o=r.prototype;return o.getSnapshotBeforeUpdate=function(e){return H.a&&!e.show&&this.props.show&&(this.lastFocus=B()()),null},o.componentDidMount=function(){this._isMounted=!0,this.props.show&&this.onShow()},o.componentDidUpdate=function(e){var t=this.props.transition;!e.show||this.props.show||t?!e.show&&this.props.show&&this.onShow():this.onHide()},o.componentWillUnmount=function(){var e=this.props,t=e.show,n=e.transition;this._isMounted=!1,(t||n&&!this.state.exited)&&this.onHide()},o.autoFocus=function(){if(this.props.autoFocus){var e=B()(x(this));this.dialog&&!q()(this.dialog,e)&&(this.lastFocus=e,this.dialog.focus())}},o.restoreLastFocus=function(){this.lastFocus&&this.lastFocus.focus&&(this.lastFocus.focus(),this.lastFocus=null)},o.isTopModal=function(){return this.props.manager.isTopModal(this)},o.render=function(){var e=this.props,t=e.show,n=e.container,o=e.children,i=e.renderDialog,a=e.role,s=void 0===a?"dialog":a,l=e.transition,u=e.backdrop,c=e.className,p=e.style,f=e.onExit,d=e.onExiting,h=e.onEnter,m=e.onEntering,y=e.onEntered,g=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["show","container","children","renderDialog","role","transition","backdrop","className","style","onExit","onExiting","onEnter","onEntering","onEntered"]);if(!(t||l&&!this.state.exited))return null;var b=he({role:s,ref:this.setDialogRef,"aria-modal":"dialog"===s||void 0},function(e,t){var n=Object.keys(e),r={};return n.map((function(n){Object.prototype.hasOwnProperty.call(t,n)||(r[n]=e[n])})),r}(g,r.propTypes),{style:p,className:c,tabIndex:"-1"}),v=i?i(b):_.a.createElement("div",b,_.a.cloneElement(o,{role:"document"}));return l&&(v=_.a.createElement(l,{appear:!0,unmountOnExit:!0,in:t,onExit:f,onExiting:d,onExited:this.handleHidden,onEnter:h,onEntering:m,onEntered:y},v)),_.a.createElement(de,{container:n,onRendered:this.onPortalRendered},_.a.createElement(_.a.Fragment,null,u&&this.renderBackdrop(),v))},r}(_.a.Component);ge.propTypes={show:b.a.bool,container:b.a.oneOfType([A.a,b.a.func]),onShow:b.a.func,onHide:b.a.func,backdrop:b.a.oneOfType([b.a.bool,b.a.oneOf(["static"])]),renderDialog:b.a.func,renderBackdrop:b.a.func,onEscapeKeyDown:b.a.func,onBackdropClick:b.a.func,containerClassName:b.a.string,keyboard:b.a.bool,transition:Y.a,backdropTransition:Y.a,autoFocus:b.a.bool,enforceFocus:b.a.bool,restoreFocus:b.a.bool,onEnter:b.a.func,onEntering:b.a.func,onEntered:b.a.func,onExit:b.a.func,onExiting:b.a.func,onExited:b.a.func,manager:b.a.object.isRequired},ge.defaultProps={show:!1,role:"dialog",backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,onHide:function(){},manager:ye,renderBackdrop:function(e){return _.a.createElement("div",e)}},ge.Manager=se;function be(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var ve=function(){};var _e=function(e){var t,n;function r(t,n){var r;return(r=e.call(this,t,n)||this).addEventListeners=function(){var e=r.props.event,t=x(be(be(r)));r.removeMouseCaptureListener=c()(t,e,r.handleMouseCapture,!0),r.removeMouseListener=c()(t,e,r.handleMouse),r.removeKeyupListener=c()(t,"keyup",r.handleKeyUp),"ontouchstart"in t.documentElement&&(r.mobileSafariHackListeners=[].slice.call(document.body.children).map((function(e){return c()(e,"mousemove",ve)})))},r.removeEventListeners=function(){r.removeMouseCaptureListener&&r.removeMouseCaptureListener(),r.removeMouseListener&&r.removeMouseListener(),r.removeKeyupListener&&r.removeKeyupListener(),r.mobileSafariHackListeners&&r.mobileSafariHackListeners.forEach((function(e){return e()}))},r.handleMouseCapture=function(e){r.preventMouseRootClose=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||!function(e){return 0===e.button}(e)||q()(O.a.findDOMNode(be(be(r))),e.target)},r.handleMouse=function(e){!r.preventMouseRootClose&&r.props.onRootClose&&r.props.onRootClose(e)},r.handleKeyUp=function(e){27===e.keyCode&&r.props.onRootClose&&r.props.onRootClose(e)},r.preventMouseRootClose=!1,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.componentDidMount=function(){this.props.disabled||this.addEventListeners()},o.componentDidUpdate=function(e){!this.props.disabled&&e.disabled?this.addEventListeners():this.props.disabled&&!e.disabled&&this.removeEventListeners()},o.componentWillUnmount=function(){this.props.disabled||this.removeEventListeners()},o.render=function(){return this.props.children},r}(_.a.Component);_e.displayName="RootCloseWrapper",_e.propTypes={onRootClose:b.a.func,children:b.a.element,disabled:b.a.bool,event:b.a.oneOf(["click","mousedown"])},_e.defaultProps={event:"click"};var we=_e,Oe=n("./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js"),je=n.n(Oe),Se=n("./node_modules/@babel/runtime/helpers/extends.js"),Ee=n.n(Se),xe=n("./node_modules/@babel/runtime/helpers/assertThisInitialized.js"),Pe=n.n(xe),Me=n("./node_modules/@babel/runtime/helpers/inheritsLoose.js"),Le=n.n(Me),Te=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),Ce=n.n(Te),ke=n("./node_modules/deep-equal/index.js"),Ie=n.n(ke),De=n("./node_modules/popper.js/dist/esm/popper.js"),Ae=n("./node_modules/create-react-context/lib/index.js"),Re=n.n(Ae),Fe=Re()(),Ne=Re()(),Ge=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,Ce()(Pe()(t),"referenceNode",void 0),Ce()(Pe()(t),"setReferenceNode",(function(e){e&&t.referenceNode!==e&&(t.referenceNode=e,t.forceUpdate())})),t}Le()(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this.referenceNode=null},n.render=function(){return v.createElement(Fe.Provider,{value:this.referenceNode},v.createElement(Ne.Provider,{value:this.setReferenceNode},this.props.children))},t}(v.Component),Ue=function(e,t){if("function"==typeof e)return function(e){if("function"==typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}}(e,t);null!=e&&(e.current=t)},ze={position:"absolute",top:0,left:0,opacity:0,pointerEvents:"none"},Be={},Ve=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,Ce()(Pe()(t),"state",{data:void 0,placement:void 0}),Ce()(Pe()(t),"popperInstance",void 0),Ce()(Pe()(t),"popperNode",null),Ce()(Pe()(t),"arrowNode",null),Ce()(Pe()(t),"setPopperNode",(function(e){e&&t.popperNode!==e&&(Ue(t.props.innerRef,e),t.popperNode=e,t.updatePopperInstance())})),Ce()(Pe()(t),"setArrowNode",(function(e){t.arrowNode=e})),Ce()(Pe()(t),"updateStateModifier",{enabled:!0,order:900,fn:function(e){var n=e.placement;return t.setState({data:e,placement:n}),e}}),Ce()(Pe()(t),"getOptions",(function(){return{placement:t.props.placement,eventsEnabled:t.props.eventsEnabled,positionFixed:t.props.positionFixed,modifiers:Ee()({},t.props.modifiers,{arrow:Ee()({},t.props.modifiers&&t.props.modifiers.arrow,{enabled:!!t.arrowNode,element:t.arrowNode}),applyStyle:{enabled:!1},updateStateModifier:t.updateStateModifier})}})),Ce()(Pe()(t),"getPopperStyle",(function(){return t.popperNode&&t.state.data?Ee()({position:t.state.data.offsets.popper.position},t.state.data.styles):ze})),Ce()(Pe()(t),"getPopperPlacement",(function(){return t.state.data?t.state.placement:void 0})),Ce()(Pe()(t),"getArrowStyle",(function(){return t.arrowNode&&t.state.data?t.state.data.arrowStyles:Be})),Ce()(Pe()(t),"getOutOfBoundariesState",(function(){return t.state.data?t.state.data.hide:void 0})),Ce()(Pe()(t),"destroyPopperInstance",(function(){t.popperInstance&&(t.popperInstance.destroy(),t.popperInstance=null)})),Ce()(Pe()(t),"updatePopperInstance",(function(){t.destroyPopperInstance();var e=Pe()(t).popperNode,n=t.props.referenceElement;n&&e&&(t.popperInstance=new De.a(n,e,t.getOptions()))})),Ce()(Pe()(t),"scheduleUpdate",(function(){t.popperInstance&&t.popperInstance.scheduleUpdate()})),t}Le()(t,e);var n=t.prototype;return n.componentDidUpdate=function(e,t){this.props.placement===e.placement&&this.props.referenceElement===e.referenceElement&&this.props.positionFixed===e.positionFixed&&Ie()(this.props.modifiers,e.modifiers,{strict:!0})?this.props.eventsEnabled!==e.eventsEnabled&&this.popperInstance&&(this.props.eventsEnabled?this.popperInstance.enableEventListeners():this.popperInstance.disableEventListeners()):this.updatePopperInstance(),t.placement!==this.state.placement&&this.scheduleUpdate()},n.componentWillUnmount=function(){Ue(this.props.innerRef,null),this.destroyPopperInstance()},n.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)({ref:this.setPopperNode,style:this.getPopperStyle(),placement:this.getPopperPlacement(),outOfBoundaries:this.getOutOfBoundariesState(),scheduleUpdate:this.scheduleUpdate,arrowProps:{ref:this.setArrowNode,style:this.getArrowStyle()}});var e},t}(v.Component);Ce()(Ve,"defaultProps",{placement:"bottom",eventsEnabled:!0,referenceElement:void 0,positionFixed:!1});var qe=De.a.placements;function We(e){var t=e.referenceElement,n=je()(e,["referenceElement"]);return v.createElement(Fe.Consumer,null,(function(e){return v.createElement(Ve,Ee()({referenceElement:void 0!==t?t:e},n))}))}var He=n("./node_modules/react-context-toolbox/forwardRef.js"),Ze=n.n(He);function Ye(){return(Ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ke(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function Xe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Je=function(e){var t,n;function r(t,n){var r;return(r=e.call(this,t,n)||this).handleHidden=function(){var e;(r.setState({exited:!0}),r.props.onExited)&&(e=r.props).onExited.apply(e,arguments)},r.state={exited:!t.show},r.onHiddenListener=r.handleHidden.bind(Xe(Xe(r))),r._lastTarget=null,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.getDerivedStateFromProps=function(e){return e.show?{exited:!1}:e.transition?null:{exited:!0}};var o=r.prototype;return o.componentDidMount=function(){this.setState({target:this.getTarget()})},o.componentDidUpdate=function(e){if(this.props!==e){var t=this.getTarget();t!==this.state.target&&this.setState({target:t})}},o.getTarget=function(){var e=this.props.target;return(e="function"==typeof e?e():e)&&O.a.findDOMNode(e)||null},o.render=function(){var e=this,t=this.props,n=(t.target,t.container),r=t.containerPadding,o=t.placement,i=t.rootClose,a=t.children,s=t.flip,l=t.popperConfig,u=void 0===l?{}:l,c=t.transition,p=Ke(t,["target","container","containerPadding","placement","rootClose","children","flip","popperConfig","transition"]),f=this.state.target;if(!(p.show||c&&!this.state.exited))return null;var d=a,h=u.modifiers,m=void 0===h?{}:h,y=Ye({},u,{placement:o,referenceElement:f,enableEvents:p.show,modifiers:Ye({},m,{preventOverflow:Ye({padding:r||5},m.preventOverflow),flip:Ye({enabled:!!s},m.preventOverflow)})});return d=_.a.createElement(We,y,(function(t){var n=t.arrowProps,r=t.style,i=t.ref,a=Ke(t,["arrowProps","style","ref"]);e.popper=a;var s=e.props.children(Ye({},a,{placement:a.placement||o,show:p.show,arrowProps:n,props:{ref:i,style:r}}));if(c){var l=p.onExit,u=p.onExiting,f=p.onEnter,d=p.onEntering,h=p.onEntered;s=_.a.createElement(c,{in:p.show,appear:!0,onExit:l,onExiting:u,onExited:e.onHiddenListener,onEnter:f,onEntering:d,onEntered:h},s)}return s})),i&&(d=_.a.createElement(we,{onRootClose:p.onHide,event:p.rootCloseEvent,disabled:p.rootCloseDisabled},d)),_.a.createElement(de,{container:n},d)},r}(_.a.Component);Je.propTypes=Ye({},de.propTypes,{show:b.a.bool,placement:b.a.oneOf(qe),container:b.a.oneOfType([A.a,b.a.func]),flip:b.a.bool,children:b.a.func.isRequired,popperConfig:b.a.object,rootClose:b.a.bool,rootCloseEvent:we.propTypes.event,rootCloseDisabled:we.propTypes.disabled,onHide:function(e){var t=b.a.func;e.rootClose&&(t=t.isRequired);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t.apply(void 0,[e].concat(r))},transition:Y.a,onEnter:b.a.func,onEntering:b.a.func,onEntered:b.a.func,onExit:b.a.func,onExiting:b.a.func,onExited:b.a.func});Ze()((function(e,t){return _.a.createElement(pe,{container:e.container},(function(n){return _.a.createElement(Je,Ye({},e,{ref:t,container:n}))}))}),{displayName:"withContainer(Overlay)"});var Qe=n("./node_modules/dom-helpers/query/matches.js"),$e=n.n(Qe),et=n("./node_modules/dom-helpers/query/querySelectorAll.js"),tt=n.n(et),nt=n("./node_modules/@babel/runtime/helpers/esm/extends.js"),rt=n("./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"),ot=n("./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),it=n("./node_modules/invariant/browser.js"),at=n.n(it),st=function(){};function lt(e,t){return void 0!==e[t]}function ut(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}var ct=function e(t,n,r){void 0===r&&(r=[]);var o,i=t.displayName||t.name||"Component",a=!!(o=t)&&("function"!=typeof o||o.prototype&&o.prototype.isReactComponent),s=Object.keys(n),l=s.map(ut);!a&&r.length&&at()(!1);var u=function(e){function o(){for(var t,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).handlers=Object.create(null),s.forEach((function(e){var r=n[e];t.handlers[r]=function(n){if(t.props[r]){var o;t._notifying=!0;for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];(o=t.props)[r].apply(o,[n].concat(a)),t._notifying=!1}t._values[e]=n,t.unmounted||t.forceUpdate()}})),r.length&&(t.attachRef=function(e){t.inner=e}),t}Object(ot.a)(o,e);var i=o.prototype;return i.shouldComponentUpdate=function(){return!this._notifying},i.componentWillMount=function(){var e=this,t=this.props;this._values=Object.create(null),s.forEach((function(n){e._values[n]=t[ut(n)]}))},i.componentWillReceiveProps=function(e){var t=this,n=this.props;s.forEach((function(r){!lt(e,r)&&lt(n,r)&&(t._values[r]=e[ut(r)])}))},i.componentWillUnmount=function(){this.unmounted=!0},i.render=function(){var e=this,n=this.props,r=n.innerRef,o=Object(rt.a)(n,["innerRef"]);l.forEach((function(e){delete o[e]}));var i={};return s.forEach((function(t){var n=e.props[t];i[t]=void 0!==n?n:e._values[t]})),_.a.createElement(t,Object(nt.a)({},o,i,this.handlers,{ref:r||this.attachRef}))},o}(_.a.Component);u.displayName="Uncontrolled("+i+")",u.propTypes=Object(nt.a)({innerRef:function(){}},function(e,t){var n={};return Object.keys(e).forEach((function(e){n[ut(e)]=st})),n}(n)),r.forEach((function(e){u.prototype[e]=function(){var t;return(t=this.inner)[e].apply(t,arguments)}}));var c=u;return _.a.forwardRef&&((c=_.a.forwardRef((function(e,t){return _.a.createElement(u,Object(nt.a)({},e,{innerRef:t}))}))).propTypes=u.propTypes),c.ControlledComponent=t,c.deferControlTo=function(t,r,o){return void 0===r&&(r={}),e(t,Object(nt.a)({},n,r),o)},c},pt=_.a.createContext({menuRef:function(){},toggleRef:function(){},onToggle:function(){},toggleNode:void 0,alignEnd:null,show:null,drop:null}),ft=n("./node_modules/react-context-toolbox/mapContextToProps.js"),dt=n.n(ft);function ht(){return(ht=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var mt=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={toggleId:null},t.popperIsInitialized=!1,t.handleClose=function(e){t.props.onToggle&&t.props.onToggle(!1,e)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.getSnapshotBeforeUpdate=function(e){var t=!e.show&&this.props.show&&this.popperIsInitialized&&e.toggleNode===this.props.toggleNode;return this.props.show&&this.props.usePopper&&!this.popperIsInitialized&&(this.popperIsInitialized=!0),!!t},o.componentDidUpdate=function(e,t,n){n&&this.scheduleUpdate&&this.scheduleUpdate()},o.render=function(){var e=this,t=this.props,n=t.show,r=t.flip,o=t.menuRef,i=t.alignEnd,a=t.drop,s=t.usePopper,l=t.toggleNode,u=t.rootCloseEvent,c=t.popperConfig,p=void 0===c?{}:c,f=i?"bottom-end":"bottom-start";"up"===a&&(f=i?"top-end":"top-start"),"right"===a&&(f=i?"right-end":"right-start"),"left"===a&&(f=i?"left-end":"left-start");var d=null,h={ref:o,"aria-labelledby":l&&l.id},m={show:n,alignEnd:i,close:this.handleClose};return s?(this.popperIsInitialized||n)&&(l&&(p.referenceElement=l),d=_.a.createElement(We,ht({},p,{innerRef:o,placement:f,eventsEnabled:!!n,modifiers:ht({flip:{enabled:!!r}},p.modifiers)}),(function(t){var n=t.ref,r=t.style,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(t,["ref","style"]);return e.scheduleUpdate=o.scheduleUpdate,e.props.children(ht({},o,m,{props:ht({},h,{ref:n,style:r})}))}))):d=this.props.children(ht({},m,{props:h})),d&&_.a.createElement(we,{disabled:!n,event:u,onRootClose:this.handleClose},d)},r}(_.a.Component);mt.displayName="ReactOverlaysDropdownMenu",mt.propTypes={children:b.a.func.isRequired,show:b.a.bool,alignEnd:b.a.bool,flip:b.a.bool,usePopper:b.a.oneOf([!0,!1]),popperConfig:b.a.object,rootCloseEvent:b.a.string,onToggle:b.a.func,menuRef:b.a.func,drop:b.a.string,toggleNode:b.a.any},mt.defaultProps={usePopper:!0};var yt=dt()(pt,(function(e,t){var n=e.show,r=e.alignEnd,o=e.toggle;return{drop:e.drop,menuRef:e.menuRef,toggleNode:e.toggleNode,onToggle:o,show:null==n?t.show:n,alignEnd:null==r?t.alignEnd:r}}),mt),gt={children:b.a.func.isRequired};function bt(e){var t=e.children;return _.a.createElement(pt.Consumer,null,(function(e){var n=e.show,r=e.toggle,o=e.toggleRef;return t({show:n,toggle:r,props:{ref:o,"aria-haspopup":!0,"aria-expanded":!!n}})}))}bt.displayName="ReactOverlaysDropdownToggle",bt.propTypes=gt;var vt=bt;function _t(){return(_t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var wt={children:b.a.func.isRequired,drop:b.a.oneOf(["up","left","right","down"]),focusFirstItemOnShow:b.a.oneOf([!1,!0,"keyboard"]),itemSelector:b.a.string.isRequired,alignEnd:b.a.bool,show:b.a.bool,onToggle:b.a.func},Ot=function(e){var t,n;function r(t,n){var r;return(r=e.call(this,t,n)||this).handleClick=function(e){r.toggleOpen(e)},r.handleKeyDown=function(e){var t=e.key,n=e.target;if(!/input|textarea/i.test(n.tagName)||!(" "===t||"Escape"!==t&&r.menu.contains(n)))switch(r._lastSourceEvent=e.type,t){case"ArrowUp":var o=r.getNextFocusedChild(n,-1);return o&&o.focus&&o.focus(),void e.preventDefault();case"ArrowDown":if(e.preventDefault(),r.props.show){var i=r.getNextFocusedChild(n,1);i&&i.focus&&i.focus()}else r.toggleOpen(e);return;case"Escape":case"Tab":r.props.onToggle(!1,e)}},r._focusInDropdown=!1,r.menu=null,r.state={context:{close:r.handleClose,toggle:r.handleClick,menuRef:function(e){r.menu=e},toggleRef:function(e){var t=e&&O.a.findDOMNode(e);r.setState((function(e){return{context:_t({},e.context,{toggleNode:t})}}))}}},r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.getDerivedStateFromProps=function(e,t){var n=e.drop,r=e.alignEnd,o=e.show;return{lastShow:t.context.show,context:_t({},t.context,{drop:n,show:o,alignEnd:r})}};var o=r.prototype;return o.componentDidUpdate=function(e){var t=this.props.show,n=e.show;t&&!n&&this.maybeFocusFirst(),this._lastSourceEvent=null,!t&&n&&this._focusInDropdown&&(this._focusInDropdown=!1,this.focus())},o.getNextFocusedChild=function(e,t){if(!this.menu)return null;var n=this.props.itemSelector,r=tt()(this.menu,n),o=r.indexOf(e)+t;return r[o=Math.max(0,Math.min(o,r.length))]},o.hasMenuRole=function(){return this.menu&&$e()(this.menu,"[role=menu]")},o.focus=function(){var e=this.state.context.toggleNode;e&&e.focus&&e.focus()},o.maybeFocusFirst=function(){var e=this._lastSourceEvent,t=this.props.focusFirstItemOnShow;if(null==t&&(t=!!this.hasMenuRole()&&"keyboard"),!1!==t&&("keyboard"!==t||/^key.+$/.test(e))){var n=this.props.itemSelector,r=tt()(this.menu,n)[0];r&&r.focus&&r.focus()}},o.toggleOpen=function(e){var t=!this.props.show;this.props.onToggle(t,e)},o.render=function(){var e=this.props,t=e.children;return delete function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["children"]).onToggle,this.menu&&this.state.lastShow&&!this.props.show&&(this._focusInDropdown=this.menu.contains(document.activeElement)),_.a.createElement(pt.Provider,{value:this.state.context},_.a.createElement(Ge,null,t({props:{onKeyDown:this.handleKeyDown}})))},r}(_.a.Component);Ot.displayName="ReactOverlaysDropdown",Ot.propTypes=wt,Ot.defaultProps={itemSelector:"* > *"};var jt=ct(Ot,{show:"onToggle"});jt.Menu=yt,jt.Toggle=vt;n.d(t,"a",(function(){return de}))},"./node_modules/react-overlays/node_modules/classnames/index.js":function(e,t,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)&&r.length){var a=o.apply(null,r);a&&e.push(a)}else if("object"===i)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},"./node_modules/react-player/lib/Player.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n("./node_modules/react/index.js")),o=n("./node_modules/react-player/lib/props.js"),i=n("./node_modules/react-player/lib/utils.js");function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(g,e);var t,n,o,a,s=(t=g,function(){var e,n=h(t);if(d()){var r=h(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return p(this,e)});function g(){var e;u(this,g);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(f(e=s.call.apply(s,[this].concat(n))),"mounted",!1),y(f(e),"isReady",!1),y(f(e),"isPlaying",!1),y(f(e),"isLoading",!0),y(f(e),"loadOnReady",null),y(f(e),"startOnPlay",!0),y(f(e),"seekOnPlay",null),y(f(e),"onDurationCalled",!1),y(f(e),"getInternalPlayer",(function(t){return e.player?e.player[t]:null})),y(f(e),"progress",(function(){if(e.props.url&&e.player&&e.isReady){var t=e.getCurrentTime()||0,n=e.getSecondsLoaded(),r=e.getDuration();if(r){var o={playedSeconds:t,played:t/r};null!==n&&(o.loadedSeconds=n,o.loaded=n/r),o.playedSeconds===e.prevPlayed&&o.loadedSeconds===e.prevLoaded||e.props.onProgress(o),e.prevPlayed=o.playedSeconds,e.prevLoaded=o.loadedSeconds}}e.progressTimeout=setTimeout(e.progress,e.props.progressFrequency||e.props.progressInterval)})),y(f(e),"handleReady",(function(){if(e.mounted){e.isReady=!0,e.isLoading=!1;var t=e.props,n=t.onReady,r=t.playing,o=t.volume,i=t.muted;n(),i||null===o||e.player.setVolume(o),e.loadOnReady?(e.player.load(e.loadOnReady,!0),e.loadOnReady=null):r&&e.player.play(),e.handleDurationCheck()}})),y(f(e),"handlePlay",(function(){e.isPlaying=!0,e.isLoading=!1;var t=e.props,n=t.onStart,r=t.onPlay,o=t.playbackRate;e.startOnPlay&&(e.player.setPlaybackRate&&1!==o&&e.player.setPlaybackRate(o),n(),e.startOnPlay=!1),r(),e.seekOnPlay&&(e.seekTo(e.seekOnPlay),e.seekOnPlay=null),e.handleDurationCheck()})),y(f(e),"handlePause",(function(t){e.isPlaying=!1,e.isLoading||e.props.onPause(t)})),y(f(e),"handleEnded",(function(){var t=e.props,n=t.activePlayer,r=t.loop,o=t.onEnded;n.loopOnEnded&&r&&e.seekTo(0),r||(e.isPlaying=!1,o())})),y(f(e),"handleError",(function(){var t;e.isLoading=!1,(t=e.props).onError.apply(t,arguments)})),y(f(e),"handleDurationCheck",(function(){clearTimeout(e.durationCheckTimeout);var t=e.getDuration();t?e.onDurationCalled||(e.props.onDuration(t),e.onDurationCalled=!0):e.durationCheckTimeout=setTimeout(e.handleDurationCheck,100)})),y(f(e),"handleLoaded",(function(){e.isLoading=!1})),y(f(e),"ref",(function(t){t&&(e.player=t)})),e}return n=g,(o=[{key:"componentDidMount",value:function(){this.mounted=!0,this.player.load(this.props.url),this.progress()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.player.stop(),this.player.disablePIP&&this.player.disablePIP(),this.mounted=!1}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props,r=n.url,o=n.playing,a=n.volume,s=n.muted,l=n.playbackRate,u=n.pip,c=n.loop,p=n.activePlayer;if(!(0,i.isEqual)(e.url,r)){if(this.isLoading&&!p.forceLoad)return console.warn("ReactPlayer: the attempt to load ".concat(r," is being deferred until the player has loaded")),void(this.loadOnReady=r);this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(r,this.isReady)}e.playing||!o||this.isPlaying||this.player.play(),e.playing&&!o&&this.isPlaying&&this.player.pause(),!e.pip&&u&&this.player.enablePIP&&this.player.enablePIP(),e.pip&&!u&&this.player.disablePIP&&this.player.disablePIP(),e.volume!==a&&null!==a&&this.player.setVolume(a),e.muted!==s&&(s?this.player.mute():(this.player.unmute(),null!==a&&setTimeout((function(){return t.player.setVolume(a)})))),e.playbackRate!==l&&this.player.setPlaybackRate&&this.player.setPlaybackRate(l),e.loop!==c&&this.player.setLoop&&this.player.setLoop(c)}},{key:"getDuration",value:function(){return this.isReady?this.player.getDuration():null}},{key:"getCurrentTime",value:function(){return this.isReady?this.player.getCurrentTime():null}},{key:"getSecondsLoaded",value:function(){return this.isReady?this.player.getSecondsLoaded():null}},{key:"seekTo",value:function(e,t){var n=this;if(!this.isReady&&0!==e)return this.seekOnPlay=e,void setTimeout((function(){n.seekOnPlay=null}),5e3);if(t?"fraction"===t:e>0&&e<1){var r=this.player.getDuration();return r?void this.player.seekTo(r*e):void console.warn("ReactPlayer: could not seek using fraction – duration not yet available")}this.player.seekTo(e)}},{key:"render",value:function(){var e=this.props.activePlayer;return e?r.default.createElement(e,l({},this.props,{ref:this.ref,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError})):null}}])&&c(n.prototype,o),a&&c(n,a),g}(r.Component);t.default=g,y(g,"displayName","Player"),y(g,"propTypes",o.propTypes),y(g,"defaultProps",o.defaultProps)},"./node_modules/react-player/lib/Preview.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var s=r?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n("./node_modules/react/index.js"));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(y,e);var t,n,o,i,a=(t=y,function(){var e,n=d(t);if(f()){var r=d(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return c(this,e)});function y(){var e;l(this,y);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(p(e=a.call.apply(a,[this].concat(n))),"mounted",!1),m(p(e),"state",{image:null}),e}return n=y,(o=[{key:"componentDidMount",value:function(){this.mounted=!0,this.fetchImage(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.url,r=t.light;e.url===n&&e.light===r||this.fetchImage(this.props)}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"fetchImage",value:function(e){var t=this,n=e.url,r=e.light;if("string"!=typeof r)return this.setState({image:null}),window.fetch("https://noembed.com/embed?url=".concat(n)).then((function(e){return e.json()})).then((function(e){if(e.thumbnail_url&&t.mounted){var n=e.thumbnail_url.replace("height=100","height=480");t.setState({image:n})}}));this.setState({image:r})}},{key:"render",value:function(){var e=this.props,t=e.onClick,n=e.playIcon,o=this.state.image,i={display:"flex",alignItems:"center",justifyContent:"center"},a={preview:s({width:"100%",height:"100%",backgroundImage:o?"url(".concat(o,")"):void 0,backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer"},i),shadow:s({background:"radial-gradient(rgb(0, 0, 0, 0.3), rgba(0, 0, 0, 0) 60%)",borderRadius:"64px",width:"64px",height:"64px"},i),playIcon:{borderStyle:"solid",borderWidth:"16px 0 16px 26px",borderColor:"transparent transparent transparent white",marginLeft:"7px"}},l=r.default.createElement("div",{style:a.shadow,className:"react-player__shadow"},r.default.createElement("div",{style:a.playIcon,className:"react-player__play-icon"}));return r.default.createElement("div",{style:a.preview,className:"react-player__preview",onClick:t},n||l)}}])&&u(n.prototype,o),i&&u(n,i),y}(r.Component);t.default=y},"./node_modules/react-player/lib/ReactPlayer.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"FilePlayer",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"YouTube",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"SoundCloud",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"Vimeo",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"Facebook",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"Streamable",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"Wistia",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"Twitch",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"DailyMotion",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"Mixcloud",{enumerable:!0,get:function(){return v.default}}),t.default=void 0;var r=O(n("./node_modules/react/index.js")),o=n("./node_modules/react-player/lib/props.js"),i=n("./node_modules/react-player/lib/utils.js"),a=_(n("./node_modules/react-player/lib/players/index.js")),s=_(n("./node_modules/react-player/lib/Player.js")),l=_(n("./node_modules/react-player/lib/Preview.js")),u=O(n("./node_modules/react-player/lib/players/FilePlayer.js")),c=_(n("./node_modules/react-player/lib/preload.js")),p=_(n("./node_modules/react-player/lib/players/YouTube.js")),f=_(n("./node_modules/react-player/lib/players/SoundCloud.js")),d=_(n("./node_modules/react-player/lib/players/Vimeo.js")),h=_(n("./node_modules/react-player/lib/players/Facebook.js")),m=_(n("./node_modules/react-player/lib/players/Streamable.js")),y=_(n("./node_modules/react-player/lib/players/Wistia.js")),g=_(n("./node_modules/react-player/lib/players/Twitch.js")),b=_(n("./node_modules/react-player/lib/players/DailyMotion.js")),v=_(n("./node_modules/react-player/lib/players/Mixcloud.js"));function _(e){return e&&e.__esModule?e:{default:e}}function w(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return w=function(){return e},e}function O(e){if(e&&e.__esModule)return e;if(null===e||"object"!==j(e)&&"function"!=typeof e)return{default:e};var t=w();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function P(e){return function(e){if(Array.isArray(e))return M(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?k(e):t}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F=Object.keys(o.propTypes),N=[],G=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(h,e);var t,n,p,f,d=(t=h,function(){var e,n=D(t);if(I()){var r=D(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return C(this,e)});function h(){var e;L(this,h);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return R(k(e=d.call.apply(d,[this].concat(n))),"config",(0,i.getConfig)(e.props,o.defaultProps,!0)),R(k(e),"state",{showPreview:!!e.props.light}),R(k(e),"handleClickPreview",(function(){e.setState({showPreview:!1})})),R(k(e),"showPreview",(function(){e.setState({showPreview:!0})})),R(k(e),"getDuration",(function(){return e.player?e.player.getDuration():null})),R(k(e),"getCurrentTime",(function(){return e.player?e.player.getCurrentTime():null})),R(k(e),"getSecondsLoaded",(function(){return e.player?e.player.getSecondsLoaded():null})),R(k(e),"getInternalPlayer",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"player";return e.player?e.player.getInternalPlayer(t):null})),R(k(e),"seekTo",(function(t,n){if(!e.player)return null;e.player.seekTo(t,n)})),R(k(e),"handleReady",(function(){e.props.onReady(k(e))})),R(k(e),"wrapperRef",(function(t){e.wrapper=t})),R(k(e),"activePlayerRef",(function(t){e.player=t})),e}return n=h,(p=[{key:"componentDidMount",value:function(){this.props.progressFrequency&&console.warn("ReactPlayer: %cprogressFrequency%c is deprecated, please use %cprogressInterval%c instead","font-weight: bold","","font-weight: bold","")}},{key:"shouldComponentUpdate",value:function(e,t){return!(0,i.isEqual)(this.props,e)||!(0,i.isEqual)(this.state,t)}},{key:"componentDidUpdate",value:function(e){var t=this.props.light;this.config=(0,i.getConfig)(this.props,o.defaultProps),!e.light&&t&&this.setState({showPreview:!0}),e.light&&!t&&this.setState({showPreview:!1})}},{key:"getActivePlayer",value:function(e){for(var t=0,n=[].concat(P(N),P(a.default));t<n.length;t++){var r=n[t];if(r.canPlay(e))return r}return u.FilePlayer}},{key:"renderActivePlayer",value:function(e,t){return e?r.default.createElement(s.default,x({},this.props,{key:t.displayName,ref:this.activePlayerRef,config:this.config,activePlayer:t,onReady:this.handleReady})):null}},{key:"sortPlayers",value:function(e,t){return e&&t?e.key<t.key?-1:1:0}},{key:"render",value:function(){var e=this.props,t=e.url,n=e.controls,a=e.style,s=e.width,u=e.height,p=e.light,f=e.playIcon,d=e.wrapper,h=this.state.showPreview&&t,m=(0,i.omit)(this.props,F,o.DEPRECATED_CONFIG_PROPS),y=this.getActivePlayer(t),g=this.renderActivePlayer(t,y),b=(0,c.default)(t,n,this.config),v=[g].concat(P(b)).sort(this.sortPlayers),_=r.default.createElement(l.default,{url:t,light:p,playIcon:f,onClick:this.handleClickPreview});return r.default.createElement(d,x({ref:this.wrapperRef,style:E({},a,{width:s,height:u})},m),h?_:v)}}])&&T(n.prototype,p),f&&T(n,f),h}(r.Component);t.default=G,R(G,"addCustomPlayer",(function(e){N.push(e)})),R(G,"removeCustomPlayers",(function(){N=[]})),R(G,"displayName","ReactPlayer"),R(G,"propTypes",o.propTypes),R(G,"defaultProps",o.defaultProps),R(G,"canPlay",(function(e){for(var t=0,n=[].concat(P(N),P(a.default));t<n.length;t++){if(n[t].canPlay(e))return!0}return!1})),R(G,"canEnablePIP",(function(e){for(var t=0,n=[].concat(P(N),P(a.default));t<n.length;t++){var r=n[t];if(r.canEnablePIP&&r.canEnablePIP(e))return!0}return!1}))},"./node_modules/react-player/lib/players/DailyMotion.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DailyMotion=void 0;var r,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n("./node_modules/react/index.js")),i=n("./node_modules/react-player/lib/utils.js"),a=(r=n("./node_modules/react-player/lib/singlePlayer.js"))&&r.__esModule?r:{default:r};function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?$/,O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(l,e);var t,n,r,a,s=(t=l,function(){var e,n=b(t);if(g()){var r=b(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return m(this,e)});function l(){var e;d(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _(y(e=s.call.apply(s,[this].concat(n))),"callPlayer",i.callPlayer),_(y(e),"onDurationChange",(function(){var t=e.getDuration();e.props.onDuration(t)})),_(y(e),"mute",(function(){e.callPlayer("setMuted",!0)})),_(y(e),"unmute",(function(){e.callPlayer("setMuted",!1)})),_(y(e),"ref",(function(t){e.container=t})),e}return n=l,(r=[{key:"load",value:function(e){var t=this,n=this.props,r=n.controls,o=n.config,a=n.onError,s=n.playing,l=p(e.match(w),2)[1];this.player?this.player.load(l,{start:(0,i.parseStartTime)(e),autoplay:s}):(0,i.getSDK)("https://api.dmcdn.net/all.js","DM","dmAsyncInit",(function(e){return e.player})).then((function(n){if(t.container){var s=n.player;t.player=new s(t.container,{width:"100%",height:"100%",video:l,params:c({controls:r,autoplay:t.props.playing,mute:t.props.muted,start:(0,i.parseStartTime)(e),origin:window.location.origin},o.dailymotion.params),events:{apiready:t.props.onReady,seeked:function(){return t.props.onSeek(t.player.currentTime)},video_end:t.props.onEnded,durationchange:t.onDurationChange,pause:t.props.onPause,playing:t.props.onPlay,waiting:t.props.onBuffer,error:function(e){return a(e)}}})}}),a)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"getDuration",value:function(){return this.player.duration||null}},{key:"getCurrentTime",value:function(){return this.player.currentTime}},{key:"getSecondsLoaded",value:function(){return this.player.bufferedTime}},{key:"render",value:function(){var e={width:"100%",height:"100%",display:this.props.display};return o.default.createElement("div",{style:e},o.default.createElement("div",{ref:this.ref}))}}])&&h(n.prototype,r),a&&h(n,a),l}(o.Component);t.DailyMotion=O,_(O,"displayName","DailyMotion"),_(O,"canPlay",(function(e){return w.test(e)})),_(O,"loopOnEnded",!0);var j=(0,a.default)(O);t.default=j},"./node_modules/react-player/lib/players/Facebook.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Facebook=void 0;var r,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n("./node_modules/react/index.js")),i=n("./node_modules/react-player/lib/utils.js"),a=(r=n("./node_modules/react-player/lib/singlePlayer.js"))&&r.__esModule?r:{default:r};function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g="https://connect.facebook.net/en_US/sdk.js",b=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/,v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(l,e);var t,n,r,a,s=(t=l,function(){var e,n=h(t);if(d()){var r=h(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return p(this,e)});function l(){var e;u(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(f(e=s.call.apply(s,[this].concat(n))),"callPlayer",i.callPlayer),y(f(e),"playerID",e.props.config.facebook.playerId||"".concat("facebook-player-").concat((0,i.randomString)())),y(f(e),"mute",(function(){e.callPlayer("mute")})),y(f(e),"unmute",(function(){e.callPlayer("unmute")})),e}return n=l,(r=[{key:"load",value:function(e,t){var n=this;t?(0,i.getSDK)(g,"FB","fbAsyncInit").then((function(e){return e.XFBML.parse()})):(0,i.getSDK)(g,"FB","fbAsyncInit").then((function(e){e.init({appId:n.props.config.facebook.appId,xfbml:!0,version:n.props.config.facebook.version}),e.Event.subscribe("xfbml.render",(function(e){n.props.onLoaded()})),e.Event.subscribe("xfbml.ready",(function(e){"video"===e.type&&e.id===n.playerID&&(n.player=e.instance,n.player.subscribe("startedPlaying",n.props.onPlay),n.player.subscribe("paused",n.props.onPause),n.player.subscribe("finishedPlaying",n.props.onEnded),n.player.subscribe("startedBuffering",n.props.onBuffer),n.player.subscribe("finishedBuffering",n.props.onBufferEnd),n.player.subscribe("error",n.props.onError),n.props.muted||n.callPlayer("unmute"),n.props.onReady(),document.getElementById(n.playerID).querySelector("iframe").style.visibility="visible")}))}))}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentPosition")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){return o.default.createElement("div",{style:{width:"100%",height:"100%"},id:this.playerID,className:"fb-video","data-href":this.props.url,"data-autoplay":this.props.playing?"true":"false","data-allowfullscreen":"true","data-controls":this.props.controls?"true":"false"})}}])&&c(n.prototype,r),a&&c(n,a),l}(o.Component);t.Facebook=v,y(v,"displayName","Facebook"),y(v,"canPlay",(function(e){return b.test(e)})),y(v,"loopOnEnded",!0);var _=(0,a.default)(v);t.default=_},"./node_modules/react-player/lib/players/FilePlayer.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FilePlayer=void 0;var r,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n("./node_modules/react/index.js")),i=n("./node_modules/react-player/lib/utils.js"),a=(r=n("./node_modules/react-player/lib/singlePlayer.js"))&&r.__esModule?r:{default:r};function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,i=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _="undefined"!=typeof navigator&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,w=/\.(m4a|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,O=/\.(mp4|og[gv]|webm|mov|m4v)($|\?)/i,j=/\.(m3u8)($|\?)/i,S=/\.(mpd)($|\?)/i,E=/www\.dropbox\.com\/.+/;function x(e){if(e instanceof Array){var t,n=b(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("string"==typeof r&&x(r))return!0;if(x(r.src))return!0}}catch(e){n.e(e)}finally{n.f()}return!1}return!!(0,i.isMediaStream)(e)||(w.test(e)||O.test(e)||j.test(e)||S.test(e))}function P(e){return e||(e=document.createElement("video")),e.webkitSupportsPresentationMode&&"function"==typeof e.webkitSetPresentationMode&&!/iPhone|iPod/.test(navigator.userAgent)}var M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(l,e);var t,n,r,a,s=(t=l,function(){var e,n=m(t);if(h()){var r=m(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return f(this,e)});function l(){var e;c(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(d(e=s.call.apply(s,[this].concat(n))),"onReady",(function(){var t;return(t=e.props).onReady.apply(t,arguments)})),g(d(e),"onPlay",(function(){var t;return(t=e.props).onPlay.apply(t,arguments)})),g(d(e),"onBuffer",(function(){var t;return(t=e.props).onBuffer.apply(t,arguments)})),g(d(e),"onBufferEnd",(function(){var t;return(t=e.props).onBufferEnd.apply(t,arguments)})),g(d(e),"onPause",(function(){var t;return(t=e.props).onPause.apply(t,arguments)})),g(d(e),"onEnded",(function(){var t;return(t=e.props).onEnded.apply(t,arguments)})),g(d(e),"onError",(function(){var t;return(t=e.props).onError.apply(t,arguments)})),g(d(e),"onEnablePIP",(function(){var t;return(t=e.props).onEnablePIP.apply(t,arguments)})),g(d(e),"onDisablePIP",(function(t){var n=e.props,r=n.onDisablePIP,o=n.playing;r(t),o&&e.play()})),g(d(e),"onPresentationModeChange",(function(t){if(e.player&&P(e.player)){var n=e.player.webkitPresentationMode;"picture-in-picture"===n?e.onEnablePIP(t):"inline"===n&&e.onDisablePIP(t)}})),g(d(e),"onSeek",(function(t){e.props.onSeek(t.target.currentTime)})),g(d(e),"mute",(function(){e.player.muted=!0})),g(d(e),"unmute",(function(){e.player.muted=!1})),g(d(e),"renderSourceElement",(function(e,t){return"string"==typeof e?o.default.createElement("source",{key:t,src:e}):o.default.createElement("source",u({key:t},e))})),g(d(e),"renderTrack",(function(e,t){return o.default.createElement("track",u({key:t},e))})),g(d(e),"ref",(function(t){e.player&&(e.prevPlayer=e.player),e.player=t})),e}return n=l,(r=[{key:"componentDidMount",value:function(){this.addListeners(this.player),_&&this.player.load()}},{key:"componentDidUpdate",value:function(e){this.shouldUseAudio(this.props)!==this.shouldUseAudio(e)&&(this.removeListeners(this.prevPlayer),this.addListeners(this.player))}},{key:"componentWillUnmount",value:function(){this.removeListeners(this.player),this.hls&&this.hls.destroy()}},{key:"addListeners",value:function(e){var t=this.props.playsinline;e.addEventListener("canplay",this.onReady),e.addEventListener("play",this.onPlay),e.addEventListener("waiting",this.onBuffer),e.addEventListener("playing",this.onBufferEnd),e.addEventListener("pause",this.onPause),e.addEventListener("seeked",this.onSeek),e.addEventListener("ended",this.onEnded),e.addEventListener("error",this.onError),e.addEventListener("enterpictureinpicture",this.onEnablePIP),e.addEventListener("leavepictureinpicture",this.onDisablePIP),e.addEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),t&&(e.setAttribute("playsinline",""),e.setAttribute("webkit-playsinline",""),e.setAttribute("x5-playsinline",""))}},{key:"removeListeners",value:function(e){e.removeEventListener("canplay",this.onReady),e.removeEventListener("play",this.onPlay),e.removeEventListener("waiting",this.onBuffer),e.removeEventListener("playing",this.onBufferEnd),e.removeEventListener("pause",this.onPause),e.removeEventListener("seeked",this.onSeek),e.removeEventListener("ended",this.onEnded),e.removeEventListener("error",this.onError),e.removeEventListener("enterpictureinpicture",this.onEnablePIP),e.removeEventListener("leavepictureinpicture",this.onDisablePIP),e.removeEventListener("webkitpresentationmodechanged",this.onPresentationModeChange)}},{key:"shouldUseAudio",value:function(e){return!e.config.file.forceVideo&&!e.config.file.attributes.poster&&(w.test(e.url)||e.config.file.forceAudio)}},{key:"shouldUseHLS",value:function(e){return j.test(e)&&!_||this.props.config.file.forceHLS}},{key:"shouldUseDASH",value:function(e){return S.test(e)||this.props.config.file.forceDASH}},{key:"load",value:function(e){var t=this,n=this.props.config.file,r=n.hlsVersion,o=n.dashVersion;if(this.shouldUseHLS(e)&&(0,i.getSDK)("https://cdn.jsdelivr.net/npm/hls.js@VERSION/dist/hls.min.js".replace("VERSION",r),"Hls").then((function(n){t.hls=new n(t.props.config.file.hlsOptions),t.hls.on(n.Events.ERROR,(function(e,r){t.props.onError(e,r,t.hls,n)})),t.hls.loadSource(e),t.hls.attachMedia(t.player)})),this.shouldUseDASH(e)&&(0,i.getSDK)("https://cdnjs.cloudflare.com/ajax/libs/dashjs/VERSION/dash.all.min.js".replace("VERSION",o),"dashjs").then((function(n){t.dash=n.MediaPlayer().create(),t.dash.initialize(t.player,e,t.props.playing),t.dash.on("error",t.props.onError),t.dash.getDebug().setLogToBrowserConsole(!1)})),e instanceof Array)this.player.load();else if((0,i.isMediaStream)(e))try{this.player.srcObject=e}catch(t){this.player.src=window.URL.createObjectURL(e)}}},{key:"play",value:function(){var e=this.player.play();e&&e.catch(this.props.onError)}},{key:"pause",value:function(){this.player.pause()}},{key:"stop",value:function(){this.player.removeAttribute("src"),this.dash&&this.dash.reset()}},{key:"seekTo",value:function(e){this.player.currentTime=e}},{key:"setVolume",value:function(e){this.player.volume=e}},{key:"enablePIP",value:function(){this.player.requestPictureInPicture&&document.pictureInPictureElement!==this.player?this.player.requestPictureInPicture():P(this.player)&&"picture-in-picture"!==this.player.webkitPresentationMode&&this.player.webkitSetPresentationMode("picture-in-picture")}},{key:"disablePIP",value:function(){document.exitPictureInPicture&&document.pictureInPictureElement===this.player?document.exitPictureInPicture():P(this.player)&&"inline"!==this.player.webkitPresentationMode&&this.player.webkitSetPresentationMode("inline")}},{key:"setPlaybackRate",value:function(e){this.player.playbackRate=e}},{key:"getDuration",value:function(){if(!this.player)return null;var e=this.player,t=e.duration,n=e.seekable;return t===1/0&&n.length>0?n.end(n.length-1):t}},{key:"getCurrentTime",value:function(){return this.player?this.player.currentTime:null}},{key:"getSecondsLoaded",value:function(){if(!this.player)return null;var e=this.player.buffered;if(0===e.length)return 0;var t=e.end(e.length-1),n=this.getDuration();return t>n?n:t}},{key:"getSource",value:function(e){var t=this.shouldUseHLS(e),n=this.shouldUseDASH(e);if(!(e instanceof Array||(0,i.isMediaStream)(e)||t||n))return E.test(e)?e.replace("www.dropbox.com","dl.dropboxusercontent.com"):e}},{key:"render",value:function(){var e=this.props,t=e.url,n=e.playing,r=e.loop,i=e.controls,a=e.muted,s=e.config,l=e.width,c=e.height,p=this.shouldUseAudio(this.props)?"audio":"video",f={width:"auto"===l?l:"100%",height:"auto"===c?c:"100%"};return o.default.createElement(p,u({ref:this.ref,src:this.getSource(t),style:f,preload:"auto",autoPlay:n||void 0,controls:i,muted:a,loop:r},s.file.attributes),t instanceof Array&&t.map(this.renderSourceElement),s.file.tracks.map(this.renderTrack))}}])&&p(n.prototype,r),a&&p(n,a),l}(o.Component);t.FilePlayer=M,g(M,"displayName","FilePlayer"),g(M,"canPlay",x),g(M,"canEnablePIP",(function(e){return x(e)&&(!!document.pictureInPictureEnabled||P())&&!w.test(e)}));var L=(0,a.default)(M);t.default=L},"./node_modules/react-player/lib/players/Mixcloud.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Mixcloud=void 0;var r,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n("./node_modules/react/index.js")),i=n("./node_modules/react-player/lib/utils.js"),a=(r=n("./node_modules/react-player/lib/singlePlayer.js"))&&r.__esModule?r:{default:r};function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=/mixcloud\.com\/([^/]+\/[^/]+)/,v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(l,e);var t,n,r,a,s=(t=l,function(){var e,n=m(t);if(h()){var r=m(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return f(this,e)});function l(){var e;c(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(d(e=s.call.apply(s,[this].concat(n))),"callPlayer",i.callPlayer),g(d(e),"duration",null),g(d(e),"currentTime",null),g(d(e),"secondsLoaded",null),g(d(e),"mute",(function(){})),g(d(e),"unmute",(function(){})),g(d(e),"ref",(function(t){e.iframe=t})),e}return n=l,(r=[{key:"load",value:function(e){var t=this;(0,i.getSDK)("https://widget.mixcloud.com/media/js/widgetApi.js","Mixcloud").then((function(e){t.player=e.PlayerWidget(t.iframe),t.player.ready.then((function(){t.player.events.play.on(t.props.onPlay),t.player.events.pause.on(t.props.onPause),t.player.events.ended.on(t.props.onEnded),t.player.events.error.on(t.props.error),t.player.events.progress.on((function(e,n){t.currentTime=e,t.duration=n})),t.props.onReady()}))}),this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var e=this.props,t=e.url,n=e.config,r=t.match(b)[1],a=(0,i.queryString)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n.mixcloud.options,{feed:"/".concat(r,"/")}));return o.default.createElement("iframe",{key:r,ref:this.ref,style:{width:"100%",height:"100%"},src:"https://www.mixcloud.com/widget/iframe/?".concat(a),frameBorder:"0"})}}])&&p(n.prototype,r),a&&p(n,a),l}(o.Component);t.Mixcloud=v,g(v,"displayName","Mixcloud"),g(v,"canPlay",(function(e){return b.test(e)})),g(v,"loopOnEnded",!0);var _=(0,a.default)(v);t.default=_},"./node_modules/react-player/lib/players/SoundCloud.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SoundCloud=void 0;var r,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n("./node_modules/react/index.js")),i=n("./node_modules/react-player/lib/utils.js"),a=(r=n("./node_modules/react-player/lib/singlePlayer.js"))&&r.__esModule?r:{default:r};function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/,v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(l,e);var t,n,r,a,s=(t=l,function(){var e,n=m(t);if(h()){var r=m(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return f(this,e)});function l(){var e;c(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(d(e=s.call.apply(s,[this].concat(n))),"callPlayer",i.callPlayer),g(d(e),"duration",null),g(d(e),"currentTime",null),g(d(e),"fractionLoaded",null),g(d(e),"mute",(function(){e.setVolume(0)})),g(d(e),"unmute",(function(){null!==e.props.volume&&e.setVolume(e.props.volume)})),g(d(e),"ref",(function(t){e.iframe=t})),e}return n=l,(r=[{key:"load",value:function(e,t){var n=this;(0,i.getSDK)("https://w.soundcloud.com/player/api.js","SC").then((function(r){if(n.iframe){var o=r.Widget.Events,i=o.PLAY,a=o.PLAY_PROGRESS,s=o.PAUSE,l=o.FINISH,c=o.ERROR;t||(n.player=r.Widget(n.iframe),n.player.bind(i,n.props.onPlay),n.player.bind(s,n.props.onPause),n.player.bind(a,(function(e){n.currentTime=e.currentPosition/1e3,n.fractionLoaded=e.loadedProgress})),n.player.bind(l,(function(){return n.props.onEnded()})),n.player.bind(c,(function(e){return n.props.onError(e)}))),n.player.load(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n.props.config.soundcloud.options,{callback:function(){n.player.getDuration((function(e){n.duration=e/1e3,n.props.onReady()}))}}))}}))}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("seekTo",1e3*e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",100*e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.fractionLoaded*this.duration}},{key:"render",value:function(){var e={width:"100%",height:"100%",display:this.props.display};return o.default.createElement("iframe",{ref:this.ref,src:"https://w.soundcloud.com/player/?url=".concat(encodeURIComponent(this.props.url)),style:e,frameBorder:0,allow:"autoplay"})}}])&&p(n.prototype,r),a&&p(n,a),l}(o.Component);t.SoundCloud=v,g(v,"displayName","SoundCloud"),g(v,"canPlay",(function(e){return b.test(e)})),g(v,"loopOnEnded",!0);var _=(0,a.default)(v);t.default=_},"./node_modules/react-player/lib/players/Streamable.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Streamable=void 0;var r,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n("./node_modules/react/index.js")),i=n("./node_modules/react-player/lib/utils.js"),a=(r=n("./node_modules/react-player/lib/singlePlayer.js"))&&r.__esModule?r:{default:r};function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=/streamable\.com\/([a-z0-9]+)$/,b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(l,e);var t,n,r,a,s=(t=l,function(){var e,n=h(t);if(d()){var r=h(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return p(this,e)});function l(){var e;u(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(f(e=s.call.apply(s,[this].concat(n))),"callPlayer",i.callPlayer),y(f(e),"duration",null),y(f(e),"currentTime",null),y(f(e),"secondsLoaded",null),y(f(e),"mute",(function(){e.callPlayer("mute")})),y(f(e),"unmute",(function(){e.callPlayer("unmute")})),y(f(e),"ref",(function(t){e.iframe=t})),e}return n=l,(r=[{key:"load",value:function(e){var t=this;(0,i.getSDK)("https://cdn.embed.ly/player-0.1.0.min.js","playerjs").then((function(e){t.iframe&&(t.player=new e.Player(t.iframe),t.player.setLoop(t.props.loop),t.player.on("ready",t.props.onReady),t.player.on("play",t.props.onPlay),t.player.on("pause",t.props.onPause),t.player.on("seeked",t.props.onSeek),t.player.on("ended",t.props.onEnded),t.player.on("error",t.props.onError),t.player.on("timeupdate",(function(e){var n=e.duration,r=e.seconds;t.duration=n,t.currentTime=r})),t.player.on("buffered",(function(e){var n=e.percent;t.duration&&(t.secondsLoaded=t.duration*n)})),t.props.muted&&t.player.mute())}),this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("setCurrentTime",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",100*e)}},{key:"setLoop",value:function(e){this.callPlayer("setLoop",e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var e=this.props.url.match(g)[1];return o.default.createElement("iframe",{ref:this.ref,src:"https://streamable.com/o/".concat(e),frameBorder:"0",scrolling:"no",style:{width:"100%",height:"100%"},allowFullScreen:!0})}}])&&c(n.prototype,r),a&&c(n,a),l}(o.Component);t.Streamable=b,y(b,"displayName","Streamable"),y(b,"canPlay",(function(e){return g.test(e)}));var v=(0,a.default)(b);t.default=v},"./node_modules/react-player/lib/players/Twitch.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Twitch=void 0;var r,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n("./node_modules/react/index.js")),i=n("./node_modules/react-player/lib/utils.js"),a=(r=n("./node_modules/react-player/lib/singlePlayer.js"))&&r.__esModule?r:{default:r};function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/,v=/(?:www\.|go\.)?twitch\.tv\/([a-z0-9_]+)($|\?)/,_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(l,e);var t,n,r,a,s=(t=l,function(){var e,n=m(t);if(h()){var r=m(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return f(this,e)});function l(){var e;c(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(d(e=s.call.apply(s,[this].concat(n))),"callPlayer",i.callPlayer),g(d(e),"playerID",e.props.config.twitch.playerId||"".concat("twitch-player-").concat((0,i.randomString)())),g(d(e),"mute",(function(){e.callPlayer("setMuted",!0)})),g(d(e),"unmute",(function(){e.callPlayer("setMuted",!1)})),e}return n=l,(r=[{key:"load",value:function(e,t){var n=this,r=this.props,o=r.playsinline,a=r.onError,s=r.config,l=r.controls,c=v.test(e),p=c?e.match(v)[1]:e.match(b)[1];t?c?this.player.setChannel(p):this.player.setVideo("v"+p):(0,i.getSDK)("https://player.twitch.tv/js/embed/v1.js","Twitch").then((function(e){n.player=new e.Player(n.playerID,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({video:c?"":p,channel:c?p:"",height:"100%",width:"100%",playsinline:o,autoplay:n.props.playing,muted:n.props.muted,controls:!!c||l},s.twitch.options));var t=e.Player,r=t.READY,i=t.PLAYING,a=t.PAUSE,f=t.ENDED,d=t.ONLINE,h=t.OFFLINE;n.player.addEventListener(r,n.props.onReady),n.player.addEventListener(i,n.props.onPlay),n.player.addEventListener(a,n.props.onPause),n.player.addEventListener(f,n.props.onEnded),n.player.addEventListener(d,n.props.onLoaded),n.player.addEventListener(h,n.props.onLoaded)}),a)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.callPlayer("pause")}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentTime")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){return o.default.createElement("div",{style:{width:"100%",height:"100%"},id:this.playerID})}}])&&p(n.prototype,r),a&&p(n,a),l}(o.Component);t.Twitch=_,g(_,"displayName","Twitch"),g(_,"canPlay",(function(e){return b.test(e)||v.test(e)})),g(_,"loopOnEnded",!0);var w=(0,a.default)(_);t.default=w},"./node_modules/react-player/lib/players/Vimeo.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Vimeo=void 0;var r,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n("./node_modules/react/index.js")),i=n("./node_modules/react-player/lib/utils.js"),a=(r=n("./node_modules/react-player/lib/singlePlayer.js"))&&r.__esModule?r:{default:r};function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=/vimeo\.com\/.+/,v=/vimeo\.com\/external\/[0-9]+\..+/,_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(l,e);var t,n,r,a,s=(t=l,function(){var e,n=m(t);if(h()){var r=m(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return f(this,e)});function l(){var e;c(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(d(e=s.call.apply(s,[this].concat(n))),"callPlayer",i.callPlayer),g(d(e),"duration",null),g(d(e),"currentTime",null),g(d(e),"secondsLoaded",null),g(d(e),"mute",(function(){e.setVolume(0)})),g(d(e),"unmute",(function(){null!==e.props.volume&&e.setVolume(e.props.volume)})),g(d(e),"ref",(function(t){e.container=t})),e}return n=l,(r=[{key:"load",value:function(e){var t=this;this.duration=null,(0,i.getSDK)("https://player.vimeo.com/api/player.js","Vimeo").then((function(n){t.container&&(t.player=new n.Player(t.container,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({url:e,autoplay:t.props.playing,muted:t.props.muted,loop:t.props.loop,playsinline:t.props.playsinline,controls:t.props.controls},t.props.config.vimeo.playerOptions)),t.player.ready().then((function(){var e=t.container.querySelector("iframe");e.style.width="100%",e.style.height="100%"})).catch(t.props.onError),t.player.on("loaded",(function(){t.props.onReady(),t.refreshDuration()})),t.player.on("play",(function(){t.props.onPlay(),t.refreshDuration()})),t.player.on("pause",t.props.onPause),t.player.on("seeked",(function(e){return t.props.onSeek(e.seconds)})),t.player.on("ended",t.props.onEnded),t.player.on("error",t.props.onError),t.player.on("timeupdate",(function(e){var n=e.seconds;t.currentTime=n})),t.player.on("progress",(function(e){var n=e.seconds;t.secondsLoaded=n})))}),this.props.onError)}},{key:"refreshDuration",value:function(){var e=this;this.player.getDuration().then((function(t){e.duration=t}))}},{key:"play",value:function(){var e=this.callPlayer("play");e&&e.catch(this.props.onError)}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.callPlayer("unload")}},{key:"seekTo",value:function(e){this.callPlayer("setCurrentTime",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"setLoop",value:function(e){this.callPlayer("setLoop",e)}},{key:"setPlaybackRate",value:function(e){this.callPlayer("setPlaybackRate",e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var e={width:"100%",height:"100%",overflow:"hidden",display:this.props.display};return o.default.createElement("div",{key:this.props.url,ref:this.ref,style:e})}}])&&p(n.prototype,r),a&&p(n,a),l}(o.Component);t.Vimeo=_,g(_,"displayName","Vimeo"),g(_,"forceLoad",!0),g(_,"canPlay",(function(e){return!v.test(e)&&b.test(e)}));var w=(0,a.default)(_);t.default=w},"./node_modules/react-player/lib/players/Wistia.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Wistia=void 0;var r,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n("./node_modules/react/index.js")),i=n("./node_modules/react-player/lib/utils.js"),a=(r=n("./node_modules/react-player/lib/singlePlayer.js"))&&r.__esModule?r:{default:r};function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=/(?:wistia\.com|wi\.st)\/(?:medias|embed)\/(.*)$/,_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(l,e);var t,n,r,a,s=(t=l,function(){var e,n=y(t);if(m()){var r=y(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return d(this,e)});function l(){var e;p(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return b(h(e=s.call.apply(s,[this].concat(n))),"callPlayer",i.callPlayer),b(h(e),"onPlay",(function(){var t;return(t=e.props).onPlay.apply(t,arguments)})),b(h(e),"onPause",(function(){var t;return(t=e.props).onPause.apply(t,arguments)})),b(h(e),"onSeek",(function(){var t;return(t=e.props).onSeek.apply(t,arguments)})),b(h(e),"onEnded",(function(){var t;return(t=e.props).onEnded.apply(t,arguments)})),b(h(e),"mute",(function(){e.callPlayer("mute")})),b(h(e),"unmute",(function(){e.callPlayer("unmute")})),e}return n=l,(r=[{key:"getID",value:function(e){return e&&e.match(v)[1]}},{key:"load",value:function(e){var t=this,n=this.props,r=n.playing,o=n.muted,a=n.controls,s=n.onReady,l=n.config,u=n.onError;(0,i.getSDK)("https://fast.wistia.com/assets/external/E-v1.js","Wistia").then((function(){window._wq=window._wq||[],window._wq.push({id:t.getID(e),options:c({autoPlay:r,silentAutoPlay:"allow",muted:o,controlsVisibleOnLoad:a},l.wistia.options),onReady:function(e){t.player=e,t.unbind(),t.player.bind("play",t.onPlay),t.player.bind("pause",t.onPause),t.player.bind("seek",t.onSeek),t.player.bind("end",t.onEnded),s()}})}),u)}},{key:"unbind",value:function(){this.player.unbind("play",this.onPlay),this.player.unbind("pause",this.onPause),this.player.unbind("seek",this.onSeek),this.player.unbind("end",this.onEnded)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.unbind(),this.callPlayer("remove")}},{key:"seekTo",value:function(e){this.callPlayer("time",e)}},{key:"setVolume",value:function(e){this.callPlayer("volume",e)}},{key:"setPlaybackRate",value:function(e){this.callPlayer("playbackRate",e)}},{key:"getDuration",value:function(){return this.callPlayer("duration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("time")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var e=this.getID(this.props.url),t="wistia_embed wistia_async_".concat(e);return o.default.createElement("div",{key:e,className:t,style:{width:"100%",height:"100%"}})}}])&&f(n.prototype,r),a&&f(n,a),l}(o.Component);t.Wistia=_,b(_,"displayName","Wistia"),b(_,"canPlay",(function(e){return v.test(e)})),b(_,"loopOnEnded",!0);var w=(0,a.default)(_);t.default=w},"./node_modules/react-player/lib/players/YouTube.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.YouTube=void 0;var r,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n("./node_modules/react/index.js")),i=n("./node_modules/react-player/lib/utils.js"),a=(r=n("./node_modules/react-player/lib/singlePlayer.js"))&&r.__esModule?r:{default:r};function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var w=/(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})|youtube\.com\/playlist\?list=/,O=/list=([a-zA-Z0-9_-]+)/;function j(e){return O.test(e)?{listType:"playlist",list:v(e.match(O),2)[1]}:{}}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(l,e);var t,n,r,a,s=(t=l,function(){var e,n=y(t);if(m()){var r=y(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return d(this,e)});function l(){var e;p(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return b(h(e=s.call.apply(s,[this].concat(n))),"callPlayer",i.callPlayer),b(h(e),"onStateChange",(function(t){var n=t.data,r=e.props,o=r.onPlay,i=r.onPause,a=r.onBuffer,s=r.onBufferEnd,l=r.onEnded,u=r.onReady,c=r.loop,p=window.YT.PlayerState,f=p.PLAYING,d=p.PAUSED,h=p.BUFFERING,m=p.ENDED,y=p.CUED;if(n===f&&(o(),s()),n===d&&i(),n===h&&a(),n===m){var g=!!e.callPlayer("getPlaylist");c&&!g&&e.play(),l()}n===y&&u()})),b(h(e),"mute",(function(){e.callPlayer("mute")})),b(h(e),"unmute",(function(){e.callPlayer("unMute")})),b(h(e),"ref",(function(t){e.container=t})),e}return n=l,(r=[{key:"load",value:function(e,t){var n=this,r=this.props,o=r.playing,a=r.muted,s=r.playsinline,l=r.controls,u=r.loop,p=r.config,f=r.onError,d=p.youtube,h=d.playerVars,m=d.embedOptions,y=e&&e.match(w)[1];if(t)return O.test(e)?void this.player.loadPlaylist(j(e)):void this.player.cueVideoById({videoId:y,startSeconds:(0,i.parseStartTime)(e)||h.start,endSeconds:(0,i.parseEndTime)(e)||h.end});(0,i.getSDK)("https://www.youtube.com/iframe_api","YT","onYouTubeIframeAPIReady",(function(e){return e.loaded})).then((function(t){n.container&&(n.player=new t.Player(n.container,c({width:"100%",height:"100%",videoId:y,playerVars:c({autoplay:o?1:0,mute:a?1:0,controls:l?1:0,start:(0,i.parseStartTime)(e),end:(0,i.parseEndTime)(e),origin:window.location.origin,playsinline:s},j(e),{},h),events:{onReady:function(){u&&n.player.setLoop(!0),n.props.onReady()},onStateChange:n.onStateChange,onError:function(e){return f(e.data)}}},m)))}),f)}},{key:"play",value:function(){this.callPlayer("playVideo")}},{key:"pause",value:function(){this.callPlayer("pauseVideo")}},{key:"stop",value:function(){document.body.contains(this.callPlayer("getIframe"))&&this.callPlayer("stopVideo")}},{key:"seekTo",value:function(e){this.callPlayer("seekTo",e),this.props.playing||this.pause()}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",100*e)}},{key:"setPlaybackRate",value:function(e){this.callPlayer("setPlaybackRate",e)}},{key:"setLoop",value:function(e){this.callPlayer("setLoop",e)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentTime")}},{key:"getSecondsLoaded",value:function(){return this.callPlayer("getVideoLoadedFraction")*this.getDuration()}},{key:"render",value:function(){var e={width:"100%",height:"100%",display:this.props.display};return o.default.createElement("div",{style:e},o.default.createElement("div",{ref:this.ref}))}}])&&f(n.prototype,r),a&&f(n,a),l}(o.Component);t.YouTube=S,b(S,"displayName","YouTube"),b(S,"canPlay",(function(e){return w.test(e)}));var E=(0,a.default)(S);t.default=E},"./node_modules/react-player/lib/players/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("./node_modules/react-player/lib/players/YouTube.js"),o=n("./node_modules/react-player/lib/players/SoundCloud.js"),i=n("./node_modules/react-player/lib/players/Vimeo.js"),a=n("./node_modules/react-player/lib/players/Facebook.js"),s=n("./node_modules/react-player/lib/players/Streamable.js"),l=n("./node_modules/react-player/lib/players/Wistia.js"),u=n("./node_modules/react-player/lib/players/Twitch.js"),c=n("./node_modules/react-player/lib/players/DailyMotion.js"),p=n("./node_modules/react-player/lib/players/Mixcloud.js"),f=n("./node_modules/react-player/lib/players/FilePlayer.js"),d=[r.YouTube,o.SoundCloud,i.Vimeo,a.Facebook,s.Streamable,l.Wistia,u.Twitch,c.DailyMotion,p.Mixcloud,f.FilePlayer];t.default=d},"./node_modules/react-player/lib/preload.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var i,a=[],s=function(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,i=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}(p);try{for(s.s();!(i=s.n()).done;){var l=i.value;!l.Player.canPlay(e)&&n[l.configKey].preload&&a.push(r.default.createElement(o.default,{key:l.Player.displayName,activePlayer:l.Player,url:l.url,controls:t,playing:!0,muted:!0,display:"none"}))}}catch(e){s.e(e)}finally{s.f()}return a};var r=u(n("./node_modules/react/index.js")),o=u(n("./node_modules/react-player/lib/Player.js")),i=n("./node_modules/react-player/lib/players/YouTube.js"),a=n("./node_modules/react-player/lib/players/SoundCloud.js"),s=n("./node_modules/react-player/lib/players/Vimeo.js"),l=n("./node_modules/react-player/lib/players/DailyMotion.js");function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=[{Player:i.YouTube,configKey:"youtube",url:"https://www.youtube.com/watch?v=GlCmAC4MHek"},{Player:a.SoundCloud,configKey:"soundcloud",url:"https://soundcloud.com/seucheu/john-cage-433-8-bit-version"},{Player:s.Vimeo,configKey:"vimeo",url:"https://vimeo.com/300970506"},{Player:l.DailyMotion,configKey:"dailymotion",url:"http://www.dailymotion.com/video/xqdpyk"}]},"./node_modules/react-player/lib/props.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEPRECATED_CONFIG_PROPS=t.defaultProps=t.propTypes=void 0;var r,o=(r=n("./node_modules/prop-types/index.js"))&&r.__esModule?r:{default:r};var i=o.default.string,a=o.default.bool,s=o.default.number,l=o.default.array,u=o.default.oneOfType,c=o.default.shape,p=o.default.object,f=o.default.func,d=o.default.node,h={url:u([i,l,p]),playing:a,loop:a,controls:a,volume:s,muted:a,playbackRate:s,width:u([i,s]),height:u([i,s]),style:p,progressInterval:s,playsinline:a,pip:a,light:u([a,i]),playIcon:d,wrapper:u([i,f,c({render:f.isRequired})]),config:c({soundcloud:c({options:p,preload:a}),youtube:c({playerVars:p,embedOptions:p,preload:a}),facebook:c({appId:i,version:i,playerId:i}),dailymotion:c({params:p,preload:a}),vimeo:c({playerOptions:p,preload:a}),file:c({attributes:p,tracks:l,forceVideo:a,forceAudio:a,forceHLS:a,forceDASH:a,hlsOptions:p,hlsVersion:i,dashVersion:i}),wistia:c({options:p}),mixcloud:c({options:p}),twitch:c({options:p,playerId:i})}),onReady:f,onStart:f,onPlay:f,onPause:f,onBuffer:f,onBufferEnd:f,onEnded:f,onError:f,onDuration:f,onSeek:f,onProgress:f,onEnablePIP:f,onDisablePIP:f};t.propTypes=h;t.defaultProps={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,light:!1,wrapper:"div",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},preload:!1},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null},dailymotion:{params:{api:1,"endscreen-enable":!1},preload:!1},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},preload:!1},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,hlsOptions:{},hlsVersion:"0.13.1",dashVersion:"2.9.2"},wistia:{options:{}},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null}},onReady:function(){},onStart:function(){},onPlay:function(){},onPause:function(){},onBuffer:function(){},onBufferEnd:function(){},onEnded:function(){},onError:function(){},onDuration:function(){},onSeek:function(){},onProgress:function(){},onEnablePIP:function(){},onDisablePIP:function(){}};t.DEPRECATED_CONFIG_PROPS=["soundcloudConfig","youtubeConfig","facebookConfig","dailymotionConfig","vimeoConfig","fileConfig","wistiaConfig"]},"./node_modules/react-player/lib/singlePlayer.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n;return n=t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(l,t);var n,r=(n=l,function(){var e,t=b(n);if(g()){var r=b(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return m(this,e)});function l(){var e;d(this,l);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return _(y(e=r.call.apply(r,[this].concat(n))),"config",(0,a.getConfig)(e.props,i.defaultProps,!0)),_(y(e),"getDuration",(function(){return e.player?e.player.getDuration():null})),_(y(e),"getCurrentTime",(function(){return e.player?e.player.getCurrentTime():null})),_(y(e),"getSecondsLoaded",(function(){return e.player?e.player.getSecondsLoaded():null})),_(y(e),"getInternalPlayer",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"player";return e.player?e.player.getInternalPlayer(t):null})),_(y(e),"seekTo",(function(t,n){if(!e.player)return null;e.player.seekTo(t,n)})),_(y(e),"ref",(function(t){e.player=t})),e}return function(e,t,n){t&&h(e.prototype,t);n&&h(e,n)}(l,[{key:"shouldComponentUpdate",value:function(e){return!(0,a.isEqual)(this.props,e)}},{key:"componentDidUpdate",value:function(){this.config=(0,a.getConfig)(this.props,i.defaultProps)}},{key:"render",value:function(){var t=this.config.file,n=t.forceVideo,r=t.forceAudio,l=t.forceHLS,u=t.forceDASH,p=n||r||l||u;if(!e.canPlay(this.props.url)&&!p)return null;var d=this.props,h=d.style,m=d.width,y=d.height,g=d.wrapper,b=(0,a.omit)(this.props,w,i.DEPRECATED_CONFIG_PROPS);return o.default.createElement(g,c({style:f({},h,{width:m,height:y})},b),o.default.createElement(s.default,c({},this.props,{ref:this.ref,activePlayer:e,config:this.config})))}}]),l}(o.Component),_(t,"displayName","".concat(e.displayName,"Player")),_(t,"propTypes",i.propTypes),_(t,"defaultProps",i.defaultProps),_(t,"canPlay",e.canPlay),n};var r,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==u(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n("./node_modules/react/index.js")),i=n("./node_modules/react-player/lib/props.js"),a=n("./node_modules/react-player/lib/utils.js"),s=(r=n("./node_modules/react-player/lib/Player.js"))&&r.__esModule?r:{default:r};function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=Object.keys(i.propTypes)},"./node_modules/react-player/lib/utils.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseStartTime=function(e){return g(e,d)},t.parseEndTime=function(e){return g(e,h)},t.randomString=function(){return Math.random().toString(36).substr(2,5)},t.queryString=function(e){return Object.keys(e).map((function(t){return"".concat(t,"=").concat(e[t])})).join("&")},t.getSDK=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return!0},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:o.default;if(window[t]&&r(window[t]))return Promise.resolve(window[t]);return new Promise((function(r,o){if(b[e])b[e].push({resolve:r,reject:o});else{b[e]=[{resolve:r,reject:o}];var a=function(t){b[e].forEach((function(e){return e.resolve(t)}))};if(n){var s=window[n];window[n]=function(){s&&s(),a(window[t])}}i(e,(function(r){r?(b[e].forEach((function(e){return e.reject(r)})),b[e]=null):n||a(window[t])}))}}))},t.getConfig=function(e,t,n){var r,o=(0,i.default)(t.config,e.config),s=function(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=p(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,i=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}(a.DEPRECATED_CONFIG_PROPS);try{for(s.s();!(r=s.n()).done;){var l=r.value;if(e[l]){var c=l.replace(/Config$/,"");if(o=(0,i.default)(o,u({},c,e[l])),n){var f="ReactPlayer: %c".concat(l," %cis deprecated, please use the config prop instead – ").concat("https://github.com/CookPete/react-player#config-prop");console.warn(f,"font-weight: bold","")}}}}catch(e){s.e(e)}finally{s.f()}return o},t.omit=function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];for(var i=(t=[]).concat.apply(t,r),a={},s=Object.keys(e),l=0,u=s;l<u.length;l++){var c=u[l];-1===i.indexOf(c)&&(a[c]=e[c])}return a},t.callPlayer=function(e){var t;if(!this.player||!this.player[e]){var n="ReactPlayer: ".concat(this.constructor.displayName," player could not call %c").concat(e,"%c – ");return this.player?this.player[e]||(n+="The method was not available"):n+="The player was not available",console.warn(n,"font-weight: bold",""),null}for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return(t=this.player)[e].apply(t,o)},t.isObject=v,t.isEqual=function e(t,n){if("function"==typeof t&&"function"==typeof n)return!0;if((0,r.isValidElement)(t)&&(0,r.isValidElement)(n))return!0;if(t instanceof Array&&n instanceof Array){if(t.length!==n.length)return!1;for(var o=0;o!==t.length;o++)if(!e(t[o],n[o]))return!1;return!0}if(v(t)&&v(n)){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(var i=0,a=Object.keys(t);i<a.length;i++){var s=a[i];if(!e(t[s],n[s]))return!1}return!0}return t===n},t.isMediaStream=function(e){return"undefined"!=typeof window&&void 0!==window.MediaStream&&e instanceof window.MediaStream};var r=n("./node_modules/react/index.js"),o=s(n("./node_modules/load-script/index.js")),i=s(n("./node_modules/deepmerge/dist/cjs.js")),a=n("./node_modules/react-player/lib/props.js");function s(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=/[?&#](?:start|t)=([0-9hms]+)/,h=/[?&#]end=([0-9hms]+)/,m=/(\d+)(h|m|s)/g,y=/^\d+$/;function g(e,t){var n=e.match(t);if(n){var r=n[1];if(r.match(m))return function(e){var t=0,n=m.exec(e);for(;null!==n;){var r=c(n,3),o=r[1],i=r[2];"h"===i&&(t+=60*parseInt(o,10)*60),"m"===i&&(t+=60*parseInt(o,10)),"s"===i&&(t+=parseInt(o,10)),n=m.exec(e)}return t}(r);if(y.test(r))return parseInt(r)}}var b={};function v(e){return null!==e&&"object"===l(e)}},"./node_modules/react-resize-detector/lib/esm/components/ResizeDetector.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/react-dom/index.js"),a=n("./node_modules/react-resize-detector/node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js"),s=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];t=o,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r},l=n("./node_modules/prop-types/index.js");var u=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},c=n("./node_modules/lodash-es/_root.js"),p=function(){return c.a.Date.now()},f=n("./node_modules/lodash-es/_baseGetTag.js"),d=n("./node_modules/lodash-es/isObjectLike.js");var h=function(e){return"symbol"==typeof e||Object(d.a)(e)&&"[object Symbol]"==Object(f.a)(e)},m=/^\s+|\s+$/g,y=/^[-+]0x[0-9a-f]+$/i,g=/^0b[01]+$/i,b=/^0o[0-7]+$/i,v=parseInt;var _=function(e){if("number"==typeof e)return e;if(h(e))return NaN;if(u(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=u(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(m,"");var n=g.test(e);return n||b.test(e)?v(e.slice(2),n?2:8):y.test(e)?NaN:+e},w=Math.max,O=Math.min;var j=function(e,t,n){var r,o,i,a,s,l,c=0,f=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function m(t){var n=r,i=o;return r=o=void 0,c=t,a=e.apply(i,n)}function y(e){return c=e,s=setTimeout(b,t),f?m(e):a}function g(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=i}function b(){var e=p();if(g(e))return v(e);s=setTimeout(b,function(e){var n=t-(e-l);return d?O(n,i-(e-c)):n}(e))}function v(e){return s=void 0,h&&r?m(e):(r=o=void 0,a)}function j(){var e=p(),n=g(e);if(r=arguments,o=this,l=e,n){if(void 0===s)return y(l);if(d)return clearTimeout(s),s=setTimeout(b,t),m(l)}return void 0===s&&(s=setTimeout(b,t)),a}return t=_(t)||0,u(n)&&(f=!!n.leading,i=(d="maxWait"in n)?w(_(n.maxWait)||0,t):i,h="trailing"in n?!!n.trailing:h),j.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=l=o=s=void 0},j.flush=function(){return void 0===s?a:v(p())},j};var S=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return u(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),j(e,t,{leading:r,maxWait:t,trailing:o})},E={debounce:j,throttle:S},x=function(e){return"function"==typeof e},P=function(){return"undefined"==typeof window};function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var D=function(e){function t(){return L(this,t),C(this,k(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return this.props.children}}])&&T(n.prototype,r),o&&T(n,o),t}(r.PureComponent);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?N(e):t}(this,F(t).call(this,e)),U(N(n),"cancelHandler",(function(){n.resizeHandler&&n.resizeHandler.cancel&&(n.resizeHandler.cancel(),n.resizeHandler=null)})),U(N(n),"rafClean",(function(){n.raf&&n.raf.cancel&&(n.raf.cancel(),n.raf=null)})),U(N(n),"toggleObserver",(function(e){var t=n.getElement();t&&n.resizeObserver[e]&&n.resizeObserver[e](t)})),U(N(n),"getElement",(function(){var e=n.props,t=e.querySelector,r=e.targetDomEl;if(!P()){if(t)return document.querySelector(t);if(r&&((o=r)instanceof Element||o instanceof HTMLDocument))return r;var o,a=n.element&&Object(i.findDOMNode)(n.element);if(a)return a.parentElement}})),U(N(n),"createUpdater",(function(){return n.rafClean(),n.raf=s((function(e){var t=e.width,r=e.height,o=n.props.onResize;x(o)&&o(t,r),n.setState({width:t,height:r})})),n.raf})),U(N(n),"createResizeHandler",(function(e){var t=n.state,r=t.width,o=t.height,i=n.props,a=i.handleWidth,s=i.handleHeight;if(a||s){var l=n.createUpdater();e.forEach((function(e){var t=e&&e.contentRect||{},i=t.width,u=t.height,c=a&&r!==i||s&&o!==u;!n.skipOnMount&&c&&!P()&&l({width:i,height:u}),n.skipOnMount=!1}))}})),U(N(n),"onRef",(function(e){n.element=e})),U(N(n),"getRenderType",(function(){var e=n.props,t=e.render,o=e.children;return x(t)?"renderProp":x(o)?"childFunction":Object(r.isValidElement)(o)?"child":Array.isArray(o)?"childArray":"parent"})),U(N(n),"getTargetComponent",(function(){var e=n.props,t=e.render,o=e.children,i=e.nodeType,a=n.state,s={width:a.width,height:a.height};switch(n.getRenderType()){case"renderProp":return Object(r.cloneElement)(t(s),{key:"resize-detector"});case"childFunction":return Object(r.cloneElement)(o(s));case"child":return Object(r.cloneElement)(o,s);case"childArray":return o.map((function(e){return!!e&&Object(r.cloneElement)(e,s)}));default:return Object(r.createElement)(i)}}));var o=e.skipOnMount,l=e.refreshMode,u=e.refreshRate,c=e.refreshOptions;n.state={width:void 0,height:void 0},n.skipOnMount=o,n.raf=null,n.element=null,n.unmounted=!1;var p=function(e){return E[e]}(l);return n.resizeHandler=p?p(n.createResizeHandler,u,c):n.createResizeHandler,n.resizeObserver=new a.a(n.resizeHandler),n}var n,l,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(t,e),n=t,(l=[{key:"componentDidMount",value:function(){this.toggleObserver("observe")}},{key:"componentWillUnmount",value:function(){this.toggleObserver("unobserve"),this.rafClean(),this.cancelHandler(),this.unmounted=!0}},{key:"render",value:function(){return o.a.createElement(D,{ref:this.onRef},this.getTargetComponent())}}])&&R(n.prototype,l),u&&R(n,u),t}(r.PureComponent);z.propTypes={handleWidth:l.bool,handleHeight:l.bool,skipOnMount:l.bool,refreshRate:l.number,refreshMode:l.string,refreshOptions:Object(l.shape)({leading:l.bool,trailing:l.bool}),querySelector:l.string,targetDomEl:l.any,onResize:l.func,render:l.func,children:l.any,nodeType:l.node},z.defaultProps={handleWidth:!1,handleHeight:!1,skipOnMount:!1,refreshRate:1e3,refreshMode:void 0,refreshOptions:void 0,querySelector:null,targetDomEl:null,onResize:null,render:void 0,children:null,nodeType:"div"};t.a=z},"./node_modules/react-resize-detector/lib/esm/hoc/withResizeDetector.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),i=n("./node_modules/react-resize-detector/lib/esm/components/ResizeDetector.js");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function c(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{handleWidth:!0,handleHeight:!0};return function(n){function r(){return s(this,r),c(this,p(r).apply(this,arguments))}return f(r,n),u(r,[{key:"render",value:function(){return o.a.createElement(i.a,t,o.a.createElement(e,this.props))}}]),r}(r.Component)}},"./node_modules/react-resize-detector/node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js":function(e,t,n){"use strict";(function(e){var n=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];e.call(t,o[1],o[0])}},t}()}(),r="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,o=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),i="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var a=["top","right","bottom","left","width","height","size","weight"],s="undefined"!=typeof MutationObserver,l=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,o=0;function a(){n&&(n=!1,e()),r&&l()}function s(){i(a)}function l(){var e=Date.now();if(n){if(e-o<2)return;r=!0}else n=!0,r=!1,setTimeout(s,t);o=e}return l}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),s?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;a.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),u=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},c=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||o},p=g(0,0,0,0);function f(e){return parseFloat(e)||0}function d(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+f(e["border-"+n+"-width"])}),0)}function h(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return p;var r=c(e).getComputedStyle(e),o=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var o=r[n],i=e["padding-"+o];t[o]=f(i)}return t}(r),i=o.left+o.right,a=o.top+o.bottom,s=f(r.width),l=f(r.height);if("border-box"===r.boxSizing&&(Math.round(s+i)!==t&&(s-=d(r,"left","right")+i),Math.round(l+a)!==n&&(l-=d(r,"top","bottom")+a)),!function(e){return e===c(e).document.documentElement}(e)){var u=Math.round(s+i)-t,h=Math.round(l+a)-n;1!==Math.abs(u)&&(s-=u),1!==Math.abs(h)&&(l-=h)}return g(o.left,o.top,s,l)}var m="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof c(e).SVGGraphicsElement}:function(e){return e instanceof c(e).SVGElement&&"function"==typeof e.getBBox};function y(e){return r?m(e)?function(e){var t=e.getBBox();return g(0,0,t.width,t.height)}(e):h(e):p}function g(e,t,n,r){return{x:e,y:t,width:n,height:r}}var b=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=g(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=y(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),v=function(e,t){var n,r,o,i,a,s,l,c=(r=(n=t).x,o=n.y,i=n.width,a=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(s.prototype),u(l,{x:r,y:o,width:i,height:a,top:o,right:r+i,bottom:a+o,left:r}),l);u(this,{target:e,contentRect:c})},_=function(){function e(e,t,r){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof c(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new b(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof c(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new v(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),w="undefined"!=typeof WeakMap?new WeakMap:new n,O=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=l.getInstance(),r=new _(t,n,this);w.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){O.prototype[e]=function(){var t;return(t=w.get(this))[e].apply(t,arguments)}}));var j=void 0!==o.ResizeObserver?o.ResizeObserver:O;t.a=j}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/react-select/dist/react-select.es.js":function(e,t,n){"use strict";n.r(t),n.d(t,"Async",(function(){return U})),n.d(t,"AsyncCreatable",(function(){return Y})),n.d(t,"Creatable",(function(){return z})),n.d(t,"Value",(function(){return L})),n.d(t,"Option",(function(){return M})),n.d(t,"defaultMenuRenderer",(function(){return b})),n.d(t,"defaultArrowRenderer",(function(){return f})),n.d(t,"defaultClearRenderer",(function(){return d})),n.d(t,"defaultFilterOptions",(function(){return g}));var r=n("./node_modules/react-select/node_modules/react-input-autosize/lib/AutosizeInput.js"),o=n.n(r),i=n("./node_modules/classnames/index.js"),a=n.n(i),s=n("./node_modules/prop-types/index.js"),l=n.n(s),u=n("./node_modules/react/index.js"),c=n.n(u),p=n("./node_modules/react-dom/index.js"),f=function(e){var t=e.onMouseDown;return c.a.createElement("span",{className:"Select-arrow",onMouseDown:t})};f.propTypes={onMouseDown:l.a.func};var d=function(){return c.a.createElement("span",{className:"Select-clear",dangerouslySetInnerHTML:{__html:"&times;"}})},h=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}],m=function(e){for(var t=0;t<h.length;t++)e=e.replace(h[t].letters,h[t].base);return e},y=function(e){return null!=e&&""!==e},g=function(e,t,n,r){return r.ignoreAccents&&(t=m(t)),r.ignoreCase&&(t=t.toLowerCase()),r.trimFilter&&(t=t.replace(/^\s+|\s+$/g,"")),n&&(n=n.map((function(e){return e[r.valueKey]}))),e.filter((function(e){if(n&&n.indexOf(e[r.valueKey])>-1)return!1;if(r.filterOption)return r.filterOption.call(void 0,e,t);if(!t)return!0;var o=e[r.valueKey],i=e[r.labelKey],a=y(o),s=y(i);if(!a&&!s)return!1;var l=a?String(o):null,u=s?String(i):null;return r.ignoreAccents&&(l&&"label"!==r.matchProp&&(l=m(l)),u&&"value"!==r.matchProp&&(u=m(u))),r.ignoreCase&&(l&&"label"!==r.matchProp&&(l=l.toLowerCase()),u&&"value"!==r.matchProp&&(u=u.toLowerCase())),"start"===r.matchPos?l&&"label"!==r.matchProp&&l.substr(0,t.length)===t||u&&"value"!==r.matchProp&&u.substr(0,t.length)===t:l&&"label"!==r.matchProp&&l.indexOf(t)>=0||u&&"value"!==r.matchProp&&u.indexOf(t)>=0}))},b=function(e){var t=e.focusedOption,n=e.focusOption,r=e.inputValue,o=e.instancePrefix,i=e.onFocus,s=e.onOptionRef,l=e.onSelect,u=e.optionClassName,p=e.optionComponent,f=e.optionRenderer,d=e.options,h=e.removeValue,m=e.selectValue,y=e.valueArray,g=e.valueKey,b=p;return d.map((function(e,p){var d=y&&y.some((function(t){return t[g]===e[g]})),v=e===t,_=a()(u,{"Select-option":!0,"is-selected":d,"is-focused":v,"is-disabled":e.disabled});return c.a.createElement(b,{className:_,focusOption:n,inputValue:r,instancePrefix:o,isDisabled:e.disabled,isFocused:v,isSelected:d,key:"option-"+p+"-"+e[g],onFocus:i,onSelect:l,option:e,optionIndex:p,ref:function(e){s(e,v)},removeValue:h,selectValue:m},f(e,p,r))}))};b.propTypes={focusOption:l.a.func,focusedOption:l.a.object,inputValue:l.a.string,instancePrefix:l.a.string,onFocus:l.a.func,onOptionRef:l.a.func,onSelect:l.a.func,optionClassName:l.a.string,optionComponent:l.a.func,optionRenderer:l.a.func,options:l.a.array,removeValue:l.a.func,selectValue:l.a.func,valueArray:l.a.array,valueKey:l.a.string};var v=function(e){e.preventDefault(),e.stopPropagation(),"A"===e.target.tagName&&"href"in e.target&&(e.target.target?window.open(e.target.href,e.target.target):window.location.href=e.target.href)},_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w=(function(){function e(e){this.value=e}function t(t){var n,r;function o(n,r){try{var a=t[n](r),s=a.value;s instanceof e?Promise.resolve(s.value).then((function(e){o("next",e)}),(function(e){o("throw",e)})):i(a.done?"return":"normal",a.value)}catch(e){i("throw",e)}}function i(e,t){switch(e){case"return":n.resolve({value:t,done:!0});break;case"throw":n.reject(t);break;default:n.resolve({value:t,done:!1})}(n=n.next)?o(n.key,n.arg):r=null}this._invoke=function(e,t){return new Promise((function(i,a){var s={key:e,arg:t,resolve:i,reject:a,next:null};r?r=r.next=s:(n=r=s,o(e,t))}))},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)}}(),function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}),O=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),j=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},x=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},P=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},M=function(e){function t(e){w(this,t);var n=P(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseDown=n.handleMouseDown.bind(n),n.handleMouseEnter=n.handleMouseEnter.bind(n),n.handleMouseMove=n.handleMouseMove.bind(n),n.handleTouchStart=n.handleTouchStart.bind(n),n.handleTouchEnd=n.handleTouchEnd.bind(n),n.handleTouchMove=n.handleTouchMove.bind(n),n.onFocus=n.onFocus.bind(n),n}return E(t,e),O(t,[{key:"handleMouseDown",value:function(e){e.preventDefault(),e.stopPropagation(),this.props.onSelect(this.props.option,e)}},{key:"handleMouseEnter",value:function(e){this.onFocus(e)}},{key:"handleMouseMove",value:function(e){this.onFocus(e)}},{key:"handleTouchEnd",value:function(e){this.dragging||this.handleMouseDown(e)}},{key:"handleTouchMove",value:function(){this.dragging=!0}},{key:"handleTouchStart",value:function(){this.dragging=!1}},{key:"onFocus",value:function(e){this.props.isFocused||this.props.onFocus(this.props.option,e)}},{key:"render",value:function(){var e=this.props,t=e.option,n=e.instancePrefix,r=e.optionIndex,o=a()(this.props.className,t.className);return t.disabled?c.a.createElement("div",{className:o,onMouseDown:v,onClick:v},this.props.children):c.a.createElement("div",{className:o,style:t.style,role:"option","aria-label":t.label,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,id:n+"-option-"+r,title:t.title},this.props.children)}}]),t}(c.a.Component);M.propTypes={children:l.a.node,className:l.a.string,instancePrefix:l.a.string.isRequired,isDisabled:l.a.bool,isFocused:l.a.bool,isSelected:l.a.bool,onFocus:l.a.func,onSelect:l.a.func,onUnfocus:l.a.func,option:l.a.object.isRequired,optionIndex:l.a.number};var L=function(e){function t(e){w(this,t);var n=P(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseDown=n.handleMouseDown.bind(n),n.onRemove=n.onRemove.bind(n),n.handleTouchEndRemove=n.handleTouchEndRemove.bind(n),n.handleTouchMove=n.handleTouchMove.bind(n),n.handleTouchStart=n.handleTouchStart.bind(n),n}return E(t,e),O(t,[{key:"handleMouseDown",value:function(e){if("mousedown"!==e.type||0===e.button)return this.props.onClick?(e.stopPropagation(),void this.props.onClick(this.props.value,e)):void(this.props.value.href&&e.stopPropagation())}},{key:"onRemove",value:function(e){e.preventDefault(),e.stopPropagation(),this.props.onRemove(this.props.value)}},{key:"handleTouchEndRemove",value:function(e){this.dragging||this.onRemove(e)}},{key:"handleTouchMove",value:function(){this.dragging=!0}},{key:"handleTouchStart",value:function(){this.dragging=!1}},{key:"renderRemoveIcon",value:function(){if(!this.props.disabled&&this.props.onRemove)return c.a.createElement("span",{className:"Select-value-icon","aria-hidden":"true",onMouseDown:this.onRemove,onTouchEnd:this.handleTouchEndRemove,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove},"×")}},{key:"renderLabel",value:function(){return this.props.onClick||this.props.value.href?c.a.createElement("a",{className:"Select-value-label",href:this.props.value.href,target:this.props.value.target,onMouseDown:this.handleMouseDown,onTouchEnd:this.handleMouseDown},this.props.children):c.a.createElement("span",{className:"Select-value-label",role:"option","aria-selected":"true",id:this.props.id},this.props.children)}},{key:"render",value:function(){return c.a.createElement("div",{className:a()("Select-value",this.props.value.disabled?"Select-value-disabled":"",this.props.value.className),style:this.props.value.style,title:this.props.value.title},this.renderRemoveIcon(),this.renderLabel())}}]),t}(c.a.Component);L.propTypes={children:l.a.node,disabled:l.a.bool,id:l.a.string,onClick:l.a.func,onRemove:l.a.func,value:l.a.object.isRequired};
/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/react-select
*/
var T=function(e){return"string"==typeof e?e:null!==e&&JSON.stringify(e)||""},C=l.a.oneOfType([l.a.string,l.a.node]),k=l.a.oneOfType([l.a.string,l.a.number]),I=1,D=function(e,t){var n=void 0===e?"undefined":_(e);if("string"!==n&&"number"!==n&&"boolean"!==n)return e;var r=t.options,o=t.valueKey;if(r)for(var i=0;i<r.length;i++)if(String(r[i][o])===String(e))return r[i]},A=function(e,t){return!e||(t?0===e.length:0===Object.keys(e).length)},R=function(e){function t(e){w(this,t);var n=P(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return["clearValue","focusOption","getOptionLabel","handleInputBlur","handleInputChange","handleInputFocus","handleInputValueChange","handleKeyDown","handleMenuScroll","handleMouseDown","handleMouseDownOnArrow","handleMouseDownOnMenu","handleTouchEnd","handleTouchEndClearValue","handleTouchMove","handleTouchOutside","handleTouchStart","handleValueClick","onOptionRef","removeValue","selectValue"].forEach((function(e){return n[e]=n[e].bind(n)})),n.state={inputValue:"",isFocused:!1,isOpen:!1,isPseudoFocused:!1,required:!1},n}return E(t,e),O(t,[{key:"componentWillMount",value:function(){this._instancePrefix="react-select-"+(this.props.instanceId||++I)+"-";var e=this.getValueArray(this.props.value);this.props.required&&this.setState({required:A(e[0],this.props.multi)})}},{key:"componentDidMount",value:function(){void 0!==this.props.autofocus&&"undefined"!=typeof console&&console.warn("Warning: The autofocus prop has changed to autoFocus, support will be removed after react-select@1.0"),(this.props.autoFocus||this.props.autofocus)&&this.focus()}},{key:"componentWillReceiveProps",value:function(e){var t=this.getValueArray(e.value,e);e.required?this.setState({required:A(t[0],e.multi)}):this.props.required&&this.setState({required:!1}),this.state.inputValue&&this.props.value!==e.value&&e.onSelectResetsInput&&this.setState({inputValue:this.handleInputValueChange("")})}},{key:"componentDidUpdate",value:function(e,t){if(this.menu&&this.focused&&this.state.isOpen&&!this.hasScrolledToOption){var n=Object(p.findDOMNode)(this.focused),r=Object(p.findDOMNode)(this.menu),o=r.scrollTop,i=o+r.offsetHeight,a=n.offsetTop,s=a+n.offsetHeight;(o>a||i<s)&&(r.scrollTop=n.offsetTop),this.hasScrolledToOption=!0}else this.state.isOpen||(this.hasScrolledToOption=!1);if(this._scrollToFocusedOptionOnUpdate&&this.focused&&this.menu){this._scrollToFocusedOptionOnUpdate=!1;var l=Object(p.findDOMNode)(this.focused),u=Object(p.findDOMNode)(this.menu),c=l.getBoundingClientRect(),f=u.getBoundingClientRect();c.bottom>f.bottom?u.scrollTop=l.offsetTop+l.clientHeight-u.offsetHeight:c.top<f.top&&(u.scrollTop=l.offsetTop)}if(this.props.scrollMenuIntoView&&this.menuContainer){var d=this.menuContainer.getBoundingClientRect();window.innerHeight<d.bottom+this.props.menuBuffer&&window.scrollBy(0,d.bottom+this.props.menuBuffer-window.innerHeight)}if(e.disabled!==this.props.disabled&&(this.setState({isFocused:!1}),this.closeMenu()),t.isOpen!==this.state.isOpen){this.toggleTouchOutsideEvent(this.state.isOpen);var h=this.state.isOpen?this.props.onOpen:this.props.onClose;h&&h()}}},{key:"componentWillUnmount",value:function(){this.toggleTouchOutsideEvent(!1)}},{key:"toggleTouchOutsideEvent",value:function(e){var t=e?document.addEventListener?"addEventListener":"attachEvent":document.removeEventListener?"removeEventListener":"detachEvent",n=document.addEventListener?"":"on";document[t](n+"touchstart",this.handleTouchOutside),document[t](n+"mousedown",this.handleTouchOutside)}},{key:"handleTouchOutside",value:function(e){this.wrapper&&!this.wrapper.contains(e.target)&&this.closeMenu()}},{key:"focus",value:function(){this.input&&this.input.focus()}},{key:"blurInput",value:function(){this.input&&this.input.blur()}},{key:"handleTouchMove",value:function(){this.dragging=!0}},{key:"handleTouchStart",value:function(){this.dragging=!1}},{key:"handleTouchEnd",value:function(e){this.dragging||this.handleMouseDown(e)}},{key:"handleTouchEndClearValue",value:function(e){this.dragging||this.clearValue(e)}},{key:"handleMouseDown",value:function(e){if(!(this.props.disabled||"mousedown"===e.type&&0!==e.button))if("INPUT"!==e.target.tagName){if(e.preventDefault(),!this.props.searchable)return this.focus(),this.setState({isOpen:!this.state.isOpen,focusedOption:null});if(this.state.isFocused){this.focus();var t=this.input,n=!0;"function"==typeof t.getInput&&(t=t.getInput()),t.value="",this._focusAfterClear&&(n=!1,this._focusAfterClear=!1),this.setState({isOpen:n,isPseudoFocused:!1,focusedOption:null})}else this._openAfterFocus=this.props.openOnClick,this.focus(),this.setState({focusedOption:null})}else this.state.isFocused?this.state.isOpen||this.setState({isOpen:!0,isPseudoFocused:!1,focusedOption:null}):(this._openAfterFocus=this.props.openOnClick,this.focus())}},{key:"handleMouseDownOnArrow",value:function(e){this.props.disabled||"mousedown"===e.type&&0!==e.button||(this.state.isOpen?(e.stopPropagation(),e.preventDefault(),this.closeMenu()):this.setState({isOpen:!0}))}},{key:"handleMouseDownOnMenu",value:function(e){this.props.disabled||"mousedown"===e.type&&0!==e.button||(e.stopPropagation(),e.preventDefault(),this._openAfterFocus=!0,this.focus())}},{key:"closeMenu",value:function(){this.props.onCloseResetsInput?this.setState({inputValue:this.handleInputValueChange(""),isOpen:!1,isPseudoFocused:this.state.isFocused&&!this.props.multi}):this.setState({isOpen:!1,isPseudoFocused:this.state.isFocused&&!this.props.multi}),this.hasScrolledToOption=!1}},{key:"handleInputFocus",value:function(e){if(!this.props.disabled){var t=this.state.isOpen||this._openAfterFocus||this.props.openOnFocus;t=!this._focusAfterClear&&t,this.props.onFocus&&this.props.onFocus(e),this.setState({isFocused:!0,isOpen:!!t}),this._focusAfterClear=!1,this._openAfterFocus=!1}}},{key:"handleInputBlur",value:function(e){if(!this.menu||this.menu!==document.activeElement&&!this.menu.contains(document.activeElement)){this.props.onBlur&&this.props.onBlur(e);var t={isFocused:!1,isOpen:!1,isPseudoFocused:!1};this.props.onBlurResetsInput&&(t.inputValue=this.handleInputValueChange("")),this.setState(t)}else this.focus()}},{key:"handleInputChange",value:function(e){var t=e.target.value;this.state.inputValue!==e.target.value&&(t=this.handleInputValueChange(t)),this.setState({inputValue:t,isOpen:!0,isPseudoFocused:!1})}},{key:"setInputValue",value:function(e){if(this.props.onInputChange){var t=this.props.onInputChange(e);null!=t&&"object"!==(void 0===t?"undefined":_(t))&&(e=""+t)}this.setState({inputValue:e})}},{key:"handleInputValueChange",value:function(e){if(this.props.onInputChange){var t=this.props.onInputChange(e);null!=t&&"object"!==(void 0===t?"undefined":_(t))&&(e=""+t)}return e}},{key:"handleKeyDown",value:function(e){if(!(this.props.disabled||"function"==typeof this.props.onInputKeyDown&&(this.props.onInputKeyDown(e),e.defaultPrevented)))switch(e.keyCode){case 8:!this.state.inputValue&&this.props.backspaceRemoves&&(e.preventDefault(),this.popValue());break;case 9:if(e.shiftKey||!this.state.isOpen||!this.props.tabSelectsValue)break;e.preventDefault(),this.selectFocusedOption();break;case 13:e.preventDefault(),e.stopPropagation(),this.state.isOpen?this.selectFocusedOption():this.focusNextOption();break;case 27:e.preventDefault(),this.state.isOpen?(this.closeMenu(),e.stopPropagation()):this.props.clearable&&this.props.escapeClearsValue&&(this.clearValue(e),e.stopPropagation());break;case 32:if(this.props.searchable)break;if(e.preventDefault(),!this.state.isOpen){this.focusNextOption();break}e.stopPropagation(),this.selectFocusedOption();break;case 38:e.preventDefault(),this.focusPreviousOption();break;case 40:e.preventDefault(),this.focusNextOption();break;case 33:e.preventDefault(),this.focusPageUpOption();break;case 34:e.preventDefault(),this.focusPageDownOption();break;case 35:if(e.shiftKey)break;e.preventDefault(),this.focusEndOption();break;case 36:if(e.shiftKey)break;e.preventDefault(),this.focusStartOption();break;case 46:!this.state.inputValue&&this.props.deleteRemoves&&(e.preventDefault(),this.popValue())}}},{key:"handleValueClick",value:function(e,t){this.props.onValueClick&&this.props.onValueClick(e,t)}},{key:"handleMenuScroll",value:function(e){if(this.props.onMenuScrollToBottom){var t=e.target;t.scrollHeight>t.offsetHeight&&t.scrollHeight-t.offsetHeight-t.scrollTop<=0&&this.props.onMenuScrollToBottom()}}},{key:"getOptionLabel",value:function(e){return e[this.props.labelKey]}},{key:"getValueArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n="object"===(void 0===t?"undefined":_(t))?t:this.props;if(n.multi){if("string"==typeof e&&(e=e.split(n.delimiter)),!Array.isArray(e)){if(null==e)return[];e=[e]}return e.map((function(e){return D(e,n)})).filter((function(e){return e}))}var r=D(e,n);return r?[r]:[]}},{key:"setValue",value:function(e){var t=this;if(this.props.autoBlur&&this.blurInput(),this.props.required){var n=A(e,this.props.multi);this.setState({required:n})}this.props.simpleValue&&e&&(e=this.props.multi?e.map((function(e){return e[t.props.valueKey]})).join(this.props.delimiter):e[this.props.valueKey]),this.props.onChange&&this.props.onChange(e)}},{key:"selectValue",value:function(e){var t=this;this.props.closeOnSelect&&(this.hasScrolledToOption=!1);var n=this.props.onSelectResetsInput?"":this.state.inputValue;this.props.multi?this.setState({focusedIndex:null,inputValue:this.handleInputValueChange(n),isOpen:!this.props.closeOnSelect},(function(){t.getValueArray(t.props.value).some((function(n){return n[t.props.valueKey]===e[t.props.valueKey]}))?t.removeValue(e):t.addValue(e)})):this.setState({inputValue:this.handleInputValueChange(n),isOpen:!this.props.closeOnSelect,isPseudoFocused:this.state.isFocused},(function(){t.setValue(e)}))}},{key:"addValue",value:function(e){var t=this.getValueArray(this.props.value),n=this._visibleOptions.filter((function(e){return!e.disabled})),r=n.indexOf(e);this.setValue(t.concat(e)),this.props.closeOnSelect&&(n.length-1===r?this.focusOption(n[r-1]):n.length>r&&this.focusOption(n[r+1]))}},{key:"popValue",value:function(){var e=this.getValueArray(this.props.value);e.length&&!1!==e[e.length-1].clearableValue&&this.setValue(this.props.multi?e.slice(0,e.length-1):null)}},{key:"removeValue",value:function(e){var t=this,n=this.getValueArray(this.props.value);this.setValue(n.filter((function(n){return n[t.props.valueKey]!==e[t.props.valueKey]}))),this.focus()}},{key:"clearValue",value:function(e){e&&"mousedown"===e.type&&0!==e.button||(e.preventDefault(),this.setValue(this.getResetValue()),this.setState({inputValue:this.handleInputValueChange(""),isOpen:!1},this.focus),this._focusAfterClear=!0)}},{key:"getResetValue",value:function(){return void 0!==this.props.resetValue?this.props.resetValue:this.props.multi?[]:null}},{key:"focusOption",value:function(e){this.setState({focusedOption:e})}},{key:"focusNextOption",value:function(){this.focusAdjacentOption("next")}},{key:"focusPreviousOption",value:function(){this.focusAdjacentOption("previous")}},{key:"focusPageUpOption",value:function(){this.focusAdjacentOption("page_up")}},{key:"focusPageDownOption",value:function(){this.focusAdjacentOption("page_down")}},{key:"focusStartOption",value:function(){this.focusAdjacentOption("start")}},{key:"focusEndOption",value:function(){this.focusAdjacentOption("end")}},{key:"focusAdjacentOption",value:function(e){var t=this._visibleOptions.map((function(e,t){return{option:e,index:t}})).filter((function(e){return!e.option.disabled}));if(this._scrollToFocusedOptionOnUpdate=!0,!this.state.isOpen){var n={focusedOption:this._focusedOption||(t.length?t["next"===e?0:t.length-1].option:null),isOpen:!0};return this.props.onSelectResetsInput&&(n.inputValue=""),void this.setState(n)}if(t.length){for(var r=-1,o=0;o<t.length;o++)if(this._focusedOption===t[o].option){r=o;break}if("next"===e&&-1!==r)r=(r+1)%t.length;else if("previous"===e)r>0?r-=1:r=t.length-1;else if("start"===e)r=0;else if("end"===e)r=t.length-1;else if("page_up"===e){var i=r-this.props.pageSize;r=i<0?0:i}else if("page_down"===e){var a=r+this.props.pageSize;r=a>t.length-1?t.length-1:a}-1===r&&(r=0),this.setState({focusedIndex:t[r].index,focusedOption:t[r].option})}}},{key:"getFocusedOption",value:function(){return this._focusedOption}},{key:"selectFocusedOption",value:function(){if(this._focusedOption)return this.selectValue(this._focusedOption)}},{key:"renderLoading",value:function(){if(this.props.isLoading)return c.a.createElement("span",{className:"Select-loading-zone","aria-hidden":"true"},c.a.createElement("span",{className:"Select-loading"}))}},{key:"renderValue",value:function(e,t){var n=this,r=this.props.valueRenderer||this.getOptionLabel,o=this.props.valueComponent;if(!e.length)return function(e,t,n){var r=e.inputValue,o=e.isPseudoFocused,i=e.isFocused,a=t.onSelectResetsInput;return!r||!a&&!n&&!o&&!i}(this.state,this.props,t)?c.a.createElement("div",{className:"Select-placeholder"},this.props.placeholder):null;var i,a,s,l,u,p,f=this.props.onValueClick?this.handleValueClick:null;return this.props.multi?e.map((function(t,i){return c.a.createElement(o,{disabled:n.props.disabled||!1===t.clearableValue,id:n._instancePrefix+"-value-"+i,instancePrefix:n._instancePrefix,key:"value-"+i+"-"+t[n.props.valueKey],onClick:f,onRemove:n.removeValue,placeholder:n.props.placeholder,value:t,values:e},r(t,i),c.a.createElement("span",{className:"Select-aria-only"}," "))})):(i=this.state,a=this.props,s=i.inputValue,l=i.isPseudoFocused,u=i.isFocused,p=a.onSelectResetsInput,s&&(p||!u&&l||u&&!l)?void 0:(t&&(f=null),c.a.createElement(o,{disabled:this.props.disabled,id:this._instancePrefix+"-value-item",instancePrefix:this._instancePrefix,onClick:f,placeholder:this.props.placeholder,value:e[0]},r(e[0]))))}},{key:"renderInput",value:function(e,t){var n,r=this,i=a()("Select-input",this.props.inputProps.className),s=this.state.isOpen,l=a()((j(n={},this._instancePrefix+"-list",s),j(n,this._instancePrefix+"-backspace-remove-message",this.props.multi&&!this.props.disabled&&this.state.isFocused&&!this.state.inputValue),n)),u=this.state.inputValue;!u||this.props.onSelectResetsInput||this.state.isFocused||(u="");var p=S({},this.props.inputProps,{"aria-activedescendant":s?this._instancePrefix+"-option-"+t:this._instancePrefix+"-value","aria-describedby":this.props["aria-describedby"],"aria-expanded":""+s,"aria-haspopup":""+s,"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-owns":l,onBlur:this.handleInputBlur,onChange:this.handleInputChange,onFocus:this.handleInputFocus,ref:function(e){return r.input=e},role:"combobox",required:this.state.required,tabIndex:this.props.tabIndex,value:u});if(this.props.inputRenderer)return this.props.inputRenderer(p);if(this.props.disabled||!this.props.searchable){var f=x(this.props.inputProps,[]),d=a()(j({},this._instancePrefix+"-list",s));return c.a.createElement("div",S({},f,{"aria-expanded":s,"aria-owns":d,"aria-activedescendant":s?this._instancePrefix+"-option-"+t:this._instancePrefix+"-value","aria-disabled":""+this.props.disabled,"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],className:i,onBlur:this.handleInputBlur,onFocus:this.handleInputFocus,ref:function(e){return r.input=e},role:"combobox",style:{border:0,width:1,display:"inline-block"},tabIndex:this.props.tabIndex||0}))}return this.props.autosize?c.a.createElement(o.a,S({id:this.props.id},p,{className:i,minWidth:"5"})):c.a.createElement("div",{className:i,key:"input-wrap",style:{display:"inline-block"}},c.a.createElement("input",S({id:this.props.id},p)))}},{key:"renderClear",value:function(){var e=this.getValueArray(this.props.value);if(this.props.clearable&&e.length&&!this.props.disabled&&!this.props.isLoading){var t=this.props.multi?this.props.clearAllText:this.props.clearValueText,n=this.props.clearRenderer();return c.a.createElement("span",{"aria-label":t,className:"Select-clear-zone",onMouseDown:this.clearValue,onTouchEnd:this.handleTouchEndClearValue,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,title:t},n)}}},{key:"renderArrow",value:function(){if(this.props.arrowRenderer){var e=this.handleMouseDownOnArrow,t=this.state.isOpen,n=this.props.arrowRenderer({onMouseDown:e,isOpen:t});return n?c.a.createElement("span",{className:"Select-arrow-zone",onMouseDown:e},n):null}}},{key:"filterOptions",value:function(e){var t=this.state.inputValue,n=this.props.options||[];if(this.props.filterOptions){var r="function"==typeof this.props.filterOptions?this.props.filterOptions:g;return r(n,t,e,{filterOption:this.props.filterOption,ignoreAccents:this.props.ignoreAccents,ignoreCase:this.props.ignoreCase,labelKey:this.props.labelKey,matchPos:this.props.matchPos,matchProp:this.props.matchProp,trimFilter:this.props.trimFilter,valueKey:this.props.valueKey})}return n}},{key:"onOptionRef",value:function(e,t){t&&(this.focused=e)}},{key:"renderMenu",value:function(e,t,n){return e&&e.length?this.props.menuRenderer({focusedOption:n,focusOption:this.focusOption,inputValue:this.state.inputValue,instancePrefix:this._instancePrefix,labelKey:this.props.labelKey,onFocus:this.focusOption,onOptionRef:this.onOptionRef,onSelect:this.selectValue,optionClassName:this.props.optionClassName,optionComponent:this.props.optionComponent,optionRenderer:this.props.optionRenderer||this.getOptionLabel,options:e,removeValue:this.removeValue,selectValue:this.selectValue,valueArray:t,valueKey:this.props.valueKey}):this.props.noResultsText?c.a.createElement("div",{className:"Select-noresults"},this.props.noResultsText):null}},{key:"renderHiddenField",value:function(e){var t=this;if(this.props.name){if(this.props.joinValues){var n=e.map((function(e){return T(e[t.props.valueKey])})).join(this.props.delimiter);return c.a.createElement("input",{disabled:this.props.disabled,name:this.props.name,ref:function(e){return t.value=e},type:"hidden",value:n})}return e.map((function(e,n){return c.a.createElement("input",{disabled:t.props.disabled,key:"hidden."+n,name:t.props.name,ref:"value"+n,type:"hidden",value:T(e[t.props.valueKey])})}))}}},{key:"getFocusableOptionIndex",value:function(e){var t=this._visibleOptions;if(!t.length)return null;var n=this.props.valueKey,r=this.state.focusedOption||e;if(r&&!r.disabled){var o=-1;if(t.some((function(e,t){var i=e[n]===r[n];return i&&(o=t),i})),-1!==o)return o}for(var i=0;i<t.length;i++)if(!t[i].disabled)return i;return null}},{key:"renderOuter",value:function(e,t,n){var r=this,o=this.renderMenu(e,t,n);return o?c.a.createElement("div",{ref:function(e){return r.menuContainer=e},className:"Select-menu-outer",style:this.props.menuContainerStyle},c.a.createElement("div",{className:"Select-menu",id:this._instancePrefix+"-list",onMouseDown:this.handleMouseDownOnMenu,onScroll:this.handleMenuScroll,ref:function(e){return r.menu=e},role:"listbox",style:this.props.menuStyle,tabIndex:-1},o)):null}},{key:"render",value:function(){var e=this,t=this.getValueArray(this.props.value),n=this._visibleOptions=this.filterOptions(this.props.multi&&this.props.removeSelected?t:null),r=this.state.isOpen;this.props.multi&&!n.length&&t.length&&!this.state.inputValue&&(r=!1);var o=this.getFocusableOptionIndex(t[0]),i=null;i=this._focusedOption=null!==o?n[o]:null;var s=a()("Select",this.props.className,{"has-value":t.length,"is-clearable":this.props.clearable,"is-disabled":this.props.disabled,"is-focused":this.state.isFocused,"is-loading":this.props.isLoading,"is-open":r,"is-pseudo-focused":this.state.isPseudoFocused,"is-searchable":this.props.searchable,"Select--multi":this.props.multi,"Select--rtl":this.props.rtl,"Select--single":!this.props.multi}),l=null;return this.props.multi&&!this.props.disabled&&t.length&&!this.state.inputValue&&this.state.isFocused&&this.props.backspaceRemoves&&(l=c.a.createElement("span",{id:this._instancePrefix+"-backspace-remove-message",className:"Select-aria-only","aria-live":"assertive"},this.props.backspaceToRemoveMessage.replace("{label}",t[t.length-1][this.props.labelKey]))),c.a.createElement("div",{ref:function(t){return e.wrapper=t},className:s,style:this.props.wrapperStyle},this.renderHiddenField(t),c.a.createElement("div",{ref:function(t){return e.control=t},className:"Select-control",onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onTouchEnd:this.handleTouchEnd,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,style:this.props.style},c.a.createElement("div",{className:"Select-multi-value-wrapper",id:this._instancePrefix+"-value"},this.renderValue(t,r),this.renderInput(t,o)),l,this.renderLoading(),this.renderClear(),this.renderArrow()),r?this.renderOuter(n,t,i):null)}}]),t}(c.a.Component);R.propTypes={"aria-describedby":l.a.string,"aria-label":l.a.string,"aria-labelledby":l.a.string,arrowRenderer:l.a.func,autoBlur:l.a.bool,autoFocus:l.a.bool,autofocus:l.a.bool,autosize:l.a.bool,backspaceRemoves:l.a.bool,backspaceToRemoveMessage:l.a.string,className:l.a.string,clearAllText:C,clearRenderer:l.a.func,clearValueText:C,clearable:l.a.bool,closeOnSelect:l.a.bool,deleteRemoves:l.a.bool,delimiter:l.a.string,disabled:l.a.bool,escapeClearsValue:l.a.bool,filterOption:l.a.func,filterOptions:l.a.any,id:l.a.string,ignoreAccents:l.a.bool,ignoreCase:l.a.bool,inputProps:l.a.object,inputRenderer:l.a.func,instanceId:l.a.string,isLoading:l.a.bool,joinValues:l.a.bool,labelKey:l.a.string,matchPos:l.a.string,matchProp:l.a.string,menuBuffer:l.a.number,menuContainerStyle:l.a.object,menuRenderer:l.a.func,menuStyle:l.a.object,multi:l.a.bool,name:l.a.string,noResultsText:C,onBlur:l.a.func,onBlurResetsInput:l.a.bool,onChange:l.a.func,onClose:l.a.func,onCloseResetsInput:l.a.bool,onFocus:l.a.func,onInputChange:l.a.func,onInputKeyDown:l.a.func,onMenuScrollToBottom:l.a.func,onOpen:l.a.func,onSelectResetsInput:l.a.bool,onValueClick:l.a.func,openOnClick:l.a.bool,openOnFocus:l.a.bool,optionClassName:l.a.string,optionComponent:l.a.func,optionRenderer:l.a.func,options:l.a.array,pageSize:l.a.number,placeholder:C,removeSelected:l.a.bool,required:l.a.bool,resetValue:l.a.any,rtl:l.a.bool,scrollMenuIntoView:l.a.bool,searchable:l.a.bool,simpleValue:l.a.bool,style:l.a.object,tabIndex:k,tabSelectsValue:l.a.bool,trimFilter:l.a.bool,value:l.a.any,valueComponent:l.a.func,valueKey:l.a.string,valueRenderer:l.a.func,wrapperStyle:l.a.object},R.defaultProps={arrowRenderer:f,autosize:!0,backspaceRemoves:!0,backspaceToRemoveMessage:"Press backspace to remove {label}",clearable:!0,clearAllText:"Clear all",clearRenderer:d,clearValueText:"Clear value",closeOnSelect:!0,deleteRemoves:!0,delimiter:",",disabled:!1,escapeClearsValue:!0,filterOptions:g,ignoreAccents:!0,ignoreCase:!0,inputProps:{},isLoading:!1,joinValues:!1,labelKey:"label",matchPos:"any",matchProp:"any",menuBuffer:0,menuRenderer:b,multi:!1,noResultsText:"No results found",onBlurResetsInput:!0,onCloseResetsInput:!0,onSelectResetsInput:!0,openOnClick:!0,optionComponent:M,pageSize:5,placeholder:"Select...",removeSelected:!0,required:!1,rtl:!1,scrollMenuIntoView:!0,searchable:!0,simpleValue:!1,tabSelectsValue:!0,trimFilter:!0,valueComponent:L,valueKey:"value"};var F={autoload:l.a.bool.isRequired,cache:l.a.any,children:l.a.func.isRequired,ignoreAccents:l.a.bool,ignoreCase:l.a.bool,loadOptions:l.a.func.isRequired,loadingPlaceholder:l.a.oneOfType([l.a.string,l.a.node]),multi:l.a.bool,noResultsText:l.a.oneOfType([l.a.string,l.a.node]),onChange:l.a.func,onInputChange:l.a.func,options:l.a.array.isRequired,placeholder:l.a.oneOfType([l.a.string,l.a.node]),searchPromptText:l.a.oneOfType([l.a.string,l.a.node]),value:l.a.any},N={},G={autoload:!0,cache:N,children:function(e){return c.a.createElement(R,e)},ignoreAccents:!0,ignoreCase:!0,loadingPlaceholder:"Loading...",options:[],searchPromptText:"Type to search"},U=function(e){function t(e,n){w(this,t);var r=P(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r._cache=e.cache===N?{}:e.cache,r.state={inputValue:"",isLoading:!1,options:e.options},r.onInputChange=r.onInputChange.bind(r),r}return E(t,e),O(t,[{key:"componentDidMount",value:function(){this.props.autoload&&this.loadOptions("")}},{key:"componentWillReceiveProps",value:function(e){e.options!==this.props.options&&this.setState({options:e.options})}},{key:"componentWillUnmount",value:function(){this._callback=null}},{key:"loadOptions",value:function(e){var t=this,n=this.props.loadOptions,r=this._cache;if(r&&Object.prototype.hasOwnProperty.call(r,e))return this._callback=null,void this.setState({isLoading:!1,options:r[e]});var o=function n(o,i){var a=i&&i.options||[];r&&(r[e]=a),n===t._callback&&(t._callback=null,t.setState({isLoading:!1,options:a}))};this._callback=o;var i=n(e,o);i&&i.then((function(e){return o(0,e)}),(function(e){return o()})),this._callback&&!this.state.isLoading&&this.setState({isLoading:!0})}},{key:"onInputChange",value:function(e){var t=this.props,n=t.ignoreAccents,r=t.ignoreCase,o=t.onInputChange,i=e;if(o){var a=o(i);null!=a&&"object"!==(void 0===a?"undefined":_(a))&&(i=""+a)}var s=i;return n&&(s=m(s)),r&&(s=s.toLowerCase()),this.setState({inputValue:i}),this.loadOptions(s),i}},{key:"noResultsText",value:function(){var e=this.props,t=e.loadingPlaceholder,n=e.noResultsText,r=e.searchPromptText,o=this.state,i=o.inputValue;return o.isLoading?t:i&&n?n:r}},{key:"focus",value:function(){this.select.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.loadingPlaceholder,o=t.placeholder,i=this.state,a=i.isLoading,s=i.options,l={noResultsText:this.noResultsText(),placeholder:a?r:o,options:a&&r?[]:s,ref:function(t){return e.select=t}};return n(S({},this.props,l,{isLoading:a,onInputChange:this.onInputChange}))}}]),t}(u.Component);U.propTypes=F,U.defaultProps=G;var z=function(e){function t(e,n){w(this,t);var r=P(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.filterOptions=r.filterOptions.bind(r),r.menuRenderer=r.menuRenderer.bind(r),r.onInputKeyDown=r.onInputKeyDown.bind(r),r.onInputChange=r.onInputChange.bind(r),r.onOptionSelect=r.onOptionSelect.bind(r),r}return E(t,e),O(t,[{key:"createNewOption",value:function(){var e=this.props,t=e.isValidNewOption,n=e.newOptionCreator,r=e.onNewOptionClick,o=e.options,i=void 0===o?[]:o;if(t({label:this.inputValue})){var a=n({label:this.inputValue,labelKey:this.labelKey,valueKey:this.valueKey});this.isOptionUnique({option:a,options:i})&&(r?r(a):(i.unshift(a),this.select.selectValue(a)))}}},{key:"filterOptions",value:function(){var e=this.props,t=e.filterOptions,n=e.isValidNewOption,r=e.promptTextCreator,o=e.showNewOptionAtTop,i=(arguments.length<=2?void 0:arguments[2])||[],a=t.apply(void 0,arguments)||[];if(n({label:this.inputValue})){var s=this.props.newOptionCreator,l=s({label:this.inputValue,labelKey:this.labelKey,valueKey:this.valueKey}),u=this.isOptionUnique({option:l,options:i.concat(a)});if(u){var c=r(this.inputValue);this._createPlaceholderOption=s({label:c,labelKey:this.labelKey,valueKey:this.valueKey}),o?a.unshift(this._createPlaceholderOption):a.push(this._createPlaceholderOption)}}return a}},{key:"isOptionUnique",value:function(e){var t=e.option,n=e.options,r=this.props.isOptionUnique;return n=n||this.props.options,r({labelKey:this.labelKey,option:t,options:n,valueKey:this.valueKey})}},{key:"menuRenderer",value:function(e){var t=this.props.menuRenderer;return t(S({},e,{onSelect:this.onOptionSelect,selectValue:this.onOptionSelect}))}},{key:"onInputChange",value:function(e){var t=this.props.onInputChange;return this.inputValue=e,t&&(this.inputValue=t(e)),this.inputValue}},{key:"onInputKeyDown",value:function(e){var t=this.props,n=t.shouldKeyDownEventCreateNewOption,r=t.onInputKeyDown,o=this.select.getFocusedOption();o&&o===this._createPlaceholderOption&&n(e)?(this.createNewOption(),e.preventDefault()):r&&r(e)}},{key:"onOptionSelect",value:function(e){e===this._createPlaceholderOption?this.createNewOption():this.select.selectValue(e)}},{key:"focus",value:function(){this.select.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.ref,r=x(t,["ref"]),o=this.props.children;return o||(o=B),o(S({},r,{allowCreate:!0,filterOptions:this.filterOptions,menuRenderer:this.menuRenderer,onInputChange:this.onInputChange,onInputKeyDown:this.onInputKeyDown,ref:function(t){e.select=t,t&&(e.labelKey=t.props.labelKey,e.valueKey=t.props.valueKey),n&&n(t)}}))}}]),t}(c.a.Component),B=function(e){return c.a.createElement(R,e)},V=function(e){var t=e.option,n=e.options,r=e.labelKey,o=e.valueKey;return!n||!n.length||0===n.filter((function(e){return e[r]===t[r]||e[o]===t[o]})).length},q=function(e){return!!e.label},W=function(e){var t=e.label,n=e.labelKey,r={};return r[e.valueKey]=t,r[n]=t,r.className="Select-create-option-placeholder",r},H=function(e){return'Create option "'+e+'"'},Z=function(e){switch(e.keyCode){case 9:case 13:case 188:return!0;default:return!1}};z.isOptionUnique=V,z.isValidNewOption=q,z.newOptionCreator=W,z.promptTextCreator=H,z.shouldKeyDownEventCreateNewOption=Z,z.defaultProps={filterOptions:g,isOptionUnique:V,isValidNewOption:q,menuRenderer:b,newOptionCreator:W,promptTextCreator:H,shouldKeyDownEventCreateNewOption:Z,showNewOptionAtTop:!0},z.propTypes={children:l.a.func,filterOptions:l.a.any,isOptionUnique:l.a.func,isValidNewOption:l.a.func,menuRenderer:l.a.any,newOptionCreator:l.a.func,onInputChange:l.a.func,onInputKeyDown:l.a.func,onNewOptionClick:l.a.func,options:l.a.array,promptTextCreator:l.a.func,ref:l.a.func,shouldKeyDownEventCreateNewOption:l.a.func,showNewOptionAtTop:l.a.bool};var Y=function(e){function t(){return w(this,t),P(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E(t,e),O(t,[{key:"focus",value:function(){this.select.focus()}},{key:"render",value:function(){var e=this;return c.a.createElement(U,this.props,(function(t){var n=t.ref,r=x(t,["ref"]),o=n;return c.a.createElement(z,r,(function(t){var n=t.ref,r=x(t,["ref"]),i=n;return e.props.children(S({},r,{ref:function(t){i(t),o(t),e.select=t}}))}))}))}}]),t}(c.a.Component);Y.propTypes={children:l.a.func.isRequired},Y.defaultProps={children:function(e){return c.a.createElement(R,e)}},R.Async=U,R.AsyncCreatable=Y,R.Creatable=z,R.Value=L,R.Option=M,t.default=R},"./node_modules/react-select/node_modules/react-input-autosize/lib/AutosizeInput.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("./node_modules/react/index.js"),a=l(i),s=l(n("./node_modules/prop-types/index.js"));function l(e){return e&&e.__esModule?e:{default:e}}var u={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},c=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],p=function(e,t){t.style.fontSize=e.fontSize,t.style.fontFamily=e.fontFamily,t.style.fontWeight=e.fontWeight,t.style.fontStyle=e.fontStyle,t.style.letterSpacing=e.letterSpacing,t.style.textTransform=e.textTransform},f=!("undefined"==typeof window||!window.navigator)&&/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent),d=function(){return f?"_"+Math.random().toString(36).substr(2,12):void 0},h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.inputRef=function(e){n.input=e,"function"==typeof n.props.inputRef&&n.props.inputRef(e)},n.placeHolderSizerRef=function(e){n.placeHolderSizer=e},n.sizerRef=function(e){n.sizer=e},n.state={inputWidth:e.minWidth,inputId:e.id||d()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.id;t!==this.props.id&&this.setState({inputId:t||d()})}},{key:"componentDidUpdate",value:function(e,t){t.inputWidth!==this.state.inputWidth&&"function"==typeof this.props.onAutosize&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(this.mounted&&window.getComputedStyle){var e=this.input&&window.getComputedStyle(this.input);e&&(p(e,this.sizer),this.placeHolderSizer&&p(e,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(this.mounted&&this.sizer&&void 0!==this.sizer.scrollWidth){var e=void 0;e=this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:this.sizer.scrollWidth+2,(e+="number"===this.props.type&&void 0===this.props.extraWidth?16:parseInt(this.props.extraWidth)||0)<this.props.minWidth&&(e=this.props.minWidth),e!==this.state.inputWidth&&this.setState({inputWidth:e})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var e=this.props.injectStyles;return f&&e?a.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var e=[this.props.defaultValue,this.props.value,""].reduce((function(e,t){return null!=e?e:t})),t=r({},this.props.style);t.display||(t.display="inline-block");var n=r({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),o=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(this.props,[]);return function(e){c.forEach((function(t){return delete e[t]}))}(o),o.className=this.props.inputClassName,o.id=this.state.inputId,o.style=n,a.default.createElement("div",{className:this.props.className,style:t},this.renderStyles(),a.default.createElement("input",r({},o,{ref:this.inputRef})),a.default.createElement("div",{ref:this.sizerRef,style:u},e),this.props.placeholder?a.default.createElement("div",{ref:this.placeHolderSizerRef,style:u},this.props.placeholder):null)}}]),t}(i.Component);h.propTypes={className:s.default.string,defaultValue:s.default.any,extraWidth:s.default.oneOfType([s.default.number,s.default.string]),id:s.default.string,injectStyles:s.default.bool,inputClassName:s.default.string,inputRef:s.default.func,inputStyle:s.default.object,minWidth:s.default.oneOfType([s.default.number,s.default.string]),onAutosize:s.default.func,onChange:s.default.func,placeholder:s.default.string,placeholderIsMinWidth:s.default.bool,style:s.default.object,value:s.default.any},h.defaultProps={minWidth:1,injectStyles:!0},t.default=h},"./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js":function(e,t,n){"use strict";n.r(t),function(e){var n=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}var n={size:{configurable:!0}};return n.size.get=function(){return this.__entries__.length},t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n+=1){var o=r[n];e.call(t,o[1],o[0])}},Object.defineProperties(t.prototype,n),t}()}(),r="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,o=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),i="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},a=["top","right","bottom","left","width","height","size","weight"],s="undefined"!=typeof MutationObserver,l=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,o=0;function a(){n&&(n=!1,e()),r&&l()}function s(){i(a)}function l(){var e=Date.now();if(n){if(e-o<2)return;r=!0}else n=!0,r=!1,setTimeout(s,t);o=e}return l}(this.refresh.bind(this),20)};l.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},l.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},l.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},l.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},l.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),s?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},l.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},l.prototype.onTransitionEnd_=function(e){var t=e.propertyName;void 0===t&&(t=""),a.some((function(e){return!!~t.indexOf(e)}))&&this.refresh()},l.getInstance=function(){return this.instance_||(this.instance_=new l),this.instance_},l.instance_=null;var u=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n+=1){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},c=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||o},p=g(0,0,0,0);function f(e){return parseFloat(e)||0}function d(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return t.reduce((function(t,n){return t+f(e["border-"+n+"-width"])}),0)}function h(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return p;var r=c(e).getComputedStyle(e),o=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n+=1){var o=r[n],i=e["padding-"+o];t[o]=f(i)}return t}(r),i=o.left+o.right,a=o.top+o.bottom,s=f(r.width),l=f(r.height);if("border-box"===r.boxSizing&&(Math.round(s+i)!==t&&(s-=d(r,"left","right")+i),Math.round(l+a)!==n&&(l-=d(r,"top","bottom")+a)),!function(e){return e===c(e).document.documentElement}(e)){var u=Math.round(s+i)-t,h=Math.round(l+a)-n;1!==Math.abs(u)&&(s-=u),1!==Math.abs(h)&&(l-=h)}return g(o.left,o.top,s,l)}var m="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof c(e).SVGGraphicsElement}:function(e){return e instanceof c(e).SVGElement&&"function"==typeof e.getBBox};function y(e){return r?m(e)?function(e){var t=e.getBBox();return g(0,0,t.width,t.height)}(e):h(e):p}function g(e,t,n,r){return{x:e,y:t,width:n,height:r}}var b=function(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=g(0,0,0,0),this.target=e};b.prototype.isActive=function(){var e=y(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},b.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e};var v=function(e,t){var n,r,o,i,a,s,l,c=(r=(n=t).x,o=n.y,i=n.width,a=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(s.prototype),u(l,{x:r,y:o,width:i,height:a,top:o,right:r+i,bottom:a+o,left:r}),l);u(this,{target:e,contentRect:c})},_=function(e,t,r){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r};_.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof c(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new b(e)),this.controller_.addObserver(this),this.controller_.refresh())}},_.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof c(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},_.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},_.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},_.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new v(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},_.prototype.clearActive=function(){this.activeObservations_.splice(0)},_.prototype.hasActive=function(){return this.activeObservations_.length>0};var w="undefined"!=typeof WeakMap?new WeakMap:new n,O=function(e){if(!(this instanceof O))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=l.getInstance(),n=new _(e,t,this);w.set(this,n)};["observe","unobserve","disconnect"].forEach((function(e){O.prototype[e]=function(){return(t=w.get(this))[e].apply(t,arguments);var t}}));var j=void 0!==o.ResizeObserver?o.ResizeObserver:O;t.default=j}.call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/turf-center/index.js":function(e,t,n){var r=n("./node_modules/turf-center/node_modules/turf-bbox/index.js"),o=n("./node_modules/turf-helpers/index.js").point;e.exports=function(e){var t=r(e),n=(t[0]+t[2])/2,i=(t[1]+t[3])/2;return o([n,i])}},"./node_modules/turf-center/node_modules/turf-bbox/index.js":function(e,t,n){var r=n("./node_modules/turf-meta/index.js").coordEach;e.exports=function(e){var t=[1/0,1/0,-1/0,-1/0];return r(e,(function(e){t[0]>e[0]&&(t[0]=e[0]),t[1]>e[1]&&(t[1]=e[1]),t[2]<e[0]&&(t[2]=e[0]),t[3]<e[1]&&(t[3]=e[1])})),t}},"./node_modules/turf-distance/index.js":function(e,t,n){var r=n("./node_modules/turf-invariant/index.js").getCoord,o=n("./node_modules/turf-helpers/index.js").radiansToDistance;e.exports=function(e,t,n){var i=Math.PI/180,a=r(e),s=r(t),l=i*(s[1]-a[1]),u=i*(s[0]-a[0]),c=i*a[1],p=i*s[1],f=Math.pow(Math.sin(l/2),2)+Math.pow(Math.sin(u/2),2)*Math.cos(c)*Math.cos(p);return o(2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)),n)}},"./node_modules/turf-explode/index.js":function(e,t,n){var r=n("./node_modules/turf-helpers/index.js").featureCollection,o=n("./node_modules/turf-meta/index.js").coordEach,i=n("./node_modules/turf-helpers/index.js").point;e.exports=function(e){var t=[];return o(e,(function(e){t.push(i(e))})),r(t)}},"./node_modules/turf-helpers/index.js":function(e,t){function n(e,t){return{type:"Feature",properties:t||{},geometry:e}}e.exports.feature=n,e.exports.point=function(e,t){if(!Array.isArray(e))throw new Error("Coordinates must be an array");if(e.length<2)throw new Error("Coordinates must be at least 2 numbers long");return n({type:"Point",coordinates:e.slice()},t)},e.exports.polygon=function(e,t){if(!e)throw new Error("No coordinates passed");for(var r=0;r<e.length;r++){var o=e[r];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var i=0;i<o[o.length-1].length;i++)if(o[o.length-1][i]!==o[0][i])throw new Error("First and last Position are not equivalent.")}return n({type:"Polygon",coordinates:e},t)},e.exports.lineString=function(e,t){if(!e)throw new Error("No coordinates passed");return n({type:"LineString",coordinates:e},t)},e.exports.featureCollection=function(e){return{type:"FeatureCollection",features:e}},e.exports.multiLineString=function(e,t){if(!e)throw new Error("No coordinates passed");return n({type:"MultiLineString",coordinates:e},t)},e.exports.multiPoint=function(e,t){if(!e)throw new Error("No coordinates passed");return n({type:"MultiPoint",coordinates:e},t)},e.exports.multiPolygon=function(e,t){if(!e)throw new Error("No coordinates passed");return n({type:"MultiPolygon",coordinates:e},t)},e.exports.geometryCollection=function(e,t){return n({type:"GeometryCollection",geometries:e},t)};var r={miles:3960,nauticalmiles:3441.145,degrees:57.2957795,radians:1,inches:250905600,yards:6969600,meters:6373e3,metres:6373e3,kilometers:6373,kilometres:6373};e.exports.radiansToDistance=function(e,t){var n=r[t||"kilometers"];if(void 0===n)throw new Error("Invalid unit");return e*n},e.exports.distanceToRadians=function(e,t){var n=r[t||"kilometers"];if(void 0===n)throw new Error("Invalid unit");return e/n},e.exports.distanceToDegrees=function(e,t){var n=r[t||"kilometers"];if(void 0===n)throw new Error("Invalid unit");return e/n*57.2958}},"./node_modules/turf-inside/index.js":function(e,t,n){var r=n("./node_modules/turf-invariant/index.js");function o(e,t){for(var n=!1,r=0,o=t.length-1;r<t.length;o=r++){var i=t[r][0],a=t[r][1],s=t[o][0],l=t[o][1];a>e[1]!=l>e[1]&&e[0]<(s-i)*(e[1]-a)/(l-a)+i&&(n=!n)}return n}e.exports=function(e,t){var n=r.getCoord(e),i=t.geometry.coordinates;"Polygon"===t.geometry.type&&(i=[i]);for(var a=0,s=!1;a<i.length&&!s;a++)if(o(n,i[a][0])){for(var l=!1,u=1;u<i[a].length&&!l;)o(n,i[a][u])&&(l=!0),u++;l||(s=!0)}return s}},"./node_modules/turf-invariant/index.js":function(e,t){e.exports.geojsonType=function(e,t,n){if(!t||!n)throw new Error("type and name required");if(!e||e.type!==t)throw new Error("Invalid input to "+n+": must be a "+t+", given "+e.type)},e.exports.collectionOf=function(e,t,n){if(!n)throw new Error(".collectionOf() requires a name");if(!e||"FeatureCollection"!==e.type)throw new Error("Invalid input to "+n+", FeatureCollection required");for(var r=0;r<e.features.length;r++){var o=e.features[r];if(!o||"Feature"!==o.type||!o.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!o.geometry||o.geometry.type!==t)throw new Error("Invalid input to "+n+": must be a "+t+", given "+o.geometry.type)}},e.exports.featureOf=function(e,t,n){if(!n)throw new Error(".featureOf() requires a name");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+n+": must be a "+t+", given "+e.geometry.type)},e.exports.getCoord=function(e){if(Array.isArray(e)&&"number"==typeof e[0]&&"number"==typeof e[1])return e;if(e){if("Feature"===e.type&&e.geometry&&"Point"===e.geometry.type&&Array.isArray(e.geometry.coordinates))return e.geometry.coordinates;if("Point"===e.type&&Array.isArray(e.coordinates))return e.coordinates}throw new Error("A coordinate, feature, or point geometry is required")}},"./node_modules/turf-point-on-surface/index.js":function(e,t,n){var r=n("./node_modules/turf-helpers/index.js").featureCollection,o=n("./node_modules/turf-center/index.js"),i=n("./node_modules/turf-distance/index.js"),a=n("./node_modules/turf-inside/index.js"),s=n("./node_modules/turf-explode/index.js");function l(e,t,n,r,o,i){if(Math.sqrt((o-n)*(o-n)+(i-r)*(i-r))===Math.sqrt((e-n)*(e-n)+(t-r)*(t-r))+Math.sqrt((o-e)*(o-e)+(i-t)*(i-t)))return!0}e.exports=function(e){"FeatureCollection"!==e.type&&("Feature"!==e.type&&(e={type:"Feature",geometry:e,properties:{}}),e=r([e]));for(var t=o(e),n=!1,u=0;!n&&u<e.features.length;){var c,p=e.features[u].geometry,f=!1;if("Point"===p.type)t.geometry.coordinates[0]===p.coordinates[0]&&t.geometry.coordinates[1]===p.coordinates[1]&&(n=!0);else if("MultiPoint"===p.type){var d=!1;for(c=0;!d&&c<p.coordinates.length;)t.geometry.coordinates[0]===p.coordinates[c][0]&&t.geometry.coordinates[1]===p.coordinates[c][1]&&(n=!0,d=!0),c++}else if("LineString"===p.type)for(c=0;!f&&c<p.coordinates.length-1;)l(t.geometry.coordinates[0],t.geometry.coordinates[1],p.coordinates[c][0],p.coordinates[c][1],p.coordinates[c+1][0],p.coordinates[c+1][1])&&(f=!0,n=!0),c++;else if("MultiLineString"===p.type)for(var h=0;h<p.coordinates.length;){f=!1,c=0;for(var m=p.coordinates[h];!f&&c<m.length-1;)l(t.geometry.coordinates[0],t.geometry.coordinates[1],m[c][0],m[c][1],m[c+1][0],m[c+1][1])&&(f=!0,n=!0),c++;h++}else if("Polygon"===p.type||"MultiPolygon"===p.type){a(t,{type:"Feature",geometry:p,properties:{}})&&(n=!0)}u++}if(n)return t;var y,g=r([]);for(u=0;u<e.features.length;u++)g.features=g.features.concat(s(e.features[u]).features);var b=1/0;for(u=0;u<g.features.length;u++){var v=i(t,g.features[u],"miles");v<b&&(b=v,y=g.features[u])}return y}},"./node_modules/turf-point/index.js":function(e,t){var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};e.exports=function(e,t){if(!n(e))throw new Error("Coordinates must be an array");if(e.length<2)throw new Error("Coordinates must be at least 2 numbers long");return{type:"Feature",geometry:{type:"Point",coordinates:e},properties:t||{}}}}}]);