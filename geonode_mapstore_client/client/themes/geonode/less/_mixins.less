/*
 * Copyright 2020, GeoSolutions Sas.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree.
 */

 .color-var(@var; @important: false;) {
    @value: extract(@var, 1);
    @fallback: extract(@var, 2);
    color: @fallback if(@important, ~'!important', );
    color: var(@value, @fallback) if(@important, ~'!important', );
}

.stroke-var(@var; @important: false;) {
    @value: extract(@var, 1);
    @fallback: extract(@var, 2);
    stroke: @fallback if(@important, ~'!important', );
    stroke: var(@value, @fallback) if(@important, ~'!important', );
}

.background-color-var(@var; @important: false;) {
    @value: extract(@var, 1);
    @fallback: extract(@var, 2);
    background-color: @fallback if(@important, ~'!important', );
    background-color: var(@value, @fallback) if(@important, ~'!important', );
}

.border-color-var(@var; @important: false;) {
    @value: extract(@var, 1);
    @fallback: extract(@var, 2);
    border-color: @fallback if(@important, ~'!important', );
    border-color: var(@value, @fallback) if(@important, ~'!important', );
}

.border-top-color-var(@var; @important: false;) {
    @value: extract(@var, 1);
    @fallback: extract(@var, 2);
    border-top-color: @fallback if(@important, ~'!important', );
    border-top-color: var(@value, @fallback) if(@important, ~'!important', );
}

.border-bottom-color-var(@var; @important: false;) {
    @value: extract(@var, 1);
    @fallback: extract(@var, 2);
    border-bottom-color: @fallback if(@important, ~'!important', );
    border-bottom-color: var(@value, @fallback) if(@important, ~'!important', );
}

.border-left-color-var(@var; @important: false;) {
    @value: extract(@var, 1);
    @fallback: extract(@var, 2);
    border-left-color: @fallback if(@important, ~'!important', );
    border-left-color: var(@value, @fallback) if(@important, ~'!important', );
}

.border-right-color-var(@var; @important: false;) {
    @value: extract(@var, 1);
    @fallback: extract(@var, 2);
    border-right-color: @fallback if(@important, ~'!important', );
    border-right-color: var(@value, @fallback) if(@important, ~'!important', );
}

.outline-color-var(@var; @important: false;) {
    @value: extract(@var, 1);
    @fallback: extract(@var, 2);
    outline-color: @fallback if(@important, ~'!important', );
    outline-color: var(@value, @fallback) if(@important, ~'!important', );
}

.box-shadow-var(@var; @important: false;) {
    @value: extract(@var, 1);
    @fallback: extract(@var, 2);
    box-shadow: 0 0 0 0.2rem @fallback if(@important, ~'!important', );
    box-shadow: 0 0 0 0.2rem var(@value, @fallback) if(@important, ~'!important', );
}

.shadow-sm {
    box-shadow: 0 0.125rem 0.25rem rgb(0 0 0 / 8%);
}

.shadow {
    box-shadow: 0 0.5rem 1rem rgb(0 0 0 / 15%);
}

.shadow-lg {
    box-shadow: 0 1rem 3rem rgb(0 0 0 / 18%);
}

.button-variant-with-css-variables(@button-vars) {
    .color-var(@button-vars[button-color]);
    .background-color-var(@button-vars[button-bg]);
    .border-color-var(@button-vars[button-border-color]);

    &:focus,
    &.focus {
        .color-var(@button-vars[button-focus-color]);
        .background-color-var(@button-vars[button-focus-bg]);
        .border-color-var(@button-vars[button-focus-border-color]);
    }

    &:hover {
        .color-var(@button-vars[button-hover-color]);
        .background-color-var(@button-vars[button-hover-bg]);
        .border-color-var(@button-vars[button-hover-border-color]);
    }

    &:active,
    &.active,
    .open>.dropdown-toggle& {
        .color-var(@button-vars[button-active-color]);
        .background-color-var(@button-vars[button-active-bg]);
        .border-color-var(@button-vars[button-active-border-color]);

        &:hover,
        &:focus,
        &.focus {
            .color-var(@button-vars[button-active-hover-color]);
            .background-color-var(@button-vars[button-active-hover-bg]);
            .border-color-var(@button-vars[button-active-hover-border-color]);
        }
    }

    &:active,
    &.active,
    .open>.dropdown-toggle& {
        background-image: none;
    }

    &.disabled,
    &[disabled],
    fieldset[disabled] & {

        &,
        &:hover,
        &:focus,
        &.focus,
        &:active,
        &.active {
            .color-var(@button-vars[button-disabled-color]);
            .background-color-var(@button-vars[button-disabled-bg]);
            .border-color-var(@button-vars[button-disabled-border-color]);
        }
    }

    .badge {
        .color-var(@button-vars[button-badge-color]);
        .background-color-var(@button-vars[button-badge-bg]);
    }
}

